<script>
  /* jsdelivr */
  var name = '<%- theme.jsdelivr.name %>';
  var repository = '<%- theme.jsdelivr.repository %>';
  if ("localhost" != document.domain && yiliaConfig.isPost) {
    var img=document.querySelectorAll(".article-content img"),
    audio=document.querySelectorAll(".article-content audio"),
    video=document.querySelectorAll(".article-content video");
    for (var key in img) {
      if (isNaN(key)) break;
      // 避免重复替换出错，替换前，如果有替换后的字符串，先还原
      img[key].src = img[key].src.replace("cdn.jsdelivr.net/gh/" + name + "/" + repository,document.domain);
      // 还原后，重新替换
      img[key].src = img[key].src.replace(document.domain, "cdn.jsdelivr.net/gh/" + name + "/" + repository);
    }
    for (var key in audio) {
      if (isNaN(key)) break;
      audio[key].src = audio[key].src.replace("cdn.jsdelivr.net/gh/" + name + "/" + repository,document.domain);
      audio[key].src = audio[key].src.replace(document.domain, "cdn.jsdelivr.net/gh/" + name + "/" + repository);
    }
    for (var key in video) {
      if (isNaN(key)) break;
      video[key].src = video[key].src.replace("cdn.jsdelivr.net/gh/" + name + "/" + repository,document.domain);
      video[key].src = video[key].src.replace(document.domain, "cdn.jsdelivr.net/gh/" + name + "/" + repository);
    }
  }
</script>