<script src="<%- theme.js.mobile %>"></script>
<script src="<%- theme.js.main %>"></script>
<script>
    !function(){
        !function(e){
            var t=document.createElement("script");
            document.getElementsByTagName("body")[0].appendChild(t),t.setAttribute("src",e)
        }("<%- theme.js.slider %>")
    }()
</script>
<script src="<%- theme.js.scrollProgress %>"></script>
<script src="<%- theme.js.script %>"></script>
<% if (theme.music.enable || theme.music.mobile_enable) { %>
<script src="<%- theme.js.aplayer %>"></script>
<% } %>
<% if (theme.clipboard) { %>
<script src="<%- theme.js.clipboard %>"></script>
<script>
    <% if(config.language === 'zh-CN'){ %>
    /*页面载入完成后，创建复制按钮*/
    !function (e, t, a) {
        var initCopyCode = function(){
            var copyHtml = '<button id="js-btn-copy">复制</button>';
            $(".code pre").before(copyHtml);
        }
        initCopyCode();
        // 代码块复制
        $(".code").on("click","#js-btn-copy",function(button){
            var copy=button.currentTarget;
            var clipboard = new ClipboardJS('#js-btn-copy', {
                target: function(trigger) {
                    if(trigger.nextElementSibling != null){
                        return trigger.nextElementSibling;
                    }
                }
            });
            clipboard.on('success', function(e) {
                e.clearSelection();
                $(copy).html("复制成功");
                clipboard.destroy();
            });
            clipboard.on('error', function(e) {
                $(copy).html("复制失败");
                clipboard.destroy();
            });
            $(copy).mouseout(function(){$(event.currentTarget).html("复制")});
        });
    }(window, document);
    <% }else{ %>
    /* create copy button */
    !function (e, t, a) {
        var initCopyCode = function(){
            var copyHtml = '<button id="js-btn-copy">copy</button>';
            $(".code pre").before(copyHtml);
        }
        initCopyCode();
        // code block copying
        $(".code").on("click","#js-btn-copy",function(button){
            var copy=button.currentTarget;
            var clipboard = new ClipboardJS('#js-btn-copy', {
                target: function(trigger) {
                    if(trigger.nextElementSibling != null){
                        return trigger.nextElementSibling;
                    }
                }
            });
            clipboard.on('success', function(e) {
                e.clearSelection();
                $(copy).html("copied!");
                clipboard.destroy();
            });
            clipboard.on('error', function(e) {
                $(copy).html("failed!");
                clipboard.destroy();
            });
            $(copy).mouseout(function(){$(event.currentTarget).html("copy")});
        });
    }(window, document);
    <% } %>
</script>
<% } %>