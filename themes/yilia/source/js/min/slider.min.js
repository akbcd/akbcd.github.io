(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==='object'&&typeof module==='object')module.exports=factory();else if(typeof define==='function'&&define.amd)define([],factory);else if(typeof exports==='object')exports["Q"]=factory();else root["Q"]=factory()})(this,function(){return(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="";return __webpack_require__(0)})([function(module,exports,__webpack_require__){var utils=__webpack_require__(1),_=__webpack_require__(3),factory=__webpack_require__(4);_.extend(utils,_);module.exports=factory(utils)},function(module,exports,__webpack_require__){var noop=function(){},defer=window.requestAnimationFrame||window.webkitRequestAnimationFrame||setTimeout,cache=new(__webpack_require__(2))(1000),priorities=['vm','repeat','if'],_qtid=0,_slice=[].slice,_alpaca=document.getElementsByTagName('html')[0],slice=function(){try{_slice.call(document.body.childNodes);return _slice}catch(e){return function(i){i=i||0;var res=[],l=this.length;for(;i<l;i++){res.push(this[i])}return res}}}();_alpaca&&(_alpaca=_alpaca.getAttribute('alpaca'));function _loopPriority(el,res,setting){var attr,tmp;for(var j=0,l=priorities.length;j<l;j++){attr='q-'+priorities[j];if(tmp=el.getAttribute(attr)){res.push({name:attr,value:tmp});el.removeAttribute(attr);return true}}}function walk($el,cb,setting){setting=setting||{};var i,j,l,el,atts,res,qtid;for(i=0;el=$el[i++];){if(el.nodeType===1){atts=el.attributes;res=[];if(!_loopPriority(el,res,setting)){for(j=0,l=atts.length;j<l;j++){atts[j].name.indexOf('q-')===0&&res.push({name:atts[j].name,value:atts[j].value})}}res.length>0&&cb(el,res,setting)}if(el.childNodes.length&&!setting.stop)walk(slice.call(el.childNodes,0),cb,setting);setting.stop=false}}module.exports={slice:slice,noop:noop,addClass:function(el,cls){if(el.classList){el.classList.add(cls)}else{var cur=' '+(el.className||'')+' ';if(cur.indexOf(' '+cls+' ')<0){el.className=(cur+cls).trim()}}},removeClass:function(el,cls){if(el.classList){el.classList.remove(cls)}else{var cur=' '+(el.className||'')+' ',tar=' '+cls+' ';while(cur.indexOf(tar)>=0){cur=cur.replace(tar,' ')}el.className=cur.trim()}},noexist:function(vm,name){this.warn(vm);throw new Error('Filter '+name+' hasn\'t implemented.');},warn:function(){return(window.console&&console.error)?function(){console.error.apply(console,arguments)}:noop}(),isObject:function(o){return typeof o==='object'},nextTick:function(cb,ctx){return ctx?defer(function(){cb.call(ctx)},0):defer(cb,0)},get:function(namespace,key){var arr=[];namespace&&arr.push(namespace);key&&arr.push(key);return arr.join('.').replace(/^(.+\.)?\$top\./,'')},walk:walk,alpaca:!!_alpaca}},function(module,exports){function Cache(limit){this.size=0;this.limit=limit;this.head=this.tail=undefined;this._keymap={}}var p=Cache.prototype;p.put=function(key,value){var entry={key:key,value:value};this._keymap[key]=entry;if(this.tail){this.tail.newer=entry;entry.older=this.tail}else{this.head=entry}this.tail=entry;if(this.size===this.limit){return this.shift()}else{this.size++}};p.shift=function(){var entry=this.head;if(entry){this.head=this.head.newer;this.head.older=undefined;entry.newer=entry.older=undefined;this._keymap[entry.key]=undefined}return entry};p.get=function(key,returnEntry){var entry=this._keymap[key];if(entry===undefined)return;if(entry===this.tail){return returnEntry?entry:entry.value}if(entry.newer){if(entry===this.head){this.head=entry.newer}entry.newer.older=entry.older}if(entry.older){entry.older.newer=entry.newer}entry.newer=undefined;entry.older=this.tail;if(this.tail){this.tail.newer=entry}this.tail=entry;return returnEntry?entry:entry.value};module.exports=Cache},function(module,exports){var DELEGATOR_CALLBACKS_KEY='__cbs__',NO_DELEGATOR={mouseover:true,change:true,input:true,porpertychange:true};var _extend=function(target,srcs){srcs=[].splice.call(arguments,1);var i=0,l=srcs.length,src,key;for(;i<l;i++){src=srcs[i];for(key in src){target[key]=src[key]}}return target},_expando='QDataUid',_uid=0,_map={};function contains(a,b){return a!==b&&a.contains(b)}function data(el,key,value){var uid=el[_expando]=el[_expando]||++_uid,data=_map[uid]=_map[uid]||{};if(value===undefined)return data[key];return(data[key]=value)}function add(el,evt,fn){evt.split(' ').forEach(function(e){el.addEventListener(e,fn,false)})}module.exports={find:function(selector){return this.slice.call(document.querySelectorAll(selector),0)},contains:contains,data:data,cleanData:function(els){var uid;els.forEach(function(el){var uid=el[_expando];uid&&(uid in _map)&&(delete _map[uid])})},add:function(el,evt,fn,vm){if(!vm||NO_DELEGATOR[evt]){add(el,evt,fn)}else{var $el=vm.$el,cbs=data($el,DELEGATOR_CALLBACKS_KEY);if(!cbs){cbs=[];data($el,DELEGATOR_CALLBACKS_KEY,cbs);add($el,evt,function(e){var target=e.target;cbs.forEach(function(cb){var fn=cb.fn,el=cb.el;if(contains(el,target)){fn.call(el,e)}})})}cbs.push({el:el,fn:fn})}},remove:function(el,evt,fn){el.removeEventListener(evt,fn,false)},clone:function(ele){return ele.cloneNode(true)},extend:function(target){if(arguments.length===1)return _extend(this,target);return _extend.apply(this,arguments)}}},function(module,exports,__webpack_require__){module.exports=function(_){var Seed=__webpack_require__(5),events=__webpack_require__(6),MARK=/\{\{(.+?)\}\}/,mergeOptions=__webpack_require__(7).mergeOptions,clas=__webpack_require__(8),_doc=document;function _inDoc(ele){return _.contains(_doc.documentElement,ele)}function Q(options){this._init(options)}Q._=_;Q.options={directives:__webpack_require__(9),filters:{}};Q.get=function(selector){var ele=_.find(selector)[0];if(ele){return _.data(ele,'QI')}else{return new this({el:selector})}};Q.all=function(options){var self=this;return _.find(options.el).map(function(ele){return new self(_.extend(options,{el:ele}))})};_.extend(Q,clas);_.extend(Q.prototype,{_init:function(options){options=options||{};this.$el=options.el&&typeof options.el==='string'?_.find(options.el)[0]:options.el;this.$$={};this.$parent=options._parent;options=this.$options=mergeOptions(this.constructor.options,options,this);this._isCompiled=false;this._isAttached=false;this._isReady=false;this._events={};this._watchers={};this._children=[];this.$={};Seed.call(this,options);this._initScope();this._callHook('created');if(this.$el){_.data(this.$el,'QI',this);this.$mount(this.$el)}},$on:function(event,fn){(this._events[event]||(this._events[event]=[])).push(fn);return this},$once:function(event,fn){var self=this;function on(){self.$off(event,on);fn.apply(this,arguments)}on.fn=fn;this.$on(event,on);return this},$off:function(event,fn){var cbs,cb,i;if(!arguments.length){this._events={};return this}cbs=this._events[event];if(!cbs){return this}if(arguments.length===1){this._events[event]=null;return this}i=cbs.length;while(i--){cb=cbs[i];if(cb===fn||cb.fn===fn){cbs.splice(i,1);break}}return this},$watch:function(exp,cb,deep,immediate){var key=deep?exp+'**deep**':exp;(this._watchers[key]||(this._watchers[key]=[])).push(cb);immediate&&cb(this.data(exp));return this},$emit:function(e){var args=_.slice.call(arguments,1);events.emit.call(this,e,_.slice.call(args,0));if(!e.indexOf('data:')){e=e.substring(5);events.callChange.call(this,e,_.slice.call(args,0))}if(!e.indexOf('deep:')){e=e.substring(5);events.callDeep.call(this,e,_.slice.call(args,0));args.unshift(e);events.emit.call(this,'datachange',args)}return this},_initScope:function(){this._initMethods()},_initMethods:function(){var methods=this.$options.methods,key;if(methods){for(key in methods){this[key]=methods[key].bind(this)}}},$mount:function(el){if(this._isCompiled){return _.warn('$mount() should be called only once')}this._compile(el);this._isCompiled=true;this._callHook('compiled');if(_inDoc(this.$el)){this._callHook('attached');this._ready()}else{this.$once('hook:attached',this._ready)}},_ready:function(){this._isAttached=true;this._isReady=true;this._callHook('ready')},_compile:function(el){this.transclue(el,this.$options)},transclue:function(el,options){this._templateBind(el,options)},_templateBind:__webpack_require__(11),_callHook:function(hook){var handlers=this.$options[hook];if(handlers){for(var i=0,j=handlers.length;i<j;i++){handlers[i].call(this)}}this.$emit('hook:'+hook)},_makeReadFilters:function(names,$this){if(!names.length)return[];var filters=this.$options.filters,self=this;return names.map(function(args){args=_.slice.call(args,0);var name=args.shift();var reader=(filters[name]?(filters[name].read||filters[name]):_.noexist(self,name));return function(value,oldVal){var thisArgs=[value].concat(args||[]),i=thisArgs.indexOf('$this');thisArgs.push(oldVal);if(~i){thisArgs[i]=$this}return args?reader.apply(self,thisArgs):reader.call(self,value,oldVal)}})},applyFilters:function(value,filters,oldVal){if(!filters||!filters.length){return value}for(var i=0,l=filters.length;i<l;i++){value=filters[i].call(this,value,oldVal)}return value}});_.extend(Q.prototype,Seed.prototype);return Q}},function(module,exports,__webpack_require__){var _=__webpack_require__(1);function _prefix(up,key,value,trigger){var top=up._top,isArray=_isArray(value),options={data:value,up:up,top:top,namespace:key+'',trigger:isArray?false:trigger},oldVal=top.data?top.data(up.$namespace(key)):undefined;if(typeof value==='object'&&value!==null){up[key]=isArray?new DataArray(options):new Data(options);trigger&&up.$change(up.$namespace(key),up[key],oldVal)}else if(oldVal!==value){up[key]=value;trigger&&up.$change(up.$namespace(key),value,oldVal)}if(!(~up._keys.indexOf(key)))up._keys.push(key)}function _isArray(obj){return Array.isArray(obj)||obj instanceof DataArray}function _getLength(keys){return keys.filter(function(key){return typeof key==='number'}).length}function Data(options){var data=options.data,keys=Object.keys(options.data||{}).filter(function(key){return key.indexOf('_')!==0}).map(function(num){return+num+''===num?+num:num}),self=this;_.extend(this,data);this._keys=keys;this._up=options.up;this._top=options.top||this;this._namespace=options.namespace||'';keys.forEach(function(key){_prefix(self,key,data[key],options.trigger)});_isArray(data)&&(this.length=_getLength(keys))}_.extend(Data.prototype,{$namespace:function(key){var keys=[],self=this;for(;self!=undefined;self=self._up){self._namespace&&keys.unshift(self._namespace)}if(key)keys.push(key);return keys.join('.')},$key:function(){var key=this._namespace;return+key+''===key?+key:key},$up:function(num){num=num||1;for(var src=this;num--;){src=src['_up']}return src},$set:function(key,value){if(typeof key==='object'){var self=this;Object.keys(key).filter(function(k){return k.indexOf('_')!==0}).forEach(function(k){_prefix(self,k,key[k],true)});this.$change(this.$namespace(key),this,undefined,1)}else{var oldValue=this[key];_prefix(this,key,value,true);this.$change(this.$namespace(key),this[key],oldValue,undefined,-1)}return this},$get:function(){var res,keys=this._keys,self=this;if(this instanceof Data){res={}}else{res=[]}keys.forEach(function(key){res[key]=self[key]==null?self[key]:self[key].$get?self[key].$get():self[key]});return res},$change:function(key,value,oldVal,patch,type){type=type||0;var top=this._top;if(top.$emit){~type&&this._top.$emit('data:'+key,value,oldVal,patch);type&&this._top.$emit('deep:'+key,value,oldVal,patch)}}});function DataArray(options){Data.call(this,options)}_.extend(DataArray.prototype,Data.prototype,{push:function(values){values=_.slice.call(arguments,0);var res=[];for(var i=0,l=values.length;i<l;i++){_prefix(this,this.length,values[i]);this._keys.push(this.length);res.push(this[this.length]);this.length++}this.$change(this.$namespace(),this,null,{method:'push',res:res,args:values},1);return this},pop:function(){var res=this[--this.length];delete this[this.length];this._keys.pop();this.$change(this.$namespace(),this,null,undefined,1);return res},unshift:function(value){this._keys.push(this.length);this.length++;for(var l=this.length;l--;){this[l]=this[l-1];typeof this[l]==='object'&&(this[l]._namespace=l+'')}_prefix(this,0,value);this.$change(this.$namespace(),this,null,undefined,1);return this},shift:function(){this.length--;var res=this[0];for(var i=0,l=this.length;i<l;i++){this[i]=this[i+1];typeof this[i]==='object'&&(this[i]._namespace=i+'')}this._keys.pop();delete this[this.length];this.$change(this.$namespace(),this,null,undefined,1);return res},touch:function(key){this.$change(this.$namespace(key),this,null,undefined,1)},indexOf:function(item){if(item._up===this){var i=+item._namespace;if(this[i]===item)return i}else if(typeof item!=='object'){for(var i=0,l=this.length;i<l;i++){if(this[i]===item)return i}}return-1},splice:function(i,l){var patch={method:'splice',args:[i,l]};for(var j=0,k=l+i,z=this.length-l;i<z;i++,j++){this[i]=this[k+j];typeof this[i]==='object'&&(this[i]._namespace=i+'')}for(;i<this.length;i++){this[i]=null;delete this[i]}this.length-=l;this._keys.splice(this.length,l);this.$change(this.$namespace(),this,null,patch,1)},forEach:function(foo){for(var i=0,l=this.length;i<l;i++){foo(this[i],i)}},filter:function(foo){var res=[];this.forEach(function(item,i){if(foo(item))res.push(item)});return res}});function Seed(options){Data.call(this,options)}_.extend(Seed,{Data:Data,DataArray:DataArray});_.extend(Seed.prototype,Data.prototype,{data:function(key,value){if(key===undefined)return this;var i=0,l,data=this,next;if(~key.indexOf('.')){var keys=key.split('.');for(l=keys.length;i<l-1;i++){key=keys[i];if(+key+''===key)key=+key;if(key in data&&data[key]!=null){data=data[key]}else if(value===undefined){return undefined}else{next=keys[i+1];if(+next+''==next){_prefix(data,key,[],true)}else{_prefix(data,key,{},true)}}}}l&&(key=keys[i]);if(value===undefined)return data&&key?data[key]:data;data.$set(key,value);return data[key]}});module.exports=Seed},function(module,exports,__webpack_require__){var Data=__webpack_require__(5),_=__webpack_require__(1);function emit(key,args,target){target=target||this;var cbs=this._events[key];if(cbs){var i=0;cbs=cbs.length>1?_.slice.call(cbs,0):cbs;for(var l=cbs.length;i<l;i++){cbs[i].apply(target,args)}}if(key.indexOf('data:')&&key.indexOf('hook:')&&key.indexOf('deep:')&&this.$parent){emit.call(this.$parent,key,args,target)}}function callChange(key,args){var self={_events:this._watchers};emit.call(self,key,args);emit.call(self,key+'**deep**',args)}function callDeep(key,args){var props,nArgs,keys=key.split('.'),self={_events:this._watchers};for(keys.pop();keys.length>0;keys.pop()){key=keys.join('.');props=key+'**deep**';emit.call(self,props,[this.data(key)])}emit.call(self,'**deep**',[this])}module.exports={emit:emit,callChange:callChange,callDeep:callDeep}},function(module,exports,__webpack_require__){var _=__webpack_require__(1);var strats={};strats.created=strats.ready=strats.attached=strats.detached=strats.compiled=strats.beforeDestroy=strats.destroyed=strats.paramAttributes=function(parentVal,childVal){return childVal?parentVal?parentVal.concat(childVal):Array.isArray(childVal)?childVal:[childVal]:parentVal};strats.data=strats.filters=strats.methods=strats.directives=function(parentVal,childVal){if(!childVal)return parentVal;if(!parentVal)return childVal;return _.extend({},parentVal,childVal)};var defaultStrat=function(parentVal,childVal){return childVal===undefined?parentVal:childVal};function mergeOptions(parent,child,vm){var options={},key;for(key in parent){merge(key)}for(key in child){if(!(parent.hasOwnProperty(key))){merge(key)}}function merge(key){var strat=strats[key]||defaultStrat;options[key]=strat(parent[key],child[key],vm,key)}return options}module.exports={strats:strats,mergeOptions:mergeOptions}},function(module,exports,__webpack_require__){var modules={},mergeOptions=__webpack_require__(7).mergeOptions,listeners={};function _define(name,options){if(modules[name])return false;var module=modules[name]=this.extend(options||{});return module}function _require(name,callback){return modules[name]||this}function _create(o){function F(){}F.prototype=o;return new F()}function _extend(extendOptions){extendOptions=extendOptions||{};var Super=this,Sub=createClass(extendOptions.name||'QComponent');Sub.prototype=_create(Super.prototype);Sub.prototype.constructor=Sub;Sub.options=mergeOptions(Super.options,extendOptions);Sub['super']=Super;['extend','get','all','require','define'].forEach(function(key){Sub[key]=Super[key]});return Sub}function createClass(name){return new Function('return function '+name+' (options) { this._init(options) }')()}module.exports={define:_define,require:_require,extend:_extend}},function(module,exports,__webpack_require__){var _=__webpack_require__(1),strats=__webpack_require__(7);var PROP_REG=/^(.*)\.([\w\-]+)$/;module.exports={cloak:{bind:function(){var vm=this.vm,el=this.el;vm.$once('hook:ready',function(){vm.$once('datachange',function(){el.removeAttribute('q-cloak')})})}},show:function(value){var el=this.el;if(value){el.style.display='';var display=el.currentStyle?el.currentStyle.display:getComputedStyle(el,null).display;if(display==='none'){el.style.display='block'}}else{el.style.display='none'}},'class':function(value){var el=this.el,arg=this.arg;if(arg){value?_.addClass(el,arg):_.removeClass(el,arg)}else{if(this.lastVal){_.removeClass(el,this.lastVal)}if(value){_.addClass(el,value);this.lastVal=value}}},value:function(value){var el=this.el;if(el.type==='checkbox'){el.checked=value}else{el.value=value}},attr:function(value){if(value===undefined)return;var arg=this.arg,el=this.el;if(arg==='style'){if(typeof value==='object'){for(var k in value){if(value.hasOwnProperty(k)){el.style[k]=value[k]}}}else{el.setAttribute(arg,value)}}else{if(arg in el){el[arg]=value}else{el.setAttribute(arg,value)}}},text:function(value){var text;value!==undefined&&(text=(typeof this.el.textContent==='string')?'textContent':'innerText')&&(this.el[text]=value==null?'':value.toString())},html:function(value){this.el.innerHTML=value&&value.toString()||''},on:{bind:function(){var self=this,key=this.target,param=this.param,filters=this.filters,vm=this.vm,handler=vm.applyFilters(this.vm[key],filters),data=param&&(~param.indexOf('this'))&&self.data();_.add(this.el,this.arg,function(e){if(!handler||typeof handler!=='function'){return _.warn('You need implement the '+key+' method.')}var args=[];param?param.forEach(function(arg){if(arg==='e')args.push(e);else if(arg==='this')args.push(data);else if(arg==='true')args.push(true);else if(arg==='false')args.push(false);else if(+arg+''===arg)args.push(+arg);else if(arg.match(/^(['"]).*\1$/))args.push(arg.slice(1,-1));else args.push(self.data(arg))}):args.push(e);handler.apply(vm,args)})}},model:{bind:function(){var keys=((this.namespace?this.namespace+'.':'')+this.target).split('.'),key=keys.pop(),namespace=keys.join('.'),el=this.el,vm=this.vm,data=vm.data(namespace),composing=false;_.add(el,'input propertychange change keypress keyup',function(e){if(composing)return;data.$set(key,el.value)});_.add(el,'compositionstart',function(e){composing=true});_.add(el,'compositionend',function(e){composing=false})},update:function(value){if(this.el.value!==value){this.el.value=value}}},vm:{bind:function(){this.setting.stop=true;var name=this.target,vm=this.vm,el=this.el,ref=el.getAttribute('q-ref')||false,Child=vm.constructor.require(name),data=Child.options.data,options,childVm;options={el:el,data:data,_parent:vm};childVm=new Child(options);vm._children.push(childVm);ref&&!function(){var refs=vm.$[ref];refs?refs.length?(refs.push(childVm)):(vm.$[ref]=[refs,childVm]):(vm.$[ref]=childVm)}()}},'if':{bind:function(){if(!this.el.parentNode)return;var tpl=this.el,parentNode=tpl.parentNode,ref=document.createComment('q-if'),hasInit=false,exist=true,key=this.target,namespace=this.namespace,target=_.get(namespace,key),readFilters=this.filters,data=this.data(),vm=this.vm;this.setting.stop=true;function _init(value){if(hasInit||!exist||!value)return;hasInit=true;vm._templateBind(tpl,{data:data,namespace:namespace,immediate:true})}vm.$watch(target,function(value,oldVal){value=vm.applyFilters(value,readFilters,oldVal);_init(value);if(value===exist)return;if(value===true){parentNode.replaceChild(tpl,ref);exist=value}else if(value===false){parentNode.replaceChild(ref,tpl);exist=value}_init(value)},typeof this.data(key)==='object',true)}},el:{bind:function(){this.vm.$$[this.target]=this.el}},repeat:__webpack_require__(10)}},function(module,exports,__webpack_require__){var _=__webpack_require__(1);var methods={'default':{clean:function(parentNode,repeats){if(repeats.length){repeats.forEach(function(node){node.parentNode===parentNode&&parentNode.removeChild(node)});_.cleanData(repeats);repeats.length=0}},insert:function(parentNode,fragment,ref){parentNode.insertBefore(fragment,ref)}},push:{insert:function(parentNode,fragment,ref){parentNode.insertBefore(fragment,ref)},dp:function(data,patch){return patch.res}},splice:{clean:function(parentNode,repeats,value,watchers){var i=value[0],l=value[1],target=value[2].$namespace(),eles=repeats.splice(i,l);eles.forEach(function(ele){parentNode.removeChild(ele)});if(!value.done){splice(watchers,target,i,l);value.done=true}return true},dp:function(data,patch){patch.args.push(data);return patch.args}}};function splice(watchers,target,i,l){var length=target.length,subKey,cur,index,newKey;Object.keys(watchers).forEach(function(key){if(~key.indexOf(target)){subKey=key.substring(length+1);cur=subKey.split('.');if(cur.length){index=+cur.shift();if((index-=l)>=i){cur.unshift(index);cur.unshift(target);newKey=cur.join('.');watchers[newKey]=watchers[key];delete watchers[key]}}}})}exports.bind=function(){var tpl=this.el,setting=this.setting,parentNode=tpl.parentNode,key,namespace,target,readFilters,repeats,ref,vm;if(!parentNode||setting.stop)return;setting.stop=true;key=this.target;namespace=this.namespace;target=_.get(namespace,key);readFilters=this.filters;repeats=[];ref=document.createComment('q-repeat');vm=this.vm;parentNode.replaceChild(ref,tpl);vm.$watch(target,function(value,oldVal,patch){value=vm.applyFilters(value,readFilters);if(value==null)return;var method=(!readFilters.length&&patch)?patch.method:'default',dp=(methods[method]||{}).dp,clean=(methods[method]||{}).clean,insert=(methods[method]||{}).insert;dp&&(value=dp(value,patch));if(clean&&clean(parentNode,repeats,value,vm._watchers,target)===true){return}var fragment=document.createDocumentFragment(),itemNode;value.forEach(function(obj,i){itemNode=_.clone(tpl);vm._templateBind(itemNode,{data:obj,namespace:obj.$namespace(),immediate:true});repeats.push(itemNode);fragment.appendChild(itemNode)});insert&&insert(parentNode,fragment,ref);vm.$emit('repeat-render')},false,true)}},function(module,exports,__webpack_require__){var parse=__webpack_require__(12),_=__webpack_require__(1);module.exports=function(el,options){options=options||{};var self=this,directives=self.$options.directives,index=options.index,data=options.data||self,namespace=options.namespace;_.walk([el],function(node,res,setting){res.forEach(function(obj){var name=obj.name.substring(2),directive=directives[name],descriptors=parse(obj.value);directive&&descriptors.forEach(function(descriptor){var readFilters=self._makeReadFilters(descriptor.filters,self.data(namespace)),key=descriptor.target,target=_.get(namespace,key),update=_.isObject(directive)?directive.update:directive,that=_.extend({el:node,vm:self,data:function(key){return self.data(_.get(namespace,key))},namespace:namespace,setting:setting},descriptor,{filters:readFilters}),tmp=that.data(key);update&&self.$watch(target,function(value,oldValue){value=self.applyFilters(value,readFilters,oldValue);update.call(that,value,oldValue)},typeof tmp==='object',_.alpaca?false:typeof options.immediate==='boolean'?options.immediate:(tmp!==undefined));if(_.isObject(directive)&&directive.bind)directive.bind.call(that)})})})}},function(module,exports,__webpack_require__){var cache=new(__webpack_require__(2))(1000),tokens=[[/^ +/],[/^([\w\-]+):/,function(captures,status){status.token.arg=captures[1]}],[/^([\w]+)\((.+?)\)/,function(captures,status){status.token.target=captures[1];status.token.param=captures[2].split(/ *, */)}],[/^([\w\-\.\$]+)/,function(captures,status){status.token.target=captures[1]}],[/^(?=\|)/,function(captures,status){status.filter=true}],[/^,/,function(captures,status,res){res.push(status.token);status.token={filters:[]}}]],filterREG=/^(.+?)(?=,|$)/,filterTokens=[[/^ +/],[/^\| *([\w\-\!]+)/,function(captures,filters){filters.push([captures[1]])}],[/^(['"])(((\\['"])?([^\1])*)+)\1/,function(captures,filters){filters[filters.length-1].push(captures[3])}],[/^([\w\-\$]+)/,function(captures,filters){filters[filters.length-1].push(captures[1])}]];function parse(str){var name=str,hit=cache.get(name);if(hit)return hit;var res=[],captures,i,l=tokens.length,foo,has=false,status={filter:false,token:{filters:[]}};while(str.length){for(i=0;i<l;i++){if(captures=tokens[i][0].exec(str)){var has=true;var foo=tokens[i][1];foo&&foo(captures,status,res);str=str.replace(tokens[i][0],'');if(status.filter){captures=filterREG.exec(str);parseFilter(captures[0].trim(),status.token);str=str.replace(filterREG,'');status.filter=false}break}}if(has){has=false}else{throw new Error('Syntax error at: '+str);}}res.push(status.token);cache.put(name,res);return res}function parseFilter(str,token){var i,l=filterTokens.length,has=false;while(str.length){for(i=0;i<l;i++){var captures=filterTokens[i][0].exec(str);if(captures){var has=true;var foo=filterTokens[i][1];foo&&foo(captures,token.filters);str=str.replace(filterTokens[i][0],'');break}}if(has){has=false}else{throw new Error('Syntax error at: '+str);}}}module.exports=parse}])});function Anm(){var width,height,largeHeader,canvas,ctx,circles,target,animateHeader=true;initHeader();addListeners();function initHeader(){width=window.innerWidth;height=window.innerHeight;target={x:0,y:height};largeHeader=document.getElementById('container');largeHeader.style.height=height+'px';canvas=document.getElementById('anm-canvas');canvas.width=width;canvas.height=height;ctx=canvas.getContext('2d');circles=[];for(var x=0;x<width*0.5;x++){var c=new Circle();circles.push(c)}animate()}function addListeners(){window.addEventListener('scroll',scrollCheck);window.addEventListener('resize',resize)}function scrollCheck(){if(document.body.scrollTop>height)animateHeader=false;else animateHeader=true}function resize(){width=window.innerWidth;height=window.innerHeight;largeHeader.style.height=height+'px';canvas.width=width;canvas.height=height}function animate(){if(animateHeader){ctx.clearRect(0,0,width,height);for(var i in circles){circles[i].draw()}}requestAnimationFrame(animate)}function Circle(){var _this=this;(function(){_this.pos={};init()})();function init(){_this.pos.x=Math.random()*width;_this.pos.y=height+Math.random()*100;_this.alpha=0.1+Math.random()*0.3;_this.scale=0.1+Math.random()*0.3;_this.velocity=Math.random()}this.draw=function(){if(_this.alpha<=0){init()}_this.pos.y-=_this.velocity;_this.alpha-=0.0005;ctx.beginPath();ctx.arc(_this.pos.x,_this.pos.y,_this.scale*10,0,2*Math.PI,false);ctx.fillStyle='rgba(255,255,255,'+_this.alpha+')';ctx.fill()}}}var Browser={versions:function(){var u=window.navigator.userAgent;return{trident:u.indexOf('Trident')>-1,presto:u.indexOf('Presto')>-1,webKit:u.indexOf('AppleWebKit')>-1,gecko:u.indexOf('Gecko')>-1&&u.indexOf('KHTML')==-1,mobile:!!u.match(/AppleWebKit.*Mobile.*/),ios:!!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:u.indexOf('Android')>-1||u.indexOf('Linux')>-1,iPhone:u.indexOf('iPhone')>-1||u.indexOf('Mac')>-1,iPad:u.indexOf('iPad')>-1,webApp:u.indexOf('Safari')==-1,weixin:u.indexOf('MicroMessenger')==-1}}()};const isMobile=(Browser.versions.mobile&&window.screen.width<800);if(!isMobile){Anm()}window.Promise=window.Promise||promise.Promise;window.fetch=window.fetch||fetch;let localTagKey='yilia-tag';let localSearchKey='yilia-search';function fixzero(str){str=str+'';return str.length===1?'0'+str:str}function setScrollZero(){let $sct=document.querySelectorAll('.tools-section');$sct.forEach((em)=>{em.scrollTop=0})}function slider(){let app=new Q({el:'#container',data:{isCtnShow:false,isShow:0,innerArchive:false,friends:false,aboutme:false,items:[],jsonFail:false,showTags:false,search:''},methods:{stop:(e)=>{e.stopPropagation()},choseTag:(e,name)=>{app.$set('search','#'+(name?name:e.target.innerHTML))},clearChose:(e)=>{app.$set('search','')},toggleTag:(e)=>{app.$set('showTags',!app.showTags);window.localStorage&&window.localStorage.setItem(localTagKey,app.showTags)},openSlider:(e,type)=>{e.stopPropagation();if(!type){type='innerArchive'}app.$set('innerArchive',false);app.$set('friends',false);app.$set('aboutme',false);app.$set(type,true);app.$set('isShow',true);app.$set('isCtnShow',true);setScrollZero()}},filters:{isFalse:(val)=>{return val===false},isEmptyStr:(str)=>{return str===''},isNotEmptyStr:(str)=>{return str!==''},urlformat:(str)=>{if(window.yiliaConfig&&window.yiliaConfig.root){return window.yiliaConfig.root+str}return'/'+str},tagformat:(str)=>{return'#'+str},dateformat:(str)=>{let d=new Date(str);return d.getFullYear()+'-'+fixzero((d.getMonth()+1))+'-'+fixzero(d.getDate())}},ready:()=>{}});function handleSearch(val){val=(val||'').toLowerCase();let type='title';if(val.indexOf('#')===0){val=val.substr(1,val.length);type='tag'}let items=app.items;items.forEach((item)=>{let matchTitle=false;if(item.title.toLowerCase().indexOf(val)>-1){matchTitle=true}let matchTags=false;item.tags.forEach((tag)=>{if(tag.name.toLowerCase().indexOf(val)>-1){matchTags=true}});if((type==='title'&&matchTitle)||(type==='tag'&&matchTags)){item.isShow=true}else{item.isShow=false}});app.$set('items',items)}app.$watch('search',function(val,oldVal){window.localStorage&&window.localStorage.setItem(localSearchKey,val);handleSearch(val)});window.fetch(window.yiliaConfig.root+'content.json?t='+(+new Date()),{method:'get',}).then((res)=>{return res.json()}).then((data)=>{data.forEach((em)=>{em.isShow=true});app.$set('items',data);let searchWording=(window.localStorage&&window.localStorage.getItem(localSearchKey))||'';app.$set('search',searchWording);searchWording!==''&&handleSearch(searchWording)}).catch((err)=>{app.$set('jsonFail',true)});document.querySelector('#container').onclick=(e)=>{if(app.isShow){app.$set('isShow',false);setTimeout(()=>{app.$set('isCtnShow',false)},300)}};let localTag=false;if(window.localStorage){localTag=window.localStorage.getItem(localTagKey)}let isTagOn='false';if(localTag===null){isTagOn=(window.yiliaConfig&&window.yiliaConfig.showTags)?'true':'false'}else{isTagOn=(window.localStorage&&window.localStorage.getItem(localTagKey))||'false'}app.$set('showTags',JSON.parse(isTagOn));let $tags=document.querySelectorAll('.tagcloud a.js-tag');for(var i=0,len=$tags.length;i<len;i++){let $em=$tags[i];$em.setAttribute('href','javascript:void(0)');$em.onclick=(e)=>{e.stopPropagation();app.$set('innerArchive',true);app.$set('friends',false);app.$set('aboutme',false);app.$set('isShow',true);app.$set('isCtnShow',true);app.$set('search','#'+$em.innerHTML);setScrollZero();return false}}}slider();