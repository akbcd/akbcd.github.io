<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="renderer" content="webkit"><meta name="viewport" content="width=device-width"><title>jsp笔记 | akbcd博客</title><meta name="keywords" content="jsp笔记, akbcd"><meta name="description" content="jsp是java web开发相关知识。简言之，就是用Java和html相关知识做jsp页面，页面类似html，但是扩展名为.jsp，并非.html本次课主要内容：创建jsp项目，jsp注释，jsp指令，jsp脚本元素"><meta property="og:type" content="article"><meta property="og:title" content="jsp笔记"><meta property="og:url" content="https://akbcd.github.io/2019/10/09/jsp%E7%AC%94%E8%AE%B0/index.html"><meta property="og:site_name" content="akbcd博客"><meta property="og:description" content="jsp是java web开发相关知识。简言之，就是用Java和html相关知识做jsp页面，页面类似html，但是扩展名为.jsp，并非.html本次课主要内容：创建jsp项目，jsp注释，jsp指令，jsp脚本元素"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2019-10-09T01:54:51.000Z"><meta property="article:modified_time" content="2022-07-29T16:00:00.000Z"><meta property="article:author" content="akbcd"><meta property="article:tag" content="jsp"><meta name="twitter:card" content="summary"><link rel="dns-prefetch" href="https://akbcd.github.io"><link rel="preload" href="/css/main.css" as="style"><link rel="preload" href="/css/mobile.css" as="style"><link rel="preload" href="/css/iconfont.css" as="style"><link rel="preload" href="/css/com.css" as="style"><link rel="preload" href="/css/lib/photoswipe/photoswipe.css" as="style"><link rel="preload" href="/css/lib/photoswipe/default-skin/default-skin.css" as="style"><link rel="preload" href="/css/lib/APlayer/APlayer.min.css" as="style"><link rel="preload" href="/js/Util.js" as="script"><link rel="preload" href="/js/lib/photoswipe/photoswipe.min.js" as="script"><link rel="preload" href="/js/lib/photoswipe/photoswipe-ui-default.min.js" as="script"><link rel="preload" href="/js/lib/clipboard/clipboard.min.js" as="script"><link rel="preload" href="/js/backTop.js" as="script"><link rel="preload" href="/js/share.js" as="script"><link rel="preload" href="/js/anm.js" as="script"><link rel="preload" href="/js/fix.js" as="script"><link rel="preload" href="/js/slider.js" as="script"><link rel="preload" href="/js/addHighlightTool.js" as="script"><link rel="preload" href="/js/viewer.js" as="script"><link rel="preload" href="/js/mobile.js" as="script"><link rel="icon" href="/img/avatar.webp"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/css/mobile.css"><link rel="stylesheet" href="/css/iconfont.css"><link rel="stylesheet" href="/css/com.css"><link rel="stylesheet" href="/css/lib/photoswipe/photoswipe.css"><link rel="stylesheet" href="/css/lib/photoswipe/default-skin/default-skin.css"><link rel="stylesheet" type="text/css" href="/css/lib/APlayer/APlayer.min.css"><style type="text/css">#aplayer ::-webkit-scrollbar-button,#aplayer ::-webkit-scrollbar-track{display:none}</style><style type="text/css">#container.show,#js-searchModal{background:linear-gradient(200deg,#a0cfe4,#e8c37e)}</style><script>var yiliaConfig={mathjax:!1,isHome:!1,isPost:!0,isArchive:!1,isTag:!1,isCategory:!1,open_in_new:!1,toc_hide_index:!0,root:"/",innerArchive:!0,showTags:!1,anchor:!0,scrollPos:!0,highlight:JSON.parse('{"highlight_lang":true,"highlight_show":true}')}</script><script src="/js/Util.js"></script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="js-searchModal"><div style="padding:24px"><div class="search-header"><span><i class="icon-search icon"></i>&nbsp;&nbsp;搜索</span> <input class="search-ipt" type="text" placeholder="请输入搜索的关键字" id="js-searchInput"> <i class="icon-close icon" id="js-searchTextCancel"></i></div><div id="js-searchResult"></div></div><script src="/js/search.js"></script><script type="text/javascript">window.addEventListener("DOMContentLoaded",function(){document.getElementById("js-icon-search").setAttribute("title","搜索"),searchFunc("/search.xml","js-searchInput","js-searchResult")})</script></div><div id="js-modal-overlay"></div><div id="container" q-class="show:isCtnShow"><canvas id="anm-canvas" class="anm-canvas"></canvas><div class="left-col" q-class="show:isShow"><div class="overlay" style="background:#4d4d4d"></div><div class="intrude-less"><header class="header-inner"><a href="/" class="profilepic"><img src="/img/avatar.webp" class="js-avatar" alt="avatar"></a><hgroup><h1 class="header-author"><a href="/" aria-label="root"></a></h1></hgroup><nav class="header-menu"><ul><li><a href="/">主页</a></li><li><a href="/archives/">归档</a></li><li><a href="/tags/%E9%9A%8F%E7%AC%94/">随笔</a></li></ul></nav><nav class="header-smart-menu"><a q-on="click: openSlider(e, 'innerArchive')" style="cursor:pointer">所有文章</a> <a q-on="click: openSlider(e, 'friends')" style="cursor:pointer">友链</a></nav><nav class="header-nav"><div class="social"><a class="mail" target="_blank" href="mailto:2226227487@qq.com" title="mail"><i class="icon-mail"></i></a> <a class="gitee" target="_blank" href="https://gitee.com/akbcd/hexo-theme-yilia" title="gitee"><i class="icon-gitee"></i></a></div><script src="/js/lib/APlayer/APlayer.min.js"></script><div class="music-player"><div id="aplayer"></div><script>const ap = new APlayer({
        container: document.getElementById('aplayer'),
        fixed: 'true' === 'true',
        autoplay: 'false' === 'true',
        theme: '#4d4d4d',
        loop: 'one',
        order: 'random',
        preload: 'none',
        lrcType: Number('0'),
        volume: Number('0.7'),
        listFolded: 'true' === 'true',
        listMaxHeight: '96px',
        audio: JSON.parse('[{"name":"消えない想い","artist":"芳賀敬太","lrc":"[00:00.00]纯音乐，无歌词","cover":"//p2.music.126.net/U9d0tMpFwxCD2hj03KXLiA==/5907675976380960.jpg","url":"/music/消えない想い - 芳賀敬太.mp3"},{"name":"騎士王の誇り","artist":"川井憲次","lrc":"[00:00.00]纯音乐，无歌词","cover":"//p2.music.126.net/U0Tf2ESHBauv2F9t1PgEZA==/109951163339713541.jpg","url":"/music/騎士王の誇り - 川井憲次.mp3"},{"name":"春はゆく","artist":"Aimer","lrc":"[00:00.00]春はゆく - Aimer[00:05.00] 剧场版《Fate/stay night 「Heaven’s Feel」III.spring song》主题曲[00:10.00] 作曲 : Yuki Kajiura[00:15.00] 作词 : Yuki Kajiura[00:20.61] 编曲：梶浦由記[00:26.59]それでも手を取って（即使如此你仍愿意牵起我的手）[00:32.66]隣に佇んで（在我的身边半步不离）[00:38.61]初めて抱きしめた形（第一次得到了真正的拥抱）[00:50.57]欲張って（忍不住萌生的贪念）[00:53.54]哀しみを抱えすぎていたから（心中所怀的悲伤已太过深刻）[01:02.56]幸せは何処にも（所以无论身在何方）[01:08.51]もう持ちきれなくて（都无法将幸福维持）[01:14.50]花びらを散らした風が（风吹散了花瓣）[01:20.53]扉を開いて 変わる季節（吹开了心扉 改变了季节）[01:39.37]深々と降り積もる時の中（悄无声息不断堆积的时光中）[01:45.34]歓びも苦しみも等しく（无论欢乐还是悲痛）[01:51.26]二人の手のひらで溶けてゆく（都平等地在你我掌心融化）[01:57.33]微笑みも贖いもあなたの側で（微笑也好 赎罪也罢 都只为留在你的身边）[02:14.60]消え去ってゆくことも（连独自消失离开）[02:20.56]ひとりではできなくて（都无法做到的我）[02:26.56]弱虫で身勝手な私（是如此懦弱而自私）[02:38.53]償えない影を背負って（背负着难以赎清的罪孽的阴影）[02:44.53]約束の場所は花の盛り（我们约好的地点已有繁花盛开）[02:57.28]罪も愛も顧みず 春はゆく（不顾罪孽与爱 春日终将逝去）[03:03.28]輝きはただ空に眩しく（只剩下点点亮光还在空中闪耀）[03:09.40]私を許さないでいてくれる（请不要原谅我）[03:15.34]壊れたい 生まれたい（我渴望毁灭 也渴望重生）[03:19.85]あなたのそばで笑うよ（我会永远在你的身边微笑）[03:25.42]せめてそばにいる 大事な人達に（至少要为身边重要的人们）[03:33.32]いつも私は幸せでいると（送去温柔的梦境）[03:41.24]優しい夢を届けて（告诉他们 我一直很幸福）[03:50.56]あなたのそばにいる（我就在你的身边）[04:02.67]あなたを愛してる（我爱你）[04:08.59]あなたとここにいる（我就和你在这里）[04:14.55]あなたのそばに（我就在你的身边）[04:17.84]その日々は夢のように（那些时光就像是一场梦）","cover":"//img2.kuwo.cn/star/albumcover/300/56/85/378046121.jpg","url":"/music/春はゆく - Aimer.mp3"},{"name":"光るなら","artist":"Goose House","lrc":"[00:00.00]光るなら - Goose house[00:05.60]词：Goose house[00:10.60]曲：Goose house[00:15.440]雨上がりの虹も (雨过天晴的彩虹)[00:20.710]凛と咲いた花も (凛然绽放的花朵)[00:23.810]色づき溢れ出す (色彩随之满溢缤纷)[00:29.220]茜色の空 仰ぐ君に (望着那个仰望绯红色天空的你)[00:35.260]あの日 恋に落ちた (就在那天 我坠入了爱河)[00:40.800]瞬間のドラマチック (戏剧化的那一瞬间)[00:44.360]フィルムの中の1コマも (如荧幕中的特写镜头)[00:47.100]消えないよ 心に刻むから (早已深深铭刻在我心中 永远不会消失)[00:56.210]君だよ 君なんだよ 教えてくれた (是你 是你 告诉我)[01:02.070]暗闇も光るなら (若能在黑暗中绽放光芒)[01:05.020]星空になる (便能化作星空)[01:08.119]悲しみを笑顔に (悲伤化作笑颜)[01:10.920]もう隠さないで (已经无需隐藏)[01:14.070]煌めくどんな星も (漫天闪耀着的星光)[01:17.030]君を照らすから (都会为你照亮前行)[01:20.930]眠りも忘れて 迎えた朝日が (一夜未眠迎来的朝阳)[01:28.340]やたらと突き刺さる (却愈加刺痛我心)[01:34.340]低気圧運ぶ 頭痛だって (令人烦闷的头痛)[01:39.500]忘れる 君に会えば (只要见到你 便能瞬间遗忘)[01:45.610]静寂はロマンティック (静寂编制你我的罗曼史)[01:48.350]紅茶に溶けたシュガーのように (如红茶里融化的砂糖)[01:51.620]全身に巡るよ 君の声 (你的声音萦绕全身)[02:00.640]君だよ 君なんだよ (是你 是你)[02:03.490]笑顔をくれた (带给我笑容)[02:06.590]涙も光るなら (泪滴若能绽放光芒)[02:09.550]流星になる (便能化作流星)[02:12.500]傷付いたその手を (这伤痕累累的双手)[02:15.400]もう離さないで (请别再松开)[02:18.550]願いを込めた空に (寄托心愿的天空)[02:21.400]明日が来るから (明天一定会来到)[02:25.820]導いてくれた 光は 君だよ (指引着我前进的光芒 就是你啊)[02:32.119]つられて僕も 走り出した (我也不禁迈步奔向前方)[02:36.640]知らぬ間に クロスし始めた (不知不觉间 我们交织在一起)[02:43.250]ほら 今だ ここで 光るなら (看 就是现在 若此处有光芒)[02:50.050]君だよ 君なんだよ 教えてくれた (是你 是你 告诉我)[02:56.010]暗闇は終わるから (黑暗终究会过去)[03:01.240]君だよ 君なんだよ 教えてくれた (是你 是你 告诉我)[03:08.150]暗闇も光るなら (若能在黑暗中绽放光芒)[03:11.050]星空になる (便能化作星空)[03:14.120]悲しみを笑顔に (悲伤化作笑颜)[03:16.920]もう隠さないで (已经无需隐藏)[03:20.130]煌めくどんな星も (漫天闪耀着的星光)[03:22.990]君を照らすから (都会为你照亮前行)[03:26.810]答えはいつでも偶然？必然？ (答案是 偶然？必然？)[03:32.960]いつか選んだ道こそ (你曾经选择的路)[03:36.530]運命になる (才是真正的命运)[03:39.340]握りしめた その希望も不安も (紧握在手心的希望也好 不安也罢)[03:44.940]きっと2人を動かす 光になるから (必定会化作驱使我们前进的光芒)","cover":"//img4.kuwo.cn/star/albumcover/300/1/94/1162016738.jpg","url":"/music/光るなら - Goose house.mp3"},{"name":"Hey !","artist":"PLEEG","lrc":"[00:00.00]纯音乐，无歌词","cover":"//p2.music.126.net/6WqNooHkY4ELUGkdQBzrkg==/109951163082345228.jpg","url":"/music/Hey ! - PLEEG.mp3"}]')
      });</script></div></nav></header></div></div><div class="mid-col" q-class="show:isShow,hide:isShow|isFalse"><nav id="mobile-nav"><div class="overlay js-overlay" style="background:#4d4d4d"></div><div class="btnctn js-mobile-btnctn"><div class="slider-trigger list" q-on="click: openSlider(e)"><i class="icon icon-sort"></i></div></div><div class="intrude-less"><header class="header-inner"><div class="profilepic"><img src="/img/avatar.webp" class="js-avatar" alt="avatar"></div><hgroup><h1 class="header-author js-header-author"></h1></hgroup><nav class="header-nav"><div class="social"><a class="mail" target="_blank" href="mailto:2226227487@qq.com" title="mail"><i class="icon-mail"></i></a> <a class="gitee" target="_blank" href="https://gitee.com/akbcd/hexo-theme-yilia" title="gitee"><i class="icon-gitee"></i></a></div></nav><nav class="header-menu js-header-menu"><ul style="width:70%"><li style="width:33.333333333333336%"><a href="/">主页</a></li><li style="width:33.333333333333336%"><a href="/archives/">归档</a></li><li style="width:33.333333333333336%"><a href="/tags/%E9%9A%8F%E7%AC%94/">随笔</a></li></ul></nav><nav class="music-player"><div id="mobile-aplayer"></div><script>const map = new APlayer({
        container: document.getElementById('mobile-aplayer'),
        fixed: 'false' === 'true',
        autoplay: 'false' === 'true',
        theme: '#4d4d4d',
        loop: 'all',
        order: 'random',
        preload: 'none',
        lrcType: Number('1'),
        volume: Number('0.7'),
        listFolded: 'true' === 'true',
        listMaxHeight: '',
        audio: JSON.parse('[{"name":"消えない想い","artist":"芳賀敬太","lrc":"[00:00.00]纯音乐，无歌词","cover":"//p2.music.126.net/U9d0tMpFwxCD2hj03KXLiA==/5907675976380960.jpg","url":"/music/消えない想い - 芳賀敬太.mp3"},{"name":"騎士王の誇り","artist":"川井憲次","lrc":"[00:00.00]纯音乐，无歌词","cover":"//p2.music.126.net/U0Tf2ESHBauv2F9t1PgEZA==/109951163339713541.jpg","url":"/music/騎士王の誇り - 川井憲次.mp3"},{"name":"春はゆく","artist":"Aimer","lrc":"[00:00.00]春はゆく - Aimer[00:05.00] 剧场版《Fate/stay night 「Heaven’s Feel」III.spring song》主题曲[00:10.00] 作曲 : Yuki Kajiura[00:15.00] 作词 : Yuki Kajiura[00:20.61] 编曲：梶浦由記[00:26.59]それでも手を取って（即使如此你仍愿意牵起我的手）[00:32.66]隣に佇んで（在我的身边半步不离）[00:38.61]初めて抱きしめた形（第一次得到了真正的拥抱）[00:50.57]欲張って（忍不住萌生的贪念）[00:53.54]哀しみを抱えすぎていたから（心中所怀的悲伤已太过深刻）[01:02.56]幸せは何処にも（所以无论身在何方）[01:08.51]もう持ちきれなくて（都无法将幸福维持）[01:14.50]花びらを散らした風が（风吹散了花瓣）[01:20.53]扉を開いて 変わる季節（吹开了心扉 改变了季节）[01:39.37]深々と降り積もる時の中（悄无声息不断堆积的时光中）[01:45.34]歓びも苦しみも等しく（无论欢乐还是悲痛）[01:51.26]二人の手のひらで溶けてゆく（都平等地在你我掌心融化）[01:57.33]微笑みも贖いもあなたの側で（微笑也好 赎罪也罢 都只为留在你的身边）[02:14.60]消え去ってゆくことも（连独自消失离开）[02:20.56]ひとりではできなくて（都无法做到的我）[02:26.56]弱虫で身勝手な私（是如此懦弱而自私）[02:38.53]償えない影を背負って（背负着难以赎清的罪孽的阴影）[02:44.53]約束の場所は花の盛り（我们约好的地点已有繁花盛开）[02:57.28]罪も愛も顧みず 春はゆく（不顾罪孽与爱 春日终将逝去）[03:03.28]輝きはただ空に眩しく（只剩下点点亮光还在空中闪耀）[03:09.40]私を許さないでいてくれる（请不要原谅我）[03:15.34]壊れたい 生まれたい（我渴望毁灭 也渴望重生）[03:19.85]あなたのそばで笑うよ（我会永远在你的身边微笑）[03:25.42]せめてそばにいる 大事な人達に（至少要为身边重要的人们）[03:33.32]いつも私は幸せでいると（送去温柔的梦境）[03:41.24]優しい夢を届けて（告诉他们 我一直很幸福）[03:50.56]あなたのそばにいる（我就在你的身边）[04:02.67]あなたを愛してる（我爱你）[04:08.59]あなたとここにいる（我就和你在这里）[04:14.55]あなたのそばに（我就在你的身边）[04:17.84]その日々は夢のように（那些时光就像是一场梦）","cover":"//img2.kuwo.cn/star/albumcover/300/56/85/378046121.jpg","url":"/music/春はゆく - Aimer.mp3"},{"name":"光るなら","artist":"Goose House","lrc":"[00:00.00]光るなら - Goose house[00:05.60]词：Goose house[00:10.60]曲：Goose house[00:15.440]雨上がりの虹も (雨过天晴的彩虹)[00:20.710]凛と咲いた花も (凛然绽放的花朵)[00:23.810]色づき溢れ出す (色彩随之满溢缤纷)[00:29.220]茜色の空 仰ぐ君に (望着那个仰望绯红色天空的你)[00:35.260]あの日 恋に落ちた (就在那天 我坠入了爱河)[00:40.800]瞬間のドラマチック (戏剧化的那一瞬间)[00:44.360]フィルムの中の1コマも (如荧幕中的特写镜头)[00:47.100]消えないよ 心に刻むから (早已深深铭刻在我心中 永远不会消失)[00:56.210]君だよ 君なんだよ 教えてくれた (是你 是你 告诉我)[01:02.070]暗闇も光るなら (若能在黑暗中绽放光芒)[01:05.020]星空になる (便能化作星空)[01:08.119]悲しみを笑顔に (悲伤化作笑颜)[01:10.920]もう隠さないで (已经无需隐藏)[01:14.070]煌めくどんな星も (漫天闪耀着的星光)[01:17.030]君を照らすから (都会为你照亮前行)[01:20.930]眠りも忘れて 迎えた朝日が (一夜未眠迎来的朝阳)[01:28.340]やたらと突き刺さる (却愈加刺痛我心)[01:34.340]低気圧運ぶ 頭痛だって (令人烦闷的头痛)[01:39.500]忘れる 君に会えば (只要见到你 便能瞬间遗忘)[01:45.610]静寂はロマンティック (静寂编制你我的罗曼史)[01:48.350]紅茶に溶けたシュガーのように (如红茶里融化的砂糖)[01:51.620]全身に巡るよ 君の声 (你的声音萦绕全身)[02:00.640]君だよ 君なんだよ (是你 是你)[02:03.490]笑顔をくれた (带给我笑容)[02:06.590]涙も光るなら (泪滴若能绽放光芒)[02:09.550]流星になる (便能化作流星)[02:12.500]傷付いたその手を (这伤痕累累的双手)[02:15.400]もう離さないで (请别再松开)[02:18.550]願いを込めた空に (寄托心愿的天空)[02:21.400]明日が来るから (明天一定会来到)[02:25.820]導いてくれた 光は 君だよ (指引着我前进的光芒 就是你啊)[02:32.119]つられて僕も 走り出した (我也不禁迈步奔向前方)[02:36.640]知らぬ間に クロスし始めた (不知不觉间 我们交织在一起)[02:43.250]ほら 今だ ここで 光るなら (看 就是现在 若此处有光芒)[02:50.050]君だよ 君なんだよ 教えてくれた (是你 是你 告诉我)[02:56.010]暗闇は終わるから (黑暗终究会过去)[03:01.240]君だよ 君なんだよ 教えてくれた (是你 是你 告诉我)[03:08.150]暗闇も光るなら (若能在黑暗中绽放光芒)[03:11.050]星空になる (便能化作星空)[03:14.120]悲しみを笑顔に (悲伤化作笑颜)[03:16.920]もう隠さないで (已经无需隐藏)[03:20.130]煌めくどんな星も (漫天闪耀着的星光)[03:22.990]君を照らすから (都会为你照亮前行)[03:26.810]答えはいつでも偶然？必然？ (答案是 偶然？必然？)[03:32.960]いつか選んだ道こそ (你曾经选择的路)[03:36.530]運命になる (才是真正的命运)[03:39.340]握りしめた その希望も不安も (紧握在手心的希望也好 不安也罢)[03:44.940]きっと2人を動かす 光になるから (必定会化作驱使我们前进的光芒)","cover":"//img4.kuwo.cn/star/albumcover/300/1/94/1162016738.jpg","url":"/music/光るなら - Goose house.mp3"},{"name":"Hey !","artist":"PLEEG","lrc":"[00:00.00]纯音乐，无歌词","cover":"//p2.music.126.net/6WqNooHkY4ELUGkdQBzrkg==/109951163082345228.jpg","url":"/music/Hey ! - PLEEG.mp3"}]')
      });</script></nav></header></div><div class="mobile-mask" style="display:none" q-show="isShow"></div></nav><div id="wrapper" class="body-wrap"><div class="menu-l"><div class="canvas-wrap"><canvas data-colors="#eaeaea" data-sectionheight="100" data-contentid="js-content" id="myCanvas1" class="anm-canvas"></canvas></div><div id="js-content" class="content-ll"><article id="post-jsp笔记" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-inner"><header class="article-header"><h1 class="article-title" itemprop="name">jsp笔记</h1><a href="/2019/10/09/jsp%E7%AC%94%E8%AE%B0/" class="archive-article-date"><time datetime="2019-10-09T01:54:51.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2019-10-09</time> <time datetime="2022-07-29T16:00:00.000Z" itemprop="dateUpdated">| <i class="icon-updated icon"></i>更新于 2022-07-30</time></a><div style="color:#999"><span><i class="icon-wordcount icon"></i>&nbsp;字数&nbsp;9.9k&nbsp;</span></div></header><div class="article-entry" itemprop="articleBody"><div class="article-content"><p>jsp是java web开发相关知识。简言之，就是用Java和html相关知识做jsp页面，页面类似html，但是扩展名为<code>.jsp</code>，并非<code>.html</code><br>本次课主要内容：创建jsp项目，jsp注释，jsp指令，jsp脚本元素</p><span id="more"></span><p>通过JavaSE Mysql 可以完成一个简单的控制台项目</p><h2 id="jsp第一次课"><a href="#jsp第一次课" class="headerlink" title="jsp第一次课"></a>jsp第一次课</h2><p><strong>两种程序设计方式</strong></p><ul><li>C/S 客户端 服务器（如桌面应用QQ）</li><li>B/S 浏览器 服务器</li></ul><p><strong>静态网页和动态网页的区别</strong></p><ul><li>静态和动态最大的区别 数据的交互</li><li>静态是没有数据的，动态是对数据的增删改查（CURD）</li></ul><h3 id="什么是jsp"><a href="#什么是jsp" class="headerlink" title="什么是jsp"></a>什么是jsp</h3><ul><li>全称：java server pages</li><li>运用的知识：html+java+数据库+jsp自己的语法+js</li></ul><h3 id="什么是3p"><a href="#什么是3p" class="headerlink" title="什么是3p"></a>什么是3p</h3><ul><li>jsp（跨平台，免费） php（论坛，数据量小） asp（微软，收钱）</li></ul><h3 id="安装环境"><a href="#安装环境" class="headerlink" title="安装环境"></a>安装环境</h3><ul><li>jsp必须运行在中间插件上（服务器）</li><li>服务器：apache公司的 Tomcat（开源，免费）</li><li>其它服务器（了解）：resin、 jboss、 glassfish、 weblogic</li><li>如何安装服务器？只需配置环境变量（Tomcat版本要与jdk匹配）<ul><li>配置方法 添加环境变量</li><li>变量名：JAVA_HOME（名字不固定）</li><li>变量值：D:\Program Files\Java\jdk1.8.0_221（路径配置到jdk的根目录）</li></ul></li><li>测试 Tomcat是否成功<ul><li>解压Tomcat安装包，bin里面有个startup.bat</li><li>双击，出现 毫秒数</li><li>在打开 网页，输入 <code>http://localhost:8080/</code> 出现Tomcat页面就对了</li><li>关闭服务器 bin 里面 双击 shutdown.bat</li></ul></li></ul><h3 id="利用eclipse开发java-web项目"><a href="#利用eclipse开发java-web项目" class="headerlink" title="利用eclipse开发java web项目"></a>利用eclipse开发java web项目</h3><ul><li>打开eclipse，选好工作空间，在工作空间中选择 File&gt;New&gt;Dynamic Web Project</li><li>输入项目名称，选择Target runtime中Tomcat版本（选自己安装的版本）</li><li>点击Finsh，项目创建成功</li></ul><h4 id="没有Dynamic-Web-Project解决办法"><a href="#没有Dynamic-Web-Project解决办法" class="headerlink" title="没有Dynamic Web Project解决办法"></a>没有Dynamic Web Project解决办法</h4><ul><li>在New&gt;other…中查找，如果依然没有，可能是没有安装相应插件</li><li>安装插件 Help&gt;Install New Software…&gt;选自己的eclipse版本</li><li>在 Web, XML, Java EE and OSGi Enterprise Development 中选择（个别没有的表明你已安装）<ul><li>Eclipse Java EE Developer Tools</li><li>Eclipse Java Web Developer Tools</li><li>Eclipse Web Developer Tools</li><li>Eclipse XML Editors and Tools</li></ul></li></ul><h4 id="New-Runtime中没有Tomcat版本选择"><a href="#New-Runtime中没有Tomcat版本选择" class="headerlink" title="New Runtime中没有Tomcat版本选择"></a>New Runtime中没有Tomcat版本选择</h4><ul><li>安装插件 JST Server Adapters</li></ul><h3 id="jsp文件"><a href="#jsp文件" class="headerlink" title="jsp文件"></a>jsp文件</h3><ul><li>创建文件后，默认不是utf-8编码，会出现中文乱码问题，在Preference中 <code>JSP Files</code>中修改编码为utf-8</li><li>jsp 必须通过 server 运行</li></ul><h3 id="如何创建项目的首页"><a href="#如何创建项目的首页" class="headerlink" title="如何创建项目的首页"></a>如何创建项目的首页</h3><ul><li>index.jsp<br>jsp文件内容（与html页面相似）<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;</span><br><span class="line">    pageEncoding=&quot;UTF-8&quot;%&gt;</span><br><span class="line">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="jsp的-注释有几种？"><a href="#jsp的-注释有几种？" class="headerlink" title="jsp的 注释有几种？"></a>jsp的 注释有几种？</h3></li><li>html 注释 是显示注释 <code>&lt;!-- --&gt;</code></li><li>java 注释 <code>//</code> <code>/* */</code></li><li>jsp 自己注释 <code>&lt;%-- --%&gt;</code> 隐世注释</li></ul><h3 id="jsp的指令有几个？都是什么？做什么的？"><a href="#jsp的指令有几个？都是什么？做什么的？" class="headerlink" title="jsp的指令有几个？都是什么？做什么的？"></a>jsp的指令有几个？都是什么？做什么的？</h3><ul><li>3个指令<ul><li><code>&lt;%@ page %&gt;</code><br>作用： 规定这个jsp页面的基本设置 ，例如语言，文本，编码等等<br>这里唯一一个特殊的 import 可以使用多次<br><code>&lt;%@ page import=&quot;包&quot; %&gt;</code><br>包可以通过<code>,</code>导入多个包<code>&lt;%@ page import=&quot;java.util.*&quot;,&quot;java.io.*&quot;,&quot;java.awt.*&quot; %&gt;</code></li><li><code>&lt;%@ include file=&quot;文件&quot; %&gt;</code><br>作用：包含其他页面<br>注意：被包含内容，页面基本格式要一样</li><li><code>&lt;%@ taglib %&gt;</code><br>作用：导入标准标签库&gt;&gt;后面详细讲解标签库</li><li>问题：page 指令是不是必须只能放在第一行？<br>page指令可以在JSP中的任何地方，以任何顺序出现</li></ul></li></ul><h3 id="jsp-的脚本元素"><a href="#jsp-的脚本元素" class="headerlink" title="jsp 的脚本元素"></a>jsp 的脚本元素</h3><ul><li>&lt;% 这是java代码 %&gt;<br>中间可以穿插html标签，但需要将java代码截断（可以参考练习中的代码）</li><li>&lt;%=表达式%&gt;<br>输出的作用，切记 千万千万别写分号</li><li>&lt;%!全局内容%&gt;</li></ul><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><h4 id="jsp"><a href="#jsp" class="headerlink" title="jsp"></a>jsp</h4><ul><li>Java + html +mysql +jsp自己语法+js</li></ul><h4 id="jsp做什么？"><a href="#jsp做什么？" class="headerlink" title="jsp做什么？"></a>jsp做什么？</h4><ul><li>动态网页（数据交互）</li></ul><h4 id="jsp的3个指令？"><a href="#jsp的3个指令？" class="headerlink" title="jsp的3个指令？"></a>jsp的3个指令？</h4><ul><li><p><code>&lt;%@ page %&gt;</code></p><ul><li>注：import 能使用多次</li></ul></li><li><p><code>&lt;%@ include file=&quot;&quot;%&gt;</code></p></li><li><p><code>&lt;%@ taglib %&gt;</code></p></li></ul><h4 id="jsp的3个脚本元素？"><a href="#jsp的3个脚本元素？" class="headerlink" title="jsp的3个脚本元素？"></a>jsp的3个脚本元素？</h4><ul><li>&lt;%java代码%&gt;</li><li>&lt;%! 全局变量%&gt;</li><li>&lt;%=表达式%&gt; 不能有分号</li></ul><h4 id="开发设计模式"><a href="#开发设计模式" class="headerlink" title="开发设计模式"></a>开发设计模式</h4><ul><li>jsp（专门做显示工作） +javaBean（业务逻辑的东西）</li></ul><h3 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h3><ul><li>运用jsp打印出九九乘法表</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;</span><br><span class="line">    pageEncoding=&quot;UTF-8&quot;%&gt;</span><br><span class="line">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%</span><br><span class="line">	for (int i = 1; i &lt;=9; i++) &#123;</span><br><span class="line">		for (int j = 1; j &lt;= i; j++) &#123;</span><br><span class="line">		out.print(j+&quot;*&quot;+i+&quot;=&quot;+(i*j)+&quot; &quot;);</span><br><span class="line">		&#125;</span><br><span class="line">%&gt;</span><br><span class="line">&lt;br&gt;</span><br><span class="line">&lt;%</span><br><span class="line">	&#125;</span><br><span class="line">%&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><ul><li>输出100内能被3整除的数，每行显示3个</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;</span><br><span class="line">    pageEncoding=&quot;UTF-8&quot;%&gt;</span><br><span class="line">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%</span><br><span class="line">	int j=0;</span><br><span class="line">	for(int i=1;i&lt;101;i++)&#123;</span><br><span class="line">		if(i%3==0)&#123;</span><br><span class="line">			out.print(i+&quot; &quot;);</span><br><span class="line">			j++;</span><br><span class="line">		&#125;</span><br><span class="line">		if(j&gt;0) &#123;</span><br><span class="line">			if(j%3==0)&#123;	</span><br><span class="line">%&gt;</span><br><span class="line">&lt;br&gt;</span><br><span class="line">&lt;%</span><br><span class="line">			j=0;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">%&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h2 id="jsp第二次课"><a href="#jsp第二次课" class="headerlink" title="jsp第二次课"></a>jsp第二次课</h2><p>本次课主要内容<br>包含的相关知识点，两种页面跳转，9个内置对象的部分介绍（四个存值对象，response和out对象），登录模块的简单完成</p><h3 id="包含的知识点"><a href="#包含的知识点" class="headerlink" title="包含的知识点"></a>包含的知识点</h3><ul><li>静态包含<br><code>&lt;%@ include file=&quot; &quot; %&gt;</code></li><li>动作标签<ul><li>动态包含</li><li><code>&lt;jsp:include page=&quot; &quot;&gt;&lt;/jsp:include&gt;</code></li></ul></li></ul><h3 id="静态包含和动态包含的区别？"><a href="#静态包含和动态包含的区别？" class="headerlink" title="静态包含和动态包含的区别？"></a>静态包含和动态包含的区别？</h3><ul><li><p>编译方式不同</p><ul><li>静态的是 先编译完 再包含到一起，最终只是产生 一个.java文件,如果静态包含的文件里面内容改变，结果就会改变</li><li>动态的是，各自包含进去，再编译，然后产生多个.java文件，如果动态的包含文件有改变的，结果不一定改变，效率高</li></ul></li><li><p>动态的能传参数</p><ul><li>通过 <code>&lt;jsp:param value=&quot;jim&quot; name=&quot;username&quot;/&gt;</code></li></ul></li></ul><h3 id="跳转"><a href="#跳转" class="headerlink" title="跳转"></a>跳转</h3><ul><li>服务器跳转<br><code>&lt;jsp:forward page=&quot;跳转的页面&quot;&gt;&lt;/jsp:forward&gt;</code></li><li>客户端跳转（非jsp标签）<br><code>response.sendRedirect(&quot;跳转页面&quot;);</code> 不需要截断java代码，直接在java代码中实现</li></ul><h3 id="9个内置对象"><a href="#9个内置对象" class="headerlink" title="9个内置对象"></a>9个内置对象</h3><ul><li>request、 response、 page、 pageContext、 session、 application、 config、 out、 exception</li></ul><h4 id="什么是内置对象？"><a href="#什么是内置对象？" class="headerlink" title="什么是内置对象？"></a>什么是内置对象？</h4><ul><li>new 出来的东西就是对象</li><li>jsp 内部的一个规范，常用的对象 内部封装好了，直接用就可以，不需要用new<h4 id="4个存值对象都有什么"><a href="#4个存值对象都有什么" class="headerlink" title="4个存值对象都有什么"></a>4个存值对象都有什么</h4></li><li>page：本页 相当于我们基础的this，代表当前对象</li><li>request： 一次请求，一般就是页面跳转一次</li><li>session：一次会话，只要你不离开这个浏览器，就在session范围内</li><li>application：整个服务器开启都好使</li><li>它们4个都有2个共同的方法，就是存对象，取对象</li><li>setAttribute(,)/getAttribute(“”)<br>例如<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--存对象页面--&gt;</span><br><span class="line">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;</span><br><span class="line">    pageEncoding=&quot;UTF-8&quot;%&gt;</span><br><span class="line">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;%</span><br><span class="line">		 /* page 存对象要用 pageContext对象  */</span><br><span class="line">		 pageContext.setAttribute(&quot;username&quot;, &quot;jim&quot;);</span><br><span class="line">	    </span><br><span class="line">	%&gt;</span><br><span class="line">	&lt;%-- &lt;%=pageContext.getAttribute(&quot;username&quot;)%&gt;  --%&gt;</span><br><span class="line">	&lt;jsp:forward page=&quot;PageTest1.jsp&quot;&gt;&lt;/jsp:forward&gt; </span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>PageTest1.jsp<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--取对象页面--&gt;</span><br><span class="line">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;</span><br><span class="line">    pageEncoding=&quot;UTF-8&quot;%&gt;</span><br><span class="line">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;!--输出对象--&gt;</span><br><span class="line">	&lt;%=pageContext.getAttribute(&quot;username&quot;)%&gt; </span><br><span class="line">	</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></li><li>相当于我们java基础学的 4个权限修饰符：private 缺省的 protected public</li></ul><h4 id="response对象"><a href="#response对象" class="headerlink" title="response对象"></a>response对象</h4><ul><li>sendRedirect<br><code>response.sendRedirect(&quot;跳转的文件&quot;)</code> 它不是一次请求，即存值对象request获取不到值</li><li>setCharacterEncoding(“UTF-8”)<br><code>request.setCharacterEncoding(&quot;UTF-8&quot;)</code> 解决乱码问题（这个处理乱码就对post方式好使）</li></ul><h4 id="out对象"><a href="#out对象" class="headerlink" title="out对象"></a>out对象</h4><p>在浏览器页面输出的 out.println();</p><h3 id="服务器跳转和客户端跳转的区别？"><a href="#服务器跳转和客户端跳转的区别？" class="headerlink" title="服务器跳转和客户端跳转的区别？"></a>服务器跳转和客户端跳转的区别？</h3><p>1.使用服务器端跳转时，客户浏览器的地址栏并不会显示目标地址的URL，而是用客户端跳转时，地址栏当中会显示目标资源的URL；<br>2.服务器端跳转是由客户端发送一个请求，请求一个服务器资源——如JSP和Servlet——，这个资源又将请求转到另一个服务器资源，然后再给客户端发送一个响应，也就是说服务器端跳转是客户端发送一次请求，服务器端给出一次响应；而客户端跳转的流程则不同。客户端同样是发送一个请求给服务器端资源，这个服务器资源会首先给客户端一个响应，客户端再根据这个响应当中所包含的地址，再次向服务器端发送一个请求，也就是说客户端跳转是两次请求，两次响应；<br>3.在进行客户端跳转和服务器端跳转时，都需要指定目标资源的URL，如果这个路径以“”开始。在客户端跳转当中“”代表的是应用服务器根目录，而在服务器端跳转当中代表的是应用程序根目录。</p><h3 id="登录模块"><a href="#登录模块" class="headerlink" title="登录模块"></a>登录模块</h3><p>分析</p><ul><li>1、有一个html页面<ul><li>有2个文本框 ，一个按钮</li></ul></li></ul><hr><ul><li>2、有一个处理数据的jsp页面</li><li>3、成功的页面和失败的页面</li></ul><p>这里实现用户名和密码是固定的登陆页面<br>html页面（实现两个文本框，一个按钮，页面跳转）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!--action=&quot;do/DoLogin.jsp&quot;为页面跳转，form为表单标签--&gt;</span><br><span class="line">	&lt;form action=&quot;do/DoLogin.jsp&quot; method=&quot;post&quot;&gt;</span><br><span class="line">	 &lt;p&gt;用户名: &lt;input type=&quot;text&quot; name=&quot;userName&quot;&gt;&lt;/p&gt;</span><br><span class="line">	  &lt;p&gt;密码: &lt;input type=&quot;password&quot; name=&quot;userPwd&quot;&gt;&lt;/p&gt;</span><br><span class="line">	  &lt;p&gt; &lt;input type=&quot;submit&quot; value=&quot;登录&quot;&gt;&lt;/p&gt;</span><br><span class="line">	&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>jsp数据处理以及跳转页面</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;</span><br><span class="line">    pageEncoding=&quot;UTF-8&quot;%&gt;</span><br><span class="line">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;!-- 接收 Login 表单的值   --&gt;</span><br><span class="line">	&lt;%</span><br><span class="line">	/*  这个处理乱码  就对 post方式好使 */</span><br><span class="line">	  request.setCharacterEncoding(&quot;UTF-8&quot;);</span><br><span class="line">	  String userName=request.getParameter(&quot;userName&quot;);</span><br><span class="line">	String userPwd=request.getParameter(&quot;userPwd&quot;);</span><br><span class="line">	System.out.println(userName+&quot;&quot; +userPwd);</span><br><span class="line">	/* 判断  完跳转 */</span><br><span class="line">	if(&quot;jim&quot;.equals(userName)&amp;&amp;&quot;123&quot;.equals(userPwd))&#123;</span><br><span class="line">	%&gt;</span><br><span class="line">        &lt;!--成功页面--&gt;</span><br><span class="line">		&lt;jsp:forward page=&quot;../ShopShow.jsp&quot;&gt;&lt;/jsp:forward&gt;</span><br><span class="line">	&lt;%</span><br><span class="line">	&#125;else&#123;</span><br><span class="line">        &lt;!--失败页面--&gt;</span><br><span class="line">		/* 客户端跳转 */</span><br><span class="line">		response.sendRedirect(&quot;../Nav.html&quot;);	</span><br><span class="line">	&#125;</span><br><span class="line">	%&gt;</span><br><span class="line">	&lt;!-- 服务器跳转  --&gt;</span><br><span class="line">	&lt;%-- &lt;jsp:forward page=&quot;../ShopShow.jsp&quot;&gt;&lt;/jsp:forward&gt; --%&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h3><h4 id="jsp的三个动作标签"><a href="#jsp的三个动作标签" class="headerlink" title="jsp的三个动作标签"></a>jsp的三个动作标签</h4><ul><li><code>&lt;jsp:include page=&quot; &quot;&gt;&lt;/jsp:include&gt;</code></li><li><code>&lt;jsp:param value=&quot;jim&quot; name=&quot;username&quot;/&gt;</code></li><li><code>&lt;jsp:forward page=&quot;跳转的页面&quot;&gt;&lt;/jsp:forward&gt;</code><h4 id="静态包含和动态包含的区别？-1"><a href="#静态包含和动态包含的区别？-1" class="headerlink" title="静态包含和动态包含的区别？"></a>静态包含和动态包含的区别？</h4>静态包含是先编译再包含，最后产生一个.class，如果一个文件被改变，结果就会被改变<br>动态包含，先包含，再编译，最后产生多个.class，如果其中一个文件改变，可能结果不会变，但是效率高，而且还可以动态的带值<br>包含一般多用于，网页的菜单栏，导航栏，底部版权的包含<h4 id="9个内置对象-1"><a href="#9个内置对象-1" class="headerlink" title="9个内置对象"></a>9个内置对象</h4>request response page pageContext out session application exception config<h4 id="4个存值对象的内置对象"><a href="#4个存值对象的内置对象" class="headerlink" title="4个存值对象的内置对象"></a>4个存值对象的内置对象</h4></li><li>page ==》本页面</li><li>request==》一次请求</li><li>session===》 一次会话</li><li>application==》服务器开启期间</li></ul><p>都有共同方法，set/getAttribute</p><h4 id="request对象"><a href="#request对象" class="headerlink" title="request对象"></a>request对象</h4><ul><li>处理乱码</li><li>表单取值</li><li>获得路径</li><li>存对象取对象</li><li>请求，可以获取一些服务器信息</li></ul><h4 id="response对象-1"><a href="#response对象-1" class="headerlink" title="response对象"></a>response对象</h4><ul><li>重定向也是客户端跳转</li><li>处理乱码和设置文本的格式</li><li>设置头部信息</li></ul><h4 id="服务器跳转和客户端跳转的区别？-1"><a href="#服务器跳转和客户端跳转的区别？-1" class="headerlink" title="服务器跳转和客户端跳转的区别？"></a>服务器跳转和客户端跳转的区别？</h4><ul><li>地址栏<ul><li>服务器地址栏不改变，是原地址</li><li>客户端是目标地址</li></ul></li></ul><hr><ul><li>访问次数<ul><li>服务器端是访问一次服务器</li><li>客户端是2次访问</li></ul></li></ul><hr><ul><li>执行后，后面的代码是否执行？<ul><li>服务器端后面的代码不执行==后面不要写释放资源的代码，肯定是执行不了</li><li>客户端后面的代码会执行</li></ul></li></ul><hr><ul><li>session对象<ul><li>一次会话</li><li>session有个安全访问期，一般默认是30分钟，银行系统是15分钟</li></ul></li></ul><h2 id="jsp第三次课"><a href="#jsp第三次课" class="headerlink" title="jsp第三次课"></a>jsp第三次课</h2><p>好久没写笔记了。从今天开始继续。<br>本次课主要内容：<br>回顾<br>连接数据库的登录</p><h3 id="回顾"><a href="#回顾" class="headerlink" title="回顾"></a>回顾</h3><p>每个项目都有一个默认的首页，首页是不用输出到地址栏，访问项目直接识别<br>国内默认习惯 index.html/.jsp ==&gt;i.jsp<br>国外默认习惯 default.html/.jsp</p><h4 id="jsp的3个指令"><a href="#jsp的3个指令" class="headerlink" title="jsp的3个指令"></a>jsp的3个指令</h4><ul><li><code>&lt;%@ page %&gt;</code><br>面试题：page是不是必须放在第一行<br>答：不是，因为页面一加载，立马执行第一行，page里面写的都是页面的基本配置</li><li><code>&lt;%@ page import=&quot;包&quot; %&gt;</code> 是唯一一个可以使用多次的属性，2种导包方式，逗号和多写几次</li><li><code>&lt;%@ include file=&quot;文件&quot; %&gt;</code></li><li><code>&lt;%@ taglib %&gt;</code></li></ul><h4 id="jsp的3个脚本"><a href="#jsp的3个脚本" class="headerlink" title="jsp的3个脚本"></a>jsp的3个脚本</h4><ul><li>&lt;%java代码%&gt;</li><li>&lt;%! 全局变量%&gt;（不常用）</li><li>&lt;%=表达式%&gt; 表达式后面不能有分号</li></ul><h4 id="jsp的3个动作标签"><a href="#jsp的3个动作标签" class="headerlink" title="jsp的3个动作标签"></a>jsp的3个动作标签</h4><ul><li>动态包含<br><code>&lt;jsp:include page=&quot; &quot;&gt;&lt;/jsp:include&gt;</code></li><li>传递参数<br><code>&lt;jsp:param value=&quot;jim&quot; name=&quot;username&quot;/&gt;</code></li><li>服务器跳转（request能获取到值）<br><code>&lt;jsp:forward page=&quot;跳转的页面&quot;&gt;&lt;/jsp:forward&gt;</code><h4 id="9个内置对象-2"><a href="#9个内置对象-2" class="headerlink" title="9个内置对象"></a>9个内置对象</h4>request response page pageContext out session application exception config<h5 id="存值对象的内置对象-4个"><a href="#存值对象的内置对象-4个" class="headerlink" title="存值对象的内置对象 4个"></a>存值对象的内置对象 4个</h5></li><li>page ==》本页面</li><li>request==》一次请求</li><li>session===》 一次会话</li><li>application==》服务器开启期间</li><li>都有共同方法， set/getAttribute</li></ul><p>java核心是对象，我们整个项目，以对象为核心，到处用对象，那么就涉及2个对象之间的互相调用问题</p><h4 id="request对象-1"><a href="#request对象-1" class="headerlink" title="request对象"></a>request对象</h4><p>1)处理乱码 <code>request.setCharacterEncoding(&quot;UTF-8&quot;);</code><br>2)表单取值 <code>request.getParameter(&quot;值&quot;);</code><br>3)获得路径<br><code>request.getRequestURI();</code>获取访问路径: 项目名+servlet<br><code>request.getRequestURL();</code>获取完整路径<br>4)存对象取对象 set/getAttribute<br>请求，可以获取一些服务器信息</p><h4 id="response对象-2"><a href="#response对象-2" class="headerlink" title="response对象"></a>response对象</h4><p>1）重定向 也是客户端跳转 <code>response.sendRedirect(&quot;跳转的文件&quot;)</code><br>2）处理乱码和设置文本的格式<br>设置浏览器默认编码utf8<br><code>response.setHeader(&quot;content-type&quot;, &quot;text/html;charset=utf-8&quot;);</code><br>设置response默认编码<br><code>response.setCharacterEncoding(&quot;utf-8&quot;);</code><br>字符流输出中文<br><code>response.getWriter().print(&quot;文本&quot;);</code></p><h4 id="session对象"><a href="#session对象" class="headerlink" title="session对象"></a>session对象</h4><p>一次会话<br>session有个安全访问期，一般默认是30分钟，银行系统是15分钟</p><h3 id="连接数据库的登录"><a href="#连接数据库的登录" class="headerlink" title="连接数据库的登录"></a>连接数据库的登录</h3><ul><li>1）设计表<ul><li>admin</li></ul></li><li>2）设计表单<ul><li>login.html</li></ul></li><li>3)连接数据库<ul><li>a）导入jar</li><li>b）加载驱动</li></ul></li><li>4）获取表单值，比对从数据库出来的</li></ul><h4 id="实现方法"><a href="#实现方法" class="headerlink" title="实现方法"></a>实现方法</h4><p>1.将数据库连接驱动导入web项目下的lib文件夹下，加载到项目中<br>2.在java文件夹下的src文件夹内建立相应的包和类<br>以上跟java控制台项目连接数据库操作几乎相同<br>3.建立一个登录页面html文件（表单页面）<br>4.建立一个获取表单数据的jsp文件，与数据库比较，实现相应的页面跳转<br>这里附上一部分代码</p><p>登录页面html（没加任何样式）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;登录&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;!-- 表单 --&gt;</span><br><span class="line">&lt;form action=&quot;do/DoLogin.jsp&quot; method=&quot;post&quot;&gt;</span><br><span class="line">&lt;p&gt;用户名：&lt;input type=&quot;text&quot; name=&quot;loginname&quot;&gt;&lt;/p&gt;</span><br><span class="line">&lt;p&gt;密码：&lt;input type=&quot;password&quot; name=&quot;nloginpwd&quot;&gt;&lt;/p&gt;</span><br><span class="line">&lt;p&gt;&lt;input type=&quot;submit&quot; value=&quot;登录&quot;&gt;&lt;/p&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>获取表单数据的jsp</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;%-- 导java类 --%&gt;</span><br><span class="line">&lt;%@page import=&quot;dao.AdminDAO&quot;%&gt;</span><br><span class="line">&lt;%@page import=&quot;vo.Admin&quot;%&gt;</span><br><span class="line">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;</span><br><span class="line">    pageEncoding=&quot;UTF-8&quot;%&gt;</span><br><span class="line">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;!-- 接收表单的值   --&gt;</span><br><span class="line">&lt;%</span><br><span class="line">  request.setCharacterEncoding(&quot;UTF-8&quot;);</span><br><span class="line">  String userName=request.getParameter(&quot;loginname&quot;);</span><br><span class="line">String userPwd=request.getParameter(&quot;nloginpwd&quot;);</span><br><span class="line">Admin ad=new Admin();</span><br><span class="line">ad.setAdminname(userName);</span><br><span class="line">ad.setAdminpassword(userPwd);</span><br><span class="line">AdminDAO ao=new AdminDAO();</span><br><span class="line">/*连接数据库*/</span><br><span class="line">/* 判断  完跳转 */</span><br><span class="line">if(ao.getAdmin(ad)&gt;0)&#123;</span><br><span class="line">%&gt;</span><br><span class="line">	&lt;jsp:forward page=&quot;../Success.jsp&quot;&gt;&lt;/jsp:forward&gt;</span><br><span class="line">&lt;%</span><br><span class="line">&#125;else&#123;</span><br><span class="line">	/* 客户端跳转 */</span><br><span class="line">	response.sendRedirect(&quot;../Failed.jsp&quot;);	</span><br><span class="line">&#125;</span><br><span class="line">%&gt;</span><br><span class="line">&lt;!-- 服务器跳转  --&gt;</span><br><span class="line">&lt;%-- &lt;jsp:forward page=&quot;../ShopShow.jsp&quot;&gt;&lt;/jsp:forward&gt; --%&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h2 id="jsp第四次课"><a href="#jsp第四次课" class="headerlink" title="jsp第四次课"></a>jsp第四次课</h2><p>本次课主要内容：<br>tomcat目录介绍、创建servlet<br>doGet、doPost、service区别<br>servlet生命周期、request、response、servlet里面连接数据库、过滤器</p><h3 id="tomcat目录介绍"><a href="#tomcat目录介绍" class="headerlink" title="tomcat目录介绍"></a>tomcat目录介绍</h3><p>bin:可执行文件（启动服务、关闭服务等）<br>conf：配置文件（web.xml等）<br>lib：依赖库<br>logs:日志文件<br>temp：临时文件<br>webapps：发布项目<br>work：jsp转成java及class文件</p><h3 id="创建servlet"><a href="#创建servlet" class="headerlink" title="创建servlet"></a>创建servlet</h3><h4 id="方法1"><a href="#方法1" class="headerlink" title="方法1"></a>方法1</h4><p>src下创建包<br>包下创建servlet（包-&gt;右键-&gt;servlet-&gt;起名-&gt;Finish）<br>Dynamic Web Project 3.0及以上版本创建servlet时自动添加注释<br>项目中不会自动生成web.xml文件<br>项目创建的servlet源码</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">import java.io.IOException;</span><br><span class="line">import javax.servlet.ServletException;</span><br><span class="line">import javax.servlet.annotation.WebServlet;</span><br><span class="line">import javax.servlet.http.HttpServlet;</span><br><span class="line">import javax.servlet.http.HttpServletRequest;</span><br><span class="line">import javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Servlet implementation class Servlet</span><br><span class="line"> */</span><br><span class="line">@WebServlet(&quot;/Servlet&quot;)</span><br><span class="line">public class Servlet extends HttpServlet &#123;</span><br><span class="line">	private static final long serialVersionUID = 1L;</span><br><span class="line">       </span><br><span class="line">    /**</span><br><span class="line">     * @see HttpServlet#HttpServlet()</span><br><span class="line">     */</span><br><span class="line">    public Servlet() &#123;</span><br><span class="line">        super();</span><br><span class="line">        // TODO Auto-generated constructor stub</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	/**</span><br><span class="line">	 * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span><br><span class="line">	 */</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		response.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	/**</span><br><span class="line">	 * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)</span><br><span class="line">	 */</span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>启动tomcat直接访问注解中的路径</p><h4 id="方法2"><a href="#方法2" class="headerlink" title="方法2"></a>方法2</h4><p>src下创建包<br>包下创建servlet（包-&gt;右键-&gt;servlet-&gt;起名-&gt;Finish）<br>注解删除<br>web.xml中配置servlet、servlet-mapping（3.0版本之前会创建web.xml）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;servlet&gt;</span><br><span class="line">&lt;!--名字--&gt;</span><br><span class="line">&lt;servlet-name&gt;TestServlet&lt;/servlet-name&gt;</span><br><span class="line">&lt;!--类路径--&gt;</span><br><span class="line">&lt;servlet-class&gt;com.aly.test.TestServlet&lt;/servlet-class&gt;</span><br><span class="line">&lt;/servlet&gt;</span><br><span class="line">&lt;servlet-mapping&gt;</span><br><span class="line">&lt;!--名字--&gt;</span><br><span class="line">&lt;servlet-name&gt;TestServlet&lt;/servlet-name&gt;</span><br><span class="line">&lt;!--访问路径--&gt;</span><br><span class="line">&lt;url-pattern&gt;/TestServlet&lt;/url-pattern&gt;</span><br><span class="line">&lt;/servlet-mapping&gt;</span><br></pre></td></tr></table></figure><h4 id="方法3"><a href="#方法3" class="headerlink" title="方法3"></a>方法3</h4><p>创建一个普通的java文件<br>继承HttpServlet<br>重写里面的doGet、doPost、service方法<br>配置注解@WebServlet(“/TestServ”)<br>启动服务测试</p><h3 id="doGet、doPost、service区别"><a href="#doGet、doPost、service区别" class="headerlink" title="doGet、doPost、service区别"></a>doGet、doPost、service区别</h3><p>service：如果重写了，请求一定是service处理<br>doGet：若果没有重写service，那么请求的方式是get的<br>doPost：若果没有重写service，那么请求的方式是post的</p><h3 id="servlet生命周期"><a href="#servlet生命周期" class="headerlink" title="servlet生命周期"></a>servlet生命周期</h3><p>1.init():初始化时候调用一次<br>2.第一次访问servlet时，对servlet进行初始化<br>3.destroy():销毁的时候调用一次<br>4.关闭服务器<br>5.<code>web.xml</code>配置servlet时添加<code>&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;</code>：可以使servlet在服务启动时加载</p><h3 id="request"><a href="#request" class="headerlink" title="request"></a>request</h3><h4 id="携带参数"><a href="#携带参数" class="headerlink" title="携带参数"></a>携带参数</h4><p><code>request.setAttribute(&quot;uname&quot;, uname);</code></p><h4 id="获取参数的类型-Object-需要强制类型转换"><a href="#获取参数的类型-Object-需要强制类型转换" class="headerlink" title="获取参数的类型--Object 需要强制类型转换"></a>获取参数的类型<code>--</code>Object 需要强制类型转换</h4><p><code>request.getAttribute(&quot;uname&quot;);</code></p><h4 id="服务器端跳转（请求转发、类似post）-跳转的页面或servlet"><a href="#服务器端跳转（请求转发、类似post）-跳转的页面或servlet" class="headerlink" title="服务器端跳转（请求转发、类似post）--------跳转的页面或servlet"></a>服务器端跳转（请求转发、类似post）<code>--------</code>跳转的页面或servlet</h4><p><code>request.getRequestDispatcher(&quot;success.jsp&quot;).forward(request, response);</code><br><code>&lt;jsp:forward page=&quot;success.jsp&quot;&gt;&lt;/jsp:forward&gt;</code></p><h4 id="中文乱码问题"><a href="#中文乱码问题" class="headerlink" title="中文乱码问题"></a>中文乱码问题</h4><p>所有的乱码都是由字符编码格式不匹配，统一编码格式<br>解决乱码的方法（servlet里添加）</p><p>post方式提交的乱码问题<br><code>request.setCharacterEncoding(&quot;utf-8&quot;);</code></p><p>get方式提交的乱码，或者直接在地址栏提交的乱码<br><code>String uname = request.getParameter(&quot;uname&quot;);</code><br><code>uname = new String(uname.getBytes(&quot;iso-8859-1&quot;),&quot;utf-8&quot;);</code></p><h3 id="response"><a href="#response" class="headerlink" title="response"></a>response</h3><p>客户端跳转（请求重定向、get）<br><code>response.sendRedirect(&quot;fail.jsp&quot;);</code></p><h3 id="servlet里面连接数据库"><a href="#servlet里面连接数据库" class="headerlink" title="servlet里面连接数据库"></a>servlet里面连接数据库</h3><p>1.依赖包复制到WebContent下的WEB-INF的下面<br>2.JDBC的工具类复制到工程中<br>3.获取查询时所需要的参数<br>4.编写sql<br>5.JDBC工具类创建对象连接数据路查询</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">import java.io.IOException;</span><br><span class="line">import java.util.LinkedList;</span><br><span class="line">import java.util.Map;</span><br><span class="line"></span><br><span class="line">import javax.servlet.ServletException;</span><br><span class="line">import javax.servlet.annotation.WebServlet;</span><br><span class="line">import javax.servlet.http.HttpServlet;</span><br><span class="line">import javax.servlet.http.HttpServletRequest;</span><br><span class="line">import javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line">import com.aly.po.Student;</span><br><span class="line">import com.aly.tool.JdbcUtil;</span><br><span class="line"></span><br><span class="line">@WebServlet(&quot;/LoginServ&quot;)</span><br><span class="line">public class LoginServ extends HttpServlet &#123;</span><br><span class="line">	private static final long serialVersionUID = 1L;</span><br><span class="line">       </span><br><span class="line">    public LoginServ() &#123;</span><br><span class="line">        super();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		doPost(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">        //接收post表单值</span><br><span class="line">		String uname = request.getParameter(&quot;uname&quot;);</span><br><span class="line">		System.out.println(uname);</span><br><span class="line">		String pwd = request.getParameter(&quot;pwd&quot;);</span><br><span class="line">        //创建表的vo包对象</span><br><span class="line">		Student stu = new Student();</span><br><span class="line">        //往对象里赋值</span><br><span class="line">		stu.setName(uname);</span><br><span class="line">        //sql语句</span><br><span class="line">		String sql = &quot;SELECT * FROM USER_INFO WHERE username = &#x27;&quot;+uname+&quot;&#x27; and password=&#x27;&quot;+pwd+&quot;&#x27;&quot;;</span><br><span class="line">        //创建数据库连接的类</span><br><span class="line">		JdbcUtil ju = new JdbcUtil();</span><br><span class="line">        //调用sql语句</span><br><span class="line">		LinkedList&lt;Map&lt;String, Object&gt;&gt; list = ju.queryByList(sql);</span><br><span class="line">        //判断跳转</span><br><span class="line">		if(list.size() &gt; 0)&#123;</span><br><span class="line">			request.getSession().setAttribute(&quot;uname&quot;, uname);</span><br><span class="line">			request.getRequestDispatcher(&quot;success.jsp&quot;).forward(request, response);</span><br><span class="line">		&#125;else&#123;</span><br><span class="line">			request.setAttribute(&quot;mess&quot;, &quot;登录失败&quot;);</span><br><span class="line">			request.getRequestDispatcher(&quot;login.jsp&quot;).forward(request, response);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="过滤器"><a href="#过滤器" class="headerlink" title="过滤器"></a>过滤器</h3><h4 id="创建方法"><a href="#创建方法" class="headerlink" title="创建方法"></a>创建方法</h4><p>右键Filter，起名字，Finish<br>注解部分需要改成@WebFilter(“/<em>“)<br>在doFilter方法里面<br>request.setCharacterEncoding(“utf-8”);<br>chain.doFilter(request, response);（必须添加，不然会在过滤器卡住）<br>主要解决乱码问题，@WebFilter(“/</em>“)表示项目中所有的访问都要经过这个过滤器</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">import java.io.IOException;</span><br><span class="line">import javax.servlet.Filter;</span><br><span class="line">import javax.servlet.FilterChain;</span><br><span class="line">import javax.servlet.FilterConfig;</span><br><span class="line">import javax.servlet.ServletException;</span><br><span class="line">import javax.servlet.ServletRequest;</span><br><span class="line">import javax.servlet.ServletResponse;</span><br><span class="line">import javax.servlet.annotation.WebFilter;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Servlet Filter implementation class EncodingFilter</span><br><span class="line"> */</span><br><span class="line">@WebFilter(&quot;/*&quot;)</span><br><span class="line">public class EncodingFilter implements Filter &#123;</span><br><span class="line"></span><br><span class="line">    public EncodingFilter() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	public void destroy() &#123;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException &#123;</span><br><span class="line">		request.setCharacterEncoding(&quot;utf-8&quot;);</span><br><span class="line">		chain.doFilter(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void init(FilterConfig fConfig) throws ServletException &#123;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="在servlet里面获取session"><a href="#在servlet里面获取session" class="headerlink" title="在servlet里面获取session"></a>在servlet里面获取session</h3><p>HttpServletRequest<br><code>request.getSession()</code></p><h3 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h3><p>这里附上一个JdbcUtil，数据库的增删改查操作类<br>JdbcUtil.java</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br></pre></td><td class="code"><pre><span class="line">import java.sql.Connection;</span><br><span class="line">import java.sql.DriverManager;</span><br><span class="line">import java.sql.ResultSet;</span><br><span class="line">import java.sql.ResultSetMetaData;</span><br><span class="line">import java.sql.SQLException;</span><br><span class="line">import java.sql.Statement;</span><br><span class="line">import java.util.LinkedList;</span><br><span class="line">import java.util.Map;</span><br><span class="line">import java.util.TreeMap;</span><br><span class="line"></span><br><span class="line">public class JdbcUtil &#123;</span><br><span class="line"></span><br><span class="line">	String url = &quot;jdbc:mysql://localhost:3308/employee&quot;;</span><br><span class="line">	String user = &quot;root&quot;;</span><br><span class="line">	String password = &quot;&quot;;</span><br><span class="line">	Connection conn = null;</span><br><span class="line">	Statement stmt = null;</span><br><span class="line">	ResultSet rs = null;</span><br><span class="line"></span><br><span class="line">	//加载驱动</span><br><span class="line">	static &#123;</span><br><span class="line">		try &#123;</span><br><span class="line">			Class.forName(&quot;com.mysql.jdbc.Driver&quot;);</span><br><span class="line">		&#125; catch (ClassNotFoundException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	// 获取连接对象</span><br><span class="line">	public Connection getConn()&#123;</span><br><span class="line">		try &#123;</span><br><span class="line"></span><br><span class="line">			conn = DriverManager.getConnection(url, user, password);</span><br><span class="line">			return conn;</span><br><span class="line">		&#125; catch (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">			return null;</span><br><span class="line">		&#125; </span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 获取语句对象</span><br><span class="line">	public Statement getStmt() &#123;</span><br><span class="line">		try &#123;</span><br><span class="line"></span><br><span class="line">			conn = DriverManager.getConnection(url, user, password);</span><br><span class="line">			stmt = conn.createStatement();</span><br><span class="line">			return stmt;</span><br><span class="line">		&#125; catch (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">			return null;</span><br><span class="line">		&#125; finally &#123;</span><br><span class="line">			//release();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	// 更新并返回被影响行数</span><br><span class="line">	public int update(String sql) &#123;</span><br><span class="line">		int num;</span><br><span class="line">		try &#123;</span><br><span class="line">			num = getStmt().executeUpdate(sql);</span><br><span class="line">			return num;</span><br><span class="line">		&#125; catch (SQLException e) &#123;</span><br><span class="line"></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">			return -1;</span><br><span class="line">		&#125; finally &#123;</span><br><span class="line">			release();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	// 查询返回ResultSet</span><br><span class="line">	public ResultSet query(String sql) &#123;</span><br><span class="line">		try &#123;</span><br><span class="line">			rs = getStmt().executeQuery(sql);</span><br><span class="line">			return rs;</span><br><span class="line">		&#125; catch (SQLException e) &#123;</span><br><span class="line"></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">			return null;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	//通过RSMD将结果集保存在list中，最终释放资源</span><br><span class="line">	public LinkedList&lt;Map&lt;String, Object&gt;&gt; queryByList(String sql) &#123;</span><br><span class="line">		LinkedList&lt;Map&lt;String, Object&gt;&gt; list = new LinkedList&lt;Map&lt;String, Object&gt;&gt;();</span><br><span class="line">		try &#123;</span><br><span class="line">			rs = getStmt().executeQuery(sql);</span><br><span class="line">			ResultSetMetaData rsmd = rs.getMetaData();</span><br><span class="line">			//获取列数</span><br><span class="line">			int columnCount = rsmd.getColumnCount();</span><br><span class="line">			while (rs.next()) &#123;</span><br><span class="line">				Map&lt;String, Object&gt; map = new TreeMap&lt;String, Object&gt;();</span><br><span class="line">				for (int i = 0; i &lt; columnCount; i++) &#123;</span><br><span class="line">					String key = rsmd.getColumnName(i+1);</span><br><span class="line">					String value = rs.getString(key);</span><br><span class="line">					map.put(key, value);</span><br><span class="line">				&#125;</span><br><span class="line">				list.add(map);</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line">			return list;</span><br><span class="line"></span><br><span class="line">		&#125; catch (Exception e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">			return null;</span><br><span class="line">		&#125; finally &#123;</span><br><span class="line">			//释放资源</span><br><span class="line">			release();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	/**批量更新*/</span><br><span class="line">	public void  updateBatch(String[] sqls)&#123;</span><br><span class="line">		stmt = getStmt();</span><br><span class="line">		</span><br><span class="line">		/**设置不自动提交*/</span><br><span class="line">		try &#123;</span><br><span class="line">			conn.setAutoCommit(false);</span><br><span class="line">			for(String sql : sqls)&#123;</span><br><span class="line">				stmt.addBatch(sql);</span><br><span class="line">			&#125;</span><br><span class="line">			stmt.executeBatch();</span><br><span class="line">			</span><br><span class="line">			/**事务提交*/</span><br><span class="line">			conn.commit(); </span><br><span class="line">		&#125; catch (SQLException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void release() &#123;</span><br><span class="line">		if (rs != null) &#123;</span><br><span class="line">			try &#123;</span><br><span class="line">				rs.close();</span><br><span class="line">			&#125; catch (SQLException e) &#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		if (stmt != null) &#123;</span><br><span class="line">			try &#123;</span><br><span class="line">				stmt.close();</span><br><span class="line">			&#125; catch (SQLException e) &#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		if (conn != null) &#123;</span><br><span class="line">			try &#123;</span><br><span class="line">				conn.close();</span><br><span class="line">			&#125; catch (SQLException e) &#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="jsp第五次课"><a href="#jsp第五次课" class="headerlink" title="jsp第五次课"></a>jsp第五次课</h2><p>本次课主要内容：<br>过滤器web.xml配置方式、监听器、application<br>表单空间默认值、表单的正常处理、表单控件回显<br>MVC模式</p><h3 id="过滤器web-xml配置方式（web-xml）"><a href="#过滤器web-xml配置方式（web-xml）" class="headerlink" title="过滤器web.xml配置方式（web.xml）"></a>过滤器web.xml配置方式（web.xml）</h3><p>web.xml中添加</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;filter&gt;</span><br><span class="line">&lt;filter-name&gt;过滤器名字&lt;/filter-name&gt;</span><br><span class="line">&lt;filter-class&gt;类名&lt;/filter-class&gt;</span><br><span class="line">&lt;/filter&gt;</span><br><span class="line">&lt;filter-mapping&gt;</span><br><span class="line">&lt;filter-name&gt;过滤器名字&lt;/filter-name&gt;</span><br><span class="line">&lt;url-pattern&gt;需要过滤的url&lt;/url-pattern&gt;</span><br><span class="line">&lt;/filter-mapping&gt;</span><br></pre></td></tr></table></figure><h3 id="监听器"><a href="#监听器" class="headerlink" title="监听器"></a>监听器</h3><p>监视某事件的发生，做出响应<br>右键-&gt;Listener-&gt;起名字-&gt;选择你要监听的事件-&gt;finish<br>web.xml配置（注解二选一）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;listener&gt;</span><br><span class="line">&lt;listener-class&gt;类名&lt;/listener-class&gt;</span><br><span class="line">&lt;/listener&gt;</span><br></pre></td></tr></table></figure><h3 id="application"><a href="#application" class="headerlink" title="application"></a>application</h3><p>所有用户共享的变量<br>从服务开启到服务关闭<br>setAttribute(名字，存放值);<br>getAttribute(名字);<br>在servlet中获取application<br><code>request.getSession().getServletContext();</code><br>session重新初始化<br><code>session.invalidate</code></p><h4 id="通过session获取网页在线人数"><a href="#通过session获取网页在线人数" class="headerlink" title="通过session获取网页在线人数"></a>通过session获取网页在线人数</h4><p>创建session监听器</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">public void sessionCreated(HttpSessionEvent arg0)  &#123; </span><br><span class="line">    	ServletContext app = arg0.getSession().getServletContext();</span><br><span class="line">    	Integer num = (Integer)app.getAttribute(&quot;num&quot;);</span><br><span class="line">    	if(num != null)&#123;</span><br><span class="line">    		num++;</span><br><span class="line">    		app.setAttribute(&quot;num&quot;, num);</span><br><span class="line">    	&#125;else&#123;</span><br><span class="line">    		app.setAttribute(&quot;num&quot;, 1);</span><br><span class="line">    	&#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">public void sessionDestroyed(HttpSessionEvent arg0)  &#123;</span><br><span class="line">    System.out.println(&quot;session死了&quot;);</span><br><span class="line">    ServletContext app = arg0.getSession().getServletContext();</span><br><span class="line">    Integer num = (Integer)app.getAttribute(&quot;num&quot;);</span><br><span class="line">    num--;</span><br><span class="line">    app.setAttribute(&quot;num&quot;, num);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在jsp页面添加</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">当前网页在线人数：&lt;%=application.getAttribute(&quot;num&quot;) %&gt;</span><br></pre></td></tr></table></figure><h4 id="通过session获取网页访问量"><a href="#通过session获取网页访问量" class="headerlink" title="通过session获取网页访问量"></a>通过session获取网页访问量</h4><p>基于上面的在线人数<br>在jsp页面添加</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">	Integer sum = (Integer)application.getAttribute(&quot;sum&quot;);</span><br><span class="line">	if(sum != null)&#123;</span><br><span class="line">		sum++;</span><br><span class="line">		application.setAttribute(&quot;sum&quot;, sum);</span><br><span class="line">	&#125;else&#123;</span><br><span class="line">		application.setAttribute(&quot;sum&quot;, 1);</span><br><span class="line">	&#125;</span><br><span class="line">%&gt;</span><br><span class="line">当前访问量:&lt;%=application.getAttribute(&quot;sum&quot;) %&gt;</span><br></pre></td></tr></table></figure><h3 id="表单控件默认值"><a href="#表单控件默认值" class="headerlink" title="表单控件默认值"></a>表单控件默认值</h3><p>通过<code>request.getParameter(name);</code>获取值<br>checkbox通过<code>request.getParameterValues(&quot;checkbox&quot;);</code>获取值（用字符串数组接值）</p><table><thead><tr><th align="center">input标签type属性</th><th align="center">值</th></tr></thead><tbody><tr><td align="center">password</td><td align="center">空字符串</td></tr><tr><td align="center">password</td><td align="center">空字符串</td></tr><tr><td align="center">textArea</td><td align="center">空字符串</td></tr><tr><td align="center">radio</td><td align="center">null</td></tr><tr><td align="center">checkbox</td><td align="center">null</td></tr></tbody></table><h3 id="radio的正常处理"><a href="#radio的正常处理" class="headerlink" title="radio的正常处理"></a>radio的正常处理</h3><p>一般情况下会有默认值（checked=”checkid”）</p><h3 id="checkbox（字符串数组）"><a href="#checkbox（字符串数组）" class="headerlink" title="checkbox（字符串数组）"></a>checkbox（字符串数组）</h3><p>先判断是否为null<br>遍历拼接成字符串（中间需要特殊字符间隔）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// 将多选数据存为字符串，多选数据的值为hobby</span><br><span class="line">String hobbys[] = request.getParameterValues(&quot;hobby&quot;);</span><br><span class="line">String hobby = &quot;&quot;;</span><br><span class="line">if (hobbys != null &amp;&amp; hobbys.length &gt; 0) &#123;</span><br><span class="line">    for (String s : hobbys) &#123;</span><br><span class="line">        hobby += s + &quot;-&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">    hobby = hobby.substring(0, hobby.length() - 1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="表单控件回显"><a href="#表单控件回显" class="headerlink" title="表单控件回显"></a>表单控件回显</h3><table><thead><tr><th align="center">属性</th><th align="center">回显方法</th></tr></thead><tbody><tr><td align="center">text</td><td align="center">value=&lt;%=request.getAttribute(“text”)%&gt; 如果有可能第一次访问当前界面，需要判断值是否是null</td></tr><tr><td align="center">textarea</td><td align="center">两个标签之间</td></tr><tr><td align="center">radio</td><td align="center">将得到的值，和每一个选项判断，加上checked=”checked”</td></tr><tr><td align="center">checkbox</td><td align="center">将得到的值，和每一个选项判断，加上checked=”checked”</td></tr></tbody></table><h3 id="MVC模式"><a href="#MVC模式" class="headerlink" title="MVC模式"></a>MVC模式</h3><p>MVC模式是一种项目开发模式，适合多人开发的一种模式<br>介绍java web项目经历的几种开发模式</p><p>第一种模式jsp，类似php<br>所有的java代码都写在jsp页面，一个人开发，form表单的值传到jsp页面进行处理</p><p>第二种jsp+servlet(model1)<br>form表单的值提交到servlet中进行处理</p><p>第三种model2== MVC<br>M：model模式（业务bean）<br>V：view视图，即jsp<br>C：controller控制，servlet</p><h2 id="jsp第六次课"><a href="#jsp第六次课" class="headerlink" title="jsp第六次课"></a>jsp第六次课</h2><p>本次课主要内容：<br>MVC模式、el表达式、jstl表达式</p><h3 id="MVC模式-1"><a href="#MVC模式-1" class="headerlink" title="MVC模式"></a>MVC模式</h3><p>MVC全名是Model View Controller，是模型(model)－视图(view)－控制器(controller)的缩写，一种软件设计典范，用一种业务逻辑、数据、界面显示分离的方法组织代码，将业务逻辑聚集到一个部件里面，在改进和个性化定制界面及用户交互的同时，不需要重新编写业务逻辑。MVC被独特的发展起来用于映射传统的输入、处理和输出功能在一个逻辑的图形化用户界面的结构中。<br>java项目MVC模式的开发思路<br>jsp页面：form表单的传值和回显，提交数据到servlet<br>servlet包：处理form表单的传值，调用service，进行页面跳转<br>service包：调用dao包，对dao包获得的数据进行回传<br>dao包：定义sql语句，调用数据库操作的工具包，返回查询的数据<br>bean包（或vo包）：表中名称私有属性，get/set方法</p><h3 id="el表达式"><a href="#el表达式" class="headerlink" title="el表达式"></a>el表达式</h3><p>EL（Expression Language） 是为了使JSP写起来更加简单。表达式语言的灵感来自于 ECMAScript 和 XPath 表达式语言，它提供了在 JSP 中简化表达式的方法，让Jsp的代码更加简化。</p><h4 id="jsp页面的取值方法（非el）"><a href="#jsp页面的取值方法（非el）" class="headerlink" title="jsp页面的取值方法（非el）"></a>jsp页面的取值方法（非el）</h4><p><code>request.getAttribute(&quot;值&quot;)</code><br>如果传过来的是一个对象，需要对取值进行强制类型转换<br><code>(UserInfo)request.getAttribute(&quot;uinfo&quot;)).getUsername()</code></p><h4 id="el取值"><a href="#el取值" class="headerlink" title="el取值"></a>el取值</h4><p><code>$&#123;值&#125;</code><br>如果传过来的是一个对象<br><code>$&#123;emp.sex &#125;</code> 对象.属性<br>el表达式可以进行算数运算，直接输出运算后的结果<br>逻辑运算时，输出true或false</p><h3 id="jstl表达式"><a href="#jstl表达式" class="headerlink" title="jstl表达式"></a>jstl表达式</h3><p>JSP标准标签库（JSTL）是一个JSP标签集合，它封装了JSP应用的通用核心功能。<br>JSTL支持通用的、结构化的任务，比如迭代，条件判断，XML文档操作，国际化标签，SQL标签。 除了这些，它还提供了一个框架来使用集成JSTL的自定义标签。<br>这里简单介绍一下jstl核心标签</p><h4 id="核心标签"><a href="#核心标签" class="headerlink" title="核心标签"></a>核心标签</h4><p>核心标签是最常用的JSTL标签。引用核心标签库的语法如下：<br><code>&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;</code><br>这个引用在jsp页面添加<br>介绍几个表单回显需要用到的几个标签<br><code>&lt;c:out&gt;</code> 用于在JSP中显示数据，就像<code>&lt;%= ... &gt;</code><br><code>&lt;c:if&gt;</code> 与我们在一般程序中用的if一样<br>比如回显表单中的多选</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=&quot;checkbox&quot; name=&quot;hobby&quot; value=&quot;足球&quot;</span><br><span class="line">&lt;c:if test=&quot;$&#123;emp.hobby.indexOf(&#x27;足球&#x27;) &gt;=0&#125;&quot; var=&quot;res&quot; scope=&quot;session&quot;&gt;</span><br><span class="line">checked=&quot;checked&quot;&lt;/c:if&gt;</span><br><span class="line">&gt;足球&lt;input type=&quot;checkbox&quot; name=&quot;hobby&quot; value=&quot;篮球&quot;</span><br><span class="line">&lt;c:if test=&quot;$&#123;emp.hobby.indexOf(&#x27;篮球&#x27;)&gt;=0&#125;&quot; var=&quot;res&quot; scope=&quot;session&quot;&gt;</span><br><span class="line">checked=&quot;checked&quot;&lt;/c:if&gt;</span><br><span class="line">&gt;篮球&lt;input type=&quot;checkbox&quot; name=&quot;hobby&quot; value=&quot;排球&quot;</span><br><span class="line">&lt;c:if test=&quot;$&#123;emp.hobby.indexOf(&#x27;排球&#x27;)&gt;=0&#125;&quot; var=&quot;res&quot; scope=&quot;session&quot;&gt;</span><br><span class="line">checked=&quot;checked&quot;&lt;/c:if&gt;</span><br><span class="line">&gt;排球</span><br></pre></td></tr></table></figure><p><code>&lt;c:forEach&gt;</code> 基础迭代标签，接受多种集合类型<br>也可以用作form表单回显</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=&quot;checkbox&quot; name=&quot;hobby&quot; value=&quot;篮球&quot; </span><br><span class="line">&lt;c:forEach items=&quot;$&#123;hobby &#125;&quot; var=&quot;s&quot;&gt;</span><br><span class="line">    &lt;c:if test=&quot;$&#123;&#x27;篮球&#x27; == s &#125;&quot;&gt;</span><br><span class="line">        checked=&quot;checked&quot;</span><br><span class="line">    &lt;/c:if&gt;</span><br><span class="line">&lt;/c:forEach&gt;</span><br><span class="line">/&gt;篮球</span><br><span class="line">&lt;input type=&quot;checkbox&quot; name=&quot;hobby&quot; value=&quot;足球&quot; </span><br><span class="line">&lt;c:forEach items=&quot;$&#123;hobby &#125;&quot; var=&quot;s&quot;&gt;</span><br><span class="line">    &lt;c:if test=&quot;$&#123;&#x27;足球&#x27; == s &#125;&quot;&gt;</span><br><span class="line">        checked=&quot;checked&quot;</span><br><span class="line">    &lt;/c:if&gt;</span><br><span class="line">&lt;/c:forEach&gt;</span><br><span class="line">/&gt;足球</span><br><span class="line">&lt;input type=&quot;checkbox&quot; name=&quot;hobby&quot; value=&quot;排球&quot; </span><br><span class="line">&lt;c:forEach items=&quot;$&#123;hobby &#125;&quot; var=&quot;s&quot;&gt;</span><br><span class="line">    &lt;c:if test=&quot;$&#123;&#x27;排球&#x27; == s &#125;&quot;&gt;</span><br><span class="line">        checked=&quot;checked&quot;</span><br><span class="line">    &lt;/c:if&gt;</span><br><span class="line">&lt;/c:forEach&gt;</span><br><span class="line">/&gt;排球</span><br></pre></td></tr></table></figure><p>这el和jstl表达式简化了jsp用java代码的取值方式</p><h2 id="jsp第七次课"><a href="#jsp第七次课" class="headerlink" title="jsp第七次课"></a>jsp第七次课</h2><p>本次课主要内容：<br>登录失败的错误提示方法<br>flieupload文件上传</p><h3 id="登录失败错误提示"><a href="#登录失败错误提示" class="headerlink" title="登录失败错误提示"></a>登录失败错误提示</h3><p>jsp页面form表单提交用户名和密码<br>数据库匹配失败，即用户名或密码错误</p><h4 id="实现方法-1"><a href="#实现方法-1" class="headerlink" title="实现方法"></a>实现方法</h4><p>在jsp页面form表单下面添加一个标签，回显servlet登录失败传值</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 登录失败错误提示 --&gt;</span><br><span class="line">&lt;div style=&quot;color:red;text-align:center;&quot;&gt;$&#123;mes &#125;&lt;/div&gt;</span><br></pre></td></tr></table></figure><p>样式根据自己需要更改</p><p>servlet判断失败，进行失败传值</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">import java.io.IOException;</span><br><span class="line">import javax.servlet.ServletException;</span><br><span class="line">import javax.servlet.annotation.WebServlet;</span><br><span class="line">import javax.servlet.http.HttpServlet;</span><br><span class="line">import javax.servlet.http.HttpServletRequest;</span><br><span class="line">import javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line">import bean.Admin;</span><br><span class="line">import service.AdminServ;</span><br><span class="line"></span><br><span class="line">@WebServlet(&quot;/login&quot;)</span><br><span class="line">public class LoginServlet extends HttpServlet &#123;</span><br><span class="line">	private static final long serialVersionUID = 1L;</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		//获取表单数据</span><br><span class="line">		String uname=request.getParameter(&quot;uname&quot;);</span><br><span class="line">		String pwd=request.getParameter(&quot;pwd&quot;);</span><br><span class="line">		//创建对象赋值</span><br><span class="line">		Admin ad=new Admin();</span><br><span class="line">		ad.setUname(uname);</span><br><span class="line">		ad.setPwd(pwd);</span><br><span class="line">		//调用service</span><br><span class="line">		AdminServ as=new AdminServ();</span><br><span class="line">		//接收service数据</span><br><span class="line">		Admin admin=as.login(ad);</span><br><span class="line">		//不为空，跳转到主页，否则登录失败，回到登录页</span><br><span class="line">		if(admin!=null) &#123;</span><br><span class="line">			request.getSession().setAttribute(&quot;admin&quot;, admin);</span><br><span class="line">			response.sendRedirect(&quot;showAll&quot;);</span><br><span class="line">		&#125;else &#123;</span><br><span class="line">			request.setAttribute(&quot;mes&quot;,&quot;用户名或密码错误&quot;);</span><br><span class="line">			request.getRequestDispatcher(&quot;login.jsp&quot;).forward(request, response);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="flieupload文件上传"><a href="#flieupload文件上传" class="headerlink" title="flieupload文件上传"></a>flieupload文件上传</h3><ul><li>在lib文件夹下导入两个jar包<br>commons-fileupload-1.2.2.jar<br>commons-io-2.3.jar<br>这两个包在官网应该可以下载（版本可能不一样）</li><li>jsp页面form表单提交方式为post，<code>enctype=&quot;multipart/form-data&quot;</code></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;</span><br><span class="line">    pageEncoding=&quot;UTF-8&quot;%&gt;</span><br><span class="line">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;文件上传&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form action=&quot;fileupd&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;</span><br><span class="line">&lt;input type=&quot;file&quot; name=&quot;file&quot;&gt;</span><br><span class="line">&lt;input type=&quot;submit&quot;&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>将数据提交到servlet<br>servlet接收上传文件，实现上传</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">import java.io.FileOutputStream;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.InputStream;</span><br><span class="line"></span><br><span class="line">import javax.servlet.ServletException;</span><br><span class="line">import javax.servlet.annotation.WebServlet;</span><br><span class="line">import javax.servlet.http.HttpServlet;</span><br><span class="line">import javax.servlet.http.HttpServletRequest;</span><br><span class="line">import javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line">import org.apache.commons.fileupload.FileItemIterator;</span><br><span class="line">import org.apache.commons.fileupload.FileUploadException;</span><br><span class="line">import org.apache.commons.fileupload.disk.DiskFileItemFactory;</span><br><span class="line">import org.apache.commons.fileupload.servlet.ServletFileUpload;</span><br><span class="line"></span><br><span class="line">@WebServlet(&quot;/fileupd&quot;)</span><br><span class="line">public class Fileupd extends HttpServlet &#123;</span><br><span class="line">	private static final long serialVersionUID = 1L;</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		try &#123;</span><br><span class="line">			//创建桌面文件项工程</span><br><span class="line">			DiskFileItemFactory dfif =new DiskFileItemFactory();</span><br><span class="line">			//解析磁盘文件项</span><br><span class="line">			ServletFileUpload sfu=new ServletFileUpload(dfif);</span><br><span class="line">			//解析request请求，放入迭代器</span><br><span class="line">			FileItemIterator fii = sfu.getItemIterator(request);</span><br><span class="line">			//通过迭代器得到上传文件的输入流</span><br><span class="line">			InputStream is=fii.next().openStream();</span><br><span class="line">			//创建输出流</span><br><span class="line">			FileOutputStream fos=new FileOutputStream(&quot;d:/1.jpg&quot;);</span><br><span class="line">			int len=0;</span><br><span class="line">			byte[] b=new byte[1024];</span><br><span class="line">			while((len=is.read(b))&gt;0) &#123;</span><br><span class="line">				fos.write(b,0,len);</span><br><span class="line">			&#125;</span><br><span class="line">			fos.close();</span><br><span class="line">			is.close();</span><br><span class="line">		&#125; catch (FileUploadException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这里以照片为例，上传的文件保存在<code>d:/1.jpg</code></p><h4 id="flieupload文件上传工具类分享"><a href="#flieupload文件上传工具类分享" class="headerlink" title="flieupload文件上传工具类分享"></a>flieupload文件上传工具类分享</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br></pre></td><td class="code"><pre><span class="line">import java.io.File;</span><br><span class="line">import java.util.ArrayList;</span><br><span class="line">import java.util.HashMap;</span><br><span class="line">import java.util.List;</span><br><span class="line">import java.util.Map;</span><br><span class="line">import java.util.UUID;</span><br><span class="line"></span><br><span class="line">import javax.servlet.http.HttpServletRequest;</span><br><span class="line"></span><br><span class="line">import org.apache.commons.fileupload.FileItem;</span><br><span class="line">import org.apache.commons.fileupload.FileUploadException;</span><br><span class="line">import org.apache.commons.fileupload.disk.DiskFileItemFactory;</span><br><span class="line">import org.apache.commons.fileupload.servlet.ServletFileUpload;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">public class FileUploadTool &#123;</span><br><span class="line">	/**具有所有表单信息的请求*/</span><br><span class="line">	private HttpServletRequest request;</span><br><span class="line">	</span><br><span class="line">	/**存放单个数值的表单数据的KV对,如：文本框，单选框等*/</span><br><span class="line">	private Map&lt;String, String&gt; map;</span><br><span class="line">	</span><br><span class="line">	/**存放多个数值的表单数据的KV对，如：多选框*/</span><br><span class="line">	private Map&lt;String, List&lt;String&gt;&gt; mapValues;</span><br><span class="line">	</span><br><span class="line">	/**文件的上传路径-项目的文件夹*/</span><br><span class="line">	private String filePath;</span><br><span class="line">	</span><br><span class="line">	/**文件最终上传到服务器的位置*/</span><br><span class="line">	private String fileServerUrl;</span><br><span class="line">	</span><br><span class="line">	/**</span><br><span class="line">	 * 基本构造方法，默认上传文件的路径是 image</span><br><span class="line">	 * @param request 具有表单数据的请求</span><br><span class="line">	 */</span><br><span class="line">	public FileUploadTool(HttpServletRequest request) &#123;</span><br><span class="line">		this(request, &quot;image&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	/**</span><br><span class="line">	 * @param request 具有表单数据的请求</span><br><span class="line">	 * @param filePath 上传文件的路径</span><br><span class="line">	 */</span><br><span class="line">	public FileUploadTool(HttpServletRequest request, String filePath) &#123;</span><br><span class="line">		this.request = request;</span><br><span class="line">		this.filePath = filePath;</span><br><span class="line">		</span><br><span class="line">		map = new HashMap&lt;String, String&gt;();</span><br><span class="line">		mapValues = new HashMap&lt;String, List&lt;String&gt;&gt;();</span><br><span class="line">		</span><br><span class="line">		upload();//上传文件</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	/**</span><br><span class="line">	 * 指定上传到服务器上的文件名称</span><br><span class="line">	 * @title: getFileName</span><br><span class="line">	 * @param fileName</span><br><span class="line">	 * @return String</span><br><span class="line">	 */</span><br><span class="line">	private String getFileName(String fileName) &#123;</span><br><span class="line">		return UUID.randomUUID() + fileName.substring(fileName.lastIndexOf(&quot;.&quot;)) ;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	/**</span><br><span class="line">	 * 执行上传文件</span><br><span class="line">	 * @title: upload</span><br><span class="line">	 */</span><br><span class="line">	@SuppressWarnings(&quot;unchecked&quot;)</span><br><span class="line">	public void upload() &#123;</span><br><span class="line">		//获取文件最终上传到服务器的位置-文件夹</span><br><span class="line">		fileServerUrl = request.getSession().getServletContext().getRealPath(filePath);</span><br><span class="line">		</span><br><span class="line">		//如果此文件夹不存在，则新创建一个。</span><br><span class="line">		File floder = new File(fileServerUrl);</span><br><span class="line">		if(!floder.exists()) &#123;</span><br><span class="line">			floder.mkdir();</span><br><span class="line">		&#125;</span><br><span class="line">		//创建DiskFileItemFactory 对象用来保存表单控件的每一项</span><br><span class="line">		DiskFileItemFactory dff = new DiskFileItemFactory();</span><br><span class="line">		//创建ServletFileUpload 对象 用来解析表单的每一个控件(FileItem)</span><br><span class="line">		ServletFileUpload sfu = new ServletFileUpload(dff);</span><br><span class="line">		</span><br><span class="line">		try &#123;</span><br><span class="line">			//把表单标签封装成FileItem对象</span><br><span class="line">			</span><br><span class="line">			List&lt;FileItem&gt; list = sfu.parseRequest(request);</span><br><span class="line">			//System.out.println(&quot;标签总数:&quot; + list.size());</span><br><span class="line">			</span><br><span class="line">			//已存表单的值，用来判断是否已经存过当前name值的表单</span><br><span class="line">			String lastValues = null;</span><br><span class="line">			</span><br><span class="line">			//用来处理多选框等多个数值的表单，存放一个表单控件的多个数据</span><br><span class="line">			List&lt;String&gt; values;</span><br><span class="line">			</span><br><span class="line">			//遍历每个FileItem对象，即遍历每个表单标签</span><br><span class="line">			for (int i = 0; i &lt; list.size(); i++) &#123;</span><br><span class="line">				</span><br><span class="line">				//获取当前所遍历的表单对象</span><br><span class="line">				FileItem fileItem = list.get(i);</span><br><span class="line">				</span><br><span class="line">				//这里获取的是表单标签的name属性值，即Key值</span><br><span class="line">				String targetName = fileItem.getFieldName();</span><br><span class="line">				</span><br><span class="line">				if(fileItem.isFormField()) &#123;//是普通的表单标签</span><br><span class="line">					</span><br><span class="line">					//取出普通标签的值</span><br><span class="line">					String value = fileItem.getString(&quot;UTF-8&quot;);</span><br><span class="line">					</span><br><span class="line">					//把此表单控件的name属性值，以及用户所填的数据，一起放到map中</span><br><span class="line">					lastValues = map.put(targetName, value);</span><br><span class="line">					</span><br><span class="line">				</span><br><span class="line">					if(lastValues != null ) &#123;//如果有多选框</span><br><span class="line">						</span><br><span class="line">						//获取此多选框的数值集合</span><br><span class="line">						values = mapValues.get(targetName);</span><br><span class="line">						</span><br><span class="line">						//如果没有，即第二个数值</span><br><span class="line">						if(values == null) &#123;</span><br><span class="line">							//则新创建一个集合</span><br><span class="line">							values = new ArrayList&lt;String&gt;();</span><br><span class="line">							</span><br><span class="line">							//把此表单数值集合，放到多数值的map集合中</span><br><span class="line">							mapValues.put(targetName, values);</span><br><span class="line">							</span><br><span class="line">							//把此控件的上一个数值，放到此控件数值集合中。</span><br><span class="line">							values.add(lastValues);</span><br><span class="line">						&#125;</span><br><span class="line">						</span><br><span class="line">						//添加当前的数值到集合中。</span><br><span class="line">						values.add(value);</span><br><span class="line">					&#125;</span><br><span class="line">					</span><br><span class="line">				&#125;else &#123;//是文件标签</span><br><span class="line">					</span><br><span class="line">					String fileName = fileItem.getName();//获取文件的名称-用户上传的</span><br><span class="line">					</span><br><span class="line">					if(!&quot;&quot;.equals(fileName)) &#123;//如果用户已选择文件</span><br><span class="line">						//获取上传到服务器上的文件名称</span><br><span class="line">						fileName = getFileName(fileName);</span><br><span class="line">						</span><br><span class="line">						//把此控件的name属性值，及上传到服务器上的文件名称，一起放到map中</span><br><span class="line">						lastValues = map.put(targetName, fileName);</span><br><span class="line">						</span><br><span class="line">						if(lastValues != null ) &#123;//如果是上传多个文件</span><br><span class="line">							//获取此多个文件的数值集合</span><br><span class="line">							values = mapValues.get(targetName);</span><br><span class="line">							</span><br><span class="line">							//如果没有，即第二个数值</span><br><span class="line">							if(values == null) &#123;</span><br><span class="line">								//则新创建一个集合</span><br><span class="line">								values = new ArrayList&lt;String&gt;();</span><br><span class="line">								</span><br><span class="line">								//把此表单数值集合，放到多数值的map集合中</span><br><span class="line">								mapValues.put(targetName, values);</span><br><span class="line">								</span><br><span class="line">								//把此控件的上一个上传到服务器的文件名称，放到此控件数值集合中。</span><br><span class="line">								values.add(lastValues);</span><br><span class="line">							&#125;</span><br><span class="line">							</span><br><span class="line">							//把此控件的上一个上传到服务器的文件名称  加当前的数值到集合中。</span><br><span class="line">							values.add(fileName);</span><br><span class="line">						&#125;</span><br><span class="line">						</span><br><span class="line">						//这是上传文件的关键操作</span><br><span class="line">						fileItem.write(new File(fileServerUrl, fileName));</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; catch (FileUploadException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; catch (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	/**</span><br><span class="line">	 * 获取单数据表单中的内容</span><br><span class="line">	 * @title: getParameter</span><br><span class="line">	 * @param key</span><br><span class="line">	 * @return String</span><br><span class="line">	 */</span><br><span class="line">	public String getParameter(String key) &#123;</span><br><span class="line">		return map.get(key);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	/**</span><br><span class="line">	 * 获取多数据表单控件中的内容</span><br><span class="line">	 * @title: getParamaterValues</span><br><span class="line">	 * @param key</span><br><span class="line">	 * @return List&lt;String&gt;</span><br><span class="line">	 */</span><br><span class="line">	public List&lt;String&gt; getParamaterValues(String key) &#123;</span><br><span class="line">		return mapValues.get(key);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="reprint" id="reprint-statement"><div class="reprint__author"><span class="reprint-meta" style="font-weight:700">文章作者: </span><span class="reprint-info"><a href="/" rel="external nofollow noreferrer">akbcd</a></span></div><div class="reprint__type"><span class="reprint-meta" style="font-weight:700">文章链接: </span><span class="reprint-info"><a href="https://akbcd.github.io/2019/10/09/jsp%E7%AC%94%E8%AE%B0/">https://akbcd.github.io/2019/10/09/jsp笔记/</a></span></div><div class="reprint__notice"><span class="reprint-meta" style="font-weight:700">版权声明: </span><span class="reprint-info">本博客所有文章除特別声明外，均采用 <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a> 许可协议。转载请注明来源 <a href="https://akbcd.github.io" target="_blank">akbcd</a> !</span></div></div></div><div class="article-info article-info-index"><div class="article-tag tagcloud"><i class="icon-price-tags icon"></i><ul class="article-tag-list"><li class="article-tag-list-item"><a style="cursor:pointer" class="js-tag article-tag-list-link color4">jsp</a></li></ul></div><div class="article-category tagcloud"><i class="icon-book icon"></i><ul class="article-tag-list"><li class="article-tag-list-item"><a href="/categories/笔记/" class="article-tag-list-link color3">笔记</a></li></ul></div><div class="share-btn share-icons tooltip-left"><div class="tooltip tooltip-east"><span class="tooltip-item"><a style="cursor:pointer" class="share-sns share-outer"><i class="icon icon-share"></i> </a></span><span class="tooltip-content"><div class="share-wrap"><div class="share-icons"><a class="weibo share-sns" style="cursor:pointer" data-type="weibo" title="weibo"><i class="icon icon-weibo"></i> </a><a class="weixin share-sns wxFab" style="cursor:pointer" data-type="weixin" title="weixin"><i class="icon icon-weixin"></i> </a><a class="qq share-sns" style="cursor:pointer" data-type="qq" title="qq"><i class="icon icon-qq"></i> </a><a class="douban share-sns" style="cursor:pointer" data-type="douban" title="douban"><i class="icon icon-douban"></i> </a><a class="qzone share-sns" style="cursor:pointer" data-type="qzone" title="qzone"><i class="icon icon-qzone"></i> </a><a class="facebook share-sns" style="cursor:pointer" data-type="facebook" title="facebook"><i class="icon icon-facebook"></i> </a><a class="twitter share-sns" style="cursor:pointer" data-type="twitter" title="twitter"><i class="icon icon-twitter"></i> </a><a class="google share-sns" style="cursor:pointer" data-type="google" title="google"><i class="icon icon-google"></i></a></div></div></span></div></div><div class="page-modal wx-share js-wx-box"><a class="close js-modal-close" style="cursor:pointer"><i class="icon icon-close"></i></a><p>扫一扫，分享到微信</p><div class="wx-qrcode"><img src="//api.qrserver.com/v1/create-qr-code/?data=https://akbcd.github.io/2019/10/09/jsp%E7%AC%94%E8%AE%B0/" alt="微信分享二维码"></div></div><div class="mask js-mask"></div><div class="clearfix"></div></div></div></article><nav id="article-nav"><a href="/2019/10/14/yilia%E4%B8%BB%E9%A2%98%E8%BF%9B%E9%98%B6%E9%85%8D%E7%BD%AE/" id="article-nav-newer" class="article-nav-link-wrap"><i class="icon-circle-left"></i><div class="article-nav-title">yilia主题进阶配置</div></a><a href="/2019/09/30/%E5%91%BD%E8%BF%90%E4%B9%8B%E5%A4%9C%E4%B8%8B/" id="article-nav-older" class="article-nav-link-wrap"><div class="article-nav-title">命运之夜下（更新至第十七话）</div><i class="icon-circle-right"></i></a></nav><aside class="wrap-side-operation"><div class="mod-side-operation"><div class="jump-container" id="js-jump-container" style="display:none"><i class="icon-font icon-back"></i></div></div></aside><div id="article-comments"></div></div></div></div><footer id="footer"><div class="outer"><div id="footer-info"><div class="footer-left">&copy; 2025 akbcd</div><div class="footer-right"><a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten</div></div></div></footer></div><div class="tools-col" q-class="show:isShow,hide:isShow|isFalse" q-on="click:stop(e)"><div class="tools-nav header-menu"><ul style="width:70%"><li style="width:50%" q-on="click: openSlider(e, 'innerArchive')"><a style="cursor:pointer" q-class="active:innerArchive">所有文章</a></li><li style="width:50%" q-on="click: openSlider(e, 'friends')"><a style="cursor:pointer" q-class="active:friends">友链</a></li></ul></div><div class="tools-wrap"><section class="tools-section tools-section-all" q-show="innerArchive"><div class="search-wrap"><input class="search-ipt" q-model="search" type="text" placeholder="查找文章..."> <i class="icon-search icon" q-show="search|isEmptyStr" id="js-icon-search"></i> <i class="icon-close icon" q-show="search|isNotEmptyStr" q-on="click:clearChose(e)"></i></div><div class="widget tagcloud search-tag"><p class="search-tag-wording">标签：</p><label class="search-switch"><input type="checkbox" q-on="click:toggleTag(e)" q-attr="checked:showTags" aria-label="showTags"></label><ul class="article-tag-list" q-show="showTags"><li class="article-tag-list-item"><a style="cursor:pointer" class="js-tag color3">博客</a></li><li class="article-tag-list-item"><a style="cursor:pointer" class="js-tag color5">hexo</a></li><li class="article-tag-list-item"><a style="cursor:pointer" class="js-tag color2">github</a></li><li class="article-tag-list-item"><a style="cursor:pointer" class="js-tag color3">大学</a></li><li class="article-tag-list-item"><a style="cursor:pointer" class="js-tag color3">vm</a></li><li class="article-tag-list-item"><a style="cursor:pointer" class="js-tag color3">随笔</a></li><li class="article-tag-list-item"><a style="cursor:pointer" class="js-tag color1">linux</a></li><li class="article-tag-list-item"><a style="cursor:pointer" class="js-tag color5">html</a></li><li class="article-tag-list-item"><a style="cursor:pointer" class="js-tag color3">js</a></li><li class="article-tag-list-item"><a style="cursor:pointer" class="js-tag color2">java基础</a></li><li class="article-tag-list-item"><a style="cursor:pointer" class="js-tag color4">jsp</a></li><li class="article-tag-list-item"><a style="cursor:pointer" class="js-tag color4">sql</a></li><li class="article-tag-list-item"><a style="cursor:pointer" class="js-tag color3">mybatis</a></li><li class="article-tag-list-item"><a style="cursor:pointer" class="js-tag color3">笔记</a></li><li class="article-tag-list-item"><a style="cursor:pointer" class="js-tag color3">bt</a></li><li class="article-tag-list-item"><a style="cursor:pointer" class="js-tag color3">教程</a></li><li class="article-tag-list-item"><a style="cursor:pointer" class="js-tag color5">springMVC</a></li><li class="article-tag-list-item"><a style="cursor:pointer" class="js-tag color1">PowerShell</a></li><li><div class="clearfix"></div></li></ul></div><ul class="search-ul"><li><p q-show="jsonFail" style="padding:20px 20px 0 20px;font-size:12px">缺失模块。<br>1、请确保node版本大于6.2<br>2、在博客根目录（注意不是yilia根目录）执行以下命令：<br>npm i hexo-generator-json-content --save<br>3、在根目录_config.yml里添加配置：</p></li><li><pre style="font-size:12px;padding-left:20px" q-show="jsonFail">
jsonContent:
  meta: false
  pages: false
  posts:
    title: true
    date: true
    path: true
    text: false
    raw: false
    content: false
    slug: false
    updated: false
    comments: false
    link: false
    permalink: false
    excerpt: false
    categories: false
    tags: true
            </pre></li><li class="search-li" q-repeat="items" q-show="isShow"><a q-attr="href:path|urlformat" class="search-title"><i class="icon-quo-left icon"></i><span q-text="title"></span></a><p class="search-time"><i class="icon-calendar icon"></i> <span q-text="date|dateformat"></span></p><p class="search-tag"><i class="icon-price-tags icon"></i> <span q-repeat="tags" q-on="click:choseTag(e, name)" q-text="name|tagformat"></span></p></li></ul></section><section class="tools-section tools-section-friends" q-show="friends"><ul class="search-ul"><li class="search-li"><a href="http://tool.mkblog.cn/tuchuang/" target="_blank" title="聚合图床 - 微博图床" class="search-title"><i class="icon-quo-left icon"></i>聚合图床 - 微博图床</a></li><li class="search-li"><a href="https://c.runoob.com/" target="_blank" title="菜鸟工具 - 不止于工具" class="search-title"><i class="icon-quo-left icon"></i>菜鸟工具 - 不止于工具</a></li><li class="search-li"><a href="https://tool.css-js.com/" target="_blank" title="CSS, JavaScript 压缩, 美化, 加密, 解密" class="search-title"><i class="icon-quo-left icon"></i>CSS, JavaScript 压缩, 美化, 加密, 解密</a></li><li class="search-li"><a href="https://www.gequbao.com/" target="_blank" title="歌曲宝" class="search-title"><i class="icon-quo-left icon"></i>歌曲宝</a></li><li class="search-li"><a href="http://tool.mkblog.cn/github/" target="_blank" title="GitHub加速下载工具" class="search-title"><i class="icon-quo-left icon"></i>GitHub加速下载工具</a></li><li class="search-li"><a href="https://www.7acg.com/" target="_blank" title="在线动画 动漫下载 - AGE动漫" class="search-title"><i class="icon-quo-left icon"></i>在线动画 动漫下载 - AGE动漫</a></li><li class="search-li"><a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank" title="hexo-theme-matery主题" class="search-title"><i class="icon-quo-left icon"></i>hexo-theme-matery主题</a></li></ul></section></div></div><div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div><button type="button" class="pswp__button pswp__button--close" title="Close (Esc)"></button> <button type="button" class="pswp__button pswp__button--share" style="display:none" title="Share"></button> <button type="button" class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button> <button type="button" class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><button type="button" class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button> <button type="button" class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div><script src="/js/lib/photoswipe/photoswipe.min.js"></script><script src="/js/lib/photoswipe/photoswipe-ui-default.min.js"></script><script src="/js/lib/clipboard/clipboard.min.js"></script><script src="/js/copyFn.js"></script><script>copyFn("复制","复制成功","复制失败")</script><script async src="/js/backTop.js"></script><script async src="/js/share.js"></script><script async src="/js/anm.js"></script><script async src="/js/fix.js"></script><script async src="/js/slider.js"></script><script async src="/js/addHighlightTool.js"></script><script src="/js/viewer.js"></script><script src="/js/mobile.js"></script></div></body></html>