<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>欢迎</title>
    <url>/2020/04/08/%E6%AC%A2%E8%BF%8E/</url>
    <content><![CDATA[<p>欢迎访问akbcd博客<br>您可以点击所有文章中的搜索图标进行关键字搜索</p>
<span id="more"></span>
<p>以下内容为博客yilia主题的操作日志</p>
<h2 id="20240120"><a href="#20240120" class="headerlink" title="20240120"></a>20240120</h2><p>本主题已经放置在gitee上，需要的可以去下载~<br><a href="https://gitee.com/akbcd/hexo-theme-yilia">https://gitee.com/akbcd/hexo-theme-yilia</a></p>
<hr>
<h2 id="20230107"><a href="#20230107" class="headerlink" title="20230107"></a>20230107</h2><ul>
<li>yilia主题<ul>
<li>打赏样式修改，删除<code>left: 50%;</code></li>
<li>语言文件追加打赏相关配置</li>
</ul>
</li>
</ul>
<hr>
<h2 id="20221112"><a href="#20221112" class="headerlink" title="20221112"></a>20221112</h2><ul>
<li>yilia主题<ul>
<li>main.js<ul>
<li>启用代码块扩展时，修改代码块扩展highlight-tools 标签圆角样式</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h2 id="20221023"><a href="#20221023" class="headerlink" title="20221023"></a>20221023</h2><ul>
<li>yilia主题<ul>
<li>main.css<ul>
<li>代码区块样式修改：追加边框 <code>border</code> ，删除<code>highlight-pre</code>相关样式</li>
</ul>
</li>
<li>main.js<ul>
<li>启用代码块扩展时，修改代码块扩展<code>div</code>标签相邻<code>pre</code>或<code>table</code>标签圆角样式</li>
<li>代码块渲染工具非<code>highlight</code>的场合，追加的<code>figure</code>标签的class与<code>highlight</code>保持一致</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>修改前：代码块渲染工具非<code>highlight</code>的场合，追加的<code>figure</code>标签的class为<code>highlight-pre</code>，当时为了解决渲染工具<code>prismjs</code>行号与代码块无法对其的问题，特意追加区分，目前问题已解决。</p>
<hr>
<h2 id="20220924"><a href="#20220924" class="headerlink" title="20220924"></a>20220924</h2><ul>
<li>yilia主题<ul>
<li>代码块样式修改<ul>
<li><code>highlight</code> 行号添加右框线，与 <code>prismjs</code> 行号保持一致</li>
<li>隐藏代码块按钮位置样式微调</li>
<li>代码块高亮</li>
</ul>
</li>
<li>记录文章页面当前位置修改<ul>
<li>跳转前判断页面是否已滚动，已滚动则不再跳转（适用于页面载入很慢的情况）</li>
</ul>
</li>
<li>js代理a标签默认锚点跳转，适用于a标签href以#开头的情况</li>
<li>移动端顶部 <code>nav</code> 标签滚动动画修改<ul>
<li>定位top的值：<code>(limit || nowTop) + &#39;px&#39;</code> → <code>limit + &#39;px&#39;</code></li>
<li>定位left的值：<code>nowLeft + &#39;px&#39;</code> → <code>0</code></li>
<li>页面载入后，执行一次此动画，解决刷新页面 <code>nav</code> 标签可能消失的情况</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>记录一下此次修改 记录文章页面当前位置 所遇到的问题：<br>记录文章页面当前位置 和 目录优化 写在一个方法里，目录优化 中包含return语句（不是循环调用中的return），并且 目录优化 的代码先执行。当先执行的代码执行return后，return下面的代码不会执行，导致 记录文章页面当前位置 没有生效。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">    <span class="comment">// 先执行</span></span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">    <span class="comment">// 上面if中的return执行后，此if不会执行</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="20220918"><a href="#20220918" class="headerlink" title="20220918"></a>20220918</h2><ul>
<li>yilia主题<ul>
<li>新增代码块扩展 支持隐藏代码块和显示代码块语言，主题配置文件相关选项追加</li>
<li>代码块样式修改，适配代码块扩展</li>
<li>删除残留版权提示样式代码 <a href="#2020%E5%B9%B49%E6%9C%8823%E6%97%A5">2020年9月23日</a></li>
</ul>
</li>
</ul>
<p>添加代码块扩展的起因是想给主题加一个代码块隐藏的功能，因为代码块隐藏的功能大部分主题都有，追加的意义很大。<br>本次添加的代码块扩展主要是参考hexo主题 <a href="https://github.com/jerryc127/hexo-theme-butterfly">hexo-theme-butterfly</a>，怎么说呢，已经参考很多遍了，以后遇到我认为有用的功能，都会参考别的主题加上，自己由无到有没有那个精力，暂时也没有那个能力。<br>参照的主题兼容了两种代码高亮的情况，<code>highlight.js</code> 与 <code>prismjs</code> 。本次在此兼容的基础上，追加了两种均不启用的情况，其实与 <code>prismjs</code> 类似，这种情况在hexo官方文档里有说明，准备写一篇文章，记录一下自己追加这项功能所采过的坑。 <code>butterfly</code> 主题还有一个代码块超过指定高度隐藏的功能，没有添加。<br>这次的样式改动算是很明显了，代码块的背景颜色由黑色变为灰色，与参照主题一致。</p>
<hr>
<h2 id="20220831"><a href="#20220831" class="headerlink" title="20220831"></a>20220831</h2><ul>
<li>yilia主题<ul>
<li>目录优化（anchor多次调用接口）</li>
<li>返回顶部按钮 <code>setTimeout()</code> 无法停止计时的bug</li>
</ul>
</li>
</ul>
<p>本次目录优化，为避免继续踩坑，参照hexo主题 <a href="https://github.com/jerryc127/hexo-theme-butterfly">hexo-theme-butterfly</a> 重新修改了一遍，再次感谢。</p>
<hr>
<h2 id="20220828"><a href="#20220828" class="headerlink" title="20220828"></a>20220828</h2><p>这次的更新可以说是很有意义：主题使用的jquery去掉了</p>
<ul>
<li>yilia主题<ul>
<li>目录优化（去jQuery）</li>
<li>目录相关样式修改（css）</li>
<li>删除jsdelivr相关代码</li>
<li>mathjax判断逻辑修改（全局开启的前提下，仍需要在渲染的文章的Front-matter中再加上<code>mathjax: true</code>才行）</li>
</ul>
</li>
</ul>
<hr>
<h2 id="20220820-20220821"><a href="#20220820-20220821" class="headerlink" title="20220820~20220821"></a>20220820~20220821</h2><ul>
<li>yilia主题<ul>
<li>添加waline评论</li>
<li>代码规范性修改：<code>div</code>中引入的<code>style</code>标签统一移入到<code>head</code>标签中</li>
<li>部分样式微调</li>
<li>文章页表格追加允许换行（20220821）</li>
</ul>
</li>
</ul>
<hr>
<h2 id="20220730"><a href="#20220730" class="headerlink" title="20220730"></a>20220730</h2><ul>
<li>yilia主题<ul>
<li><code>category.ejs</code> 修改，删除url多余的<code>/</code></li>
<li>主题配置文件 <code>_config.yml</code> 布局修改</li>
</ul>
</li>
</ul>
<p>LeanCloud国际版发邮件说：8月1日起关闭国际共享域名对中国大陆的服务，先观察一下</p>
<hr>
<h2 id="20220526-20220601"><a href="#20220526-20220601" class="headerlink" title="20220526~20220601"></a>20220526~20220601</h2><ul>
<li>20220601<ul>
<li>更新文章转载html结构</li>
</ul>
</li>
<li>20220528更新<ul>
<li>目录样式优化</li>
<li>返回顶部按钮层级调整</li>
<li>文章记录位置跳转优化</li>
</ul>
</li>
<li>yilia主题<ol>
<li>有序、无序标签样式修改</li>
<li>一级标题~六级标题样式修改</li>
<li>返回顶部按钮样式微调</li>
<li>mobile页面滚动动画微调</li>
<li>替换jsdelivr加速</li>
</ol>
</li>
</ul>
<p>笔记：<br>主题自带有序标签样式：</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">ol</span> &#123;</span><br><span class="line">    <span class="attribute">list-style</span>: none outside none</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 有序标签计数初始化 */</span></span><br><span class="line"><span class="selector-class">.article-entry</span> <span class="selector-tag">ol</span> &#123;</span><br><span class="line">    <span class="attribute">counter-reset</span>: item</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 有序标签样式 */</span></span><br><span class="line"><span class="selector-class">.article-entry</span> <span class="selector-tag">ol</span> <span class="selector-tag">li</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">counter-increment</span>: item;</span><br><span class="line">    <span class="attribute">content</span>: <span class="built_in">counter</span>(item) <span class="string">&quot;.&quot;</span>;</span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="number">10px</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>因排序问题，改成了浏览器默认的，简单调了一下样式：</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 有序标签样式 */</span></span><br><span class="line"><span class="selector-class">.article-entry</span> <span class="selector-tag">ol</span> &#123;</span><br><span class="line">    <span class="attribute">list-style-type</span>: decimal;</span><br><span class="line">    <span class="attribute">padding-left</span>: <span class="number">20px</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="20220504-20220509"><a href="#20220504-20220509" class="headerlink" title="20220504~20220509"></a>20220504~20220509</h2><ul>
<li>yilia主题<ul>
<li>修复文章页jsdelivr加速可能出现的错误</li>
<li>button标签追加属性：type=”button”</li>
</ul>
</li>
</ul>
<p>如果文章页引用的静态资源（视频、音乐、图片）已经手动通过jsdelivr加速，则开启jsdelivr加速时，会遇到错误。</p>
<hr>
<h2 id="20220430"><a href="#20220430" class="headerlink" title="20220430"></a>20220430</h2><ul>
<li>yilia主题<ul>
<li>source/js/min文件夹删除</li>
<li>修复pc页面aplayer播放器文字居中显示</li>
</ul>
</li>
</ul>
<p>此次删除min文件夹只是为了简化压缩js，因为大多数js、css压缩工具的默认输出路径均为当前路径。</p>
<hr>
<h2 id="2022年4月10日"><a href="#2022年4月10日" class="headerlink" title="2022年4月10日"></a>2022年4月10日</h2><ul>
<li>yilia主题<ul>
<li>基于valine上的长评论，添加评论框字数限制500。</li>
<li>隐藏了火狐浏览器点击所有文章时所出现的滚动条，与webkit内核浏览器保持一致。</li>
</ul>
</li>
</ul>
<hr>
<h2 id="2022年3月5日"><a href="#2022年3月5日" class="headerlink" title="2022年3月5日"></a>2022年3月5日</h2><ul>
<li>yilia主题<ul>
<li>解决浏览器控制台：<code>id attribute value must be unique</code> 的问题，涉及id如下：<br><code>article-content</code>、<code>header</code>、<code>js-jump-container</code>、<code>js-btn-copy</code><br>关联js和css已做修改</li>
<li>解决主题在归档、随笔等页面不显示返回顶部按钮的问题，点击所有文章后右边页面颜色没有正常改变的问题</li>
</ul>
</li>
</ul>
<p>想说的话：<br>本次的修改主要来自于控制台的警告错误。页面id必须是唯一的，这是html开发规范，应当禁止相同id重复使用。首先先说一下<code>article-content</code>和<code>js-jump-container</code>这两个id，这两个是在主页面才出现的警告。原因也很简单，yilia主题主页面会显示所有要显示的文章，这就导致了这两个id出现重复，单独进入指定文章时，这两个id是唯一的。解决办法就是将<code>article-content</code>换为class，因为没有对应的css，更改涉及到的js即可。对于<code>js-jump-container</code>则涉及到了其他问题，返回顶部按钮默认是导入到文章页里面的，与<code>article-content</code>问题类似，但是在归档、随笔等页面时，文章显示结构不同，导致返回顶部按钮没有导入。因为返回顶部按钮与目录绑定在一起的原因，无法将其导入其他位置。解决办法就是将返回顶部按钮在与article标签同级导入，原有导入方式设置为只在非index页导入，共计导入两次，并且在aside.ejs文件中添加逻辑，防止重复导入。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--article.ejs文件--&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 略 --&gt;</span></span><br><span class="line">&lt;% if (!index)&#123; %&gt;</span><br><span class="line">  &lt;%- partial(&#x27;post/nav&#x27;) %&gt;</span><br><span class="line">  <span class="comment">&lt;!--非index页面导入，防止与layout.ejs文件重复导入--&gt;</span></span><br><span class="line">  &lt;%- partial(&#x27;_partial/aside&#x27;) %&gt;</span><br><span class="line">  <span class="comment">&lt;!--导入结束--&gt;</span></span><br><span class="line">&lt;% &#125; %&gt;</span><br><span class="line"><span class="comment">&lt;!-- 略 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--layout.ejs文件--&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 略 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;wrapper&quot;</span> <span class="attr">class</span>=<span class="string">&quot;body-wrap&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;menu-l&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;canvas-wrap&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">data-colors</span>=<span class="string">&quot;#eaeaea&quot;</span> <span class="attr">data-sectionHeight</span>=<span class="string">&quot;100&quot;</span> <span class="attr">data-contentId</span>=<span class="string">&quot;js-content&quot;</span> <span class="attr">id</span>=<span class="string">&quot;myCanvas1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;anm-canvas&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;js-content&quot;</span> <span class="attr">class</span>=<span class="string">&quot;content-ll&quot;</span>&gt;</span></span><br><span class="line">        &lt;%- body %&gt;</span><br><span class="line">        <span class="comment">&lt;!-- 追加部分 --&gt;</span></span><br><span class="line">        &lt;%- partial(&#x27;_partial/aside&#x27;, &#123;index: true&#125;) %&gt;</span><br><span class="line">        <span class="comment">&lt;!-- 结束 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 略 --&gt;</span></span><br></pre></td></tr></table></figure>
<p>修改后的aside.ejs文件</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 如果不是文章页，只导入返回顶部按钮 --&gt;</span></span><br><span class="line">&lt;% if (!(is_post()) &amp;&amp; theme.top)&#123; %&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">aside</span> <span class="attr">class</span>=<span class="string">&quot;wrap-side-operation&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mod-side-operation&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;jump-container&quot;</span> <span class="attr">id</span>=<span class="string">&quot;js-jump-container&quot;</span> <span class="attr">style</span>=<span class="string">&quot;display:none;&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;cursor:pointer&quot;</span> <span class="attr">class</span>=<span class="string">&quot;mod-side-operation__jump-to-top&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;icon-font icon-back&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">aside</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 文章页，保持原有导入不变 --&gt;</span></span><br><span class="line">&lt;% &#125; else if (!index)&#123; %&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">aside</span> <span class="attr">class</span>=<span class="string">&quot;wrap-side-operation&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mod-side-operation&quot;</span>&gt;</span></span><br><span class="line">    &lt;% if (theme.top)&#123; %&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;jump-container&quot;</span> <span class="attr">id</span>=<span class="string">&quot;js-jump-container&quot;</span> <span class="attr">style</span>=<span class="string">&quot;display:none;&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;cursor:pointer&quot;</span> <span class="attr">class</span>=<span class="string">&quot;mod-side-operation__jump-to-top&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;icon-font icon-back&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    &lt;% &#125; %&gt;</span><br><span class="line">    &lt;% if (!index &amp;&amp; ((theme.toc === 1 &amp;&amp; post.toc) || theme.toc === 2))&#123; %&gt;</span><br><span class="line">      &lt;%- partial(&#x27;post/toc&#x27;) %&gt;</span><br><span class="line">    &lt;% &#125; %&gt;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">aside</span>&gt;</span></span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure>
<p>header不唯一的问题，将id=”header”更改为class=”header-inner”，对应了很多css，将<code>#header</code>替换为<code>.header-inner</code>即可。查询影响时，发现了一个主题没有使用的ejs文件：header.ejs，已经删除。<br>对于js-btn-copy，这个是我自己后加的功能，当时考虑不够全面，解决方法就是直接更改为class，同步修改css和js。<br>对于点击所有文章后右边页面颜色没有正常改变的问题，这个是无意中发现的，增加了css的样式设定。</p>
<hr>
<h2 id="2022年2月13日"><a href="#2022年2月13日" class="headerlink" title="2022年2月13日"></a>2022年2月13日</h2><ul>
<li>yilia主题<ul>
<li>对主题部分样式进行微调</li>
</ul>
</li>
</ul>
<p>补充：<br>本次改动的css集中在main.css和mobile.css文件。<br>main.css中，移除了不支持的属性：<code>color: highlight-comment</code>，共计两个位置。<code>*vertical-align: auto</code>和<code>*display: inline</code>一并被删除，这应该是之前就注释掉的属性。<br>其次就是样式微调，涉及的部分是所有文章弹出之后的样式。<br>css选择器<code>.tools-col.show</code>中添加width属性，pc为360px，mobile为300px。<br><code>.tools-col .tools-section,.tools-col .tools-wrap</code>中删除width: 360px。<br><code>.article-header</code>修改padding-left: 7.6923% =&gt; 6.8709%，显示结果表现为文章标题与文章内容对其显示。<br>至于mobile.css中，只是将<code>.tools-col</code>改为<code>.tools-col,.tools-col.show</code>，实现mobile的300px。<br>这次的更改源自于浏览器控制台的警告，改着改着便发现了之前存在的问题。</p>
<hr>
<h2 id="2021年12月12日"><a href="#2021年12月12日" class="headerlink" title="2021年12月12日"></a>2021年12月12日</h2><ul>
<li>yilia主题js文件修改【main.js】、【slider.js】<ul>
<li>修改js获取网页宽度代码：<code>window.screen.width&lt;800</code> =&gt; <code>document.body.clientWidth&lt;=800</code></li>
<li>修改js判断浏览器是否为移动端：<code>mobile: !!u.match(/AppleWebKit.*Mobile.*/)</code> =&gt; <code>mobile: !!u.match(/Mobile/)</code></li>
</ul>
</li>
</ul>
<hr>
<h2 id="2021年11月7日"><a href="#2021年11月7日" class="headerlink" title="2021年11月7日"></a>2021年11月7日</h2><ul>
<li>yilia主题<ul>
<li>更改主题样式文件，将mobile端样式放置mobile文件夹中</li>
<li>删除【clipboard.css】，内容拆分至mobile.css和main.css中</li>
<li>主题配置文件修改</li>
</ul>
</li>
</ul>
<hr>
<h2 id="2021年10月30日"><a href="#2021年10月30日" class="headerlink" title="2021年10月30日"></a>2021年10月30日</h2><ul>
<li>yilia主题<ul>
<li>优化【slider.js】，将photoswipe（图片查看器）相关js放置指定路径下，不再与slider.js集成</li>
<li>删除【script.js】，将其内容拆分至【mobile.js】和【main.js】</li>
<li>主题配置文件修改</li>
</ul>
</li>
</ul>
<hr>
<h2 id="2021年9月18日"><a href="#2021年9月18日" class="headerlink" title="2021年9月18日"></a>2021年9月18日</h2><ul>
<li>yilia主题<ul>
<li>参考yilia主题<a href="https://github.com/litten/hexo-theme-yilia/wiki/Yilia%E6%BA%90%E7%A0%81%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%E5%8F%8A%E6%9E%84%E5%BB%BA%E9%A1%BB%E7%9F%A5">《Yilia源码目录结构及构建须知》</a>，重新整理了一下主题所用到的js文件，主要有如下变化：<br>【main.js】实现：返回顶部、分享、新窗口打开、目录序号、about me 转义<br>【mobile.js】实现：页面滚动动画（自适应）<br>【slider.js】实现：浏览器判断、图片查看器、气泡上浮动画等</li>
<li>因为yilia主题使用webpack构建工具对源码进行打包压缩，发现里面出现很多无用代码，遂将无需打包代码抽出（main.js和mobile.js），将需要打包代码全部放置slider.js中。<br>结果就是：【main.js】和【mobile.js】文件体积大幅缩小，代码可读性提高；【slider.js】文件体积增大。</li>
</ul>
</li>
</ul>
<hr>
<h2 id="2021年8月29日"><a href="#2021年8月29日" class="headerlink" title="2021年8月29日"></a>2021年8月29日</h2><ul>
<li>yilia主题<ul>
<li>新增主题对文章 Front-Matter 菜单中的 <code>excerpt:</code> 设为 <code>false</code> 的支持，实现主题首页文章只显示标题不显示内容。<br>使用方法：在文章 Front-Matter 菜单中添加<code>excerpt: false</code><br>效果：主题首页对应文章只显示文章标题，不会显示文章具体内容，文章具体内容只在文章页显示。</li>
</ul>
</li>
</ul>
<hr>
<h2 id="2021年8月7日"><a href="#2021年8月7日" class="headerlink" title="2021年8月7日"></a>2021年8月7日</h2><ul>
<li>yilia主题<ul>
<li>优化移动端浏览器UA（电脑）模式下的动画显示，不判断浏览器UA是否为mobile，移动端访问电脑版网页显示更好（页面布局）</li>
<li>目录优化</li>
<li>主题所用js（压缩）文件放入js/min文件夹中</li>
</ul>
</li>
</ul>
<hr>
<h2 id="2021年5月20日"><a href="#2021年5月20日" class="headerlink" title="2021年5月20日"></a>2021年5月20日</h2><ul>
<li>yilia主题引用代码修改<ul>
<li>主题所用js文件全部放入js文件夹中</li>
<li>js文件命名规范化：采用.js与.min.js命名，css文件命名同理</li>
</ul>
</li>
<li>yilia主题配置文件修改<ul>
<li>aplayer播放器中，pc与mobile页面播放器单独设置</li>
</ul>
</li>
</ul>
<hr>
<h2 id="2021年3月27日"><a href="#2021年3月27日" class="headerlink" title="2021年3月27日"></a>2021年3月27日</h2><ul>
<li>yilia主题优化、修改<ul>
<li>参考hexo官方文档，精简主题js、css引入方式，保留部分原始引用方式，前端注释修改为ejs注释</li>
<li>对目录优化部分进行修改：在不引入jQuery的情况下，用js实现a标签锚点跳转，但无法实现动态目录</li>
</ul>
</li>
</ul>
<hr>
<h2 id="2021年3月22日"><a href="#2021年3月22日" class="headerlink" title="2021年3月22日"></a>2021年3月22日</h2><ul>
<li>yilia主题优化、修改<ul>
<li>修改全局搜索结果显示样式<br>css进行如下修改：<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*#js-searchResult新增如下属性</span></span><br><span class="line"><span class="comment">原#js-searchModal相关属性已移除*/</span></span><br><span class="line"><span class="selector-id">#js-searchResult</span> &#123;</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">50vh</span>;</span><br><span class="line">    <span class="attribute">max-height</span>: <span class="number">60vh</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: auto</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<hr>
<h2 id="2021年2月12日"><a href="#2021年2月12日" class="headerlink" title="2021年2月12日"></a>2021年2月12日</h2><ul>
<li>yilia主题优化、修改<ul>
<li>优化主题返回顶部按钮显示逻辑<br>原效果：页面完全加载后，滚动显示返回顶部按钮<br>现效果：不需要加载完毕，滚动显示返回顶部按钮</li>
</ul>
</li>
</ul>
<hr>
<h2 id="2020年12月29日"><a href="#2020年12月29日" class="headerlink" title="2020年12月29日"></a>2020年12月29日</h2><p>本想把目录优化部分的代码用原生js实现一下，但是发现有些难度。</p>
<ul>
<li>yilia主题优化、修改：<ul>
<li>解决hexo5.0之前版本中文动态目录可能失效的问题</li>
</ul>
</li>
</ul>
<hr>
<h2 id="2020年12月6日"><a href="#2020年12月6日" class="headerlink" title="2020年12月6日"></a>2020年12月6日</h2><ul>
<li>yilia主题优化、新增：<ul>
<li>优化<ul>
<li>版权声明，参考 <a href="https://blinkfox.github.io/">闪烁之狐</a> 主题文章版权声明   </li>
<li>简化jsdelivr加速文章静态资源代码</li>
<li>部分代码更改<ul>
<li>对文章内容部分添加<code>&lt;div id=&quot;article-content&quot;&gt;&lt;/div&gt;</code>标签</li>
<li>js中<code>querySelectorAll(&quot;.article-entry img&quot;)</code>获取文章<code>img</code>标签，更新为<code>querySelectorAll(&quot;#article-content img&quot;)</code>，包括jsdelivr加速文章静态资源代码</li>
<li>css样式<code>word-wrap: break-word</code>修改为<code>word-break: break-word</code></li>
</ul>
</li>
<li>修改目录自动滚动代码</li>
</ul>
</li>
<li>新增<ul>
<li>复制文章时追加博客和作者的版权信息，实现参考 <a href="https://blinkfox.github.io/">闪烁之狐</a> 主题</li>
<li>主题aplayer播放器开启吸底模式自动关闭标题显示</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h2 id="2020年11月13日"><a href="#2020年11月13日" class="headerlink" title="2020年11月13日"></a>2020年11月13日</h2><ul>
<li>yilia主题优化、修改：<ul>
<li>新增记录文章页面浏览位置功能，刷新页面或重新进入文章页面时，页面自动跳转到上次浏览位置<ul>
<li>此功能需要浏览器允许cookie</li>
<li>新增scrollPos属性，判断是否开启此功能</li>
<li>代码实现可以参看文章 <strong>js实现页面刷新后滚动条不改变位置</strong></li>
</ul>
</li>
<li>修改yiliaConfig相关属性赋值，对部分属性赋值添加<code>? true : false</code></li>
</ul>
</li>
</ul>
<hr>
<h2 id="2020年11月3日"><a href="#2020年11月3日" class="headerlink" title="2020年11月3日"></a>2020年11月3日</h2><ul>
<li>yilia主题优化、修改：<ul>
<li>解决浏览器屏蔽网站引用的第三方js导致文章加密功能失效问题</li>
</ul>
</li>
</ul>
<hr>
<h2 id="2020年10月11日"><a href="#2020年10月11日" class="headerlink" title="2020年10月11日"></a>2020年10月11日</h2><ul>
<li>yilia主题优化、修改：<ul>
<li>修复移动端所有文章搜索框长度溢出问题<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">.tools-col .tools-section .search-wrap,.tools-col .tools-wrap .search-wrap &#123;</span><br><span class="line">    width: 280px</span><br><span class="line">&#125;</span><br><span class="line">/* 修改为 */</span><br><span class="line">.tools-col .tools-section .search-wrap,.tools-col .tools-section .search-wrap .search-ipt &#123;</span><br><span class="line">    width: 280px</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<hr>
<h2 id="2020年9月23日"><a href="#2020年9月23日" class="headerlink" title="2020年9月23日"></a><del>2020年9月23日</del></h2><ul>
<li><del>yilia主题新增：</del><ul>
<li><del>版权提示（参考简书移动端页面）</del></li>
</ul>
</li>
</ul>
<hr>
<h2 id="2020年9月15日"><a href="#2020年9月15日" class="headerlink" title="2020年9月15日"></a>2020年9月15日</h2><ul>
<li>yilia主题优化、修改：<ul>
<li>mobile端适配优化（火狐浏览器）</li>
</ul>
</li>
</ul>
<hr>
<h2 id="2020年9月7日"><a href="#2020年9月7日" class="headerlink" title="2020年9月7日"></a>2020年9月7日</h2><ul>
<li>yilia主题优化、修改：<ul>
<li>新增主题对文章 Front-Matter 中的 <code>layout:</code> 设为 <code>false</code> 的支持。 </li>
<li>是否在新窗口打开链接 <code>open_in_new:</code> 设为 <code>true</code> 已生效，文章在新标签页打开。</li>
</ul>
</li>
</ul>
<hr>
<h2 id="2020年8月23日、2020年8月24日"><a href="#2020年8月23日、2020年8月24日" class="headerlink" title="2020年8月23日、2020年8月24日"></a>2020年8月23日、2020年8月24日</h2><ul>
<li>hexo5.0较之前版本增加了部分属性，可以对比站点配置文件<ul>
<li>external_link添加enable属性，升级hexo5.0启动hexo服务会有提示</li>
<li>升级hexo5.0版本建议更新hexo站点配置文件_config.yml</li>
</ul>
</li>
<li>yilia主题适配hexo5.0：<ul>
<li>目录优化，解决hexo5.0导致目录跳转和动态目录失效问题<ul>
<li>参看文章 <strong>yilia主题目录优化</strong></li>
</ul>
</li>
<li>暂时没有发现其它问题</li>
</ul>
</li>
<li>分享图标简单修改<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/*修改line-height属性，将26px更改为28px*/</span><br><span class="line">.share-icons a &#123;</span><br><span class="line">    line-height: 28px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>yilia主题优化、修改：<ul>
<li>对文章加密功能进行优化<ul>
<li>关闭JavaScript依然可以访问加密文章，但添加css对文章内容进行隐藏，不过可以通过pc端浏览器控制台将其显示</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h2 id="2020年6月19日"><a href="#2020年6月19日" class="headerlink" title="2020年6月19日"></a>2020年6月19日</h2><p>新建文章：<strong>大型数据库应用复习</strong>，可以在所有文章中查看<br>修改aplayer播放器preload预加载属性配置，已更新到<strong>yilia主题进阶配置</strong>页面</p>
<hr>
<h2 id="2020年6月10日"><a href="#2020年6月10日" class="headerlink" title="2020年6月10日"></a>2020年6月10日</h2><p>新建文章：<a href="https://akbcd.github.io/2020/06/10/jsdelivr%E5%8A%A0%E9%80%9F%E5%8D%9A%E5%AE%A2%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90/">jsdelivr加速博客静态资源</a></p>
<hr>
<h2 id="2020年6月8日"><a href="#2020年6月8日" class="headerlink" title="2020年6月8日"></a>2020年6月8日</h2><p>这次对主题语言进行优化，减少之前代码，切换语言直接应用到主题<br>切换语言需要重启本地服务生效</p>
<p>文章：<a href="https://akbcd.github.io/2020/06/08/yilia%E4%B8%BB%E9%A2%98%E7%9B%AE%E5%BD%95%E4%BC%98%E5%8C%96/">yilia主题目录优化</a></p>
<hr>
<h2 id="2020年6月6日"><a href="#2020年6月6日" class="headerlink" title="2020年6月6日"></a>2020年6月6日</h2><p>1.删除返回顶部中的jump-plan-container和矢量图标，删除无用代码<br>css文件</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/* 删除jump-plan-container样式 */</span><br><span class="line">/* .jump-plan-container &#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: -11px;</span><br><span class="line">    left: -4px;</span><br><span class="line">    width: 50px;</span><br><span class="line">    height: 61px;</span><br><span class="line">    overflow: hidden</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.jump-plan-container .jump-plane &#123;</span><br><span class="line">    display: block;</span><br><span class="line">    position: absolute;</span><br><span class="line">    width: 42px;</span><br><span class="line">    height: 66px;</span><br><span class="line">    -webkit-transform: translateY(68px);</span><br><span class="line">    transform: translateY(68px);</span><br><span class="line">    left: -2px</span><br><span class="line">&#125; */</span><br><span class="line"></span><br><span class="line">/* 删除icon-plane */</span><br><span class="line">/* .icon-plane:before &#123;</span><br><span class="line">    content: &quot;\e67e&quot;;</span><br><span class="line">&#125; */</span><br><span class="line"></span><br><span class="line">/* 删除icon-plane */</span><br><span class="line">/* .wrap-side-operation .icon-plane &#123;</span><br><span class="line">    color: #fff;</span><br><span class="line">    text-shadow: 1px 1px 1px #509eb7;</span><br><span class="line">    opacity: .7;</span><br><span class="line">    font-size: 52px;</span><br><span class="line">    line-height: 40px;</span><br><span class="line">    width: 40px;</span><br><span class="line">    text-align: center;</span><br><span class="line">    display: block</span><br><span class="line">&#125; */</span><br><span class="line">/* 删除.icon-back:hover样式 */</span><br><span class="line">/* .mod-side-operation__jump-to-top .icon-back:hover &#123;</span><br><span class="line">    background: #24c1f6;</span><br><span class="line">    color: #24c1f6</span><br><span class="line">&#125; */</span><br></pre></td></tr></table></figure>
<p>aside.ejs文件</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;js-jump-plan-container&quot; class=&quot;jump-plan-container&quot; style=&quot;top: -11px;&quot;&gt;</span><br><span class="line">    &lt;i class=&quot;icon-font icon-plane jump-plane&quot;&gt;&lt;/i&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>2.重新添加主题需要矢量图标，共计36个</p>
<hr>
<h2 id="2020年6月3日"><a href="#2020年6月3日" class="headerlink" title="2020年6月3日"></a>2020年6月3日</h2><p>近期对主题做了一些改动，主要就是文章目录优化（js实现目录跳转），目录内容移至<code>themes\yilia\layout\_partial\post\toc.ejs</code>中<br>记录一下如何在页面显示目录（非鼠标悬停显示，只适用于本主题）<br>1.将<code>.toc-container.tooltip-left .tooltip:hover .tooltip-content</code>中的<code>:hover</code>去掉<br>2.将<code>.tooltip-left .tooltip:hover .tooltip-content</code>中的<code>:hover</code>去掉</p>
<p>简单优化了valine评论中文章阅读量统计问题，已在相应的页面进行了说明</p>
<hr>
<h2 id="2020年5月23日"><a href="#2020年5月23日" class="headerlink" title="2020年5月23日"></a>2020年5月23日</h2><p>文章<a href="https://akbcd.github.io/2020/05/22/springMVC/">springMVC</a></p>
<p>重置iconfont矢量图标，删除主题自带矢量图标，删除<code>yilia/source/fonts/</code>下的4个文件：<br>iconfont.8c627f.woff<br>iconfont.16acc2.ttf<br>iconfont.45d7ee.svg<br>iconfont.b322fa.eot<br>删除不需要的矢量图标，添加主题需要的矢量图标共计37个。</p>
<hr>
<h2 id="2020年5月19日"><a href="#2020年5月19日" class="headerlink" title="2020年5月19日"></a>2020年5月19日</h2><p>在<a href="https://akbcd.github.io/2020/04/22/yilia%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0valine%E8%AF%84%E8%AE%BA/">yilia主题添加valine评论</a>文章中添加<strong>使用valine评论的文章阅读量统计功能</strong>，本主题已应用<br>修改<a href="https://akbcd.github.io/2019/10/14/yilia%E4%B8%BB%E9%A2%98%E8%BF%9B%E9%98%B6%E9%85%8D%E7%BD%AE/">yilia主题进阶配置</a>中<strong>添加字数功能</strong>和<strong>文章更新时间</strong>内容，与本主题保持一致</p>
<hr>
<h2 id="2020年5月14日"><a href="#2020年5月14日" class="headerlink" title="2020年5月14日"></a>2020年5月14日</h2><p>新建文章：<a href="https://akbcd.github.io/2020/05/07/%E5%BE%AE%E8%BD%AF%E6%96%B0%E6%97%A7Micrpsoft-Edge%E6%B5%8F%E8%A7%88%E5%99%A8/">微软新旧Micrpsoft Edge浏览器</a><br>简单讲解了新旧Edge浏览器发生了哪些变化</p>
<hr>
<h2 id="2020年5月5日"><a href="#2020年5月5日" class="headerlink" title="2020年5月5日"></a>2020年5月5日</h2><p>优化主题样式，针对p标签和img标签定向优化，缩小和增加容器之间的距离</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/* 文章p标签下的img标签优化，删除之前.article img样式 */</span><br><span class="line">.article p img &#123;</span><br><span class="line">    max-width: 100%;</span><br><span class="line">    margin: 10px 0</span><br><span class="line">&#125;</span><br><span class="line">/* bottom外边距优化，将1.75em改为10px */</span><br><span class="line">.article-inner p &#123;</span><br><span class="line">    margin: 0 0 10px</span><br><span class="line">&#125;</span><br><span class="line">/* 移动端美化文章结束样式，与pc页面同步，将30px修改为20px */</span><br><span class="line">.article .article-entry &#123;</span><br><span class="line">    padding: 10px 0 20px</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>添加文章：<a href="https://akbcd.github.io/2020/05/04/%E7%94%B5%E8%84%91%E6%97%A0%E6%B3%95%E8%AE%BF%E9%97%AEGitHub%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/">电脑无法访问GitHub解决办法</a></p>
<hr>
<h2 id="2020年4月24日"><a href="#2020年4月24日" class="headerlink" title="2020年4月24日"></a>2020年4月24日</h2><p>创建<a href="https://akbcd.github.io/2020/04/24/eclipse%E5%AE%89%E8%A3%85%E4%B8%8E%E6%B5%8B%E8%AF%95/">eclipse安装与测试</a>文章，记录如何使用eclipse</p>
<hr>
<h2 id="2020年4月23日"><a href="#2020年4月23日" class="headerlink" title="2020年4月23日"></a>2020年4月23日</h2><p>对valine评论进行了一些更新，同步到相应文章。valine评论新增了<code>enableQQ</code>配置，在昵称框输入QQ号发表评论，会自动获取QQ头像和昵称<br>valine评论<code>v1.4.7+ </code>出现<code>Code 98 </code>提示是已知Bug，官方将在下个版本更新。手动解决，删除引用的<code>av-min.js</code></p>
<hr>
<h2 id="2020年4月21日"><a href="#2020年4月21日" class="headerlink" title="2020年4月21日"></a>2020年4月21日</h2><p>更新mathjax为version 3<br>添加valine评论：<a href="https://akbcd.github.io/2020/04/22/yilia%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0valine%E8%AF%84%E8%AE%BA/">yilia主题添加valine评论</a></p>
<hr>
<h2 id="2020年4月18日"><a href="#2020年4月18日" class="headerlink" title="2020年4月18日"></a>2020年4月18日</h2><p>修改aplayer播放器版本为1.9.1，修复部分浏览器锚点跳转失效<br>更换前端库的cdn地址为jsdelivr以增加访问速度<br>创建电视直播源分享文章，m3u8格式的源，理论上适用于所有带有自定义直播源的TV应用<br>根据创建电视直播源分享文章的需求，记录了javascript读取txt文件的方法<br>对yilia主题进阶配置文章的部分内容进行了更新修改（没有添加新功能）</p>
<hr>
<h2 id="2020年4月8日"><a href="#2020年4月8日" class="headerlink" title="2020年4月8日"></a>2020年4月8日</h2><p>近期GitHub一直在给我发送仓库安全警告邮件</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">A new security advisory was published </span><br><span class="line">We found a vulnerable dependency in repositories you have security alert access to.</span><br><span class="line">Security advisory GHSA-vh95-rmgr-6w4m (high severity) affects 1 repository: </span><br><span class="line"></span><br><span class="line">A new security advisory was published </span><br><span class="line">We found a vulnerable dependency in repositories you have security alert access to.</span><br><span class="line">Security advisory GHSA-6chw-6frg-f759 (moderate severity) affects 1 repository: </span><br><span class="line"></span><br><span class="line">A new security advisory was published </span><br><span class="line">We found a vulnerable dependency in repositories you have security alert access to.</span><br><span class="line">Security advisory GHSA-6c8f-qphg-qjgp (moderate severity) affects 1 repository: </span><br></pre></td></tr></table></figure>
<p>总共发了三个邮件，都是属于仓库安全问题，GitHub官网有详细的解决办法，因为家中宽带无法访问GitHub，所以拖了很久<br>这次解决这个问题<br>添加了一个BT磁力搜索站点<br>添加关闭代码块复制配置<br>修复音乐播放器音乐失效以及友链部分链接失效</p>
]]></content>
  </entry>
  <entry>
    <title>腾讯PC应用宝如何安装第三方apk</title>
    <url>/2025/05/25/%E8%85%BE%E8%AE%AFPC%E5%BA%94%E7%94%A8%E5%AE%9D%E5%A6%82%E4%BD%95%E5%AE%89%E8%A3%85%E7%AC%AC%E4%B8%89%E6%96%B9apk/</url>
    <content><![CDATA[<p>腾讯应用宝，腾讯开发的一款Windows安卓模拟器，之前微软在Windows11上开发过，现在已经停止开发。腾讯与微软合作，在微软应用商店推出了中国区特供的应用宝。<br>目前，对于未适配的应用，使用应用宝默认的安装方式，会启用应用宝检测，可能会提示无法安装。<br>本篇文章主要分享一下如何跳过应用宝检测安装第三方apk的方法。</p>
<span id="more"></span>
<h3 id="通过内部安装"><a href="#通过内部安装" class="headerlink" title="通过内部安装"></a>通过内部安装</h3><p>顾名思义，就是直接在应用宝内的App里安装，比如你用应用宝启动浏览器，在浏览器下载的Apk文件，直接点Apk文件就可以安装，同理，只要是应用宝内有文件管理功能的App均可通过此方法安装第三方Apk，推荐直接在应用宝商店任意下载一个文件管理器（比如MT管理器），并通过应用宝启动后自动创建的腾讯应用宝共享文件夹安装Apk文件，详细步骤如下：</p>
<p>打开我的电脑 – 你会发现有一个腾讯应用宝虚拟磁盘，进入后打开腾讯应用宝共享文件夹，将你要安装的Apk文件复制到此文件夹<br>补充：如果我的电脑里没有腾讯应用宝虚拟磁盘，请进入到应用宝设置界面，找到文件设置，里面有虚拟磁盘相关设定，启用即可。<br>回到腾讯应用宝电脑版，顶部直接搜索MT管理器并安装<br>打开后默认定位在/storage/emulated/0/目录下，往下翻就能看到腾讯应用宝共享文件夹，打开后就能看到你刚才复制的Apk文件，点击即可安装，安装调用的是安卓内部的安装器，会跳过应用宝的检测<br>举一反三，你也可以把Apk文件上传到比如百度云盘或阿里云盘之类，然后应用宝电脑版里安装百度云盘或阿里云盘后下载安装</p>
<h3 id="通过ADB安装"><a href="#通过ADB安装" class="headerlink" title="通过ADB安装"></a>通过ADB安装</h3><p>腾讯应用宝安装后的程序文件中默认提供<code>adb.exe</code>程序。<br>打开应用宝电脑版安装目录（可右键应用宝启动图标 – 打开文件所在位置）<br>找到目录下的版本号文件夹并进入，进入此目录地址<br>举例：比如当前（2025.05.25）版本号3.0.9200.2092，我的地址是：D:\Program Files\Tencent\Androws\Application\3.0.9200.2092<br>你会在这个目录下看到<code>adb.exe</code>程序。<br>直接在文件资源管理器的路径栏输入<code>cmd</code>回车，Windows会直接在当前路径打开cmd</p>
<p>通过ADB安装的内容来自腾讯官方文档<br><a href="https://wikinew.open.qq.com/index.html#/iwiki/4009021799">https://wikinew.open.qq.com/index.html#/iwiki/4009021799</a></p>
<h4 id="ADB连接到应用宝电脑版移动应用引擎（Android虚拟化环境）"><a href="#ADB连接到应用宝电脑版移动应用引擎（Android虚拟化环境）" class="headerlink" title="ADB连接到应用宝电脑版移动应用引擎（Android虚拟化环境）"></a>ADB连接到应用宝电脑版移动应用引擎（Android虚拟化环境）</h4><p>确保应用宝电脑版的移动应用引擎已经启动完毕，如下措施可以启动移动应用引擎（Android虚拟化环境）<br>启动应用宝电脑版，会静默启动移动应用引擎，但引擎的启动需要一段时间，你可能无法立即连接到引擎环境，这是正常的。你可以稍等片刻（20s），或者使用以下认引擎启动完成</p>
<ul>
<li>从应用宝电脑版中启动任意游戏或应用</li>
<li>从应用宝电脑版中安装任意游戏或应用</li>
</ul>
<p>命令行使用（安装本地应用）</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">adb connect localhost:<span class="number">5555</span> //连接到引擎环境</span><br><span class="line">adb -s localhost:<span class="number">5555</span> shell //交互式执行引擎环境内的shell</span><br><span class="line">adb install C:\*******.apk //安装APK</span><br></pre></td></tr></table></figure>
<p>adb命令获取安装应用的包名，通过Androws.exe启动</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">adb shell pm list packages //注释：显示所有应用的包名</span><br><span class="line">Androws.exe --launch-pkg-name com.qq.reader  //注释：启动包名对应的应用</span><br></pre></td></tr></table></figure>
<p>当前版本（3.0.9200.2092）在应用安装完成后，会自动在桌面创建应用快捷方式<br>如果没有创建，可以在应用宝我的界面找到对应的应用，右键创建快捷方式<br>如果没有显示出安装的应用，可以进行手动创建快捷方式</p>
<p>在桌面构建快捷方式启动</p>
<ul>
<li>在桌面应用宝快捷方式处右键属性</li>
<li>在原有的快捷方式中添加<code>--launch-pkg-name &quot;com.tencent.portfolio&quot;</code>字段，其中包名替换为您的APK的包名</li>
</ul>
<p>原有快捷方式：<br><code>&quot;D:\Program Files\Tencent\Androws\Application\AndrowsLauncher.exe&quot; --from &quot;2&quot; --launch-proc-name &quot;AndrowsStore.exe&quot;</code><br>替换后快捷方式：<br><code>&quot;D:\Program Files\Tencent\Androws\Application\AndrowsLauncher.exe&quot; --from &quot;2&quot; --launch-pkg-name &quot;com.tencent.portfolio&quot; --launch-proc-name &quot;Androws.exe&quot;</code></p>
<p>双击替换后的快捷方式，即可打开对应的应用</p>
<h3 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h3><p>可以使用adb命令安装一个安卓桌面启动器（比如微软桌面），优先使用应用宝自带的apk安装，提示无法安装后，打开安装的桌面应用，再打开安卓自带的文件，将要安装的apk放在腾讯应用宝虚拟磁盘中的指定路径下，在文件应用中找到对应的apk，打开即可安装。<br>桌面应用中，可以打开安卓自带的设置，查看应用信息，安卓版本，跟手机体验其实是一样的，很方便。</p>
]]></content>
      <tags>
        <tag>教程</tag>
      </tags>
  </entry>
  <entry>
    <title>git常用命令</title>
    <url>/2024/01/21/git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
    <content><![CDATA[<p>最近开发中使用到了很多git命令，这里记录一下</p>
<span id="more"></span>
<ol>
<li><code>git clone</code><br>将git仓库克隆到本地</li>
<li><code>git satus</code><br>查看本地仓库状态，主要是看有哪些内容没有提交，或者是查看内容修改的对不对</li>
<li><code>git branch -a</code><br>查看git仓库中的所有分支</li>
<li><code>git checkout</code><br>将本地的git仓库切到指定分支</li>
<li><code>git rebase</code><br>多分支时会使用。一般是解除分支竞合时使用的，或者将别人的分支作为自己的base</li>
<li><code>git rebase --continue</code><br>解除竞合时，可能需要取入base的多个记录，取入一个记录后，还需要继续rebase取入下一个记录</li>
<li><code>git rebase --abort</code><br>rebase途中取消rebase</li>
<li><code>git log</code><br>查看本地git提交记录，按q退出记录查看</li>
<li><code>git reset --soft</code><br>重置本地记录到git log中的指定版本</li>
<li><code>git commit -m</code><br>git记录提交时的文言描述，-m参数指定在当前命令中编辑文言内容，不加-m参数则会打开git默认编辑器编辑文言内容，git的默认编辑器是vim，建议手动修改</li>
<li><code>git push</code><br>将本地git仓库推送到远程仓库</li>
<li><code>git push --force-with-lease</code><br>本地git仓库记录与远程仓库不一致时使用，将本地仓库记录强制推送到远程git分支</li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>20230819日记</title>
    <url>/2023/08/19/20230819%E6%97%A5%E8%AE%B0/</url>
    <content><![CDATA[<p>这是一个悲痛的故事，给我的人生很好的上了一课。<br>2023年8月13日晚，公司社内旅游回家，内蒙古通辽市公安联手汽开区公安堵在我家门口，没等我回到家中，便被送到了汽开区派出所。理由是核查信息。<br>警方跟我说，我有两张银行卡，涉嫌网络诈骗。我印象里我只办理过三张银行卡，且三张银行卡都在我自己的身上，对涉案的两张银行卡的真实性产生怀疑。我说我不知道我有那两张银行卡，想让警方帮我查询，警方就让我自己想，与我打起了时间战。<br>期间来了几个当地民警，也是让我好好想，想想究竟是怎么回事。因为天已经黑了，而且警察那边也没吃晚饭，看我也不承认，便把我带进候问室，他们便去吃饭了。<br>在候问室我仔细想了想自己是怎么办的这两张银行卡，实在想不起来，只能硬想。最后的结论便是我怎么向他们证明我没办这两张卡。过了很长时间，他们回来了，告诉了我这两张银行卡是农行和工行的。<br>我被当地民警叫出了候问室，我以为他能相信我真的不知情，结果得来的结果是，我没有好好配合，让我好好配合，大家都早点结束，他们也早点离开。最后顶多就是取保候审，交点罚款，就没事了。他跟我谈了很多，当时脑袋真就有点短路了，以为他是在帮我，真就以为好好配合后就没什么事。<br>好好配合的前提是自己确实做过，没做过的话打死也不能承认。——经验教训<br>因为是没有的事，我怎么配合？但是他们还让我配合。<br>所以我只能硬着头皮去询问警方所获得的信息。——其实警方根本就没有什么信息，警方想从我这获取更多的信息，而我当时的想法是想从警方那获取更多信息<br>中途发生了很多事，还查到了我的支付宝里有异常交易记录，当时手机上的银行账户里各种理财加起来有10多万块钱。<br>总之在警方的质问和引导下，我只能承认了自己卖卡。<br>一张卡卖了多少钱？——警察<br>1000？——我<br>再想！——警察<br>2000?——我回<br>你说这个数我都不信，再想！——警察<br>10000？——我<br>你在那玩呢，究竟卖了多少钱！——警察<br>50000。 ——自己根本就没有卖卡，只是在配合警方，直到价钱达到警方的标准后不再进行追问。</p>
<p>咱也不知道警方具体有啥情报，我说完5万后，他们竟然不问了。其实他们根本就没有我卖卡的任何证据，只是一味的诱导我，让我说出这个数字。看他们相信了后，竟然还在为自己庆幸，总算配合好了。——当时脑袋绝对是被驴踢了<br>因为自己承认了卖卡，之后就开始问一些卖卡的细节。<br>之后就开始给我展示他们的手段，说什么我年龄小，还是大学生，上面是不是有别人让你这样做的，把自己撇干净，自己就没事了，各种一堆。——真是让人嗤之以鼻</p>
<p>还是在警方的各种诱导下，我把自己的姑姑顶上去了，说都是姑姑帮我搭的线，我说姑姑刚从缅甸回来几个月，警方还说这就对了，整的像是有姑姑什么证据似的。</p>
<p>最后折腾到了半夜2点多钟，对口供按了手印。警方那边满意了，还跟我说我配合的很好。——配合的越好，自己的事越多。明明没有的事，因为自己的各种“配合”，导致自己的事越多</p>
<p>这都2点多了，我们就不把你送回去了，委屈你，今晚就在候问室呆一晚上吧。——警察</p>
<p>当时脑袋迷迷糊糊的，直接点头就进候问室呆着了。——当时还以为明天就能出去了<br>进候问室前我说第二天还需要上班，如果上不了的话，需要请假，还问了需要请几天<br>先请一天，就说是家里老人生病了。</p>
<p>第二天早上，他们来的很晚。姑姑着急一大早就来探望我，等了很长时间，误打误撞碰到了他们，结果也被扣了进来。我在候问室，姑姑在审讯室。</p>
<p>因为姑姑什么都不说，警方就把我说的说给姑姑听，姑姑一直否认，说没有让我卖过卡。——你说气不气人，姑姑说的这些我都听到了，当时自己可是吓完了，因为自己是诬陷姑姑，如果姑姑一直否认的话，自己岂不是构成诬陷罪了。法律知识是多么薄弱<br>期间警官还跟我要母亲的电话号码，我也毫不犹豫地告诉他们了<br>在各种心理因素和听姑姑否认，我开始叫人，说我要翻供。他们把我带到了另一个小屋<br>我说我昨晚说的都是没有的事，跟我姑姑没有关系<br>他们听了后，有点生气。期间又进来几个新人。<br>新人拿着支付宝的交易记录对我一顿问，说什么你不认识这个人，这个人为什么给你转钱，反正又是一堆，又说了一堆跟姑姑有关的事<br>最后的结果就是，翻供失败，自己想说的都被怼了回去，还让我更加坚信姑姑有问题。民警因为我的翻供更加生气了，并且对我重新录口供<br>做口供的过程中，又来了两个新人，这两个人继续对我录口供。还跟我说什么是带着政策来的，昨天的那波人没有决定权，决定权是他们，他们是办案人。<br>也是继续让我配合，不知什么时候母亲也来了，在大厅<br>说什么我表现好让自己见母亲一面。<br>警方又追问了我一些细节，发现我说的卖卡的钱数和交易记录对不上。——当时看警察在仔细翻我的手机，还以为能帮我翻供呢，结果是自己想多了。当时的自己已经被贴上犯罪的标签。他们不会认为认为我没有问题。<br>因为自己之前的口供都是编的，问我细节我都答不上，和实际还不相符，便说我没有好好配合。<br>我有尝试说我没有卖卡，想翻供。结果民警直接走到我的面前用眼睛瞪着我，让我说实话，看我没有好好配合，还把我带到卫生间，让我蹲下<br>问我究竟有没有卖卡，还扇了我几个嘴巴子<br>最后我妥协了，承认自己卖卡了，翻供的想法消失了，至此，白的变成黑的了<br>期间因为不配合，还说要把我今晚带到通辽去，还一个劲地说我母亲在外面都哭了，总之，能用上的心理战术都用上了，也不知道是想吓吓我还是真要把我带到通辽。——总之我被吓到了</p>
<p>你是不是技术人员？——警察<br>技术人员？我在的公司是做软件的，你是说这个？——我<br>你是不是有什么事没说？好好想！——警察</p>
<p>最后想起来一件事，之前姑姑让我帮她的一个朋友做软件，说是可以赚钱。但是软件没做成，当时自己做了个安卓的，实现了登录功能，但是他们要的是苹果的，因为不会做，所以没做成</p>
<p>因为这个软件的事，他们让我找各种证据，最后终于找到了部分聊天记录<br>当天晚上还针对于软件的事对我追录了口供，仔细说了一下软件的事</p>
<p>结论也是我表现得好，说不把我带到通辽去，姑姑他们明天带走。——总之又是很晚，而且我也没见到母亲</p>
<p>第二天<br>第一次审讯我的民警在审讯室里说，我跟领导说了，让他们不把你带走。还拿着手铐，感觉是准备铐我的。<br>姑姑带着手铐被带了出去，路过我的房间，趴着门看了看我，想对我说些什么，还没等张口就被推走了</p>
<p>民警当着我的面接了个电话，电话里的人说我姑是上面的人，是金主。<br>挂了电话又跟我说了一堆姑姑的坏话，什么姑姑自己身上老干净了，对于我的指控都不承认，想把我往坑里推，还是一堆</p>
<p>最后我也被他们带出去了，没带手铐。</p>
<p>中途还把车停在一个胡同里，说什么姑姑就是不承认卖卡的事，就是要把我往坑里推。<br>又是一堆心里战术，我又妥协了，被民警套着头，下车与姑姑对峙，在我撕心裂肺的喊话下，姑姑相信我卖卡了，妥协了<br>期间姑姑还跟警方讨价还价，说一张卡5万太多了，但是警方自始至终没有妥协</p>
<p>我们又被带回了派出所，我还被民警带回家中，去取笔记本，也算是作案工具吧<br>民警还将姑姑怎么把我往坑里推的事跟家里人说了一遍，说什么这要是自己的母亲，肯定会给自己揽过来，又是一堆</p>
<p>笔记本里什么也没有。期间我还跟姑姑见了一面<br>我坐在民警旁边，姑姑看着我，但我却不敢看她，姑姑问了一句：你真的卖卡了吗？<br>嗯。——当时自己在自作聪明呢，这都是有监控啥的，白的已经变成黑的了。脑袋短路短到不知道姑姑为什么会再问我一遍<br>也就是这一刻，姑姑相信我卖卡了。姑姑开始帮我揽责。</p>
<p>天黑左右，我俩正式被取保候审，一人交了一万取保费，出去了</p>
<p>回家的路上，姑姑再次问了我，真卖卡了吗？<br>没有。</p>
<p>之后就是找各种律师，自己也去银行查证了银行卡确实不存在。期间警官还打电话给我，问我究竟有没有那两张银行卡，说还会再来找我</p>
<p>一个月左右，警官再次找了我们，详细问了一下上次说卖卡究竟是怎么回事，为什么那么说。——都心知肚明的事，他们也没再说什么<br>之后就是说我做的那个软件涉案了，要依法对我进行处罚。<br>我说那个软件我真的没做成。<br>他们说因为我做了，就要处罚我。<br>我说，这个我认，我接受处罚。</p>
<p>我和姑姑重新录了口供</p>
<p>2个星期左右，案子结了，我和姑姑因为我做软件的事，一人罚款1000元。——说罚款时还不忘往自己脸上贴金，说什么他们最开始想罚好几万，他跟领导说不能罚那么多。最后一人罚了1000，也不多，说对我们也没什么影响。不罚钱的话也没法对领导交代。<br>我们还主动给了办案民警1万，感谢他们这么早给结案了。——真是讽刺</p>
<p><strong>最后</strong><br>支付宝的转账，引发了卖银行卡，卖银行卡勾起了做软件<br>要说自己一点事没有，没人会信<br>人的一生不可能一帆风顺，通过这件事我也知道了派出所的民警都是一帮什么人。他们的那些方法可能对真正的犯人会好使，但是却用在了我的身上<br>审讯室中，墙上贴着的白纸黑字：禁止对犯罪嫌疑人进行骗供、诱供。——这就是真实的写照<br>1万2，当作是花钱请民警给我上了一课吧，无奈。<br>真就是一点法都不能犯啊，擦边也不行！</p>
]]></content>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
  <entry>
    <title>for循环遍历</title>
    <url>/2023/06/17/for%E5%BE%AA%E7%8E%AF%E9%81%8D%E5%8E%86/</url>
    <content><![CDATA[<p>最近开发中，关于for循环踩了一点坑，在此记录一下。<br>分享一下关于for循环对数组的遍历</p>
<span id="more"></span>
<p>1.从小到大依次输出</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/*需要遍历的数组*/</span></span><br><span class="line">    <span class="built_in">int</span>[] i = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;;</span><br><span class="line">    <span class="comment">/*for循环对数组的值从小到大输出*/</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> j = <span class="number">0</span>; j &lt; i.Length; j ++)</span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(i[j]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>依次输出：12345<br>2.从大到小依次输出</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/*需要遍历的数组*/</span></span><br><span class="line">    <span class="built_in">int</span>[] i = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;;</span><br><span class="line">    <span class="comment">/*for循环对数组的值从大到小输出*/</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> j = i.Length - <span class="number">1</span>; j &gt; <span class="number">-1</span>; j --)</span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(i[j]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>依次输出：54321</p>
]]></content>
      <tags>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>Win11 OOBE 阶段跳过联网</title>
    <url>/2023/03/26/Win11-OOBE-%E9%98%B6%E6%AE%B5%E8%B7%B3%E8%BF%87%E8%81%94%E7%BD%91/</url>
    <content><![CDATA[<p>Windows11 重置此电脑后，不想联网，直接建立本地账户，这就是我的需求。这里记录一下如何实现。</p>
<span id="more"></span>
<h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>从Windows11 22H2开始，首次使用Windows11 ，微软会强制联网并登录微软账号，不再提供 我没有Internet连接 选项。</p>
<h3 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h3><ol>
<li>（推荐）在选择联网界面，按住键盘 <code>shift</code>+<code>F10</code> （个别电脑可能需要使用 <code>Fn</code>+<code>shift</code>+<code>F10</code>）进入命令提示窗口，鼠标点击命令提示窗口光标，输入 <code>OOBE\BYPASSNRO</code>，回车后，电脑会重启，重启后重新进入联网界面，页面已经提供 我没有Internet连接 选项。</li>
<li>（不推荐）依然是联网界面，按照上面方法进入命令提示窗口，输入 <code>taskmgr</code> 打开任务管理器，进入详细信息，找到进程 <code>OOBENetworkCoectioFlow.exe</code> ，结束进程。如果此方法没有跳过联网界面，可以多试几次。</li>
</ol>
]]></content>
      <tags>
        <tag>教程</tag>
      </tags>
  </entry>
  <entry>
    <title>C#中按字节数截取字符串</title>
    <url>/2022/12/18/C-%E4%B8%AD%E6%8C%89%E5%AD%97%E8%8A%82%E6%95%B0%E6%88%AA%E5%8F%96%E5%AD%97%E7%AC%A6%E4%B8%B2/</url>
    <content><![CDATA[<p>开发中可能会有按照字节数截取字符串的需求。<br>当字符串超过指定字节，保留指定字节数长度的字符串，超过部分舍掉。<br>C#中的<code>GetString(Byte[], Int32, Int32)</code>方法是可以直接截取指定字节，将字节转为字符串，但是此方法会有一个问题：</p>
<span id="more"></span>
<p>如果一个全角字符占据两个字节，被裁剪字符串时，下剪的位置恰好将一个全角字符减成两半，那显示出来的字符串的最后面会出现一个问号（？）。<br>这里提供一个解决方案，仅供参考（以UTF8编码为例）</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*需要截取的字符串*/</span></span><br><span class="line"><span class="built_in">string</span> test = <span class="string">&quot;需要截取的字符串&quot;</span>; <span class="comment">//UTF8编码，一个汉字三个字节</span></span><br><span class="line"><span class="comment">/*需要截取的字节长度*/</span></span><br><span class="line"><span class="built_in">int</span> spitLength = <span class="number">20</span>;</span><br><span class="line"><span class="comment">/*截取后的字符串*/</span></span><br><span class="line"><span class="built_in">string</span> testResult = <span class="built_in">string</span>.Empty;</span><br><span class="line"><span class="comment">/*截取的字符串字节长度大于需要截取的字节长度*/</span></span><br><span class="line"><span class="keyword">if</span> (Encoding.UTF8.GetBytes(test).Length &gt; spitLength)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/*字符串字节长度初期化（0）*/</span></span><br><span class="line">    <span class="built_in">int</span> len = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">/*字符串StringBuilder*/</span></span><br><span class="line">    StringBuilder strTmp= <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="comment">/*对要截取的字符串遍历，累加每个字符的字节长度*/</span></span><br><span class="line">    <span class="keyword">foreach</span> (<span class="built_in">char</span> item <span class="keyword">in</span> test)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">/*累加每个字符的字节长度*/</span></span><br><span class="line">        len = len + Encoding.UTF8.GetBytes(item.ToString()).Length;</span><br><span class="line">        <span class="comment">/*累加的长度大于截取的长度时，跳出循环*/</span></span><br><span class="line">        <span class="keyword">if</span> (len &gt; spitLength)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">/*将当前的字符追加到字符串StringBuilder*/</span></span><br><span class="line">            strTmp.Append(item);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*将字符串StringBuilder赋值给截取后的字符串*/</span></span><br><span class="line">    testResult = strTmp.ToString();</span><br><span class="line">&#125;</span><br><span class="line">Console.WriteLine(testResult);</span><br><span class="line"><span class="comment">/*输出：需要截取的字*/</span></span><br></pre></td></tr></table></figure>
<p>原理就是反向将要截取的字符串逐个字符累加，算字节数，与要截取的字节数比较，如果累加完当前字符的字节数大于要截取的字节数时，舍弃当前字符，跳出累加，将累加的字符赋值给要截取的字符。</p>
<p>想着另起一篇文章，但是想想，还是写在一起吧，以下内容与标题无关。<br>C#中<code>StreamReader.ReadLine</code>中的ReadLine如何初期化？<br>StreamReader.ReadLine 方法：从当前流中读取一行字符并将数据作为字符串返回<br>我打开了一个文件流，但是我想对这个文件用<code>ReadLine</code>连续读取两遍，第一遍判断文件是否满足所要求的行数，第二遍则对每行数据进行处理。</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*读取的文件路径*/</span></span><br><span class="line"><span class="built_in">string</span> path = <span class="string">@&quot;c:\temp\MyTest.txt&quot;</span>;</span><br><span class="line"><span class="comment">/*读取文件*/</span></span><br><span class="line">StreamReader sr = <span class="keyword">new</span> StreamReader(path);</span><br><span class="line"><span class="comment">/*行数初期化*/</span></span><br><span class="line"><span class="built_in">int</span> rowCounts = <span class="number">0</span>;</span><br><span class="line"><span class="comment">/*最大行数*/</span></span><br><span class="line"><span class="built_in">int</span> maxCounts = <span class="number">2</span>;</span><br><span class="line"><span class="comment">/*遍历文件行数*/</span></span><br><span class="line"><span class="keyword">while</span> (sr.ReadLine() != <span class="literal">null</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/*行数加算*/</span></span><br><span class="line">    rowCounts ++;</span><br><span class="line">    <span class="keyword">if</span> (rowCounts &gt; maxCounts)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">/*行数大于最大行数时结束循环*/</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*第二次读取文件*/</span></span><br><span class="line"><span class="comment">/*清除内部缓冲区*/</span></span><br><span class="line">sr.DiscardBufferedData(); <span class="comment">//初期化ReadLine</span></span><br><span class="line"><span class="comment">/*文件重新读取*/</span></span><br><span class="line">sr.BaseStream.Position = <span class="number">0</span>; <span class="comment">//初期化ReadLine</span></span><br><span class="line"><span class="built_in">string</span> line = <span class="built_in">string</span>.Empty;</span><br><span class="line"><span class="keyword">while</span> ((line = sr.ReadLine()) != <span class="literal">null</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/*从第一行开始按行处理文件*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*文件读取完成后请关闭StreamReader*/</span></span><br><span class="line">sr.Close();</span><br></pre></td></tr></table></figure>
<p>如果不加上中间的两步初期化ReadLine，在下一次循环时，则按照第一次循环结束的位置继续读取，导致第二次循环时缺少了第一次循环所用到的数据。<br>微软文档说清除内部缓冲区会影响性能，不到万不得已时不建议使用，所以还有一种方法：<br>第一次循环完成后，关闭StreamReader，第二次循环开始前，重新打开StreamReader，貌似有点费劲，看自己的需求吧。<br>如果不使用清除内部缓冲区，直接使用<code>Position = 0</code>则会造成数据重读，即在第一次读完的基础上继续读取，读取完成后，再次从第一行开始读取，读至最后。</p>
]]></content>
      <tags>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>PowerShell笔记</title>
    <url>/2022/10/23/PowerShell%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<p>微软powershell帮助文档<br><a href="https://learn.microsoft.com/zh-cn/powershell/scripting/overview?view=powershell-7.2">https://learn.microsoft.com/zh-cn/powershell/scripting/overview?view=powershell-7.2</a></p>
<h2 id="变量的使用"><a href="#变量的使用" class="headerlink" title="变量的使用"></a>变量的使用</h2><p>支持内插方式使用，单引号不支持内插，内插时，变量和字符之间需要空格</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="variable">$a</span>=<span class="string">&quot;aaa&quot;</span></span><br><span class="line"><span class="variable">$b</span>=<span class="string">&quot;<span class="variable">$a</span> xxx&quot;</span></span><br><span class="line"><span class="variable">$b</span></span><br></pre></td></tr></table></figure>
<p>输出<code>aaa xxx</code></p>
<span id="more"></span>
<p>通过<code>$&#123;变量名&#125;</code>内插时，不需要空格</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="variable">$a</span>=<span class="string">&quot;111&quot;</span></span><br><span class="line"><span class="variable">$b</span>=<span class="string">&quot;aaa<span class="variable">$</span>&#123;a&#125;bbb&quot;</span></span><br><span class="line"><span class="variable">$b</span></span><br></pre></td></tr></table></figure>
<p>输出<code>aaa111bbb</code></p>
<p>给变量添加多属性并赋值，分号分隔</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="variable">$a</span>=<span class="selector-tag">@</span>&#123;name=<span class="string">&quot;aa&quot;</span>;name2=<span class="string">&quot;bb&quot;</span>&#125;</span><br><span class="line"><span class="variable">$a</span>.name</span><br></pre></td></tr></table></figure>
<p>输出<code>aa</code></p>
<p>变量有序</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="variable">$a</span>=[<span class="type">ordered</span>]<span class="selector-tag">@</span>&#123;name=<span class="string">&quot;aa&quot;</span>;name2=<span class="string">&quot;bb&quot;</span>&#125;</span><br></pre></td></tr></table></figure>

<p>对寄存变量追加属性并赋值</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="variable">$array</span> = <span class="selector-tag">@</span>(<span class="number">1</span>,<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line"><span class="variable">$array</span>.add(<span class="string">&quot;word&quot;</span>,<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<p>获取变量成员</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="variable">$a</span> | <span class="built_in">Get-Member</span></span><br></pre></td></tr></table></figure>

<h2 id="数组的使用"><a href="#数组的使用" class="headerlink" title="数组的使用"></a>数组的使用</h2><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="variable">$array</span> = <span class="selector-tag">@</span>(<span class="number">1</span>,<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line"><span class="variable">$array</span>[<span class="number">0</span>]</span><br></pre></td></tr></table></figure>
<p>输出<code>1</code></p>
<h2 id="换行符的使用（-）"><a href="#换行符的使用（-）" class="headerlink" title="换行符的使用（`）"></a>换行符的使用（`）</h2><p>当一行代码很长时，想手动折行，并且让程序解析成一行代码，请使用 ` （也叫重音符）</p>
<p>换行符 `n</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;aa`nbb&quot;</span></span><br></pre></td></tr></table></figure>
<p>输出</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">aa</span><br><span class="line">bb</span><br></pre></td></tr></table></figure>
<p>tab键 `t</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;aa`tbb&quot;</span></span><br></pre></td></tr></table></figure>
<p>输出<code>aa      bb</code></p>
<h2 id="产看帮助文档"><a href="#产看帮助文档" class="headerlink" title="产看帮助文档"></a>产看帮助文档</h2><p>当不知道命令如何使用时，可以使用<code>Get-Help</code>命令</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Get-Help</span> <span class="built_in">Get-Content</span></span><br></pre></td></tr></table></figure>
<h2 id="Get-Content的使用"><a href="#Get-Content的使用" class="headerlink" title="Get-Content的使用"></a>Get-Content的使用</h2><p><code>Get-Content</code>查看文件内容，<code>-Encoding</code>编码参数不指定时，查看文件编码为系统编码</p>
<h2 id="Import-Csv的使用"><a href="#Import-Csv的使用" class="headerlink" title="Import-Csv的使用"></a>Import-Csv的使用</h2><p><code>Import-Csv</code>参看csv形式文件的命令，可以指定编码<code>-Encoding</code>以及区切符<code>Delimiter</code><br>当<code>Import-Csv</code>读取的文件有多行时（大于等于2行，不包含页眉），<code>Import-Csv</code>返回的结果集会出现<code>length</code>属性，显示文件有多少行。<br>多行时，<code>Import-Csv</code>会以数组形式存放信息，但是只有一行数据时，不会以数组形式存放信息，也就没有<code>length</code>属性。<br>遍历文件时，尽量避免使用<code>Import-Csv</code>的<code>length</code>属性，当文件只有一行时，<code>length</code>属性不存在。<br>解决方法就是使用<code>foreach</code>遍历文件</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="variable">$File</span> = <span class="built_in">Import-Csv</span> <span class="literal">-Path</span> <span class="variable">$Path</span></span><br><span class="line"><span class="keyword">foreach</span>(<span class="variable">$aLine</span> <span class="keyword">in</span> <span class="variable">$File</span>)&#123;</span><br><span class="line">    <span class="comment">#可以直接使用$aLine获取每行$File属性的值</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$aLine</span>.name</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="运算符的使用"><a href="#运算符的使用" class="headerlink" title="运算符的使用"></a>运算符的使用</h2><p><code>-eq</code> 等于<br><code>-ne</code> 不等于<br><code>-gt</code> 大于<br><code>-lt</code> 小于<br><code>-ge</code> 大于等于<br><code>-le</code> 小于等于<br><code>-and</code> 且运算<br><code>-or</code> 或运算<br><code>-not</code> 非运算</p>
<h2 id="注释使用"><a href="#注释使用" class="headerlink" title="注释使用"></a>注释使用</h2><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment">#单行注释</span></span><br><span class="line"><span class="comment">&lt;#</span></span><br><span class="line"><span class="comment">多行注释</span></span><br><span class="line"><span class="comment">#&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="调试"><a href="#调试" class="headerlink" title="调试"></a>调试</h2><p>powershell本身是有调试功能的：<strong>Windows PowerShell ISE</strong><br>支持打断点，逐行执行<br>打断点：F9<br>逐行执行：F10<br>执行下一断点：F5</p>
<h2 id="判定条件的使用"><a href="#判定条件的使用" class="headerlink" title="判定条件的使用"></a>判定条件的使用</h2><p>这里简单说一下if和else if</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="variable">$a</span>=<span class="number">16</span></span><br><span class="line"><span class="variable">$c</span>=<span class="variable">$a</span>%<span class="number">2</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$c</span> <span class="operator">-eq</span> <span class="number">1</span>)&#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;odd number&quot;</span></span><br><span class="line">&#125;<span class="keyword">elseif</span>(<span class="variable">$c</span> <span class="operator">-eq</span> <span class="number">1</span>)&#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;even number&quot;</span></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;other&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>需要注意的是<code>elseif</code>之间没有空格</p>
<h2 id="管道输出符"><a href="#管道输出符" class="headerlink" title="管道输出符|"></a>管道输出符<code>|</code></h2><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Get-Children</span> | <span class="built_in">Out-File</span></span><br></pre></td></tr></table></figure>
<p>将<code>Get-Children</code>输出的结果传递给<code>Out-File</code></p>
]]></content>
      <tags>
        <tag>PowerShell</tag>
      </tags>
  </entry>
  <entry>
    <title>hexo的代码高亮</title>
    <url>/2022/09/24/hexo%E7%9A%84%E4%BB%A3%E7%A0%81%E9%AB%98%E4%BA%AE/</url>
    <content><![CDATA[<p>本篇文章记录一下自己在主题追加代码块隐藏功能所踩过的坑。</p>
<span id="more"></span>
<p>首先先来说一下hexo官方所支持的代码高亮：<br><code>highlight.js</code> 与 <code>prismjs</code><br>这两个在GitHub上都有对应的开源代码库。</p>
<p><code>highlight.js</code>，hexo官方默认的代码高亮库。这个其实还好，没有什么坑。<code>highlight.js</code>本身不支持行号显示，但是hexo对其提供了支持，此支持导致了代码区块的结构与默认的代码区块结构不一致。<br>Hexo 通过用 <code>&lt;figure&gt;</code> 和 <code>&lt;table&gt;</code> 包裹其代码块为其添加了行号显示支持:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">figure</span> <span class="attr">class</span>=<span class="string">&quot;highlight yaml&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;gutter&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">pre</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;line&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">&quot;code&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">pre</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;line&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;attr&quot;</span>&gt;</span>hello:<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;string&quot;</span>&gt;</span>hexo<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">figure</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>默认的代码区块结构</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">pre</span>&gt;</span><span class="tag">&lt;<span class="name">code</span> <span class="attr">class</span>=<span class="string">&quot;yaml&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;comment&quot;</span>&gt;</span># _config.yml<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;attr&quot;</span>&gt;</span>hexo:<span class="tag">&lt;/<span class="name">span</span>&gt;</span> <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;string&quot;</span>&gt;</span>hexo<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">code</span>&gt;</span><span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>这种支持导致直接引入 <code>highlight.js</code> 官方的css不生效，解决办法在之前的文章已经说过了，可以在全局搜索中搜索关键字：代码区块高亮。<br>如果既想显示行号，又想引入官方的高亮css，只能通过js解决。当然，你也可以把官方的css摘抄过来，单独适配一下自己的主题。</p>
<blockquote>
<p>为了支持行号显示，Hexo 将输出包裹在了 <code>&lt;figure&gt;</code> 和 <code>&lt;table&gt;</code> 内部。如果要保持 <code>highlight.js</code> 原来的行为，你需要将 <code>line_number</code> 和 <code>wrap</code> 全部关闭。</p>
</blockquote>
<p>关闭后的代码区块结构即为默认的代码区块结构。</p>
<blockquote>
<p>提示：当 <code>line_number</code> 和 <code>wrap</code> 为 <code>false</code>，<code>hljs</code> 为 <code>true</code> 的时候，你可以在站点上直接应用 <code>highlight.js</code> 的主题。</p>
</blockquote>
<p><code>prismjs</code> 使用的是默认的代码区块结构，并且支持行号显示。行号显示有坑。</p>
<blockquote>
<p><code>PrismJS</code> 默认禁用。启用 <code>PrimeJS</code> 前应设置 <code>highlight.enable</code> 为 <code>false</code>。</p>
</blockquote>
<p>开启行号显示。需要引入官方的css：<a href="https://prismjs.com/plugins/line-numbers/">行号显示</a><br>引入行号显示的css，很有可能出现行号和代码对不齐的情况，这应该是我遇到的较为严重的问题了。<code>prismjs</code> 的行号显示是在代码的最后一个 <code>&lt;span&gt;</code> 标签之后多创建一个 <code>&lt;span&gt;</code> 标签，里面放置用于显示行号的 <code>&lt;span&gt;</code> 标签。在这种情况下，一定要谨慎使用 <code>line-height</code> 属性，很有可能使左侧显示行号的 <code>&lt;span&gt;</code> 与右侧显示代码的  <code>&lt;span&gt;</code> 行高不一致，导致行号和代码对不齐，具体也没有什么解决办法。当时因为行号与代码对不其，花了很长时间，一直没有找出原因，最后的解决办法就是 <code>pre</code> 部分不再单独设置行高，与文章保持一致。</p>
<p>说了上面的两种代码高亮库，其实还有一种默认的，hexo官方文档有说：</p>
<blockquote>
<p>当 <code>highlight.enable</code> 和 <code>prismjs.enable</code> 均为 <code>false</code> 时，代码块输出的 <code>HTML</code> 由相应的渲染器控制。</p>
</blockquote>
<p>自己试了一下，与上面的默认的代码区块结构大致一致。对于默认结构，想要添加第三方的css可能需要手动适配了。不同的代码高亮库，class所使用的命名规则是不一样的。默认格式目前不支持代码高亮显示，因为代码块直接放在 <code>code</code> 标签之中，没有拆分出来单独的 <code>span</code> 标签。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">pre</span>&gt;</span><span class="tag">&lt;<span class="name">code</span> <span class="attr">class</span>=<span class="string">&quot;yaml&quot;</span>&gt;</span></span><br><span class="line"># _config.yml</span><br><span class="line">hexo: hexo</span><br><span class="line"><span class="tag">&lt;/<span class="name">code</span>&gt;</span><span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>最后，简单说一下主题追加的代码块隐藏和显示语言的思路：<br>隐藏代码块：通过控制css实现，<code>display:block</code> 到 <code>display:none</code> 之间的来回切换。这里简单说一下主题配置里面的隐藏：<br>js对追加的div标签添加class属性 <code>highlight-tools closed</code> ，css样式中添加 <code>.highlight-tools.closed ~ * &#123;display: none;&#125;</code> 实现。之后点击按钮便是js通过对节点添加相应css实现显示和隐藏，因为 <code>prismjs</code> 和默认的代码结构一样，分两种场合实现即可。<br>显示语言：js截取指定节点的class属性，也是分了两种情况，但是需要考虑 <code>prismjs</code> 和默认情况的语言显示。</p>
<p>参考文档：<a href="https://hexo.io/zh-cn/docs/syntax-highlight.html">HEXO 代码高亮</a></p>
]]></content>
      <tags>
        <tag>博客</tag>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>yilia主题添加waline评论</title>
    <url>/2022/08/20/yilia%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0waline%E8%AF%84%E8%AE%BA/</url>
    <content><![CDATA[<p><strong>2022年8月26日起，<code>*.vercel.app</code>在中国大陆内已遭受DNS污染</strong><br>怎么说好呢，前脚刚把valine切到waline，后脚waline的部署vercel便遭到污染，绝了（只好再次观望）。<br>一言难尽。2022年7月19日下午收到了LeanCloud的邮件：8月1日起，LeanCloud国际版共享域名不再向中国大陆提供服务<br>8月1日访问自己的博客，果然不出所料，使用LeanCloud国际版的valine无法使用了。<br>自己很早就听说了waline评论，但是当时valine已在使用中，云引擎休眠的问题也算是解决了（躺平），就没有再关注waline。<br>在寻找其他评论的途中，再次关注了waline，并且开发者明确说：waline不受LeanCloud国际版共享域名不再向中国大陆提供服务的影响。<br>本篇文章由此而来~</p>
<span id="more"></span>
<h2 id="关于waline"><a href="#关于waline" class="headerlink" title="关于waline"></a>关于waline</h2><blockquote>
<p>waline官方网站：<a href="https://waline.js.org/">https://waline.js.org/</a></p>
</blockquote>
<p>waline是一款基于 Valine 衍生的简洁、安全的评论系统。这里就简单总结一下与valine的关系：valine是无后端评论系统，提交评论时valine直接与LeanCloud交互。waline是有后端评论系统，后端用的是Vercel，提交评论时，waline与Vercel交互，Vercel再与LeanCloud交互。LeanCloud在waline中作为数据库来使用。Vercel是国外的，所以不受不向中国大陆提供服务的限制。</p>
<h2 id="快速上手"><a href="#快速上手" class="headerlink" title="快速上手"></a>快速上手</h2><p>注意：本篇文章只面向<code>LeanCloud 国际版</code>，国内版的配置，请参看waline官方网站：<a href="https://waline.js.org/">https://waline.js.org/</a></p>
<ol>
<li><a href="https://console.leancloud.app/login">登录</a> 或 <a href="https://console.leancloud.app/register">注册</a><code>LeanCloud 国际版</code>并进入 <a href="https://console.leancloud.app/apps">控制台</a></li>
<li>点击左上角 <a href="https://console.leancloud.app/apps">创建应用</a> 并起一个你喜欢的名字 (请选择免费的开发版):<br><img src="1.png"></li>
<li>进入应用，选择左下角的<code>设置</code>&gt;<code>应用 Key</code>。你可以看到你的<code>APP ID</code>,<code>APP Key</code>和<code>Master Key</code>。请记录它们，以便后续使用。<br><img src="2.png"></li>
</ol>
<h3 id="Vercel-部署-服务端"><a href="#Vercel-部署-服务端" class="headerlink" title="Vercel 部署 (服务端)"></a>Vercel 部署 (服务端)</h3><p><a href="https://vercel.com/new/clone?repository-url=https://github.com/walinejs/waline/tree/main/example">Deploy</a></p>
<ol>
<li><p>点击上方链接，跳转至 Vercel 进行 Server 端部署。</p>
<blockquote>
<p>如果你未登录的话，Vercel 会让你注册或登录，请使用 GitHub 账户进行快捷登录。</p>
</blockquote>
</li>
<li><p>选择自己的GitHub账户，输入一个自己喜欢的 Vercel 项目名称并点击<code>Create</code>继续（建议勾选创建私有git仓库）:<br><img src="3.png"></p>
</li>
<li><p>此时 Vercel 会基于 Waline 模板帮助你新建并初始化仓库，仓库名为你之前输入的项目名。（如果你没有勾选创建私有git仓库，Vercel会创建一个公开的git仓库）<br><img src="4.png"><br>部署大约需要两分钟，满屏的烟花会庆祝你部署成功。此时点击<code>Go to Dashboard</code>可以跳转到应用的控制台。</p>
</li>
<li><p>点击顶部的<code>Settings </code>-<code>Environment Variables</code>进入环境变量配置页，并配置三个环境变量<code>LEAN_ID</code>,<code>LEAN_KEY</code>和<code>LEAN_MASTER_KEY</code>。它们的值分别对应上一步在 LeanCloud 中获得的<code>APP ID</code>,<code>APP KEY</code>,<code>Master Key</code>。<br><img src="5.png"></p>
</li>
<li><p>环境变量配置完成之后点击顶部的<code>Deployments</code>点击顶部最新的一次部署右侧的<code>Redeploy</code>按钮进行重新部署。该步骤是为了让刚才设置的环境变量生效。最新部署下面的其他部署，可以点进去将其删除，只留最新的一次即可。<br><img src="6.png"></p>
</li>
<li><p>此时会跳转到<code>Overview</code>界面开始部署，等待片刻后<code>STATUS</code>会变成<code>Ready</code>。此时请点击<code>Visit</code>，即可跳转到部署好的网站地址，此地址即为你的服务端地址。（DOMAINS下的链接地址）<br><img src="7.png"></p>
</li>
</ol>
<h2 id="HTML-引入-客户端"><a href="#HTML-引入-客户端" class="headerlink" title="HTML 引入 (客户端)"></a>HTML 引入 (客户端)</h2><p>注意：这里以我使用的yilia主题为例</p>
<ol>
<li>在<code>yilia\layout\_partial\article.ejs</code>文件中添加 waline 评论的导入（在主题已有的评论下面导入即可）：<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- 已有评论 --&gt;</span><br><span class="line">&lt;% if (theme.changyan_appid &amp;&amp; theme.changyan_conf)&#123; %&gt;</span><br><span class="line">&lt;%- partial(&#x27;post/changyan&#x27;, &#123;</span><br><span class="line">    key: post.slug,</span><br><span class="line">    title: post.title,</span><br><span class="line">    url: config.url+url_for(post.path)</span><br><span class="line">&#125;) %&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br><span class="line">&lt;!-- 导入waline评论 --&gt;</span><br><span class="line">&lt;% if (theme.waline &amp;&amp; theme.waline.enable)&#123; %&gt;</span><br><span class="line">&lt;%- partial(&#x27;post/waline&#x27;, &#123;</span><br><span class="line">    key: post.slug,</span><br><span class="line">    title: post.title,</span><br><span class="line">    url: config.url+url_for(post.path)</span><br><span class="line">&#125;) %&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure></li>
<li>在<code>yilia\layout\_partial\post</code>中新建<code>waline.ejs</code>模板文件，粘贴如下内容，保存。创建<code>&lt;script&gt;</code>标签使用<code>Waline.init()</code>初始化，并传入必要的<code>el</code>与<code>serverURL</code>选项。<blockquote>
<p><code>el</code>选项是 Waline 渲染使用的元素，你可以设置一个字符串形式的 CSS 选择器或者一个 HTMLElement 对象。<br><code>serverURL</code>是服务端的地址，即 Vercel 部署成功后DOMAINS下的链接地址。</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;&lt;%- theme.waline_css %&gt;&quot;&gt;</span><br><span class="line">&lt;div id=&quot;waline&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;&lt;%- theme.waline_js %&gt;&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  Waline.init(&#123;</span><br><span class="line">    el: &#x27;#waline&#x27;,</span><br><span class="line">    serverURL: &#x27;&lt;%= theme.waline.serverURL %&gt;&#x27;,</span><br><span class="line">    lang: &#x27;&lt;%- config.language %&gt;&#x27;,</span><br><span class="line">    meta: [&lt;%- theme.waline.meta ? theme.waline.meta : &quot;&#x27;nick&#x27;, &#x27;mail&#x27;, &#x27;link&#x27;&quot; %&gt;],</span><br><span class="line">    requiredMeta: [&lt;%- theme.waline.requiredMeta ?  &#x27;&quot;&#x27; + theme.waline.requiredMeta + &#x27;&quot;&#x27; : &quot;&quot; %&gt;],</span><br><span class="line">    login: &#x27;&lt;%= theme.waline.login%&gt;&#x27;,</span><br><span class="line">    wordLimit: &lt;%= theme.waline.wordLimit %&gt;,</span><br><span class="line">    pageSize: &lt;%= theme.waline.pageSize %&gt;,</span><br><span class="line">    copyright: &#x27;&lt;%- theme.waline.copyright %&gt;&#x27; === &#x27;true&#x27;</span><br><span class="line">  &#125;);</span><br><span class="line">  document.getElementById(&#x27;wl-edit&#x27;).setAttribute(&quot;placeholder&quot;,&quot;&lt;%= theme.waline.placeholder %&gt;&quot;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
详细配置可以参考waline官网中的组件属性：<a href="https://waline.js.org/reference/component.html">https://waline.js.org/reference/component.html</a></li>
<li>在主题配置文件<code>yilia\_config.yml</code>中添加 waline 的相关配置（字符串类型请手动添加双引号）：<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">waline:</span><br><span class="line">  enable: false</span><br><span class="line">  serverURL: https://xxx.vercel.app/ # 服务端的地址</span><br><span class="line">  meta: &quot;&#x27;nick&#x27;,&#x27;mail&#x27;,&#x27;link&#x27;&quot; # 评论者相关属性。字符串类型，可选值:&#x27;nick&#x27;,&#x27;mail&#x27;,&#x27;link&#x27;</span><br><span class="line">  requiredMeta: &quot;&quot; # # 匿名选项。字符串类型，空为允许匿名。可选值:&#x27;nick&#x27;,&#x27;mail&#x27;</span><br><span class="line">  login: enable # 登录模式状态，可选值：&#x27;enable&#x27;，&#x27;disable&#x27;，&#x27;force&#x27;</span><br><span class="line">  wordLimit: 0 # 评论字数限制。填入单个数字时为最大字数限制。设置为0时无限制。</span><br><span class="line">  pageSize: 10 # 评论列表分页，每页条数。</span><br><span class="line">  copyright: true # 是否显示页脚版权信息。</span><br><span class="line">  placeholder: &#x27;请留言。(填写邮箱可在被回复时收到邮件提醒)&#x27; # 评论框占位提示符（js替换实现）</span><br><span class="line">waline_css: https://unpkg.com/@waline/client@v2/dist/waline.css</span><br><span class="line">waline_js: https://unpkg.com/@waline/client@v2/dist/waline.js</span><br></pre></td></tr></table></figure></li>
<li>将主题配置文件<code>yilia\_config.yml</code>中的<code>waline.enable</code>设为<code>true</code>，将 Vercel 服务端填入<code>waline.serverURL</code>后，启用本地hexo服务，评论服务此时就会在你的网站上成功运行，<strong>看到评论下方的文字<code>来发评论吧~</code>表明配置成功</strong>。</li>
</ol>
<h2 id="评论管理-管理端"><a href="#评论管理-管理端" class="headerlink" title="评论管理 (管理端)"></a>评论管理 (管理端)</h2><ol>
<li>部署完成后，请访问<code>&lt;serverURL&gt;/ui/register</code>进行注册。首个注册的人会被设定成管理员。</li>
<li>管理员登陆后，即可看到评论管理界面。在这里可以修改、标记或删除评论。</li>
<li>管理员在文章的评论页面登陆后，可直接在文章页面添加、修改、标记或删除评论。</li>
<li>用户也可通过评论框注册账号，登陆后会跳转到自己的档案页。</li>
</ol>
<h2 id="服务端配置"><a href="#服务端配置" class="headerlink" title="服务端配置"></a>服务端配置</h2><p>服务端配置分为两种方式：Vercel环境变量和git仓库主入口配置。<br>Vercel环境变量：上面提到的 <strong>Vercel 部署 (服务端)</strong> 的第四步<br>git仓库主入口配置：git仓库waline模板中的<code>index.js</code>文件<br>环境变量可以解决的内容，不建议通过修改<code>index.js</code>实现</p>
<blockquote>
<p>如果你使用模板，请额外注意你需要自行保存这些配置，因为它们会在拉取官方最新模板时被覆盖。</p>
</blockquote>
<p>在这里列举出来我用的环境变量，包括邮件通知提醒，安全域名等。<br>注意：不包括 <strong>Vercel 部署 (服务端)</strong> 第四步用到的环境变量，用到的环境变量是必须配置的，这里不再说明</p>
<table>
<thead>
<tr>
<th align="left">变量</th>
<th align="left">示例</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">SITE_NAME</td>
<td align="left">Deserts</td>
<td align="left">填写自己的博客名称</td>
</tr>
<tr>
<td align="left">SITE_URL</td>
<td align="left"><code>https://xxx.github.io</code></td>
<td align="left">博客首页地址，结尾不需要<code>/</code></td>
</tr>
<tr>
<td align="left">SMTP_SERVICE</td>
<td align="left">QQ</td>
<td align="left">邮件服务提供商，你可以在 <a href="https://github.com/nodemailer/nodemailer/blob/master/lib/well-known/services.json">这里</a> 查看所有支持的运营商。</td>
</tr>
<tr>
<td align="left">SMTP_USER</td>
<td align="left"><code>xxxxxx@qq.com</code></td>
<td align="left">SMTP登录用户，就是输入自己的邮箱</td>
</tr>
<tr>
<td align="left">SMTP_PASS</td>
<td align="left">ccxxxxxxxxch</td>
<td align="left">SMTP登录密码，如果是QQ邮箱，填写在邮箱设置中获取登录第三方邮箱客户端的授权码</td>
</tr>
<tr>
<td align="left">AUTHOR_EMAIL</td>
<td align="left"><code>xxxxxx@qq.com</code></td>
<td align="left">博主邮箱，用来接收新评论通知。如果是博主发布的评论则不进行提醒通知。</td>
</tr>
<tr>
<td align="left">MAIL_TEMPLATE</td>
<td align="left">参看下记详细说明</td>
<td align="left">自定义评论回复邮件内容</td>
</tr>
<tr>
<td align="left">MAIL_TEMPLATE_ADMIN</td>
<td align="left">参看下记详细说明</td>
<td align="left">自定义新评论通知邮件内容</td>
</tr>
<tr>
<td align="left">SECURE_DOMAINS</td>
<td align="left">xxx.github.io</td>
<td align="left">安全域名配置，支持逗号分隔配置多个域名</td>
</tr>
</tbody></table>
<p>邮件通知模板的详细说明：<br>邮件通知模板在 Vercel 环境变量中设定，可自定义通知邮件标题及内容模板。<br>默认的邮件通知模板是无法看到具体是哪篇文章的评论，这里简单进行了一下修改，跟valine的差不多，但是有区别<br>环境变量：<strong>MAIL_TEMPLATE</strong><br>修改后被@通知邮件内容模板如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div style=&quot;border-top:2px solid #12ADDB;box-shadow:0 1px 3px #AAAAAA;line-height:180%;padding:0 15px 12px;margin:50px auto;font-size:12px;&quot;&gt;&lt;h2 style=&quot;border-bottom:1px solid #DDD;font-size:14px;font-weight:normal;padding:13px 0 10px 8px;&quot;&gt;您在&lt;a style=&quot;text-decoration:none;color: #12ADDB;&quot;href=&quot;&#123;&#123;site.url&#125;&#125;&quot;target=&quot;_blank&quot;&gt;&#123;&#123;site.name|safe&#125;&#125;&lt;/a&gt;上的评论有了新的回复&lt;/h2&gt;&#123;&#123;parent.nick&#125;&#125;同学，您曾发表评论：&lt;div style=&quot;padding:0 12px 0 12px;margin-top:18px&quot;&gt;&lt;div style=&quot;background-color: #f5f5f5;padding: 10px 15px;margin:18px 0;word-wrap:break-word;&quot;&gt;&#123;&#123;parent.comment|safe&#125;&#125;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;&#123;&#123;self.nick&#125;&#125;&lt;/strong&gt;回复说：&lt;/p&gt;&lt;div style=&quot;background-color: #f5f5f5;padding: 10px 15px;margin:18px 0;word-wrap:break-word;&quot;&gt;&#123;&#123;self.comment|safe&#125;&#125;&lt;/div&gt;&lt;p&gt;您可以点击&lt;a style=&quot;text-decoration:none; color:#12addb&quot;href=&quot;&#123;&#123;site.postUrl&#125;&#125;&quot;target=&quot;_blank&quot;&gt;查看回复的完整內容&lt;/a&gt;，欢迎再次光临&lt;a style=&quot;text-decoration:none; color:#12addb&quot;href=&quot;&#123;&#123;site.url&#125;&#125;&quot;target=&quot;_blank&quot;&gt;&#123;&#123;site.name&#125;&#125;&lt;/a&gt;。&lt;br&gt;&lt;/p&gt;&lt;p&gt;详细链接：&#123;&#123;site.postUrl&#125;&#125;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>环境变量：<strong>MAIL_TEMPLATE_ADMIN</strong><br>修改后博主通知邮件内容模板如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div style=&quot;border-top:2px solid #12ADDB;box-shadow:0 1px 3px #AAAAAA;line-height:180%;padding:0 15px 12px;margin:50px auto;font-size:12px;&quot;&gt;&lt;h2 style=&quot;border-bottom:1px solid #DDD;font-size:14px;font-weight:normal;padding:13px 0 10px 8px;&quot;&gt;您在&lt;a style=&quot;text-decoration:none;color: #12ADDB;&quot;href=&quot;&#123;&#123;site.url&#125;&#125;&quot;target=&quot;_blank&quot;&gt;&#123;&#123;site.name&#125;&#125;&lt;/a&gt;上的文章有了新的评论&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;&#123;&#123;self.nick&#125;&#125;&lt;/strong&gt;回复说：&lt;/p&gt;&lt;div style=&quot;background-color: #f5f5f5;padding: 10px 15px;margin:18px 0;word-wrap:break-word;&quot;&gt;&#123;&#123;self.comment|safe&#125;&#125;&lt;/div&gt;&lt;p&gt;您可以点击&lt;a style=&quot;text-decoration:none; color:#12addb&quot;href=&quot;&#123;&#123;site.postUrl&#125;&#125;&quot;target=&quot;_blank&quot;&gt;查看回复的完整內容&lt;/a&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;详细链接：&#123;&#123;site.postUrl&#125;&#125;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>效果为在邮件最后一行添加评论详细链接，旨在快速定位是哪篇文章的评论。</p>
<h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>到此，本篇文章就算结束了。因为自己研究花了一点点时间，导致本篇文章来的晚了一些。<br>也不知道还有多少人在坚持使用yilia主题，反正我会一直用下去，随时添加自己觉得有用的新功能。<br>关于评论框占位提示符的实现，这里使用js替换原有的占位符，由于 waline 将<code>placeholder</code>选项纳入了多语言支持，已不再支持通过<code>placeholder</code>选项直接设置评论框占位提示符，这里直接用js给替换掉了。<br>环境变量中还有许多有趣的配置，感兴趣可以去看看~</p>
]]></content>
      <tags>
        <tag>博客</tag>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>如何禁用 Firefox 自动更新（Windows）</title>
    <url>/2022/07/23/%E5%A6%82%E4%BD%95%E7%A6%81%E7%94%A8-Firefox-%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0%EF%BC%88Windows%EF%BC%89/</url>
    <content><![CDATA[<p>网上查询了一下，共有三个方法：<br>1.使用禁用更新策略<br>2.修改 <code>channel-prefs.js</code> ，亲测无效<br>3.勾选不更新，新版本已不再提供此选项</p>
<span id="more"></span>
<p>本篇文章主要教大家如何使用禁用更新策略禁用 FireFox 自动更新（Windows）</p>
<ol>
<li>进入 Firefox 安装根目录：右键浏览器快捷方式，打开文件所在位置</li>
<li>在 Firefox 安装根目录新建 distribution 文件夹，在文件夹中新建一个txt文档</li>
<li>在txt文档中编写如下代码：<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;policies&quot;: &#123;</span><br><span class="line">        &quot;DisableAppUpdate&quot;: true</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>将txt文档重命名为 <code>policies.json</code> 格式并保存。</li>
<li>重启火狐浏览器，设置》Firefox 更新，显示：更新已被系统管理员禁用。</li>
</ol>
]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>教程</tag>
      </tags>
  </entry>
  <entry>
    <title>关于jsdelivr在中国大陆无法访问的事</title>
    <url>/2022/05/25/%E5%85%B3%E4%BA%8Ejsdelivr%E5%9C%A8%E4%B8%AD%E5%9B%BD%E5%A4%A7%E9%99%86%E6%97%A0%E6%B3%95%E8%AE%BF%E9%97%AE%E7%9A%84%E4%BA%8B/</url>
    <content><![CDATA[<p>jsdelivr在中国大陆遭到dns污染，虽然现在只是<code>cdn.jsdelivr.net</code>正在遭到污染，但是不解决根本问题，转至jsdelivr其他域名不是最终办法，jsdelivr的其他域名在中国大陆最终也会得到相同的待遇。</p>
<span id="more"></span>
<p>看过一篇文章中写到：</p>
<blockquote>
<p>在这之前有一个同样支持GitHub加速的静态资源库<code>statically.io</code>已被SNI阻断，与曾经的jsDelivr唯一的不同便是没有ICP许可证的保护。它走过的路，冥冥中暗示着jsDelivr注定的结局。</p>
</blockquote>
<p>是这样没错，从支持加速GitHub的静态资源库开始，这个网站在中国的结局可能已经注定了。</p>
<p>就是因为jsdelivr支持加速GitHub静态资源库而受到了我的关注，也写了好几篇的文章介绍如何在github托管的博客上使用jsdelivr加速。结果就是，自己的博客能用到jsdelivr加速的地方，几乎都用上了，这直接导致在jsdelivr遭到dns污染时，自己的博客几乎无法访问。</p>
<ol>
<li>如果只是想临时解决问题，可以尝试切换jsdelivr的其他域名。不建议通过切换jsdelivr其他域名解决，速度慢不说，而且容易再次被污染。</li>
</ol>
<blockquote>
<p>修复 cdn.jsdelivr.net 无法访问的问题<br><a href="https://github.com/PipecraftNet/jsdelivr-auto-fallback">https://github.com/PipecraftNet/jsdelivr-auto-fallback</a></p>
</blockquote>
<ol start="2">
<li>能切换其他cdn，请切换其他cdn加速，npm的资源，可切换cdn加速，如：unpkg.com<br><code>cdn.jsdelivr.net/npm</code>=&gt;<code>unpkg.com</code></li>
<li>github托管的静态资源，能直接引用就直接引用吧</li>
</ol>
<p>好啦，本篇文章就这么多，感谢阅读~</p>
]]></content>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
  <entry>
    <title>《白蛇传》台词（30集）</title>
    <url>/2022/05/09/%E3%80%8A%E7%99%BD%E8%9B%87%E4%BC%A0%E3%80%8B%E5%8F%B0%E8%AF%8D%EF%BC%8830%E9%9B%86%EF%BC%89/</url>
    <content><![CDATA[<p>纯台词~</p>
<span id="more"></span>
<h3 id="第一集"><a href="#第一集" class="headerlink" title="第一集"></a>第一集</h3><blockquote>
<p>小青：怎么？我不好看吗？<br>渔郎：不，不，好看，好看<br>小青：那你为什么不看我呢？<br>渔郎：不敢，不敢，我不敢<br>小青：不敢？你有什么不敢的我又不会吃了你你说，是我漂亮，还是你娘子漂亮？<br>渔郎：姑娘漂亮<br>小青：那你休了你娘子，娶我吧愿意吗？<br>渔郎：真的吗？<br>小青：骗你干什么我这就可以跟你回家，不过我害羞得很，一路上你不许回头看我，等到了家以后，我再让你看个够，好吗？<br>渔郎：好，嗯，好<br>~<br>小青：谁呀？<br>白素贞：何苦害他呢？他又没有什么过错<br>小青：过错？他对他的娘子不忠，害得那女人天天跑到岸边来流泪，哭哭啼啼的，让我头疼，我看不过去，替她教训教训男人，有错吗？<br>白素贞：你一个才修炼了二百年的小青蛇，见过几个男人，就说这样的大话<br>小青：这世上男人我见的多了，还不都是一个样子<br>白素贞：听我一句，安心修炼吧<br>小青：你别走，既然跑来管闲事，倒不如下来比划比划了<br>小青：我还以为你有什么了不起的，原来不也是一条蛇嘛<br>小青：你到底什么来头<br>白素贞：白素贞，修炼七百年的白蛇你不过两百年的道行，就敢跟我斗法，到此为止吧<br>小青：除非，你认输了<br>白素贞：赢了又能怎样？<br>小青：赢了，就说明我法术比你高<br>白素贞：那我就认输吧<br>小青：这样不算，你根本在敷衍我，想走？<br>白素贞：小心害了无辜的人<br>小青：怎么？这就怕了我了吗？还没见过我新炼的行雨之术呢<br>百姓：发水啦，孩子啊，孩子啊，我的孩子啊<br>白素贞：糟了<br>小青：白素贞，我技不如人，随你处置好了白素贞，你这样束着我，还不如让我死了痛快<br>白素贞：你私自行雨已经犯下大错，就算我饶你，天也不饶我这么做，不过是替你保全性命，你心高气傲，早晚是会惹下大祸的，不如在下面好好修炼吧<br>小青：这跟坐牢有什么区别呀，你说，到底要我在这里呆多久啊<br>白素贞：莲花满湖之日，就是你小青出世之时<br>~<br>白素贞：这位大嫂，这么晚了，怎么还来卖水呀？<br>观音：我这水呀，可不是普通的水，这水不是地上的，却自天来，一盏可消病骨，七碗顿自生风，姑娘，喝一口吧，就是闻一闻都能脱胎换骨，要是用它煎茶，天天饮用，说不定还能成神仙呢<br>白素贞：成仙？哪是那么容易的事啊，我已经等了七百年了。白素贞拜见观音菩萨<br>观音：你想成仙？<br>白素贞：这七百年来，我日夜梦想的都是这件事情，只可惜我只是峨眉山上的小蛇，虽然有长生不老之身，却不知该如何成仙，还望菩萨指点<br>观音：成仙的路，困难重重，可不能意气用事，一旦决定了，就要义无反顾地走下去，要接受各种考验和磨练，要使三千功绩完成，八百德性圆满况且你原本是妖，妖性刁蛮难改，要想修道，就更是难上加难，这些你都想清楚了？<br>白素贞：素贞早就想清楚了，不管有多苦，我都要试一试<br>观音：看你用心之深，确是非同一般，再加上你今天治雨有功，使钱塘县免遭一劫，所以我就赠你火符内丹一颗，这仙丹非同一般，你服了它，就可长生不老，并除去妖邪之气<br>白素贞：多谢菩萨成全<br>观音：要想成仙，只服仙丹还不成，还要有仙剑，要寻剑，就要到紫金浩渺山的剑冢里，寻得那把汇集了千百年日月精华的白乙剑<br>白素贞：素贞成仙之念已决，不管仙剑多么难寻，我也要试一试<br>观音：我没有看错人，如果你有造化拿到那把剑，我再渡你成仙，你去吧<br>~<br>白素贞：弟子白素贞<br>华阳真人：你是来求剑的？<br>白素贞：正是<br>华阳真人：这就是剑冢，凡是世上登记在册的仙剑，在这里，都可以找到<br>白素贞：我只想求那普通的白乙剑<br>华阳真人；它不可能是你的<br>白素贞：可是观音菩萨说，让我来此求剑啊<br>华阳真人：她说了也不算<br>华阳真人：你果然厉害，剑是你的了<br>白素贞：多谢真人成全<br>华阳真人：本该如此，起来吧你的白乙剑是姐姐，这青虹剑是妹妹，姐妹同心，如今姐姐要走，妹妹哪有不追的道理<br>观音：这样就周全了，仙丹服了，仙剑也寻着了，我也该点化你了俗话说，一诺重千斤，你可有诺于人，未曾兑现<br>白素贞：啊，弟子知道了，当年我镇那青蛇在西湖之下，曾对她说过，莲花满湖之日，必是她出世之时<br>观音：莲花满湖？三百年，会不会太久？<br>白素贞：只要能成仙，就算让白素贞再等上一千年，就算等得雷峰塔倒，西湖水干，我也会等下去<br>观音：只要三百年，到时候，你了结了一切俗事，就来半步多客栈等我，我自然会点化你成仙<br>白素贞：半步多？<br>观音：嗯<br>~<br>大娘：水，水，恩公，恩公啊，给我口水喝吧恩公，给我口水喝吧哪怕要我老太婆的命也行啊<br>许仙：什么？一口水换一条人命？<br>大娘：你是外乡人吧？不知道我们的苦衷啊，三年了，这落水镇方圆五百里，没有下过半点雨呀，现在能够让家里的老小喝上一口水，就是拼上老命也值啊<br>许仙：我这儿还有些水，婆婆若不嫌弃，就拿去用吧<br>围观百姓：也给我点，给我点水吧这下好了，有水喝了<br>大娘：可以了，恩人，谢谢了，这哪有个够啊，这点水就能救我小孙女的命了<br>~<br>八两：竟敢抢那一家老小的水喝，实在是该杀你弄脏了爷爷这把大刀更是该杀，念你是初犯，今天就饶了你，下次再让我碰上，定杀不饶<br>许仙：你放心，我帮你看过了，你的伤口无大碍，别着急啊<br>强盗：拿水囊来<br>许仙：麻烦你放过我，我只是一个路过的，我姓许名仙，去钱塘县宝芝堂做学徒，我跟你往日无冤近日无仇，我，我求你放我一条生路吧，好歹我也救了你一条命啊<br>八两：你这个恶人，我好心饶你，你却贼心不改，你这小子，看我不杀了你<br>许仙：住手，住手，不要再动手了<br>八两：他是你们家亲戚？<br>许仙：啊？<br>八两：那关你屁事<br>许仙：可是这件事，我<br>八两：这件事是什么，这件事就是他想要杀你，我便杀了他，知道吗？我救了你这傻小子一命<br>许仙：可是，他没有要伤害我，这个落水镇已经旱了三年，他只是想要喝一口水，救自己一命嘛<br>八两：你自己的命呢？<br>许仙：我，他只是吓吓我，开个玩笑，并不曾真的要我的命，有什么事好商量嘛，何必刀光剑影的，万一伤到人怎么办<br>~<br>八两：怎么？<br>许仙；不好意思，我把你最后一口水给喝了<br>八两：喝就喝了吧，行了，话不多说了，咱们也算算帐吧<br>许仙：算帐？<br>八两：我救你一命，那是九两五，刚才那一口水，那就得值五钱银子，也别算了，整好十两银子<br>许仙：可是我<br>八两：不用说了，我了解，既然咱们俩有缘，又是在这荒郊野外的，这么办，哎呀，咱们就二一添作五，去掉个三分利，再去个五分零头，兄弟，八两，整八两怎么样？怎么？你出门在外不会没有带银两吧？<br>许仙：不好意思，本来我是有的，可来的路上，我遇到一个大伯生病了，还有啊，还有一个姑娘待产<br>八两：什么？你把这些银两都给那些无关紧要的人啦？<br>许仙：嗯<br>八两：你<br>许仙：不过，大哥你相信我，我许仙不是忘恩负义的人，等到了宝芝堂，我拿了第一个月的月钱，就可以把欠你的八两银子还给你了<br>八两：真的？那我得算上利息啊兄弟，那样也好，那咱们兄弟就马不停蹄，日夜兼程地去宝芝堂，到时候你把那八两银子给我，咱们就各不相欠，各奔东西，啊，走，现在就走<br>许仙：你这个铃铛怎么这么怪啊，滚来滚去都没有声音，难道是个哑铃吗？<br>八两：胡说，谁说我这铃铛是哑巴，跟了我这么多年，这铃铛的脾气和秉性早随了我，它呀，知道什么时候响，什么时候不响，哼，跟你说你也未必明白，走吧<br>许仙：哎哎，等等，大胡子，我还没有请教您的姓名<br>八两：人在江湖，叫什么都好，臭小子，你欠我八两银子，不如叫我八两吧<br>许仙：八两？<br>~<br>白素贞：丫头，也把你闷够了，是时候放你出来了<br>小青：整整三百年了，这凉亭底下可真不是蛇呆的地方。白素贞，没想到你还挺讲信用的嘛<br>白素贞：我说过的事情，向来不会改变有同类落难，我去看看<br>小青：喂，你别跑我们之间这笔帐还没算完呢<br>~<br>法海：妖孽，前头无路了，回头是岸<br>老人参精：你别蒙我了，回头是你的金钵<br>法海：妖！阿弥陀佛，我以为是何方妖孽，原来是条小青蛇啊<br>小青：你背后伤人算什么本事<br>白素贞：糟了<br>小青：白姐姐，他要杀我<br>白素贞：现在知道叫姐姐了<br>法海：千年白蛇精！可是她身上妖气尽除，难道受过神仙点化？<br>小青：姐姐，那和尚是谁啊？他目光冷得像冰一样，他是谁啊？<br>白素贞：他是得道高人<br>小青：法术虽然高，可是品行一点都不高，刚才啊，他在背后偷袭我，若不是我现在还有些腿软，一定打他个半死<br>白素贞：和尚别动怒，要收她总得有个理由吧<br>法海：妖就是妖，见着了，不收才怪<br>白素贞：和尚，认得我手里这把剑吗？<br>法海：是把仙剑，这剑你从何处盗来？<br>白素贞：盗？和尚何必把我想得如此不堪，白素贞是受观音点化才得到的仙剑<br>法海：观音点化，有何凭证？<br>白素贞：这是当日在剑冢求剑时得到的佛珠一串，孕有天地灵气，不如给你做个人情，换这青蛇一条性命<br>法海：果然是佛祖手中持物，难道你真的受了佛祖的点化？<br>老人参精：和尚被两个女妖缠住了，此时不逃，还待何时啊<br>法海：两蛇听着，今天念你们受过观音点化，暂且放你们一马，倘若再让我遇着，定不能饶了<br>小青：今天若不是你，我定被那和尚收了去，师傅在上，请受徒儿小青一拜哎，你这是干什么，好歹我也有五百年的道行，难道我不配做你的徒儿吗？<br>白素贞：我没什么可教你的<br>小青：你说什么，不做师傅，就做敌人，你自己选<br>白素贞：三百年了，你的脾气一点都没变，真是白费了我的苦心，我不做你的师傅，也不做敌人，不如，我们做姐妹吧<br>小青：姐姐在上，受妹妹一拜<br>白素贞：从今以后，我们便是姐妹了，这是姐姐送给你的礼物<br>~<br>八两：有啊，你看这图上说的，就在这附近啊没错，是这儿，怎么这么多堵墙啊。兄弟，不怕，站好了，我一掌推了它了事<br>许仙：哎，大胡子，无缘无故干嘛要拆人家墙啊<br>八两：那谁让它拦着我啦<br>法海：阿弥陀佛<br>掌柜：和尚要去半步多？<br>法海：一路上都在追一位老朋友，他的脚力好些，比我先到<br>掌柜：你这个和尚，都追到人家门口了，也不放过<br>法海：烦劳施主能借灯笼一用<br>掌柜：和尚法号<br>法海：法海<br>掌柜：从哪里来<br>法海：从来处来<br>掌柜：到何处去啊<br>法海：到去处去<br>掌柜：给<br>法海：多谢<br>八两：那，那咱们赶紧进去赶紧，赶紧进去啊，走，走掌柜的，刚才那和尚拿的灯笼，给我们拿两个来<br>掌柜：山野莽夫<br>八两：你说谁山野莽夫呢，你瞧他怎么说话呢<br>许仙：不好意思，大胡子他不会讲话，您可千万别见怪。眼看天色就要晚了，我们只是去投宿，还麻烦大哥您行个方便吧<br>掌柜：哎哟，这才像句人话，姓自名谁<br>许仙：啊，许仙，许配的许，神仙的仙<br>掌柜：哦，从哪儿来<br>八两：从来处来<br>掌柜：到哪儿去啊<br>八两：到去处去，怎么那么多废话呢，快点，怎么那么罗嗦<br>许仙：谢谢这怎么过得去呢，万一撞个头破血流怎么办啊<br>八两：跟着我，一直往里走就是了，要是怕，把眼睛闭上，闭眼走好了，兄弟，我们到了，这就是半步多<br>许仙：这，这真是太不可思议了，我竟然会穿墙之术啊。这里面真的可以住人吗，我怎么觉得有点诡异呀<br>八两：诡异？何止是诡异呀，这里面的事情，要是都给你说出来，不把你吓死，也把你吓病了<br>掌柜：两位，来我们半步多的不论要走哪条路，今晚上都要在这儿落脚的<br>八两：我要拿我师傅留下来的东西，三更天的时候来找你<br>掌柜：好啊请吧，请跟我来<br>~<br>白素贞：就是这儿了<br>小青：姐姐，这里黑漆漆的，看上去又破又烂，干什么非住这儿<br>白素贞：你不知道这儿的奥秘，这儿啊，可不是普通的地方，到这儿来的，除了有人，还有各路的妖魔和天上的神仙，大家来到这里，各有出路，一条通向人间，一条通向魔道，还有一条是通向天庭的<br>小青：这世上竟有这样的地方呢<br>白素贞：嗯<br>小青：看什么看，看得眼睛都快掉出来了，你没见过女人呐<br>掌柜：见过见过，但是没见过这么美的<br>~<br>掌柜：右手第一间<br>八两：走吧你看把你给吓的<br>~<br>掌柜：你等会儿您呀，住左手第一间<br>白素贞：不是早上来就订了有绣花帐子的房间吗？<br>掌柜：真是对不起了，人家多花了十两银子，实在对不起了<br>小青：凭什么把房间给他们，有钱了不起吗？我姐姐喜欢那绣花帐子，今儿个我们非住不可了<br>白素贞：小青，别说了<br>小青：可是姐姐<br>白素贞：没有就算了，出门在外，给人行方便就是给自己方便，我们就住这间吧<br>小青：姐姐，你为什么？<br>白素贞：哎呀，他们可是神仙啊<br>小青：神仙！<br>~<br>小青：真是的，茅厕也不知道找人打扫一下，臭死人了天哪，这里每扇门都是一样，这我哪儿能认得出来，这间？还是这间？一定就是这间万一闯进去，被人误会，岂不是又要挨骂？<br>许仙：大胡子，你别杀他<br>小青：糟糕，我走错地方了。哪间才是对的呢？这间，该不会错了吧？让我去看看这间也不是<br>龙王夫人：天帝的令符到了，方才令官吩咐你速去行雨，落水镇方圆五百里之内都要下遍，雨在五更时下足，到时候雷公电母会来相助的，还有，令牌亮三次，每亮一次雨要多下一尺，我只能跟令官推脱，说我家男人久病不愈，诸如此类的话，你还要我说多久啊<br>小青：姐姐果然说的没错，他们真的是神仙啊<br>龙王：有劳夫人了<br>龙王夫人：你这样躲，需要躲到什么时候啊再说，接连三年滴水未降，你去看看落水镇都成什么样子了<br>龙王：哼，谁让落水镇的百姓眼里没我这个龙王，整天就知道拜那个观音菩萨，她的庙门口门槛都快踩烂了，铜钱玉锦挂得到处都是，可是我的庙里冷冷清清，那些贡品不是青苹果就是烂梨，也不想想，以前的落水镇能，能风调雨顺，是谁的功劳<br>小青：龙王爷<br>~<br>小青：姐姐！<br>白素贞：你跑哪里去了<br>小青：姐姐，我现在才知道原来这方圆五百里三年没有降雨的原因，都是因为那个龙王搞的鬼<br>白素贞：你说什么有这等事<br>小青：当然了，那个龙王真是小心眼，他竟然为了自己的一点不痛快，就让全镇的老百姓受那么多苦难，姐姐，我们干脆给那个龙王一点厉害看看，不如我们去行雨啊<br>白素贞：你怎么不长记性，忘了三百年前的事了，这雨随便说降就降吗<br>小青：可是，我们就坐视不理啊，就任凭这老百姓受苦受难，一路上，你也看到了，那么多可怜的人，姐姐<br>白素贞：我当然看见了，我们不能袖手旁观，只是，没有行雨令符啊<br>小青：哦，谁说没有，这不是嘛<br>白素贞：你怎么敢盗天帝的令牌啊</p>
</blockquote>
<h3 id="第二集"><a href="#第二集" class="headerlink" title="第二集"></a>第二集</h3><blockquote>
<p>小青：谁让他相信那个自私的臭龙王，姐姐，你要是想骂我，那我就给他送回去好了<br>白素贞：别，让我再想想<br>小青：姐姐，你别再犹豫了，天帝说，这雨只能五更下足，五更马上就要到了，你要是再犹豫的话，真就来不及了<br>白素贞：好，我就替天行一次雨，我们是为了那些老百姓，就算玉帝知道了，也会秉公论事的<br>小青：姐姐你真好，我就知道你会答应我的。拿着<br>~<br>许仙：这么晚了，大胡子出去干什么<br>八两：这是我师傅让我交给你的，让我来取的东西，在这上面写得很清楚。看看<br>掌柜：我跟你说，你的东西在我这儿，你可千万仔细收好了<br>~<br>小青：姐姐，等等我<br>白素贞：小青，我们快点<br>~<br>老人参精：嘘，千万别出声。一会儿，一个和尚追上来，一定问我的下落，你只管说往前面跑去了<br>法海：阿弥陀佛，施主，可曾见到一个白须白眉的妖人在此经过？<br>许仙：嗯，啊<br>法海：施主的意思是看到了还是没看到<br>许仙：我从来不说谎话，但是我也从来不做那失信于人的事情，师傅还是不要为难我吧<br>法海：施主堂堂正正一个君子，跑到这儿来做什么<br>许仙：小生许仙，欠人文银八两，跟着债主大胡子来这里投宿<br>法海：投宿？恐怕不太方便吧<br>许仙：这里有什么不妥吗？<br>法海：这个地方不干净，不是小施主待的地方，听我一句话，还是赶快离开这里吧<br>~<br>八两：哎，哎，兄弟，你这是干什么呀你是<br>许仙：这里待不得了，我跟你说呀，半夜里两个姑娘在天上飞，还有啊，人没看见，那个牌九在空中跳啊跳，还有白眉白须的老头和怪里怪气的和尚，不行，这里待不得了，太危险，我替你收拾行李赶紧走<br>八两：不用，不用，不用<br>许仙：官印？你怎么会有这种东西？<br>八两：把东西给我，我说了，这是我的事情，与你无关，乱翻我东西<br>许仙：你到底是什么人啊<br>八两：我就是一个刀客，替人消灾，挣点银子花<br>许仙：刀客？我看你不像刀客。那个印，就是个凭证。哪有一个刀客带着一个官印到处乱跑的<br>八两：那依你看，我是什么人啊？<br>许仙：你是捕快。你瞒不了我，我姐夫呢就是捕快，经常把官印带在身上，你来这里，是不是为了办案？<br>八两：傻小子，你只说对了一半，没错，我师傅是个捕快，但是他所捉的不是有罪的人，而是去捉那些妖，兄弟，看见这个官印没有？凡是被我师傅捉住的妖，都要在胸口上打上这方官印，打破他们的原神，让他们不能在这世上害人。只可惜啊，我师傅一年前捉住了一只千年的紫蝠精，这个畜牲十分乖滑，苦苦哀求我师傅放他一条性命，我师傅当时一时心慈手软，放了他一条生路，谁成想他恩将仇报，就在这半步多害了我师傅的性命。如今我来取这官印，也是希望替师傅斩妖除魔，讨回那张紫蝠皮<br>许仙：千年紫蝠精？<br>法海：起来<br>许仙：师傅，这是为何？<br>法海：早跟你说这里不干净，你为什么还要赖在这个地方不走啊，若跟了无用的莽夫，误入歧途，你就永无出头之日了<br>八两：你怎么说话呢？谁是莽夫啊，慢点，他还欠我八两银子呢<br>~<br>白素贞：雷公电母听令<br>小青：姐姐，真的是雷公电母。姐姐，让我也行一次雨吧。就一次，就一次好不好？<br>白素贞：好，只一次<br>~<br>掌柜：这里三年滴雨没下，难道是龙王爷开恩了不成？<br>八两：不过是江湖术士的花招而已<br>法海：云端妖气弥漫，难道是妖孽作法？<br>许仙：管它是什么道士的花招，还是妖孽作法，总之，百姓有救了<br>~<br>小青：雷公电母听令，雷公电母，你们现在行雨，要多多的下，让这里的老百姓都有水喝，最好是下个一百年一千年的，这落水镇就有得救了。姐姐，你看，那些老百姓他们都快乐死了，把咱们当神仙呢<br>白素贞：青儿，你亮了几次令牌？<br>小青：我也不记得了，反正是越多越好了<br>白素贞：我看是你要疯了，死到临头你还不知道，这令牌是随便亮的吗？你忘了，龙王夫人是怎么说的<br>小青：对了，我好像想起来了，龙王夫人说是三次<br>白素贞：这么重要的事，怎么能忘了呢<br>小青：我也是一番好意<br>~<br>小青：姐姐，你去哪儿？<br>白素贞：想办法止雨，救落水镇的百姓，还有你这条不知天高地厚的青蛇<br>小青：姐姐！<br>~<br>许仙：这怎么办？<br>法海：降雨的是妖<br>许仙：你不是会法术吗？不如想办法止止雨，救救百姓吧<br>白素贞：雷公电母听令，雷公电母听令，雷公电母听令<br>小青：姐姐，没有用的，记得龙王夫人说过，这令牌只有到五更才有效，现在已经过了五更了，这雨呀，我们无论如何也止不住了<br>白素贞：不管怎么样，今天拼了命也要试一试。青儿，不要怕<br>小青：姐姐，都是我的错，干脆你不如让我一死了之，向天地谢罪，免去老百姓这场灾祸好不好<br>白素贞：死算什么本事，留些力气，快跟我一起止雨<br>小青：事到如今，青儿全听你的<br>法海：阿弥陀佛，白素贞，还你佛珠<br>白素贞：送出的东西，怎么还能要回呢？你帮我们姐妹止雨，谢你还来不及呢。这佛珠可助你修行，你还是拿去吧<br>法海：阿弥陀佛，白素贞，我念你止雨救人，今天暂且放过你们，若是改日碰着，妖就是妖，不用废话，先收了你们再说<br>小青：姐姐，这和尚得便宜还卖乖<br>白素贞：糟了，天快亮了，半步多大门要关了，青儿，我们赶快回去<br>小青：嗯<br>~<br>八两：兄弟，快点，再不快点天就快亮了，快点<br>小青：姐姐你听我说好不好。姐姐，你听我解释啊<br>八两：看什么呢<br>许仙：这两位姑娘好面熟啊，好像有什么心事吧<br>八两：哎哟，是姥姥也管不了，快走吧，快点<br>小青：姐姐，你不可以再回到这里来了，你要知道，雷公电母都已经告到玉皇大帝那儿去了，如果我们现在不走的话，就来不及了<br>白素贞：不行，青儿，我一定要进半步多<br>小青：姐姐，你。姐姐，姐姐<br>白素贞：观音菩萨在上，白素贞前来请罪。素贞本是一番好意，为落水镇百姓行雨，谁知一念之差，铸成大错，素贞自知罪孽深重，还是斗胆请观音菩萨赐福于落水镇，以免水灾泛滥，百姓受苦啊。拜见观音大士<br>观音：白素贞，三百年了，没想到我们会这样见面<br>小青：菩萨，请你不要再责怪我姐姐，难道你们这些神仙当真就是不讲道理的吗？那个龙王他假装生病，三年没有替落水镇行雨了，可是你们谁也不惩罚他，反倒是姐姐好心替百姓行了雨，不过就是下多了那么一丁点儿吗？倒是要挨你们的骂，真是不公平<br>观音：本来是来渡你们成仙的，可现在却不能了<br>小青：姐姐<br>白素贞：我知道我闯下了大祸，只要能救城中百姓，就算让我上刀山下火海我也愿意<br>观音：要想止住这场水，恐怕又要几日几夜合不上眼了，玉帝正气得发狂，到处派人捉你们这两个蛇妖，你们不如先暂回魔道再做打算吧<br>许仙：大胡子，那姑娘好像被风卷走了<br>八两：胡扯，那哪是卷走了，那是法术，哥哥我也会，看好了，急急如律令<br>~<br>许仙：救命啊，有没有人哪，救命啊<br>八两：兄弟，你没事吧？<br>许仙：我说大胡子，你到底使的什么法术啊？你不是说转眼就能到钱塘县吗？怎么掉水里了？这是什么地方啊，怎么连个人都没有<br>八两：那什么，师傅教我法术的时候吧，那个咒语长得都差不多，我可能念串行了。要不，我再念一条把咱哥俩变回去<br>许仙：不不不，我，我现在不相信你的法术，我还是情愿待在这里<br>八两：那待着就待着吧。兄弟，那个，你家里还有什么人啊<br>许仙：没有，我从小爹娘就过世了，是我姐姐把我带到苏州城的，就没有别的亲人了，你呢？<br>八两：嗨，也就我一个人。兄弟，娶媳妇了吗？<br>许仙：嗯，我还尚未娶亲<br>八两：老头！<br>普渡大仙：你们二位可是叫我呀？<br>许仙：是呀是呀<br>八两：老头！不不不，老人家，你看这大风大雨的，咱们碰到一起那是缘分，那就搭我们一程吧，啊？<br>普渡大仙：我也是受人之托，到半步多接两位女客啊<br>许仙：啊，那倒确实不太方便，男女怎能同船共渡呢<br>普渡大仙：如果你们二位不嫌弃的话，我这个船底下有个暗仓，咱们倒可以商量啊<br>许仙：谢谢，谢谢<br>~<br>小青：姐姐你看，前面有三条路，就是半步多的通道吗？<br>白素贞：你看那条，便是去天庭成仙的路，回家吧，这个地方啊，我早晚会回来的<br>普渡大仙：姑娘，到了<br>白素贞：没想到等了一千年，绕了一个大圈子，还是回到这里来了。多谢老仙人送我们一程<br>普渡大仙：我只是个划船的。姑娘，等等，你们落下东西了<br>白素贞：落下东西？<br>普渡大仙：你们还不出来啊？难道你们还想赖在船上不成？<br>八两：憋，憋死我了<br>小青：老头儿，他们是谁啊？<br>白素贞：你是谁呀？<br>八两：兄弟，人家问你话呢<br>许仙：小生姓许名仙，许配的许，神仙的仙<br>白素贞：让我想想，我要没搞错的话，你们是来错地方了吧？<br>许仙：恐怕是的，昨天晚上风大雨大，还麻烦姑娘，知不知道去钱塘县宝芝堂该怎么走？<br>白素贞：宝芝堂？青儿，你认识这个地方吗？<br>小青：我没听说过，真是奇怪了，怎么会有人把自己修炼的洞府取个那么难听的名字。姐姐，他们是谁呀？<br>白素贞：我要没猜错的话，他们恐怕是人<br>小青：人！姐姐，我们怎么可以把人带到这儿呢？如果被发现了<br>白素贞：你要去宝芝堂是吗？<br>许仙：是<br>白素贞：那你就跟我来吧<br>许仙：谢谢姑娘。大胡子，这是什么地方啊，按说已到晌午了，怎么冷冷清清的<br>八两：是啊，走了半天，这连个人影也没有，这地方诡异得很<br>白素贞：我们姐妹有事要进去一下，你们二位在此等候，千万不要乱动，更不要离开这儿，青儿<br>许仙：界衙？大胡子，这是什么地方<br>八两：这县衙我倒是去过，这界衙是什么地方<br>~<br>界官：谁呀，这是，干什么呀你们这是，我刚睡下就让你们吵起来，一点规矩都没有<br>白素贞：小哥儿啊，我们有两个朋友进了魔道，麻烦您再开一次魔道大门<br>界官：什么？开魔道大门？不行，不行，你们又不是不知道，这魔道大门一天只准开一次，刚才不是已经给你们开过一次了吗？你们的朋友今天无论有什么急事，都出不去了<br>小青：那明天呢？明天什么时候开啊？<br>界官：明天？按照道理是可以的，可是，等等啊，明天是魔道吉日，魔道圣君要在这天送他妹子出嫁，所以闭门三天，娶亲三日。这三天恐怕就<br>小青：你，天天都不能，到底什么时候能放人？<br>界官：你，你干什么你，这么凶，开门出城的日子在本子上写得清清楚楚，这魔道圣君之令，我一个小小的界官，我哪敢违背啊我<br>小青：你<br>白素贞：青儿，还不快把界官放了<br>小青：姐姐，我是着急啊。这小官算什么东西啊，我三百年前被压在西湖底下的时候，根本还没有他呢。姐姐，干脆我们就把这个事情跟他说清楚，就告诉他我们要带两个<br>白素贞：青儿，<br>小青：嗯<br>白素贞：你胡说什么，过来<br>小青：哎呀，姐姐<br>白素贞：青儿，你太久没有回过家了，不知道其中发生的事情，这半步多和魔道方圆十里之内，如今都归魔道圣君掌管，他私设这界衙，凡是进出魔道之事，都要听他的号令，何苦得罪他呢。至于我们误带了人回来，更是不能提半个字，那魔道圣君一向喜欢采人阳气，修炼法术，以便得道成仙，要是被他知道我们带人进来，那，那两个人还能活吗？<br>小青：嗯<br>白素贞：小哥，这是我从人间带来的五毒散，用来泡你的药酒刚好，不如你通融一下，我们真有急事要出去，只要一炷香的时辰就好<br>界官：这仔细看起来，倒也有个空子，这三天之后，魔道圣君的妹子要回门，午时三刻，确实有一炷香的时间，到时候这界官也要换班，你们就趁这时机出门吧<br>白素贞：好，好，好，那就有劳小哥了<br>界官：那倒不要，但是你们要记得，只有一炷香的时间，要是错过了，我可帮不上什么忙了<br>白素贞：一炷香的时间足够了<br>~<br>许仙：我说大胡子，两位姑娘进去这么久了，还不出来，不会有什么事吧<br>八两：她能有什么事啊，十有八九人家是进去吃喝去了，怕咱俩给她吃穷了，小气银子呗<br>许仙：我说大胡子，我看姑娘不是这样的人，再说，她们还好心帮我们带路呢<br>八两：有妖！<br>许仙：哪儿有妖？是老人家啊<br>小狐狸精：奶奶，奶奶<br>许仙：小姑娘你别着急，我略通医术，帮你看一下<br>八两：兄弟，别上她的当，小东西还想迷惑我？我是好孩子，我，我奶奶病得很重<br>~<br>小青：姐姐，难道我们真的要把那两个人带回家去吗？<br>白素贞：不然怎么样，如果他们走在街上，不被众妖摄取原神，也要被魔道圣君蒸成滋补阳气的血馒头。<br>小青：姐姐，这也难怪嘛，要是我们两个也吸了他们的阳气，那岂不是法力也更上一乘？<br>白素贞：你胡说什么，魔道圣君虽然跟我都想成仙，但我们是同路不同道，圣君暴虐凶残，专门吸人阳气，也不知害了多少性命，我要不是受了观音菩萨指点，也不知道行善求仙的道理，人是我们带进来的，我们要安全地把他们送回去，你呀，少打他们的鬼主意，你要是敢动他们，我定不饶你<br>小青：知道了<br>白素贞：他们人呢？<br>小青：对呀，一转眼工夫跑哪儿去了<br>白素贞：糟了<br>小青：姐姐<br>~<br>小狐狸精：奶奶，他们是人没错<br>九尾狐：乖孙女，奶奶没白疼你，等奶奶吸了他们两个人的阳气，法力大上几乘，一定给你买两件趁心的兵器<br>小狐狸精：谢谢奶奶<br>九尾狐：这大胡子的破铃铛，没完没了地响，害得我头疼。先吸了你的阳气再说。这大胡子怎么这么臭啊，真倒人胃口。好新鲜的人味，好久没有见到这么好的东西了，哟，长得还真俊啊。白姑娘，好久没来我这儿走动了，今天怎么有空了？<br>小青：老太婆，你少装蒜，你明明知道这两个人是我姐姐带来的，你还敢把他们抢了去<br>九尾狐：白姑娘，什么时候身边多了个灵牙俐齿的小丫头，说话这么不懂规矩，再怎么说，也得叫我一声九尾狐奶奶吧<br>小青：你<br>白素贞：这是我妹妹小青，刚才说话得罪了，不过，这两个人确实是我带来的，你不该打他们的主意<br>九尾狐：该不该打这个主意，由不得你<br>白素贞：青儿，小心<br>小青：姐姐，你放心，一个小狐狸，对付得来<br>白素贞：我们一直井水不犯河水，今天，就多得罪了。老狐狸，何必跟我作对<br>九尾狐：吸了他们的阳气，我就可以功力大增，还能得道做神仙，这样天大的好事，我怎么能够错过<br>白素贞：不可能！要做神仙可不是这么做的<br>九尾狐：你又没试过，怎么知道不行<br>白素贞：够了，你不要逼我在你孙女面前教训你<br>小狐狸精：奶奶<br>白素贞：怎么？你认得我这把剑<br>九尾狐：好，你有这把剑，我奈何你不得，白素贞，我一个千年狐狸精，看来是无福消受这两样好东西了，不过，你最好小心点，魔道圣君恐怕已经闻到这两个人的人味儿了，到时候他来向你要人，我看你的白乙剑还能不能救得了你<br>小青：死老太婆，怎么跑了，还没见识过我的青虹剑呢<br>白素贞：你呀，还担心她不认识你的剑吗？这九尾狐只是刚开始，希望我们能平安渡过这三天。那书生被吸了阳气，看来我要过一些真气给他<br>小青：他又丑又臭的，我可不肯像你这般过真气给他，这也牺牲太大<br>白素贞：乱喊什么，他只被吸了半口阳气，捶他两下便可<br>小青：这样便好。你醒了<br>许仙：大白天的，我怎么做起美梦来了，我梦见有一位美丽的姑娘看着我，不好意思，我们这是在哪里啊？<br>白素贞：别问那么多了，没事吧，没事就好<br>小青：没事就好，听见没，还好啊，没事<br>白素贞：青儿<br>许仙：这位姑娘好像是在生我们的气<br>白素贞：她就这个脾气，你们别太在意了，我看天色已晚，我们还是赶紧走吧，跑了一天路也累了，来，走。<br>许仙：赶紧走吧<br>八两：我，我怎么还不明白，怎么回事啊。她刚才说吃什么？<br>许仙：姑娘，你们这里的人都不太爱出门吗？<br>小青：笨死了，我们这个地方啊，是那种，是那种地方风俗啊<br>八两：那我看你们这儿的风俗够奇怪的啊<br>白素贞：你们看，前面就到了<br>小青：走啦<br>白素贞：我们到了，你们这三天就住在这儿<br>许仙：打扰打扰，不知姑娘尊姓大名，冒昧了<br>白素贞：白素贞<br>许仙：白素贞？<br>八两：姑娘刚才说要留我们住三天，不是要，要领我们去宝芝堂吗？怎么又领我们到你们家来了<br>小青：哎，你以为我们俩姐妹巴不得你们俩住这儿啊，要不是看在你们俩是<br>白素贞：我妹妹的意思是，要不是因为你们是外乡人，没有见过我们这里的娶亲大会，才不方便把你们留在这儿住下呢<br>许仙：娶亲大会？<br>白素贞：是啊，后天夜里是我们这里魔，他家妹妹出嫁，邀请全城的乡里乡亲都要参加，到了那天，满城都会很热闹，从早到晚的放烟花，美酒散得满地都是，还有戏班子在唱戏呢。公子，请你相信我，过了三天，我定将你们送出城去<br>许仙：我自然相信，自然相信，那就麻烦姑娘了<br>八两：那也得等到吃了大肉，喝了好酒再说吧<br>白素贞：两位请<br>~<br>八两：怎么有股怪味道啊<br>许仙：不是怪味，是女人家的脂粉气<br>八两：不对，绝对不是脂粉气。是什么味道呢？<br>白素贞：这是小女子初到钱塘时，路过雷峰宝刹，一位画匠师傅给我画的画，公子刚才摇头可是哪里有不妥啊？<br>许仙：我方才看到这幅画，只是有一个问题想不清楚，这么美的景色，怎么反倒让姑娘你落落寡欢呢？<br>白素贞：是啊，人们都说钱塘美，只有蓬莱瀛州这些神仙圣地可比，到了这么美的地方，我却一直想着自己的夙愿，不免有些忧伤罢了<br>许仙：我明白了<br>白素贞：你明白？你连我的夙愿是什么都不知道，你怎么会明白呢？<br>小青：姐姐，姐姐，那个大胡子吵得厉害，说他肚子直叫唤<br>八两：本来就是嘛，那你们留我们在这儿住，又不管我们吃，又不管我们喝的，天天就顾着看这幅画，这画上又没鸡腿，又没馒头的，有什么好看的<br>白素贞：青儿，快去准备些酒菜来，记得，要像人间的规矩，青菜萝卜，白米饭，再来一壶烧酒，还有，要准备碗和筷子<br>小青：干嘛那么麻烦啊，直接告诉他们这是什么地方，不就完了嘛<br>白素贞：青儿，你看那书生手无缚鸡之力，要是让他知道我们是蛇妖，还不把他吓死呀，所以，我要让他们以为这魔道不过是落脚的城镇，而我们姐妹俩不过是招待了他们三天酒菜的女房东而已<br>小青：姐姐，我怎么越听越糊涂了，你还是别说了，青儿呢，去做饭便是。大胡子，想要快点吃上热菜热饭吗，就赶快下去跟我煮饭<br>许仙：我也去帮忙吧<br>小青：你？算了吧，大胡子！<br>许仙：你快去<br>八两：我，我还得干活啊<br>~<br>八两：别客气，我自己来<br>小青：我们好好地招待人家，人家却不懂好好的回报我们，居然，居然起了色心<br>许仙：两位姑娘，我刚才看了很久，不知当讲不当讲？<br>白素贞：公子直说无妨<br>许仙：是这样，我觉得两位姑娘拿筷子的方法有问题，筷子应该是这样拿的，两根筷子托在虎口上，然后用食指轻轻一顶，而不是像你们那样握在手中的<br>许仙：不对不对，姑娘又错了，古书上说呢，羹中有菜者才可以用筷子去夹，而无菜的汤汁，只要捧起啜饮即可，不能用筷子的，否则的话，会被视为失礼<br>小青：你！<br>白素贞：这可能是地方习俗不同而已，书生不用太介意<br>许仙：不是习俗的问题，是对筷子的用心<br>八两：嗨，两根筷子，什么心不心的<br>许仙：大胡子，古诗上呢，是对筷子这样说的，殷勤问竹箸，甘苦乐先尝，滋味他人好，乐空来去忙，这诗呢，句句都是在说这筷子对人的无私奉献，我们用它吃饭，却不用心对它，这不是辜负了它吗？你们说是不是这个道理<br>小青：什么诗啊，什么心啊的，我们姐妹好心招待你们，把你们留下来住宿，你竟然挑三拣四的，我们想怎么样就怎么样，想怎么拿就怎么拿，用得着你管闲事呀，再说了，不过就是双筷子吗？现在我就给它折断<br>许仙：姑娘你误会我的意思了，我没有存心挑毛病，我只是看两位姑娘好像不太会使筷子，所以我才<br>小青：你才不会使筷子呢。我和姐姐想这样便这样，想那样便那样，关你什么事啊。你不过是一个过路的客人而已，三天以后，我们就再也不会相见了，你管我们<br>八两：兄弟，别那么多事，填饱肚子要紧<br>许仙：没有心，填饱肚子又有什么用呢？<br>白素贞：知道你的学问好，请慢用<br>许仙：我说错了哪句话得罪了姑娘<br>小青：哪句说错了？你啊，根本就没有一句说对过，我告诉你，你不说话没人把你当哑巴</p>
</blockquote>
<h3 id="第三集"><a href="#第三集" class="headerlink" title="第三集"></a>第三集</h3><blockquote>
<p>白素贞：都安顿好了吗？<br>小青：安顿好了，你倒是把房间让给他们住，可那个大胡子还嫌东嫌西的，一会儿说房间有胭脂味，让他头疼，真是的，对了，还有，一会儿又说床上丝绸被子他根本用不惯，对了对了，还有那个书生，自从你离开饭桌之后，傻了似的，一句话也没说过，这饭进嘴里嚼都不嚼他就往下咽，拿着双筷子自言自语的<br>~<br>许仙：白姑娘，不知道你休息了没有？我只是，只是<br>小青：又来了<br>许仙：我，不知道该怎么跟姑娘你说，我是特地来跟姑娘道歉的，就是，就是我，我今天，今天做了一件傻事，就是，就是刚才在吃饭的时候，那双筷子的事，那双筷子的事，有点傻我道歉的话也说完了，我也安心了，那白姑娘我现在就先回去了，对，我现在回去了<br>小青：姐姐，我真的搞不懂这些男人，你说，先是故意找你的麻烦，现在呢又跟你赔礼道歉，真是的<br>白素贞：不过这书生倒不像我以前见过的那些男子，一个个装腔作势，心里想的一样，说出来的又一个样子<br>~<br>白素贞：糟了，他来了<br>小青：你是说他？给，你的鞋！<br>白素贞：圣君亲自驾到，应该是素贞登门拜访才对<br>魔道圣君：听说姑娘回来了，顺便来看看怎么？不请我进去坐坐？<br>白素贞：今天不太方便，这两天赶了不少路，身上倦得很，想早点歇下了，明天我一定登门拜访<br>魔道圣君：姑娘，有客吧？<br>白素贞：只是两个远方的表亲，住一两天就走了<br>魔道圣君：怕这门亲戚，不是我们魔道中人吧？<br>白素贞：怎么可能？我怎么敢在你的鼻子底下把人带进来呢？<br>魔道圣君：白姑娘一心成仙，从来对采阳补气的功法不屑一顾，这次未能遂心愿得道成仙，我还以为姑娘也活动了心思，准备了两个新鲜人来补补阳气，没想到，是我多想了<br>白素贞：没什么，是一场误会<br>魔道圣君：那就不打扰了，告辞了对了，倒忘了提醒姑娘，明天夜里是我妹子出嫁的日子，姑娘不妨和你的远房表亲一起来热闹热闹<br>白素贞：我看不必了，他们都没见过什么世面<br>魔道圣君：白姑娘，就这么不给面子？<br>白素贞：好，我让他们去就是了<br>~<br>白素贞：你干什么？<br>许仙：我刚才在花园里散步<br>白素贞：三更半夜的，在花园里散什么步？<br>许仙：我，我看，看月亮<br>白素贞：看月亮？<br>许仙：我，看<br>白素贞：你们家乡的规矩，离姑娘说话这么近的吗？<br>许仙：造次，造次，刚才得罪姑娘了姑娘的手怎么冷得像冰啊？<br>白素贞：我从小生了一种怪病，身子奇冷，看过很多郎中，都没有什么用月亮就这么好看吗？<br>许仙：月亮当然好看，可是有关月亮的故事我却不太喜欢<br>白素贞：又有故事？你的故事还真多呢<br>许仙：姑娘，你知道嫦娥的故事吗？<br>白素贞：嫦娥有什么不好吗？她求得仙丹，飞上天宫，做了神仙啊<br>许仙：不对不对，虽然嫦娥飞天做了神仙，但是她形单影只，只能一个人留在广寒宫和玉兔为伴，如果她当初留在后羿身边的话，现在一定是男耕女织，生了一大堆的孩子，逍遥自在，快乐无比<br>白素贞：我倒不这么觉得，让那倾国倾城的嫦娥，一个人守在破茅屋里等着后羿回来，洗衣做饭，纺线织布，日子周而复始，不比泡了十年的米还乏味吗？<br>许仙：姑娘错了，泡了十几年的米一定会酿出一坛好酒，酒香四溢，泡得越久就……，姑娘，既然体寒，你为什么还要光着脚呢？<br>白素贞：我刚才出来急了，所以忘记了<br>许仙：姑娘在这里等着，我替姑娘回去把鞋取回来，夜路不好走，小心把脚划伤，姑娘你别动，你千万等我回来<br>~<br>许仙：小青！<br>小青：见着我姐姐还知道叫姑娘姑娘的，怎么到了我这儿就小青小青的<br>许仙：对不起小青姑娘，怎么一上午都没见着白姑娘的身影呢？<br>小青：你找她干嘛？<br>许仙：是这样，昨天呢，我听说她从小就落下体寒这个病根，所以我查了一夜医书，但还是没有找到合适的方子，我现在想亲自为她搭脉治病<br>小青：治病？你这个人管的事还真挺多的，你知道我姐姐现在有多要紧的事要做，昨天晚上要不是因为你们两个，她差点就性命难保了，还治什么病姐姐叫我不要说<br>许仙：小青姑娘<br>小青：我可告诉你啊，我可没有我姐姐性子那么好，没有时间听你讲什么故事，你的那些故事就省省吧，三天以后，我们就送你们去该去的地方，以后大家老死不相往来，谁还会记得像你这么呆头呆脑的书生啊<br>八两：一个姑娘家家的，说话这么大口气，你看，走道儿还扭啊扭的，哪有点规矩人家女孩的样子嘛<br>许仙：大胡子，你不要乱说话，小青姑娘是脾气坏了些，可是那位白姑娘却是宅心仁厚，高贵大方干什么？<br>八两：兄弟，不得了，印堂发黑，有劫难<br>许仙：什么劫难？<br>八两：傻兄弟，什么劫难，桃花劫啊<br>许仙：桃花劫？<br>~<br>小青：姐姐<br>白素贞：青儿，你退后<br>小青：姐姐，你这写的都是什么字啊？<br>白素贞：这是梵文<br>小青：梵文？你不是妖吗？怎么会写经啊？<br>白素贞：你不记得观音大士在半步多对我说的话了吗？<br>小青：观音？<br>观音：白素贞，那千年紫蝠精已自封为魔道圣君，与你水火不容，你难逃此劫，我临别送你一道剑符，关键时刻，可助你避过此劫<br>白素贞：据我所知，世上能制服那紫蝠精的人，是一个手执官印的捕快，只可惜一年前他已经被害，我看这世上再没有能降住他的宝贝了<br>小青：那姐姐你今天晚上去他府上，岂不是很危险？你又何苦为了那两个人，去跟魔道圣君过不去呢？不如，不如拱手相送，还能讨个人情呢<br>白素贞：不行，人是我带回来的，就要由我送回去<br>~<br>八两：几页破纸，你翻来覆去看了一天了，你还看啊<br>许仙：真是奇怪，我看了一天的医书，居然没有找到可以治白姑娘体寒的药方大胡子，你干什么这么瞪着我？谁得罪你了？<br>八两：谁得罪我？还不是你的白姑娘，把咱哥俩当犯人似的关在这儿<br>许仙：白姑娘已经说了，咱们在这里人生地不熟，出去会迷路的<br>八两：胡说八道！迷路？我八两什么没见过，走南闯北的，又不是三岁娃娃，迷什么路啊她还跟咱哥儿俩说，说什么共享娶亲大会，胡扯！<br>妖甲：那娶亲大会可真是绝了，在那九尾家的温柔箱里沐浴更衣，那可真是舒服啊<br>妖乙：哎呀，九尾家算不得什么，不如金蛇家的女儿红销魂呢<br>妖丙：要我说呀，魔道的娶亲盛会，王婆的那个肉馅馒头，你们错过了才可惜呢<br>八两：兄弟，你听听，你听听，听着都让人心痒痒，要不咱哥儿俩出去见识见识去？<br>许仙：不行，我答应过白姑娘，不出去的<br>八两：你怎么这般听女人的话好兄弟，那咱们别的不求，刚才他说那个大肉包子，心里想得慌，这两天她们家萝卜青菜的，肚子素的要紧要不然这么着，我呀，先出去吃点，等回来再给你带点好的是不是兄弟吧！<br>~<br>许仙：小青姑娘，我们的茶喝完了，麻烦你再沏一壶<br>小青：真是麻烦<br>许仙：谢谢啊<br>~<br>八两：来一喘气的<br>老板娘：大兄弟，来吃大馅馒头啊？要几个馒头，几两酒啊？<br>八两：站好喽，别跟我嘻皮笑脸的，拣你们这儿最好的馒头，最好的酒给我上，记住，这酒要给我热过三遍再上桌<br>老板娘：你且坐下等等，馒头、好酒就上来啊<br>八两：什么大兄弟，哼！<br>男妖：好新鲜的阳气，只可惜要孝敬圣君，要不然无论如何我都要尝上一口<br>女妖：大胡子自己还不知道呢，马上就要成为圣君喜宴上的贺礼，那白素贞还真狠毒，为了讨好圣君，这样的事情也做得出来<br>男妖：那白素贞也是千年的蛇妖，难道还真能与人为善，我们妖就是妖，都是一样的货色<br>八两：有妖气！<br>老板娘：馒头来了<br>八两：老板娘，你这茅厕在什么地方？<br>老板娘：茅厕啊，在后边<br>八两：后边？先把银子押这儿，我先上趟茅厕<br>老板娘：哎哟，这边，你看<br>~<br>八两：兄弟，看什么呢<br>许仙：你怎么才回来？你这样让我怎么跟白姑娘交代？<br>八两：不用交待了，此地是魔道，妖气太盛咱哥儿俩收拾收拾东西赶紧走人<br>许仙：那咱们怎么办啊？赶紧叫上白姑娘和小青姑娘一块儿离开这里吧<br>八两：许仙，都什么时候了，你还白姑娘白姑娘的，你脑子坏了不成，你想想她都长成那样了，不是鬼就是妖，通知她，咱们哥儿俩走得了吗？<br>许仙：不可能，她长得那么美，怎么会是妖呢？<br>八两：我跟你说了这么多你还不明白，所谓蛇蝎美人，哪个长得不跟一朵花似的，她们为什么把咱哥儿俩留这儿，就是想吸咱俩的阳气，练她们的妖术<br>许仙：我不信！她们要真想害我们，早就动手了，可是我们到现在还是好好的<br>八两：这点我也没想明白，等想明白了，咱哥儿俩也走不了啦<br>许仙：我不走！<br>八两：兄弟，我知道你心善不肯信我，哥哥我只有出此下策了剑符！两个妖女想用剑符困住我们，还好，我跟师傅学过几招解这剑符的法术，看我怎么破你的符<br>许仙：大胡子，你干什么呢？<br>八两：走，兄弟，快跟我走，快走，兄弟你是谁啊？<br>魔道圣君：我是谁你师傅恐怕比你更清楚<br>八两：你是魔道圣君，害死我师傅的紫蝠精<br>魔道圣君：现在才明白，可你比你师傅差多了<br>八两：那大馅儿馒头铺<br>魔道圣君：那是我耍的一点小手段，白素贞费尽苦心布下的剑符又有何用，你们还不都是乖乖地出来了<br>许仙：大胡子，我突然想到一味药，或许能治白姑娘的体寒之症<br>~<br>八两：有人没有啊，赶紧把我放出去，我告诉你们，再不放八两爷爷，看我出去怎么收拾你们这都什么鬼地方，怪不得我小时候我娘给我算命，这算命先生说了，你这小子将来就要犯在这水上，你瞅瞅，你瞅瞅，这全是水，不死也得泡发霉了兄弟，你倒是说话言语一声啊<br>~<br>白素贞：他们到底走了<br>小青：怪不得那许仙拼命让我给他添水，这个笨男人，非要把自己的命送上门去吗？姐姐，由他们去算了，谁让他们不信任我们<br>白素贞：不行，我一定要去救他们，如果我不去，他们就死定了这两条命是我捡来的，我要他们活着<br>小青：可是，我们去的话，不也是死路一条吗？<br>~<br>八两：兄弟，我跟你说，你听见没有，今天晚上咱们哥儿俩就得想一办法，趁着天黑跑出去<br>许仙：我不走<br>八两：你疯了，你不走，还在这儿等死啊？<br>许仙：我不相信你说的话<br>八两：那合着我刚才说的话全白费了，兄弟，我要是骗你，咱哥儿俩怎么会在这鬼地方待着<br>许仙：就算那个什么魔道圣君想要我们的命，我相信白姑娘也是不知情的<br>八两：你还白姑娘白姑娘的，我看你那白姑娘跟那魔道圣君根本就是一回事，他不好下手，就找来一个有几分姿色的女人好接近你，你知道什么叫美人计吗？这就是美人计，我懂他也就是骗骗你这种满肚子诗情画意的傻小子<br>许仙：不，她不是那种人<br>八两：我管她哪种人，许仙，醒醒行吧，都什么时候了，死到临头了你还看不清是非啊，你刚认识她几天啊，她是人是妖你怎么知道啊<br>许仙：我不想听你说的话，我不想听<br>八两：我真想揍你一顿，不打你，你醒不了<br>许仙：你打好了，反正都是一死，死在你手里，也许还好些<br>八两：我，我美得你，要是真把你打死了，那谁还我那八两银子，你说真是，我怎么就认识你这么个兄弟，命啊，这就是命<br>~<br>小青：姐姐，我已经找到许仙他们了，他们在水牢里面<br>白素贞：快拿他的令牌，快点<br>小青：我找到令牌了<br>白素贞：你拿着令牌，快送他们出城<br>小青：好对了姐姐，那你怎么办？<br>白素贞：别浪费时间了，快走<br>~<br>八两：妖孽，跑这儿干什么来了你要敢动我兄弟一根汗毛，别怪我不客气<br>小青：你们两个现在给我听好了，赶快过来，跟我一块儿走吧，这个就是魔道圣君的令牌，你们拿着它，出城门，去半步多客栈，就可以找到回家的路了，听见了吗？<br>许仙：小青姑娘，你告诉我，你们不是妖，对吗？<br>小青：就算你把这个问题问清楚，又能怎么样<br>许仙：小青姑娘，你告诉我，你们不是妖对不对？<br>小青：我说你们这些男人可真的很可笑，死到临头了，竟然还问这些问题，可是我姐姐此时此刻却要在外面为你们拼命，说不定，还要赔上自己一条性命，姐姐真是不值得，她竟然还让我回来带你们两个走，虽然我小青并没有你读的书那么多，却比你们更明白义气两个字怎么写，我是绝对不会，不会丢下我姐姐的，至于你嘛，好自为之吧<br>八两：那，那什么，小青姑娘，就算你是妖，也是好心的妖，对不对？八两错怪你们了，兄弟，走<br>~<br>魔道圣君：为了两个人，废了你一千年的道行，我都觉得可惜<br>白素贞：人是我带进来的，自然由我带出去<br>魔道圣君：可是我不明白<br>白素贞：你不明白的事情还多着呢，来<br>~<br>八两：小青姑娘，再次感谢啊你说，既然咱们逃命嘛，干嘛不快点，非得跟着你转来转去的呀<br>小青：废话，魔道上下戒备森严，像你们俩这样的身手，出得去吗<br>八两：那你姐姐既然有那么大本事，对不对，把令牌都盗过来了，她施个法把咱们都弄出去不就完了吗，对不对兄弟？<br>小青：说什么呢，你以为我姐姐是神仙，什么都办得到<br>八两：我不是想早点出去嘛<br>小青：糟了，我姐姐有难，我现在要回去帮她，不能浪费时间了，给，这是令牌，你们听清楚，顺着这里一直往前走就是魔道大门口，有人拦你们的话，你们就亮出令牌，自然就没有过不去的，我先走了<br>八两：后会有期<br>小青：我想，可能这辈子咱们都不会再见面了<br>八两：小青姑娘，不管你愿不愿意，我谢谢你走吧，兄弟，兄弟，你哭什么呀，兄弟<br>魔道圣君：怎么会这样？怎么会这样？<br>小青：姐姐，姐姐你没事吧？<br>许仙：没事吧？白姑娘<br>白素贞：你们怎么还在这儿<br>小青：还算你们两个有情有意，姐姐<br>许仙：快上轿子<br>八两：快，快点儿<br>许仙：大胡子，快救我啊，<br>八两：接着，兄弟用力，盖在他胸口上<br>许仙：救我啊！我不是故意的，我不是故意的<br>八两：兄弟，该讨的都讨回来了<br>白素贞：快上轿子，快<br>八两：快，快走，走<br>小青：快，快点，快点<br>八两：小青姑娘，起！<br>小青：好！<br>八两：走！<br>~<br>小青：姐姐，午时三刻早就过了，那界官怎么还不开城门呢？<br>白素贞：若见不得血，就把眼睛蒙上吧<br>许仙：白姑娘，你的手受伤了<br>小青：姐姐<br>白素贞：没有大碍<br>小青：姐姐你只管进轿歇着，抬轿子的事情，交给我和大胡子就行了<br>许仙：是啊，姑娘伤得这么重，而且，我多少懂一些医术<br>小青：你的医术省省吧，姐姐，走<br>八两：坐稳了，走嘞闪开，快闪开！<br>老人参精：快，快关城门<br>八两：胡说，关什么城门，我们还没出去呢<br>老人参精：和尚，那个和尚追我来了，他要收了我<br>白素贞：什么和尚？<br>老人参精：那和尚已经追了我七天七夜了，一直把我追到半步多，我在魔道门口已经蹲了三日了，姑娘，你快救救我，他那金钵，他那金钵真的很厉害呀<br>小青：姐姐，我们得赶快出去啊，魔道大门马上就要关了<br>老人参精：白姑娘，你，你行行好，你救救我吧，救救我吧<br>法海：妖孽，哪里逃阿弥陀佛，谁人敢阻止我捉妖<br>白素贞：和尚，你也太难缠了吧，竟然从半步多追到魔道，你追的只不过是有两百年道行的老人参精，他可做了伤天害理的事？<br>法海：没有<br>白素贞：既然没有，就放他一条生路<br>法海：降妖除魔是我的本分，我已在佛祖面前立下宏志，我法海有生之年，见妖擒妖，遇魔除魔<br>八两：这妖也有善恶之分吧？这杀了善的不跟错杀了好人一样吗？<br>法海：我在这世上，只分正邪，不论善恶<br>白素贞：这么说来，今天你非收他不可了<br>法海：当然，我不仅要收他，我还要收你<br>许仙：发生什么事了？<br>小青：许仙<br>八两：没你什么事，兄弟，赶紧回去<br>白素贞：青儿，带他们走<br>八两：走！<br>法海：收妖！<br>白素贞：变张人脸我就怕你？该看我的了<br>法海：妖孽，你跑不了啦<br>小狐狸精：奶奶，跑了两个，又来了个精壮的大和尚<br>九尾狐：好孙女，今天可不能再丢下这个了<br>小青：姐姐，你干什么又回去呀？别管那个和尚了<br>九尾狐：白素贞，你害了魔道圣君，在魔道自身难保，为什么还要来管我们的事<br>白素贞：他也是一条人命，由不得你们胡来<br>八两：快走啊，快点呀，快<br>许仙：和尚师傅也来了，轿子里地方小，我看大家还是把锋利的东西都收好了，小心伤着自己<br>法海：等我收了这些妖孽，你跟我走，我渡你出去，这不是你该来的地方<br>许仙：这位师傅你怎么说话这么不可理喻啊，要不是白姑娘救了你一命，白姑娘，你告诉他你不是妖，你不过是和那个大胡子一样会点法术罢了<br>白素贞：我何必跟他废话，你要想跟他走，尽管走，我不拦你<br>许仙：你还是自己走吧，白姑娘是人是妖，我自己清楚<br>法海：小施主，你糊涂啊你<br>老人参精：别管我了，你们快走啊<br>~<br>八两：兄弟，我们到了，赶紧出来吧睡上一觉，明天就到家了<br>白素贞：咱们今天就在这里住下，你们先换件干净衣服，我和小青还有点事情要办<br>许仙：姑娘，这么晚了，你们要去哪里啊？<br>小青：还不是忙着帮你们去订通界舟上的座儿<br>许仙：这通界舟是什么？<br>八两：就是普通的船，没两样，是吧？<br>白素贞：青儿，我们走吧<br>许仙：可是<br>八两：你可是什么呀，你一个大男人怎么那么罗嗦<br>许仙：可是天这么晚了，说不准就有场大雨，她们两个弱女子在街上会不会……<br>八两：兄弟，你是不是脑子又坏了？这弱女子我没看见，我就看见一弱男子，走吧，走吧，走吧，你不饿啊，你不饿，我可饿了走吧，走吧，哎呀快点，快点走吧快点，快点走吧，兄弟你又干什么去啊？<br>许仙：白姑娘，小青，请留步<br>白素贞：你还有什么事啊？<br>许仙：我有东西要给你<br>小青：你这人怎么那么麻烦，什么东西非要现在给不可，要是晚了，可就定不上通界舟的座儿了<br>许仙：天色怪得很，怕是要下雨了，这个你拿着<br>八两：兄弟，她们哪里用得着伞啊，回去吧，回去吧<br>~<br>小青：姐姐，你怎么一路上都拿着这个破伞看个没完没了的啊？<br>白素贞：这伞再破，也是人家的一点心意糟了，我们来晚了<br>船夫：两位是来定座位的吧？<br>小青：是啊，是啊，小官，有两个朋友要去人间，赶着来定两个座位啊<br>船夫：已经晚了，三天之内的船位都没了，三天以后再来吧<br>白素贞：等等，等等，不行，我们很急，明天一早就要走<br>船夫：就是啊，再急也没有用，位子没了说来也凑巧，你们可能不知道，据说两个蛇妖竟把两个活生生的男人给带进了魔道，其实你们一来，我就知道你们是什么人啦<br>小青：我们是什么人啊<br>船夫：你们就是大闹魔道的白素贞和小青，我还知道，白姑娘曾经受过观音菩萨的点化，菩萨给了你一颗仙丹<br>~<br>八两：兄弟，你怎么了，脸色不对啊，不舒服？<br>许仙：这里到底是什么地方？<br>八两：什么？<br>许仙：这里白天冷清，晚上热闹，街上的轿子在天上飞，所有的人说话都怪里怪气的，一些人追着我们不放，先前就是那紫蝠精，后来又跑出来个和尚说白姑娘是妖，白姑娘是妖，她为什么和我们一起与那紫蝠精打斗呢？她若不是妖，那和尚为什么追着她不放，大胡子，你能不能告诉我她们姐妹两个到底是哪家闺秀，为何身患体寒之症，还武功高强，还会那些撒豆成兵的法术呢？<br>八两：其实是，哎哎，兄弟，你饿不饿？我闻到饭菜香味了，我饿了，她们不回来咱们先吃点吧<br>许仙：大胡子，你等等<br>八两：我都饿了，你不饿吗？<br>许仙：你先告诉我这到底为什么呀，为什么会发生这些事情呢<br>八两：咱们先吃点吧<br>许仙：你先告诉我，你告诉我，快点<br>八两：好了，别闹了，你真的想知道？只要你不怕，我告诉你<br>许仙：等等，其实我刚才已经猜到了，让我来说，这里白天冷清晚上热闹，是因为大家都早出晚归，劳作辛苦，所以晚上难免出来娱乐一下，至于大家说话奇怪，可能是因为乡音未改，还有，就是那和尚说他们是妖，可能是因为白姑娘本身就是捉妖之人，抢了他的风头，他心里不能受用，就说出一些谎话来编排白姑娘，还有，至于姑娘会法术，我想有可能是因为她从小就身患体寒之症，所以多少要学些武功来强身健体，难免哪位师傅教了她一两招法术，你说，我说得对不对，大胡子<br>八两：其实<br>许仙：我现在才觉得饿了，真是该吃饭了</p>
</blockquote>
<h3 id="第四集"><a href="#第四集" class="headerlink" title="第四集"></a>第四集</h3><blockquote>
<p>许仙：我现在才觉得饿了，真是该吃饭了你们回来了<br>胖掌柜：这是您的，这个是您的，慢用，烫啊慢用啊<br>白素贞：青儿，不吃你的东西，盯着人家干什么<br>小青：我倒要看看这忘恩负义的人都长成什么样子，咱们好心救他，怕他害怕，千方百计地瞒着，结果，他却在背后怀疑起我们来了<br>白素贞：算了，经过这么多事，有些怀疑也是难免的，而且他刚才不是也有答案了吗<br>小青：姐姐，你看，那和尚怎么来了？可是他是怎么逃出魔道的？<br>白素贞：他不是一般的和尚，他手中的金钵法力无边，想必是得道的高僧<br>小青：他来这儿做什么，难道还为了捉老人参精？<br>白素贞：恐怕这次他是冲着我们来的<br>小青：我们？掌柜的，来碗素面<br>胖掌柜：好您的素面来了<br>小青：来了，太好了那和尚跟我们是一路的，你替我把这碗面送过去，他穷得很，没钱买面吃，你别告诉他是谁出的银子，我怕他害臊不肯接受，只是说店家舍给他的就是了<br>胖掌柜：好<br>小青：去吧<br>胖掌柜：师傅，这是我们送您的一碗素面<br>法海：阿弥陀佛<br>胖掌柜：您慢用<br>法海：多谢施主<br>小青：太好了！许仙，你少管闲事<br>许仙：出门在外，少个冤家多条路走，多大的冤仇都有头，如果能化干戈为玉帛的话，不是又多了个朋友吗师傅，吃这刚才是小青姑娘和你开了个玩笑，她们姐妹俩虽然行为古怪，但是心地却很善良，如果她们有什么打扰你的地方，我就替她们跟你道个歉<br>法海：施主<br>许仙：师傅还有事吗？<br>法海：你当真看不出来她们是妖吗？<br>许仙：师傅，我想你可能是误会了，她们是两个弱女子，会些法术不假，但绝不会是妖<br>法海：我看你相貌堂堂，是有些慧根的，为什么却执迷不悟，跟那些妖魔厮混在一起呀<br>许仙：我诚心跟你道歉，你可千万不要血口喷人<br>法海：那白素贞是千年蛇妖，她体寒如冰，没有我们做人的半点温热，怎么可能是人<br>许仙：那是她从小就患了体寒之症，我现在正在想办法替她医治<br>法海：看来，你已经被那蛇妖迷惑了心智好吧，不让你看个清楚，你定不能信我这是一幅观音图，是能降妖除魔的宝贝，你将这幅画置于那蛇妖的床头，只需三个时辰，定能让那蛇妖现出原形，到时候你自然就相信我的话了，拿着<br>许仙：什么观音图，你怎么满口胡话，我决不相信她们是妖<br>法海：她若不是妖，自然不怕这物件，你又何必推辞呢<br>八两：兄弟，赶紧回来吃你的饭，不然都该凉了<br>许仙：噢<br>~<br>白素贞：书生刚才和那和尚讲什么笑话呢，说了这么半天<br>许仙：没，没什么<br>白素贞：这干戈可化成玉帛了？<br>八两：挤来挤去的，进了沙子不成？我给你看看<br>小青：那和尚恐怕告诉你我们两个是妖吧<br>许仙：没有，和尚没有说你们是千年蛇妖<br>白素贞：说了就说了，公子何必替他掩饰<br>许仙：姑娘你误会我了，其实我怎么会觉得你是妖呢，我要是心里真觉得你是妖，就让我天打雷劈<br>白素贞：公子要真相信我们姐妹是妖的话，大可不必跟着我们，吃完这顿饭之后，我们各奔东西好了<br>许仙：好，好，好，我承认，那个和尚确实跟我说你们是蛇妖，可是我的心里，却真的没有这么想过啊<br>白素贞：哼！<br>许仙：你哼是什么意思<br>白素贞：前后矛盾，还说心里没鬼<br>许仙：哼！<br>白素贞：你哼什么<br>许仙：难怪姐夫说女人都是无理取闹，要不是怕你不高兴，我怎么会说谎呢？要不是怕你不高兴，还不是因为我……<br>白素贞：你，你什么<br>小青：大胡子，他们两个在干什么呢<br>八两：男人和女人吵架没见过？<br>小青：见过，但是我们那儿吵架可不是这么吵的<br>八两：小青姑娘，那你们那儿是怎么吵的？<br>小青：我们那儿啊，吵架都是真刀真枪的比划<br>八两：还是你们那儿吵架好，不像我们这儿，整天两个人吵来吵去的分不清谁对谁错，哼，无聊得很<br>白素贞：你干什么<br>许仙：那和尚说你体寒如冰，是千年蛇妖，不如你让我替你诊断，然后对症下药，病治好了，那和尚就不会乱讲话了<br>白素贞：你要是信我，又何必在乎别人说什么，所谓治病，不过想证明给别人看，又有什么意思。小青，我们走<br>许仙：大胡子，我们分开走比较干净，省得她们看着碍眼<br>~<br>许仙：女人真是难懂，前一刻还拼死拼活地救你，后一刻就眉毛不是眉毛，嘴巴不是嘴巴，真是搞不明白<br>筷子公公：是啊，女人向来都是这么麻烦的<br>许仙：谁？谁在说话？你们是谁啊？是怎么进来的？<br>筷子公公：我们是筷子啊，我们就是你的筷子啊<br>许仙：什么筷子？<br>筷子婆婆：就是，我们被那个和尚掉在地上，不是被你捡回来了吗？<br>许仙：你们不会是开玩笑吧？<br>筷子公公：我们是筷子，沾了谁的口水，谁就是我们的主人，你刚才从那和尚的手里得到我们，就是我们的主人了，现在你可以说出一个愿望，我们一定会帮你实现的<br>许仙：这样？我想到了，我想求一个药方<br>筷子婆婆：药方？<br>许仙：对，要一个药方，能医好白姑娘的体寒之症，只要白姑娘的病能被治好，那个和尚便不能说白姑娘是妖了<br>筷子公公：这么简单？你可得想好了<br>许仙：我想好了<br>筷子公公：抄好观音心经，这白纸自然就变成药方了<br>许仙：谁？<br>法海：小僧法海<br>许仙：和尚这时候找我做什么？<br>法海：阿弥陀佛<br>许仙：师傅有什么事吗？<br>法海：我想起来丢了一样很重要的东西，应该在这里<br>许仙：你的东西怎么会在我这里？<br>法海：一双筷子<br>许仙：一双筷子？你这和尚怎么这么没有礼貌？三更半夜往人家屋里闯<br>法海：我就说会在这里正经事还没做完，怎么能丢呢？<br>许仙：你等一等，那筷子是我的<br>法海：观音心经？小施主，经书读得再多，一旦被妖魔所迷惑，那也是徒然记得我跟你说过的话，只要把那观音像挂于那妖孽的床头，不出三个时辰，一切就会真相大白<br>许仙：去你的观音图吧<br>小青：这个是什么？这个神仙看起来面熟的很，让我想想，这不是观音菩萨吗？姐姐不是一向很尊敬菩萨的吗？不如我拿回去讨姐姐的高兴，让她开心一下<br>~<br>小青：姐姐，你那卷面相里呀，根本没有书呆子的那种类型，我看书呆子嘴角上翘，还有呢，整天傻笑，一副色迷迷的样子，恐怕呀，是男人里的极品<br>白素贞：谁说我在想他？他什么样，关我什么事。一会儿我们就走了，从此再无瓜葛唉<br>小青：那你为什么叹气啊？<br>白素贞：我哪有叹气啊？<br>小青：刚才你明明叹气了<br>白素贞：没有就没有<br>小青：我分明听得很清楚，你就这样，唉好了，好了，你不要不高兴了，你看我刚刚得到了一个好东西，想不想看啊？看看嘛既然姐姐不高兴，那我干脆把它扔了了事，只可惜哪，这观音画得那么的传神，扔了怪可惜的<br>白素贞：你说画上画的是谁？<br>小青：是观音菩萨<br>白素贞：观音菩萨？<br>小青：刚才我明明看见上面有观音菩萨的，怎么才一会儿的工夫，就没了呢？<br>白素贞：你总不能指望观音菩萨时刻在这画上保佑我们吧？要是我没有算错的话，今天是天宫里一年一度的蟠桃盛会，想必观音菩萨被请去赴宴了，只留下一个小童子看家，观音对我们恩重如山，这观音图你要好好供奉，一天三炷香，不能断的<br>小青：嗯<br>白素贞：青儿，我要拜祭菩萨了，最近我心烦意乱的，但愿菩萨能替我指点迷津<br>小青：姐姐这是怎么了？这几天老是心神不宁的，<br>许仙：小青姑娘，来，来<br>小青：你来这里干嘛？<br>许仙：你姐姐还在生我的气？<br>小青：生你的气？你以为你是谁啊？想当初我犯了大错，你看姐姐她也不过只是笑了一笑，你一个凡夫俗子，想让她为你生气，你呀，别臭美了<br>许仙：我知道是我不好，那和尚欺负你们，我还跟他说话，也难怪你姐姐不高兴，不过，你放心，我现在已经有办法让那个和尚低头认错，只要过了今晚，一切就都好了，以后再也不会有人说白姑娘是妖了<br>小青：你说什么今晚？今晚会怎么样？姐姐<br>白素贞：你有话对我说？<br>许仙：我，我没有<br>白素贞：青儿，把这伞还给公子<br>小青：噢<br>白素贞：连嚼舌根人的吐沫都挡不住，怎么能挡得住风雨呢？我们只能送到这里了，接下来的路还很长，许公子就多加小心吧，其实和尚说的没有错，这世上迷惑人的东西太多，千万别被表面东西诱惑，书生你是好人，只可惜耳根子太软，总以为这世上的人都可以相信，这世上的一切都要用善心相对，书生保重吧，自求多福<br>小青：傻小子听到了吧，姐姐说的没错，这伞哪，太破了，还是换换吧<br>~<br>筷子公公：抄好观音心经，这白纸自然就变成药方了<br>筷子婆婆：那观音菩萨救苦救难，人世间多少疑难杂症不都是她治好的吗？只要你心里想着你要求的事，这心越诚啊，经抄得越多越好，白姑娘的病也就好得越快了<br>~<br>小青：姐姐，我的头好疼<br>白素贞：青儿，青儿你怎么了？<br>小青：疼得快要裂开了，我的头好疼<br>白素贞：青儿，你听到了什么？<br>小青：念经声，有人在念经<br>~<br>法海：如今三件法器都已横空出世，看来是天助我法海斩妖除魔大展身手。蛇妖，看你们这回又如何逃脱<br>~<br>小青：那经扰得我心慌<br>白素贞：青儿<br>小青：姐姐，姐姐，救我，救我，救我<br>法海：阿弥陀佛<br>白素贞：是谁念经？是不是法海？<br>小青：不是，不是法海，姐姐你快让他停<br>白素贞：青儿<br>小青：姐姐<br>白素贞：我要开天眼，让我开天眼。怎么会是他？<br>童子：大胆蛇妖，何故跑到这里作乱人间<br>白素贞：白素贞拜见童子我哪有作乱人间，只是两个朋友误入魔道，要送他们回去，才来到半步多客栈，不知童子前来所为何事<br>童子：我来是因为有人念了观音心经，这观音心经一念，必有妖魔出没，观音临行时留下玉佛珠一串，并再三吩咐，如有妖魔作乱，我可代她收妖，定不轻饶白素贞，你等着受死吧<br>小青：姐姐，姐姐你为什么还不还手啊？<br>白素贞：不行，我会伤了童子的，再怎么说，他也是神仙，观音又对我有恩<br>童子：白蛇，你逃不掉的<br>小青：姐姐！姐姐！<br>白素贞：青儿，这观音图是怎么来的？<br>小青：我也不知道，这观音图自己从窗户飞出来，偏巧打在我的腿上，我不知道它从哪儿来的，你没事吧姐姐<br>白素贞：童子，请听我说一句话，这一定是和尚的诡计，我受过观音的点化，不如一切等菩萨回来再作定论吧<br>童子：观音去赴蟠桃盛会，三天后才会回来，可是你被我的佛珠穿心而过，只须一夜一日的工夫，就要精气四泄，魂飞魄散，白素贞，你少用那些受过点化的胡话来哄我，要是你受过点化，还何苦到这人妖仙混杂的半步多来受苦<br>白素贞：我并没有半句谎话，我体内还有观音所赠的仙丹，不如童子带我到瑶池，去见菩萨，说个清楚<br>童子：大胆妖孽，越说越离谱，也不看看自己什么身份，怎么配去瑶池那样的地方，你就在这里等着受死吧，懒得跟你废话<br>小青：什么童子啊，不分青红皂白，让我撕了它<br>白素贞：青儿，不要，他要来了<br>小青：谁？<br>白素贞：来不及了，快走，走<br>法海：妖孽，决不会放过你们<br>~<br>八两：兄弟，兄弟，过来，我问你点事，看见白姑娘跟青儿了吗？<br>许仙：白姑娘和青儿？我抄了一夜的经书，我怎么会看到她们？<br>八两：这就奇怪了，刚才路过她们的房间的时候，看见她们房门大开，屋里一个人也没有，难道走了不成？<br>许仙：走了？真的吗？那我们现在应该做些什么呢？<br>八两：先找找看吧，估计走不远你在这儿等着我，我上屋里拿下东西，等着我啊<br>~<br>八两：找了半天连个人影也找不着，你说这姐俩，说走就走了，好歹给咱哥儿俩留些银子啊，你看现在，连口水都没的喝<br>许仙：都怪我把面子看得太重，伤了人家白姑娘的心，其实道歉也不是什么难事，昨天白姑娘问我话的时候，我就应该把那筷子老头的药方跟她讲清楚就是了<br>八两：等等兄弟，你刚才说什么？什么筷子老头？什么意思？<br>许仙：说了你也不信，那对筷子老夫妇是可以变成人的一双筷子，是神仙来着<br>八两：什么筷子？什么又变成人了？<br>许仙：那双筷子呢本来是和尚的，后来无意间被我捡到，又沾了我的口水，所以呢就变成一对老夫妇，出来实现我的一个愿望，可惜，又被那和尚要走了<br>八两：兄弟，我今天倒是在白姑娘他们屋子里捡到一双筷子，你等等啊兄弟，兄弟，怎么一转眼的工夫，你就没影了，兄弟，这跑哪儿去了，莫非……兄弟，兄弟，你在下边吗？我把筷子给你拿来了，兄弟呀<br>~<br>八两：这是什么地儿啊这是，那股风邪气得很哪<br>小青：别动<br>八两：小青姑娘，你这是干什么呀？<br>小青：你们害了我们两姐妹，竟然还有脸找到这里来了<br>许仙：白姑娘怎么了？她在这儿吗？<br>小青：臭小子，如果不是你昨天晚上念了一夜的经，我们两姐妹怎会躲在这儿，生不如死<br>许仙：你是说我？<br>小青：你还装傻？许仙，自己看看做下的好事吧<br>许仙：不可能，这不是真的，这只是在做梦，等明天早上醒来，白姑娘还是好好的<br>小青：你胡说<br>八两：小青姑娘，我兄弟也不想这样，他是好意<br>小青：好意？就是他的好意害了我姐姐一次又一次，我真不明白，姐姐好心对你，你为什么却要恩将仇报，你看看，那么美、那么好的一个人，就要魂飞魄散了，你居心何在，你于心何忍，于心何忍哪你<br>小青：大胡子，他这是要干什么<br>八两：都说男儿有泪不轻弹，男儿膝下千两金，这两样东西到了你姐姐这儿，我兄弟倒大方得很。小青姑娘，照你的意思，你姐姐是被那张观音图上的童子所伤<br>小青：嗯<br>八两：而那童子又是听了我兄弟念的观音心经才显的灵<br>小青：不错<br>八两：真是奇怪了，这图上的神仙能显灵，这筷子能变成老夫妇<br>小青：什么筷子？<br>许仙：就是那双筷子让我抄什么观音心经<br>小青：你说谎<br>许仙：我没说谎，真的有一双筷子可以变成一对老夫妇的<br>小青：好啊，你说的那个筷子呢？让他们变给我，变给我小青看看<br>许仙：可惜，被那个和尚拿走了<br>八两：小青姑娘，你别这么冲动啊<br>小青：我就知道，你跟那个和尚是一伙的，我姐姐舍命救你真是太不值得了<br>八两：小青姑娘，我兄弟他不会害你姐姐的，这里面一定有蹊跷既然我兄弟说有筷子，那一定有筷子<br>许仙：我知道是你们，筷子老头，筷子老婆婆，你们快出来好不好？你们给的我什么药方啊？你们害了白姑娘了，你们让我抄的什么经啊，你们快出来好不好？<br>小青：许仙，你就别再装神弄鬼的了，这个时候你竟然还拿一双破筷子来哄我，我告诉你许仙，拿命来吧<br>筷子公公：哎哟，摔着我了<br>小青：你们是谁？<br>八两：真，真能变成人<br>许仙：你们算什么神仙，你们看看你们把白姑娘害的，你们叹气到底是什么意思，你们不是说过吗，沾了我的口水，就可以帮我实现愿望，难道是假的吗？<br>筷子公公：我们是沾了你的口水，可是我们也沾了那和尚的口水呀<br>筷子婆婆：这一仆二主的日子真不好过，我早就跟你说过，那和尚是故意把我们落在地上，让后生捡去，你还不信<br>许仙：你们这话是什么意思？什么是和尚故意让我捡去<br>筷子公公：你怎么还不明白呀？<br>许仙：我，我不明白<br>筷子婆婆：好吧，那我就讲给你听我们在那和尚之前，主人本来是白姑娘所救的老人参精，而那和尚也正是在你们离开魔道大门之时，得到了我们<br>小青：怪不得那个和尚能逃出魔道<br>筷子婆婆：那和尚跟我们要的愿望，就是希望我们能让他尘封了多年的三样降妖除魔的宝贝，重新拥有无边的法力<br>小青：什么，三样宝贝？<br>筷子公公：没错，那和尚是有三件宝贝，分别是紫金钵、观音图和追魂杵，这三件宝贝分别是法海的师傅千叶老方丈生前所留，因为法海虽入佛门至今还未悟佛缘，故此千叶老方丈就在这三件宝贝上用了尘封咒，它们虽然都是宝贝，但是还要遇到能够开启他法力的人，方才可以降妖除魔<br>许仙：那和尚昨天给我的古画，难道就是观音图？那他为什么非要给我不可呢？<br>筷子婆婆：你怎么还不明白，你就是那个能够帮他解开尘封咒的人哪<br>许仙：我？<br>筷子公公：对，就是你，那和尚可跟你说过，你是有慧根之人，这不就对了，你是天生有佛缘，只要彻夜不停地抄那观音心经，观音菩萨的童子就会显灵除妖，所以呀，那和尚就故意撞掉了筷子，让我们到了许公子的手里，凭着一仆二主的身份，我们就给你出了这么一个让你念经拜佛的主意，你现在该明白了吧，那和尚就是利用了你的善心啊<br>小青：那我姐姐该怎么办，你们可都是神仙哪，怎么可以助那个和尚去胡乱伤人呢？<br>筷子婆婆：我们也是无可奈何，沾了人家的口水，变成人家的仆人，哪有仆人不听主人之理？至于你姐姐，这佛珠穿心，一天一夜便可精气外泄，现在离天亮还有三个时辰，天一亮，恐怕你姐姐便会原神尽散<br>许仙：筷子老神仙，我求求你帮我想个办法救救白姑娘吧<br>小青：你们可都是神仙，求你们好好想想办法吧<br>八两：你看，我就见不得这个啊，你们这些当神仙的也是，也不分清个是非曲直，难道跟那和尚一样，只辨正邪，不分善恶<br>筷子公公：办法我是没有，但是，<br>筷子婆婆：你就快点说吧，看他们急的<br>筷子公公：你们可以去找一个人，这个人在世上已经活了五百多个年头了，是这半步多客栈方圆十几里内有名的老酒仙，他阅人无数，无论是人、妖，还是仙，只要世上发生过的事情，他没有不知道的，你们如果找到他，或许还能打听出克制这玉佛珠的办法<br>筷子婆婆：听说那老酒仙每天都要去赌局玩两把，你们可以去那儿碰碰运气，记住，只有三个时辰<br>~<br>伙计：干什么？<br>许仙：我，我要找人<br>伙计：今天不方便<br>许仙：有什么不方便的，你们开门做生意嘛<br>伙计：真不方便<br>许仙：我有急事小哥，你还是让我进去吧，请问这里有没有一位叫酒仙的<br>伙计：我早就说过不方便，这里正遇着打劫的呢<br>强盗：臭小子，你脑子坏了，再跟着我，我一刀砍了你<br>许仙：大哥，我求求你，我只是来找一个人，我找他有急事，他叫酒仙<br>强盗：什么酒仙臭小子，吵得人心烦<br>许仙：大哥，我真是来找人的<br>强盗：我砍了你<br>八两：我看你们谁敢欺负我兄弟，来啊兄弟，你看看，你看看，你看看你这是何必呢<br>许仙：我要找酒仙<br>八两：兄弟，你傻不傻啊，要是根本就没有老酒仙呢？要是他已经老得不成了，已经，已经作古了呢？<br>老酒仙：谁呀？谁在咒我这个病老头子啊？<br>~<br>许仙：能不能告诉我，您到底知不知道玉佛珠的事情？<br>老酒仙：我知道玉佛珠，还知道怎么治好你朋友的病<br>许仙：这是什么？<br>老酒仙：这是我能活到今天的原因，一个老朋友把铁树仙果给了我，有它在，我就能益寿延年，如今哪我把它送给你了<br>许仙：酒仙，这宝贝实在太贵重，我受不起呀<br>老酒仙：拿着吧，有这仙果还不成啊，还要找到铁树花，只有两物同时入药，才能救你的朋友啊<br>八两：什么？铁树开花？<br>~<br>老酒仙：到了，这就是我的老朋友，他是天下所有铁树中最老的一棵，人称铁树仙人老朋友，出来见个面吧，我这次要出个远门，未准再能回来了<br>铁树仙人：臭老头，说话不算数，我是不会为凡人开花结果的。你，你还带着两个后生来烦我<br>老酒仙：只此一次，决没有下回了。这老头倔得很，要想让他为你们开花，你就得做一件事情让他动情，后生，常言说得好，眼为情苗，心为欲种，想要这老铁树拔苗开花，就盯着他的眼睛，说一些让他动心的话<br>八两：兄弟，他刚才说盯着谁的眼睛？什么，说，说什么呢？说什么呀？<br>许仙：说什么都行，说你自己的心事，说你身边的亲人，只要能让他动心就行<br>铁树仙人：好了好了，后生，哪儿来的回哪儿去吧，不要罗嗦浪费时间了，我决不会为你们动心开花的，回去吧<br>许仙：就一个时辰了，怎么才能打动他呢？<br>八两：兄弟，你别着急铁树仙人，那你就听听我这个，我这个从来没向别人讲过十年前，我在江南一带，也是一个有名的捕快，娶了亲，生了个女娃娃，我这一生视恶如仇，总以为跟着师傅斩妖除魔才是正道，甚至为了我手里这把大刀，抛妻舍子，师傅曾经跟我说过，只要走上这条路的刀客，是不能有感情的<br>铁树仙人：罗嗦了半天，你终于说完了？<br>许仙：我无意冒犯老人家，可是大胡子讲了这么多的心事，句句发自肺腑，动之以情，你又何苦作贱他呢？<br>铁树仙人：你这个后生好生的无理，竟敢对我大喊大叫，我在世上看多了世间的男男女女的生死离别，哪一次不是惊天动地、痛不欲生，像他这样的男人，不知道珍惜自己的妻子儿女，等到失去了，才在这儿假惺惺的做态，有什么意思<br>许仙：我不允许你羞辱我的朋友，他的痛苦你又没有感受过，你只是一棵铁树，你又怎么了解世间男女的感情呢？<br>铁树仙人：臭小子，你说我不懂感情，我若不懂感情，这世间就没人懂感情了<br>许仙：既然你懂，你为什么还死守着这棵枯树不肯开花，你知不知道你只要一开花，就能救多少的性命，能让多少爱人重新在一起<br>铁树仙人：你也承认，我这千年的铁树花能成全你们这些微不足道的男女私情了？你看看你多自私，为了救自己的女人，硬逼着一个老头子，破了千年的规矩，为你们开花<br>许仙：她不是我的女人<br>铁树仙人：那她是谁？<br>许仙：白素贞，一个蛇妖，千年蛇妖</p>
</blockquote>
<h3 id="第五集"><a href="#第五集" class="headerlink" title="第五集"></a>第五集</h3><blockquote>
<p>许仙：她不是我的女人<br>铁树仙人：那她是谁？是谁？<br>许仙：别逼我，我不想说<br>铁树仙人：是谁？<br>许仙：白素贞，一个蛇妖，千年蛇妖<br>八两：兄弟，你是什么时候知道的？<br>许仙：见她第一面，我就知道了你们都以为我呆，千方百计地瞒着我，其实我心里早就有数了<br>铁树仙人：很久很久以前，有棵铁树妖爱上了一个人间女子，很快他们就成亲生子，可是有一天来了一个神仙，点化了铁树妖，告诉他只要再开一次花就能成仙得道，铁树妖一心成仙，可是又舍不得自己的娇妻爱子，他是左右为难，彻夜难眠哪，他的娘子看着自己的相公如此的痛苦，索性抱着儿子投了湖，从此以后，铁树妖守着自己的妻儿的墓，永不开花<br>许仙：铁树仙人，你为什么会动情呢？<br>铁树仙人：傻小子，这要问你呀，要不是你，我也不会想起那么久远的事情，我与其死守着妻儿的墓不放，还不如做件好事成全你的心把花拿去吧<br>~<br>小青：姐姐姐姐<br>许仙：白姑娘，我对天发誓，我真的不知道抄那经会害了你，否则的话，天打雷劈<br>白素贞：千万别这么说，你的为人我心里明白，我不会怪你的我昨天晚上说过的话，你别放在心上，是我小瞧你了<br>许仙：不不，姑娘说的没错，我是一个没用的男人，只会给姑娘添麻烦，要不是这次老酒仙还有铁树仙人他们肯牺牲自己的话，我真的不知道……<br>白素贞：我负的人太多了，多次死难受助于仙，莫非是观音菩萨要我多做善事，普渡众生？你们先回客栈吧，和尚一定四处打听你们的下落，我和小青还有要紧事要办<br>许仙：不，你现在伤成这样，我怎么能离开呢？白姑娘<br>白素贞：办完了事，我就过去与你们会合<br>许：不，白姑娘，你听我说<br>八两：兄弟，咱们先走吧，人家有妹妹呢<br>小青：姐姐，姐姐<br>白素贞：青儿，我要你帮我逼出体内仙丹<br>小青：绝对不行，姐姐<br>白素贞：时间不多了，如果不用仙丹换通界舟的位子，他们恐怕就走不了了<br>小青：姐姐，我真的不明白，你光想着别人，怎么不替自己打算？要是你把仙丹给了别人，那你不是就，不就成不了仙了吗？<br>白素贞：你以为有了仙丹就能成仙吗？<br>小青：可是，起码，起码还有希望嘛<br>白素贞：一个五百岁的老人，为了救我抛下自己的性命不要，一个千年的树仙，为了救我舍下自己的妻儿不顾，而我一个蛇妖，成不成仙又算什么呢？我已经决定了，只要能救他们出去，陪上命我也认了<br>小青：姐姐，我求你了，你不要啊你没了仙丹，那和尚就能收你了，姐姐，你不要啊这下可好，可真是要大难临头了<br>~<br>小青：到底行不行啊，不行还我好了<br>通界小官：这是两张登船符，明天把它贴在你两个朋友的身后，神不知鬼不觉地带到我这里来，我一定把他们带出去你给我仙丹啊<br>小青：你干嘛？<br>通界小官：这是我的，你给我<br>小青：这是我姐姐的<br>通界小官：可现在是我的了<br>小青：就算给了你，你也成不了仙哪<br>通界小官：那是我的事，你管不着<br>小青：就不给<br>通界小官：给我，你给我<br>小青：就不给<br>白素贞：给他<br>小青：姐姐，姐姐！姐姐，你竟然为这个傻小子连仙也成不了，你真是糊涂<br>白素贞：青儿<br>~<br>小豆子：娘，娘！<br>八两：小孩子，我问你，这街上为什么这么乱？<br>小豆子：和尚，是和尚要大开杀戒了<br>八两：那你娘呢？<br>小豆子：我也不知道，一道金光过来，我和娘就跑散了<br>八两：兄弟，咱们赶快进客栈，那客栈有个规矩，无论人妖仙，凡是在客栈里的，都可以留一条活命，走<br>胖掌柜：大家快进来，快进来，和尚要来了快进来，快进来啊<br>鲤鱼精：小豆子，小豆子，小豆子<br>胖掌柜：快点，快点往里走<br>鲤鱼精：小豆子！<br>八两：孩子，孩子还在外边呢<br>胖掌柜：关门，快<br>鲤鱼精：小豆子，小豆子小豆子，我的小豆子还在外边呢，快开门<br>许仙：白姑娘和小青姑娘还没回来呢，说好在这儿见面的呀<br>胖掌柜：来不及了，我不能为了一两个人，拿着一客栈人的性命冒险啊<br>鲤鱼精：小豆子，小豆子<br>许仙：快让孩子进来吧<br>鲤鱼精：小豆子<br>法海：妖孽，作茧自缚，今天就是你们的死期<br>许仙：他要干什么？<br>八两：谁知道啊，干不了什么好事<br>许仙：他一定是疯了<br>法海：清理门户！<br>鲤鱼精：让我出去，我的孩子在外面呢<br>许仙：你不能出去，那个和尚法力高强，你出去必死无疑<br>鲤鱼精：我求你了<br>八两：住手！干什么，你不要命了？<br>小豆子：娘！娘！<br>鲤鱼精：小豆子，娘亲救你来了让我出去，让我出去<br>许仙：你不能出去，你出去会送命的，真的<br>鲤鱼精：我是他娘，难道眼见自己的亲生骨肉被人家害了不成？让我出去，小豆子！<br>八两：不要出去，快回来<br>鲤鱼精：小豆子！<br>小豆子：娘！<br>法海：我都要收！<br>鲤鱼精：要收就收我！<br>法海：一个都跑不了<br>小豆子：娘！娘！<br>许仙：大胡子，快想想办法，救救他们吧<br>八两：别着急，我豁出去了。今天我把我压箱子的老底都用上，闪开！急急如律令，天昏地暗，乾坤十八转！<br>法海：金刚法眼！<br>小豆子：还我娘亲！<br>法海：娘亲？呸，娘亲也是你们这些孽障该叫的吗？<br>许仙：快跑，快跑啊<br>法海：好，我今天就叫你们母子团圆<br>小青：和尚，你连小孩都不放过<br>法海：只要是妖，我就一个也不会放过<br>胖掌柜：不要开门哪，开门大家都要死啊<br>法海：青蛇，还不跪下来受死<br>小青：臭和尚，你想收了我？那好啊，只是麻烦你，先问问我姐姐答不答应<br>许仙：白姑娘<br>白素贞：和尚，再好的性子，也禁不起你这般耍呀<br>法海：怎么可能呢？你怎么能逃过观音童子的玉佛珠？你受了玉佛珠的穿心之苦，一天一夜，早该精气尽散，元神尽灭了<br>白素贞：想必是你师傅觉得你太笨了，留了张假观音图给你，真可怜，这么大个子，还被师傅骗<br>法海：师傅不会骗我的，许施主只要彻夜抄那观音心经，那童子就会显灵来收你的<br>白素贞：心经是给有心的人读的，你连心都没有，还读哪门子心经？<br>法海：不可能！一定是那许仙少抄了一节，哪节呢？不可能，我法海不可能收不了你，佛祖更不会骗我<br>白素贞：法海，你没错，只是佛祖忘了告诉你，我虽然是妖，却受过观音菩萨点化，离正果只差一步你不分善恶，收妖无度，这巴掌算我替佛祖赏你的<br>法海：好你个白素贞<br>白素贞：我替你将功补过钵里的妖听着，没做过伤天害理事的，尽管出来<br>法海：青蛇私自降雨，已经违背了天条，还敢说没做过伤天害理的事情？<br>鲤鱼精：小豆子！<br>小豆子：娘！<br>法海：逃得过我的紫金钵，躲不过我的追魂杵！<br>白素贞：小青！<br>小青：姐姐<br>白素贞：这也许是天意青儿虽然私自行雨犯下大错，可是已经得到佛祖的宽恕，而你却人妖不分，连五岁的孩子都不放过，你的慈悲呢？你的立地成佛呢？<br>法海：白素贞，你想骗我？他分明就是妖我天生长有法眼，怎么会分不出他是人是妖呢？<br>白素贞：好啊，你就试试看，你要是能收了他，我和青儿自愿走进你的钵里去吧，不会有事的，朝他走过去<br>法海：好，我现在就收了你，看钵！不，不可能的，我的法眼不会骗我的<br>小豆子：大和尚，你真的搞错了，我娘虽然是妖，可是我爹却是个人，我是我娘十月怀胎所生，我真的是人<br>法海：啊！<br>许仙：他，他<br>小青：他被收了法眼<br>白素贞：违背天意，就要受到处罚，这和尚一意孤行，这是必然的下场<br>许仙：白姑娘……<br>八两：兄弟，你怎么了？<br>白素贞：让他睡吧，经过这么多事情，他也够受的了<br>~<br>八两：就是这儿？<br>小青：嗯<br>许仙：这是什么地方？<br>白素贞：这是你们必须经过的地方，无情槌阵<br>许仙：无情槌？<br>白素贞：这些孩子手里拿的就是无情槌，凡是进过半步多的人，回到人间就必须忘了这里的所听所见，这无情槌打在头上，你自然就会忘了这几天发生的一切<br>许仙：也忘了姑娘吗？<br>白素贞：也忘了我<br>许仙：有没有什么办法可以，可是我想<br>白素贞：你必须忘了我们<br>许仙：可是我们是朋友，忘记朋友是不义，我不能做不义之人<br>白素贞：哪有你这样的朋友？你们读书人不是常说君子之交淡如水吗？可是我跟你做了不到几天的朋友，已经落得家不能归，连命都差点赔上的地步，我看你这个朋友不做也罢<br>许仙：白姑娘，我既然害得你无处安身，那你不如跟我一起走，我虽然是个没大用处的男人，但是至少我读过几年书，只要我在宝芝堂好好干活，我就一定能养活你和小青姑娘<br>白素贞：你养活我和小青？我是你什么人啊？为什么要你养活？<br>许仙：我娶了你，你不就是我娘子了？<br>白素贞：你娶我？你可知道我……<br>许仙：我知道<br>白素贞：你真的知道？<br>许仙：我知道。我们什么时候走？<br>白素贞：明天早上，天一亮就走<br>~<br>小青：我说你们心里都在想些什么？从我们吃饭开始到现在，你们一句话也没说过，怎么回事？书生，说你呢你平时罗里巴嗦一大堆，现在怎么没话了？还有你大胡子，平时嗓门都很大，现在怎么哑巴啦？喂，你们倒是说句话呀，好歹相处了几天了，虽然书生罗嗦得让我头疼，大胡子又吵得我心烦，但是现在可是我们一起吃的最后一顿饭了，你们当真就没有话了吗？说话呀书生<br>白素贞：青儿，食不言寝不语，吃完饭，我们还要去找通界小官问问上路的时辰<br>小豆子：爹，你瞧，就是他们，就是这些大哥哥大姐姐救了我和娘亲<br>俞七郎：各位，多谢救命之恩多谢多谢，多谢救命之恩啊<br>白素贞：快起来，快起来，这也没什么，你娘子和我们本是同类，哪有见死不救的道理？只是你留他们孤儿寡母在这里独居，总不是办法呀<br>鲤鱼精：白姑娘请放心，这次相公来了，就再不走了，我们决定一起在这半步多住下，求一个安身之地<br>白素贞：你不打算回魔道了？<br>鲤鱼精：我不回去了，那里曾经是我的家，可是现在没有相公和儿子，又算哪门子的家呢？<br>八两：这位大哥呢？也不回人间了？<br>俞七郎：不回了，比起失去妻儿的痛苦，回不回家，做不做人，又算得了什么各位，告辞了，告辞，孩子，我们走<br>许仙：比起失去亲人的痛苦，回不回家，做不做人，又算得了什么<br>八两：兄弟，发什么傻啊<br>许仙：没事，我先回去了<br>八两：兄弟，你干嘛去啊？<br>小青：大胡子，我怎么觉得你兄弟从到无情槌阵之后就变得怪里怪气的<br>八两：有吗？<br>小青：嗯<br>八两：他可能想家了吧？<br>小青：想家？那么大人还想家啊？不是马上就要回去了吗？<br>白素贞：青儿，记得把登船符给他们带上<br>小青：噢<br>八两：小青姑娘，我发现了呀，这儿不光是我兄弟一个人怪，你姐姐可也怪得很啊<br>小青：对啊，我姐姐最近她也总是叹气<br>~<br>小青：喂，住手，你干什么你，你为什么要烧符啊，我问你话呢，你为什么要烧这个，你知不知道我姐姐为了给你换这张符，连观音菩萨所赠的仙丹都给人家了，你知道那仙丹干什么用的吗？成仙用的我姐姐修炼一千年，就是为了有朝一日能得道成仙，一千年哪，能够让你这傻小子活上好几辈子了，一千年为了给你换这张符好，现在，现在又被你给烧了，你这个可恶的人，我姐姐的仙丹，我姐姐的一千年，你赔得起吗？不光是仙丹，现在为了救你们，为了让你们能够走出这半步多，她的仙剑也断了，那可是华阳真人送给姐姐的白乙剑哪。算了算了，跟你说也用，反正你也只会恩将仇报你。们两个倒是拍拍屁股回人间了，可是，我和姐姐呢？我们两个却是有家不能回，为了逃过魔道中人的追杀，我们只能在这个半步多躲着藏着混日子，你，你不感激我姐姐的恩情，还要烧这道符，你，你气死我了<br>许仙：我想留下来<br>小青：你说什么？<br>许仙：如果烧了那符，我就可以留下来了<br>小青：你要留下来？在这儿？这个半步多？为什么？<br>许仙：那个鲤鱼精的相公说得没错，比起失去自己真心喜欢的人，回不回家做不做人又算得了什么。我已经想好了，我打算留下来，我虽然没有什么本事，但是还好我读过几本书，采采草药，教教私塾，替人代写几封书信，至少还可以养家糊口，如果攒了钱，我要给你姐姐盖一间和你们魔道一模一样的房子，再开间药铺，白天给人家看病，晚上，烧一壶小酒，做几个小菜，再剥几个莲蓬，仰起头还能看见满天的星星<br>白素贞：没有什么星星没有星星，这半步多的天上怎么会有星星呢？一到了晚上，这里就是漆黑一片，那些星光，早就被魔道圣君给吸光了什么星星，那大概是只有你们人间才有的玩意儿吧，我们这些做妖的，也不会稀罕看天上那些神仙住的宫殿，星星，那不过是些会发光的石头罢了<br>许仙：我，我为什么不能留下来？就像那鲤鱼精的相公一样<br>白素贞：你怎么到现在还不明白？我们跟他们不一样，他们为了在一起，一个永世不能为人，一个千年不可做妖<br>许仙：我，我宁愿永世不能为人<br>白素贞：你要不要做人是你的事，但我不要，我要的是得道成仙，千年修炼的苦楚，你这辈子都没有经历过，我历尽艰辛，才得到观音菩萨所赠的仙丹，还有华阳真人亲手铸造的白乙剑，我只求有朝一日可以脱离魔道，早日修成正果。可是为了救你们两个误入魔道的人，仙丹没了，仙剑也断了，我还被玉佛珠穿心，几乎丢了性命，我付出了那么多，只是为了一个书生和大胡子能够早日回到人间去，娶妻生子，过着本属于你们人的生活可是现在，你却告诉我，你要留下来，你到底明不明白，我不要跟你剥什么莲蓬，看什么星星，我只希望能够尽快把你们送回去，然后再找一个地方，好好修炼，重新来过，希望有朝一日能再感动菩萨，来助我成仙<br>八两：兄弟，赶紧睡吧，明天什么都忘了<br>许仙：白姑娘，你没有见过星星，怎么知道自己不要那样的日子哪<br>八两：走吧<br>许仙：白姑娘，你多少给我一个机会，和我一起看完星星你再做决定也不迟啊<br>小青：傻小子，你又在说什么梦话呀，姐姐不是跟你说了吗，这里星光早就被魔道圣君给吸干了，半步多呀是没有星星的<br>许仙：白姑娘，你要相信我，今天晚上在芦苇荡，我会让你看到满天的星星<br>八两：二位姑娘别见怪啊，我这兄弟是个痴人，走吧，走吧兄弟，走吧<br>许仙：大胡子你别拽着我，白姑娘，今天夜里三更天，在芦苇荡等我，你一定要来啊<br>小青：姐姐，那个书呆子八成是疯了，你不会真的三更半夜去芦苇荡吧？<br>白素贞：自然不会去，连我都做不到，他一个凡人<br>~<br>白素贞：许仙，许公子，我真是跟他一起发疯了，三更天跑到这种地方来<br>许仙：白姑娘请留步<br>白素贞：许公子，你躲在里面干什么？<br>许仙：姑娘别过来，姑娘只站在那里就好，只要一会儿的功夫，我保证姑娘可以看见人间夜里的美景，满天的星星<br>白素贞：许公子，公子你去哪里啊？公子要是再不出来我就回去了，你三更半夜骗我出来，还要我傻站着让你这样打趣。我真的回去了。你是怎么做到的？<br>许仙：白姑娘，你看到了吗？<br>白素贞：我看到了<br>许仙：那就好，虽然不是很像星星，但是我已经尽力了白姑娘，白姑娘你还在吗？<br>白素贞：我还在<br>许仙：你喜欢吗？我还是不能留下来吗？我还是要走对不对？我要是走了，就要经过那无情槌阵，经过那里，就会把以前的事情都给忘了，对不对？忘了的意思就是说，即便以后我在街上和姑娘你擦肩而过，也只能形同陌路，还是，我们以后再也无法见面白姑娘，白姑娘<br>白素贞：明天一早就要上路了，我就不送你们了，多多保重吧该说的，我刚才在园子里都已经说过了，我必须送你们走，这是我修炼的一部分，观音大士说过，我必须多做善事，才能弥补我的过错，才能重新得到成仙的机会。今晚的星星很美，谢谢你<br>许仙：白姑娘不用再说了，许仙已经明白了，白姑娘赶快回去吧，天冷，小心受了风寒<br>白素贞：那公子你呢？<br>许仙：我，我还想一个人再待一会白姑娘<br>白素贞：什么？<br>许仙：希望姑娘不要忘了我的名字<br>白素贞：怎么会呢？许配的许，神仙的仙<br>许仙：哎，白姑娘，白姑娘，白姑娘，你别走<br>~<br>八两：时辰差不多了，咱哥儿俩是不是该上船了<br>许仙：大胡子，她们会不会不知道通界舟什么时候走<br>八两：不可能，早上起来小青姑娘亲口交代的，还说要咱哥儿俩别误了时辰<br>通界小官：快走了，快走了，快点，快点<br>八两：走吧<br>许仙：哎，哎，会不会白姑娘和小青姑娘已经来了，我们没有看见她们啊<br>八两：哎呀，白姑娘不会来了，小青送盘缠的时候，不是说了吗，白姑娘有要紧事<br>许仙：有要紧事<br>八两：走吧，恩，走<br>许仙：大胡子，一过了无情槌阵，我就会把这里的一切都给忘了<br>八两：傻小子，有些事忘了，那是你的福份，走吧，走吧<br>许仙：不<br>八两：走吧<br>~<br>小青：姐姐，你别这么走来走去好不好？<br>白素贞：青儿，现在什么时辰了？<br>小青：按说，书生和大胡子已经上路了<br>白素贞：怎么会这么快呢？</p>
</blockquote>
<h3 id="第六集"><a href="#第六集" class="headerlink" title="第六集"></a>第六集</h3><blockquote>
<p>小青：姐姐，你别这么走来走去好不好？<br>白素贞：青儿，现在什么时辰了？<br>小青：按说，书生和大胡子已经上路了<br>白素贞：怎么会这么快呢？<br>小青：怎么没有啊？恐怕现在应该到了无情槌阵了，不知那书生头上挨了几槌子了，本来就已经呆得厉害了，这要再敲上两下，会不会真的变成傻子啊。姐姐，你干嘛去啊？<br>白素贞：天热得很，我去找把扇子扇扇风<br>小青：可是，扇子在你手上啊<br>白素贞：真的？我没太在意<br>小青：喂，姐姐，你又要去哪儿啊？<br>白素贞：书生的伞忘带了，我给他送过去<br>小青：姐姐，人家都已经上路了，你还送哪门子伞哪再说了，那把伞那么破，就算真的给人家，谁会稀罕它呀<br>白素贞：再破也是自己的东西，掉了怪可惜的，还是给他送过去吧<br>小青：姐姐，你何必为这把伞白跑一趟，你别忘了，他们会路过那个无情槌阵，这无情槌阵一过，他们知道我们是谁啊，更别说这把破伞了，对不对？<br>白素贞：哎呀，你看，天快要下雨了，这伞我还是送过去吧<br>小青：姐姐，你说什么呢，你看清楚了，现在外面晴天白日的，怎么会下雨呢？姐姐还是进屋歇着吧，好吗？<br>白素贞：可是我，我<br>小青：姐姐，你到底怎么了？<br>白素贞：我，我这是怎么了？<br>~<br>许仙：小青姑娘，小官，麻烦停一下小青姑娘，小青姑娘，白姑娘呢？<br>小青：许仙，姐姐让我把这个交给你呀，接着<br>许仙：小青姑娘，白姑娘有没有什么话留给我？<br>小青：有，你听好了，姐姐要我告诉你，她说，一路上<br>许仙：什么？你大声点，我听不见<br>小青：许仙，你听好了，姐姐说你一路上可千万不要回头，不管谁叫你，都不要回头，只要不回头，就不会被无情槌打中了，记住了<br>许仙：小青姑娘，什么回头？我真的听不见，你大声点好不好？<br>小青：许仙，你到底听见没有啊，油纸包里的东西，被姐姐施了法术，姐姐说，在危难之时，只要把伞撑开，便可救你们一命，听见了没有？管他听清楚没有，反正我已经把姐姐的话都带到了，不管了，我走了<br>许仙：她还我伞干什么？<br>八两：嗨，伞就是散的意思，人家姑娘的意思再明白不过了<br>许仙：不可能，她不可能是这个意思大胡子，刚才小青说什么我没有听清楚，不行，我要下船问个清楚<br>八两：兄弟，马上就要进入无情槌阵了，你干嘛去啊？<br>许仙：不行，我不想把什么都忘了<br>八两：忘了不是更好吗？<br>许仙：不好，我不想忘了她，我不能忘了她<br>八两：兄弟，人妖殊途，你们根本不可能在一起<br>许仙：不可能，只要我们两个愿意<br>八两：我看就你自己愿意，你以为是生死诀别，人家可不这么想，没准人家现在，正在家里擦胭脂抹粉，小菜清粥的喝着，讲咱哥儿俩笑话呢行啦，别这么看着我行不行？就当我刚才说的话都是放屁，小青姑娘刚才说的话我听见了，我只听见一半啊<br>许仙：什么？真的吗？她说什么？<br>八两：她说，一直往前看，不要回头，就能过无情槌阵<br>许仙：真的？<br>八两：谁知道<br>许仙：我相信，这一定是真的，白姑娘她也不愿意让我忘了这一切。那这伞呢，小青还说什么？<br>八两：离得太远，没听清楚兄弟，来了，赶紧抓紧我。你抓我胡子干什么吗？抓我胳膊啊，抱住了<br>许仙：大胡子，你也要抓紧呀，千万别回头，我可不想失去你这个好兄弟<br>八两：我也是，兄弟你放心，你还欠我八两银子还没还呢<br>许仙：别回头，千万别回头<br>八两：抓住喽<br>许仙：别回头，千万别回头<br>八两：我知道，我不回头，我一定不回头<br>许仙：别回头，千万别回头<br>八两：兄弟，你千万别回头啊，我也不回头<br>许仙：大胡子，你要干什么？<br>八两：是我家娘子，是我家娘子在喊我，还有我家丫头<br>许仙：大胡子，这只是幻觉，你不能回头啊这只是幻觉，你娘子早过世了<br>八两：没有，没有，是她们在喊我臭小子，你咬我干什么嘛<br>许仙：你可千万不能回头，你要一回头，我就少了好大哥了<br>八两：谢谢啊，兄弟<br>许仙：大胡子，就是那堵墙，我们马上要到家了<br>八两：还真的哎，马上就到了<br>许仙：你说白姑娘会到钱塘县来看我们吗？<br>八两：傻小子你放心吧，她既然教给了你不忘记她的方法，就没有理由不来找你<br>许仙：真的？<br>八两：肯定的，你看把你美的，我跟你说臭小子，没准啊，这些日子要有件喜事了，你呀赶紧回去筹备筹备吧<br>许仙：真的，我跟你说，我双亲去得早，到时候你可帮我拿几个主意<br>八两：那我可是要收银子的啊。你看把你傻的<br>通界小官：大家都下通界舟吧，径直走过那堵墙，就到你们老家了<br>许仙：走，走<br>八两：到了兄弟兄弟，你先吧<br>许仙：你是大哥，自然你先<br>八两：你看又是你们文人这些规矩。谁怕谁啊，我先就我先。八两银子啊<br>许仙：放心吧<br>八两：你这臭小子<br>白（法海）：唉<br>许仙：白姑娘<br>白（法海）：许公子<br>许仙：你怎么来了，不行，姑娘不是说了，无论发生什么事，都不能回头吗？<br>白（法海）：为什么近在咫尺，却不回头看我一眼？<br>许仙：不是，只是我<br>白（法海）：难道你对我说的话都是假的吗？<br>许仙：当然不是假话，我说的话句句发自肺腑<br>白（法海）：那我要你看着我的眼睛，才能知道你有没有骗我<br>许仙：可是<br>白（法海）：既然你不愿回头，那我就回去了吧，何必在这儿自讨没趣<br>许仙：姑娘，姑娘别走，姑娘，骗我<br>~<br>许仙：怎么回事？我怎么会在这种地方？好像做了个梦，我梦到什么来着？<br>连翘：来<br>许仙：多谢姑娘，多谢姑娘<br>连翘：是你啊我正要去钱塘县找你呢，没想到在这儿碰上你了，荒山野岭的，你在这儿干什么呢？假装山贼呀<br>许仙：是啊，我怎么会在荒山野岭，还掉进水里呢？姑娘，我认识你吗？<br>连翘：你说你不认识我？少装糊涂了，你这种男人除了满口谎话的骗人，你还会说什么呀<br>许仙：我，真的不认识姑娘啊<br>连翘：还敢说？信不信我打你啊<br>许仙：蛇，蛇<br>连翘：你可千万别乱动啊，我看这条蛇八成是有剧毒的七步蛇，你被它咬了，走不出七步就会暴病身亡<br>许仙：真的？那姑娘，有我在，你别怕，你快走，走，去，去<br>连翘：别乱逞英雄<br>许仙：姑娘危险，姑娘小心<br>连翘：好了，把手放下吧李贵，你以为你装成笨头笨脑的样子，又刮了胡子，我就不认得你了？<br>许仙：李贵？<br>连翘：嗯<br>许仙：我什么时候改了名姓？不知姑娘说的这个李贵，到底是姑娘什么人<br>连翘：什么人？三年前的约定，今天遇到你，你就是我的相公，对呀<br>许仙：我是你相公？<br>连翘：怎么？三年前的信誓旦旦你全忘了？你记性还真够好的呀，看你如今收拾得干干净净的，胡子也剃了，倒像是个读书人，可那些花言巧语根本就没变，什么姑娘姑娘的，早知道你还这个样子，我就不该救你<br>许仙：姑娘请见谅，我刚才可能是因为摔了那一跤，在加上刚才被那蛇吓了一跳，如果我有什么造次的地方，还请姑娘你见谅。只是这个名字是父母给的，我不能因为姑娘救了我一命，就改名叫李贵<br>连翘：什么改名叫？你本来就是李贵嘛<br>许仙：姑娘见笑，我再糊涂，也知道自己姓许名仙字汉文<br>连翘：你叫许仙？你不叫李贵？你也没留过胡子？可是我就是觉得你很像，哪儿像呢？眉毛？眼睛？眼神不太像那你不早说，既然不是他，打扮成这个样子干什么，还在这里跟我罗嗦这么半天，还不快走？要不我后悔了，就把你当成那个负心人揍上一顿，先一拳打黑你的眼睛，再一掌击肿你的脸，然后踩着你的脚趾头，往地上使劲地一碾<br>许仙：姑娘，我马上走，可是<br>连翘：可是什么呀？<br>许仙：你救了我的性命，我还没有请教姑娘尊姓大名<br>连翘：连翘<br>许仙：一个药名？<br>连翘：不劳你告诉我，还不快走<br>许仙：等等，等等<br>连翘：又干什么呀？<br>许仙：方才，你说那蛇有剧毒，好像叫什么七步蛇<br>连翘：对呀，你怎么不早说呀，我刚走几步了？<br>许仙：好像有七步了姑娘，姑娘你没事吧？我虽然读过几本医书，但我也不知道怎么解这七步蛇之毒啊草药，草药，草药可以解毒。你骗我！<br>连翘：七步蛇，哪有什么七步蛇，你还真相信呀。说你笨呀你还真笨<br>许仙：你这个女人怎么如此险恶，我以为你为我送了命，刚才心疼的像是要裂开了，还像个傻子一样为你去嚼草药，你笑什么笑，有什么好笑的<br>连翘：好了，我扶着你吧<br>许仙：你这是干什么<br>连翘：又没有人看见<br>许仙：没人看见也不行，你放开<br>连翘：好了，我们家李贵受伤了，我也是这样对他的<br>许仙：我再跟你说一遍，我不是你的李贵，我姓许名仙，许配的许，神仙的仙<br>八两：这笔生意做的，饶这么大个弯子我出来了，兄弟，我出来了，我没忘记你，你没忘了哥哥吧，你还欠我八两银子哪<br>~<br>观音：白素贞，此时此刻，你听到了什么？<br>白素贞：我，我不知道，我只是感觉他们都在说话，都在讲自己的故事，这是我以前从来没有过的感觉，我，<br>观音：想到了什么？<br>白素贞：我想，我想，哭？<br>小青：姐姐，你胡说什么，我们是妖，妖是不会哭的<br>白素贞：难道，难道菩萨所说的要我找魔道和天庭都不会拥有的至情至善的宝贝，就是凡人的眼泪？可是凡人的眼泪，又有什么了不起呢？他们的眼泪怎么会成为天上诸神的仙根呢？<br>观音：这就是成仙的秘密了，如果我现在就跟你说明白，你还悟的什么道，成的什么仙<br>白素贞：菩萨的意思是，我还有成仙的机会？可是我的仙丹给别人了<br>观音：你为了救人，坏了那仙丹的灵性，不过，这枚仙丹我倒是可以替你补上<br>白素贞：可，可我的仙剑也断了<br>观音：是啊，这次是为了……<br>小青：姐姐是为了救我，要不是那和尚在半步多大开杀戒，姐姐她怎么舍得把那仙剑弄断呢？<br>观音：剑断了，倒是也可以重铸<br>小青：姐姐，你听见了没有，菩萨说了，仙丹可以再给你，剑断了可以重铸，那姐姐你有希望成仙了<br>白素贞：是呀，菩萨这么说我就放心了<br>小青：这是什么？<br>观音：拿好这个葫芦，装满人间的八滴眼泪，到那个时候，你自然就能得道成仙了<br>白素贞：人，不是经常流泪的吗？我想要收集人的眼泪，并不会很难，素贞感谢观音菩萨的指点，请观音菩萨静候佳音<br>观音：只怕你把这事情看得太轻了，所谓成事在天，败事由人，难道如今这浅显的道理还不清楚吗？<br>白素贞：菩萨的意思是……<br>观音：天机不可泄露，你们去吧<br>~<br>白素贞：菩萨？<br>小青：姐姐，你怎么了？做梦了？<br>白素贞：是个奇怪的梦<br>小青：是吗？我也是，奇怪的很<br>白、小青：南海滴泪宫？<br>白素贞：你也梦到了？<br>小青：嗯姐姐，你看你手里<br>白素贞：葫芦？有什么事吗？<br>胖掌柜：白姑娘，今天天还没亮，有位妇人在柜上给您存了一样东西，说是一定要亲自交到姑娘的手上，给<br>白素贞：她是怎么说的？<br>胖掌柜：她说，她说这件宝贝已经送给姑娘一次了，希望这次不要辜负了她的一番情意<br>白素贞：谢谢您了<br>胖掌柜：不用不用<br>小青：姐姐<br>白素贞：拿着菩萨果然没有食言<br>小青：姐姐，现在我们该怎么办哪？<br>白素贞：去做人<br>~<br>小青：姐姐，你知道吗？我真的打心眼里替你高兴姐姐，这里交给我，你先走，等收拾了她们之后我再来追你<br>白素贞：不行，我不能让你一个人留在这儿，我们得在一起<br>小青：可是，那怎么办哪？总不能一辈子躲在半步多吧<br>普渡大仙：我是跑旱船的，专门送有急事的人去她们该去的地方<br>白素贞：是菩萨让老神仙来助我们出去的<br>小青：是吗？<br>~<br>连翘：傻小子，这上面写什么呀<br>许仙：这是福来客栈，姑娘你不识字啊？<br>连翘：认识几个字有什么用啊，不如会些功夫实际<br>店伙：客官，住店呀？<br>连翘：小哥，这离钱塘县还有多远啊？<br>店伙：钱塘县啊，哎哟，那可远着呢，脚力好的话也得走个一天一夜才能到呢<br>连翘：脚力好？我看今天晚上还是在这儿住下吧。小哥，你这儿有没有又便宜又干净的客房给我来一间<br>店伙：好，好<br>连翘：至于他嘛，有什么伙房啊，柴房啊之类的，他这人有个毛病，住不惯好地方<br>店伙：好的，您请客官，这方圆一百里只有我们一间客栈，物廉价美，童叟无欺，您请吧<br>许仙：你这是干什么？<br>店伙：我看客官伤了脚，帮把手<br>许仙：不用了，您带路吧<br>店伙：您书囊好重啊，请，请吧<br>许仙：这屋里怎么这么暗？怎么不多点几盏灯啊？<br>店伙：省油钱嘛<br>连翘：你哪儿那么多问题，快点行不行啊<br>店伙：您请<br>许仙：怎么一转眼工夫就不见了，小哥，连翘姑娘，小哥，连翘啊，鬼啊！<br>似玉：呸呸呸，谁是鬼呀，睁大你的眼睛看看，我是鬼吗？再说了，这世上哪儿有我这么貌美如花的女鬼啊<br>许仙：你不是鬼你是谁啊？<br>似玉：看我的打扮，你也略知一二了吧？公子，你真没看出来呀？我是客栈老板娘如花的丫环，名叫似玉，就是那个如花似玉的似玉<br>许仙：你这是干什么呀，我<br>似玉：转过去，你这个书囊啊太沉了，给我吧<br>许仙：姑娘，你这是干什么？<br>似玉：给我吧，我帮你拿，我帮你拿<br>许仙：你这是干什么呀？姑娘，那都是我的东西<br>似玉：哎呀，就那么几本破书啊<br>许仙：姑娘，姑娘，这是干什么呀？姑娘<br>似玉：公子啊<br>许仙：你要干什么？<br>似玉：公子，你可真是一表人才呀，公子的书囊实在是太重了，先不如我替你拿着吧<br>许仙：不劳姑娘帮忙，我还是自己拿<br>似玉：公子，你是不放心你的朋友吧？这你就放心好了，我们已经安排她住下了<br>许仙：那就好，那可是我呢？<br>似玉：您？那当然是住我们客栈最好最舒服的上房啊公子，来，你看看，你看看这个房间怎么样啊？<br>许仙：还真是又好又舒服呢<br>似玉：那你就先歇下吧对了，公子，夜里要是起了风，可要小心火烛啊<br>许仙：多谢姑娘，多谢<br>似玉：那我就先走了公子歇着吧<br>~<br>如花：怎么只有两个？今天不知道什么日子这么倒霉，从早到晚就这么两个过路客，油水大不大？<br>店伙：不好说，两个都穿得一副穷酸相，但是也难保他们不是为了掩人耳目，故意乔装的，不过那个书生打扮的人，有个很重的书囊<br>如花：书生？那书生现在在哪儿？<br>店伙：在柴房<br>如花：柴房？又是一个自作聪明的傻小子，以为你装穷我就会放过你<br>店伙：当家的，咱们什么时候动手啊？<br>如花：老规矩，三更动手，先让他们闭嘴，再验货。美什么美，你快点磨<br>似玉：当家的，当家的，钱不少呢<br>如花：真的？你看清楚了？<br>似玉：我当然看清楚了，足足有二十两呢<br>如花：真是听着都让人直流口水呀<br>~<br>许仙：算起来出门在外也有些日子了，不知道姐姐姐夫可好？家里有没有什么大事发生？怎么这么多银子会在我的书囊里？这是谁的？这个手帕一看就知道是女人用的，怎么会用来包银子呢？难道是姐姐偷偷放在我书囊里以备不时之需的？不会啊，姐姐的手帕不是这种香味，这香味闻起来好像在哪里，这两天昏头昏脑的，怎么什么都忘了，一定是有什么重要的事，一定发生了什么事情<br>~<br>似玉：当家的，银子就在他的书囊里<br>如花：你们动手，我来拿银子，动作要快，要利落，听我的口信，去吧预备<br>似玉：当家的<br>如花：什么？<br>店伙：在等你口信呢，当家的<br>~<br>连翘：娘，我马上就要到钱塘县了，走了这么多天的路，说来还真可笑，路上遇到一个书生，几乎被我认做是那个负心人，还好是场误会娘，等我到了钱塘县，找到李贵那个臭小子，我就马上和他拜堂成亲，这样您地下有知，也就安心了李贵不是爹，不会跟爹一样一走了之的，抛下我一个人不管<br>~<br>如花：你们这是在干什么呀？<br>似玉：我们不是在干你一直吩咐我们干的事吗？<br>店伙：是啊是啊<br>如花：什么啊？<br>似玉、店伙：谋财害命啊<br>如花：现在用不着你们了，一切由我作主，知道吗？<br>似玉：那怎么行啊？你说过的，干我们这行是要讲行规的<br>如花：规矩是我定的，现在我又定了新规矩了，你们俩快回去睡觉，一觉睡到大天亮，天不亮不许起来，快走，快快快走，走走走。他快醒了<br>许仙：你，你是谁呀？<br>如花：我？我是谁你一看不就知道了，我就是这家客栈的老板娘，我叫如花，貌美如花、如花似玉的如花<br>许仙：不知大姐你是何时进来的？<br>如花：什么大姐啊？你叫我姑娘就行了，公子公子为什么站在窗户前面呀？不怕这夜黑风大的吹病了身子吗？<br>许仙：我，我只是想透透气，倒是大姐你，啊不不不，姑娘你不妨多穿一些，小心受了凉<br>如花：公子你真体贴人哪，只不过我从小啊体热，你看，我没走几步哪，我这浑身上下呀都是汗了，不如我现在就解开衣服凉快凉快哎哟，看把公子热的，浑身都是汗，反正不是外人了，不如公子也解开外衣松快松快嘛<br>许仙：不不，姑娘，使不得，姑娘<br>如花：使得，使得，使得呀<br>许仙：使不得<br>如花：哎呀，公子，我说使得就使得嘛<br>许仙：姑娘天冷，我看你还是穿上点儿吧<br>如花：我煲了一锅燕窝粥，准备给公子尝一尝，怎么样？<br>许仙：燕窝粥是吧？麻烦姑娘你先放开我，让我好好品尝好吗？<br>如花：真的吗？公子我们去喝粥，喝粥能在这花前月下，和公子共饮，岂不是顶顶风流的一桩美事<br>许仙：姑娘！姑娘你既是一店之主，就应该知道做人根本，有些话本不该我这个过路客来讲，但事已至此，我只有得罪了你我两人，孤男寡女，本不该深夜独处一室，既然姑娘你一片好意为我做粥，我也只有勉为其难接受姑娘你的美意，但是深夜私会，乃是不雅之事，姑娘，还请你自重，赶快回去吧<br>如花：可是<br>许仙：我请姑娘离开这里<br>如花：可是我们<br>许仙：我请姑娘你回去吧<br>如花：我偏不！<br>许仙：怎么走的？这位大姐倒是真爽快，说回去就回去了<br>~<br>店伙甲：三更天了吗？刀磨快了吗？那个女的凶巴巴的，像个男人婆，刚才我送茶水的时候查过她的背篓，里面全是蛇<br>店伙乙：行啦，走，别说了，走<br>~<br>似玉：煮熟的鸭子飞了<br>店伙：是啊<br>似玉：老板娘她是不是病了？<br>八两：开门哪<br>店伙：这么晚了？<br>八两：开门！<br>店伙：怎么还有人来投宿呀？<br>八两：开门！<br>店伙：来了<br>八两：开门啊，磨磨蹭蹭的，干什么呢这是<br>店伙：住宿呀？<br>八两：住什么住，跟你打听一个人，你这儿有没有一个年轻的后生来这儿投宿呀？<br>店伙：你说一个高高瘦瘦的书生？<br>八两：对<br>店伙：长得很清秀？<br>八两：对<br>似玉：满口爱心的那个？<br>八两：他来过？<br>店伙、似玉：没有！<br>~<br>许仙：真没想到，这福来客栈的老板娘竟然是这么轻薄的女人怎么把门给锁上啦？有没有人哪？怎么把门给锁上啦？有没有人哪？怎么把门锁啦？连翘姑娘<br>连翘：嘘，别那么大声<br>许仙：你知道吗？这里的老板娘她<br>连翘：别说了，这是家黑店，趁天黑，咱们赶快走<br>许仙：黑店？<br>连翘：走吧<br>许仙：你让我走窗户啊？我告诉你啊，走窗户可不是君子所为，君子只走大门不走窗户的<br>连翘：路就这么一条，你爱走不走<br>许仙：不不不，等等我<br>连翘：有人。要字要花？<br>店伙：要花<br>连翘：你输了，是字。是花呢，就打你天灵盖，是字呢，就打你后心窝<br>许仙：我竟然打了人，他不会死吧？<br>连翘：别说了，再不走就来不及了<br>八两：兄弟呀，你让我好找呀，你跑哪儿去了<br>连翘：你亲戚有必要那么大嗓门说话吗？<br>~<br>连翘：真是倒霉，本来都快逃出去了，被你那个大嗓门的兄弟一嚷嚷，又给活生生地捉了回来，还捆住手脚，捆的这么结实，想逃都逃不掉，你跟你兄弟还真是一家人，都那么笨<br>许仙：其实说起来，我和大胡子并没有什么血亲，我们只是<br>八两：兄弟，跟她瞎罗嗦什么呀，小孩子家家的懂些什么，我告诉你，我八两行走江湖这么多年，有一个规矩，一个是小孩，一个是女人，那我是不招惹的臭丫头，不知道吧，我跟这傻小子一起出生入死，可是生死兄弟，告诉你，我们哥儿俩是因为八两银子相识，一起躲过那场大雨，一起投宿半步多，又一起误入了魔道，也因此得识了白姑娘和小青，说出来吓死你，是我兄弟亲手杀死了魔道圣君，又被那和尚利用害了白姑娘，后来好不容易我们找到了解药，又要一起过无情槌阵，忘了这一切<br>许仙：等等等等，大胡子，你越说越离谱了，我们是在落水镇因为八两银子相识不假，可是你说的什么无情槌阵，什么白姑娘，还有什么乱七八糟的鬼故事，你何必编出这些没有道理的话来骗这位姑娘呢？<br>八两：我跟你说正经事，你却当我开玩笑，你还是老样子，一点都没变，你气死我了<br>连翘：你小声点行不行啊，现在不是说这个的时候，不管你们是不是兄弟，现在最重要的是我们能逃出去啊<br>许仙：对呀，我想我们应该找那个老板娘好好谈一谈，如今已经不是刀剑的天下了，想赚银子也有很多方法嘛<br>连翘：恐怕那只会让我死得更快一些吧<br>八两：他呀，一贯如此<br>~<br>似玉：当家的，当家的，你怎么又吃起来了？你忘了就是因为你吃了这么多饭，你的身材才变成这样的<br>如花：似玉，我的心好苦啊，许公子他，他不喜欢我<br>似玉：他不喜欢你？啊，那你的意思是你喜欢他？<br>如花：嗯<br>似玉：你说过的，做我们这行的，是不能动心的<br>如花：可是它就动了啊，那个心啊，它就在胸口跳来跳去，嚷嚷着，我要许公子，我要许公子，我想管也管不了啊我，不信，你过来摸摸<br>似玉：我不摸<br>如花：你过来摸摸<br>似玉：当家的，你的心跳得就像兔子那么快<br>如花：似玉啊<br>似玉：你好命苦啊，你干什么，你干什么当家的<br>如花：反正许公子也不喜欢我了，我反正吃个痛快<br>似玉：当家的，你不能自暴自弃啊，我有办法，我有办法<br>如花：什么？<br>似玉：跟他要一个理由，他不是不喜欢你吗？那就让他给你一个理由，要是他说不出来，那就说明他喜欢你<br>如花：这样也行吗？</p>
</blockquote>
<h3 id="第七集"><a href="#第七集" class="headerlink" title="第七集"></a>第七集</h3><blockquote>
<p>如花：说说，为什么不喜欢我？给我个理由，要不然今晚你就得跟我成亲<br>似玉：是啊，臭小子，说出个理由来，说得好，说得合情合理，说不定我们当家的还能把你们给放了<br>许仙：我<br>连翘：这不明摆着吗？还要什么理由啊？说呀<br>八两：对啊，明摆着跟她说<br>似玉：说呀<br>许仙：让我想想，哦，我是这样，我觉得我太年轻了，还未功成名就，所以我……<br>如花：借口！<br>连翘：你怎么跟负心人说一样的话？你们男人都是这样吗？<br>许仙：那好吧，其实真正的原因是我喜欢一个人生活，孤孤单单的，所以会让人觉得与众不同<br>似玉：更是借口，你要是喜欢一个人，为什么带她上路？重说一个<br>许仙：这就对了，我其实，我父母早亡，一切都是姐姐做主，而且婚姻大事，岂能儿戏？所以一定要有姐姐的首肯，方能行事可你们这荒山野岭的，没半个家人，叫我如何……<br>如花：这根本就是最像借口的借口！<br>八两：这话说的我怎么这么不爱听啊？谁说你没家人啊？那我不是你大哥？<br>许仙：你闭嘴，大胡子<br>如花：今天你欠我一个理由，你要是还不上的话，你们三个谁也别想出去<br>许仙：快帮我想个办法啊，我没有办法了<br>连翘：怕什么，站直了，像个男人<br>许仙：你真的要理由吗？<br>如花：是！<br>许仙：这就是我的理由<br>如花：这算什么？<br>许仙：她是我的女人，我心里已经有她了，怎么能再娶姑娘？我们是不可能在一起的，就算勉强在一起，也是一副没有心的空皮囊，所以姑娘你还是放弃吧如花姑娘，恐怕我不是你的真命天子<br>如花：别说了，我不相信，我不信似玉，这不是真的，为什么我喜欢的人心里他总有别人，这感情的事情太复杂了<br>似玉：如花，我也帮不了你了要不咱们把他……<br>如花：放他，走！<br>似玉：什么？<br>许仙：谢谢姑娘不杀之恩，那我们先走了<br>如花：站住！我反悔了爱一个人本来就是件自私的事，我不放你走！<br>许仙：我们怎么办啊？<br>连翘：跑啊<br>如花：站住！你给我站住！<br>似玉：当家的，我们来啦！<br>如花：站住！<br>八两：快走，兄弟，快点<br>如花：站住，公子，前面没有路了，这老天注定你是我的<br>八两：来啊，来啊<br>许仙：走啊<br>如花：站住！<br>似玉：当家的，你小心点<br>如花：快<br>连翘：快点，快点<br>大胡子：快点，兄弟，快点<br>如花：站住！<br>大胡子：哎，小心兄弟<br>许仙：大胡子，你武功高强，赶快制止他们<br>八两：不是我不帮你，这女人和孩子，我八两从来不招惹啊兄弟，要不先这样，你先凑合娶了，反正男人三妻四妾也是常事，以后遇到合适的再娶嘛<br>连翘：什么三妻四妾？只能娶一个<br>八两：小孩子家家，你懂什么？娶个女人又何妨，保命要紧，懂吗？<br>连翘：他娶不娶关你什么事啊？命保住了，整天对着一个不喜欢的女人，生不如死<br>许仙：你们别吵了，与其让我每天面对一个我自己不喜欢的女人，我宁愿去死<br>八两：兄弟，干嘛呀，再想想办法嘛<br>连翘：傻小子，看不出来你还挺有性格的<br>八两：我兄弟嘛<br>许仙：那你们赶紧想想办法吧<br>八两：想，想办法<br>（许仙：我真的听不见，你大声点好不好<br>小青：姐姐说你油包里的东西是被她施了法术的，如果你遇到危难时候，你就把那伞打开）<br>兄弟，有办法了，兄弟兄弟，白姑娘说在危难之时，打开这把伞就可以得救，把它打开<br>~<br>八两：太可惜了，就这么一件体面的衣服，逃难的当口还被扯破了，那个，丫头，帮我缝好，明儿我接生意得穿呢<br>连翘：为什么要我给你缝？<br>八两：你是女人哪<br>连翘：女人就该给你缝衣服啊？<br>八两：这可是你们女人份内的事，那你什么时候看见一个大男人坐在那儿舞针弄线的？<br>连翘：好啊，我给你缝<br>八两：你疯了？<br>连翘：裤子也破了，要不要脱下来一起给你缝啊？<br>八两：你娘没教你点礼数吗？一点家教也没有，我要是你爹，<br>连翘：大胡子，你说话放尊重些，我娘怎么教我，是我们的家务事，用不着你来过问至于我爹，他死了，你不是我爹，也不要以为可以做我爹<br>许仙：大胡子，连翘姑娘，你们这到底是怎么了？有什么话不能好好说，何必要动刀动剑的呢？我们好不容易从那个荒山客栈逃出来，来到钱塘县安顿下来，何必刀剑无情，伤着自己人呢？<br>八两：女人，果然麻烦<br>连翘：男人，还真无趣<br>八两：谁说我无趣了？我有趣得很，是你们女人不识趣<br>连翘：比我麻烦的女人到处都是，你们男人都是骗子，被女人揭穿了谎话，才觉得女人麻烦<br>许仙：你们怎么又来了？不是我说你了大胡子，你也真是的，一大把年纪了，你何必跟人家姑娘家过意不去呢？连翘姑娘，你也是，说话凶巴巴的，难怪大胡子会误解你好了，我们朋友一场，说好了出来聚一聚嘛，来，把刀剑给我，我帮你们保管，好了好了<br>八两：小丫头，这么凶巴巴的，怕是一辈子嫁不出去<br>许翘：说这种话好狠毒啊，不过下次记得好好刷刷牙齿，你口臭啊，大叔又在看那把伞，好像怎么看都看不够<br>八两：那是当然，那伞对我兄弟来说，是顶顶重要的一件宝贝呢<br>连翘：算了吧，就那把伞啊，晴天遮不住阳，阴天挡不住雨的不过，说来也怪了，那天正是紧要关头，他一开那把伞，我们就不见了，转眼就到了钱塘县的城门口，倒好像有神仙相助一样<br>八两：什么神仙相助，人家是……我说，你倒是醒了，自从过那无情槌阵开始，就一直打呼噜，我说，你上哪儿去，回来，回来<br>~<br>小青：不如我们先进茶舍歇歇脚吧？我的腿酸得很<br>白素贞：方才刚歇过，怎么又要歇啊？<br>小青：那是方才呀，直着身子走路真是辛苦，又不能像往常那样用飞的，我的脚上全是泡，姐姐，我们是蛇，三步一歇嘛，姐姐<br>白素贞：好了好了，依你便是你看看你走路也不像个样子，腰软腿乏的，一看便知是软皮蛇<br>小青：管家，你给评评理，姐这话根本不通，小青我呀本来就是一条蛇嘛，走路自然这般<br>普渡大仙：小青姑娘，你就别老埋怨了，你不过是妖要做人，你看看我，放着天上的神仙不当，跑到你们这儿当你们的管家，你说我苦不苦啊？<br>小青：但我认为呢，妖做人要比神仙做人更辛苦<br>普渡大仙：神仙更辛苦嘛<br>小青：妖更辛苦<br>普渡大仙：神仙更辛苦<br>小青：我说妖更辛苦<br>普渡大仙：神仙更辛苦<br>小青：妖，妖，妖，妖更辛苦<br>白素贞：喂！<br>普渡大仙：谁说的，神仙更辛苦<br>小青：妖比较辛苦<br>普渡大仙：神仙更辛苦<br>小青：你哪里会明白妖的苦衷啊<br>~<br>连翘：那个大胡子一转眼工夫，又不知道跑哪儿去了<br>许仙：是啊，刚才还在这里啊<br>连翘：他这个人毛毛躁躁的，又喜欢装神弄鬼，哪里像你兄弟？<br>许仙：谁说的？八两大哥他是个好人，对了连翘，你在这儿等我一下，我去打听一下宝芝堂在哪里<br>~<br>连翘：好久没吃了，闻起来就香，上次吃臭豆腐，还是跟那个负心人在一起小哥，刚炸好的这几块我全要了<br>小贩：对不起姑娘，这最后几块臭豆腐是刚刚有位公子定下来的，听他说，他娘子最喜欢吃这个了，所以大老远跑来，讨她的欢心，对不起姑娘，您下次再来吧<br>连翘：既然这样，那就算了，既然人家那么心疼自己的娘子，我又怎么好夺人之美呢？<br>李贵：小哥，我的臭豆腐准备好了吧？<br>小贩：早就给您准备好了<br>李贵：谢谢啊，我娘子等得心急了<br>连翘：李贵！我从那么远的地方跑来，不就是为了你三年前的那句话吗？<br>李贵：三年前已经是很久远的事情了，我怎么记得我说了什么？<br>连翘：是很久，可你说过的每句话，我到现在都还记得，你不是说到钱塘县来学医的吗？你不是说学满了三年，就娶我过门做媳妇吗？<br>李贵：是啊，我一直在药铺里学医啊，要不是我遇到那个来抓药的那个王金铺的王小姐<br>连翘：什么开金铺的王小姐？你说什么呀，你怎么突然就娶亲了呢？<br>李贵：连翘，其实也不是很突然，我们已经筹备很久了<br>连翘：很久了？有多久？有我们久吗？<br>李贵：自然没有我们认识的时间久，可是你早就应该知道，我是不会娶你的<br>连翘：为什么？我们不是山盟海誓说一起赚银子的吗？我捕蛇，你行医，我们一起打拼的吗？<br>李贵：连翘，可是我遇到王小姐，我们在一起就再也不用打拼了<br>连翘：那我呢？我算什么呀？我千里迢迢的来找你，我，我一路上磨破了多少双鞋你知道吗？我捕了那么多条蛇，才换到银子来找你的，那我怎么办啊我？<br>李贵：连翘，<br>连翘：李贵！<br>李贵：我要是能娶你，我早就娶了你了<br>连翘：李贵，你负我！<br>~<br>管家：小青姑娘，你这哈欠打得也太多了，连我这老头子都被你传染了<br>小青：无聊死了，整天闷在这船上，不是研墨，就是批改你那些梦卷，无聊死了<br>白素贞：怎么了？这才来人间几天，心就野了？<br>管家：真难为她了，她在魔道里住惯了，成天打打杀杀的，一时没法适应人间的生活，也是情有可原<br>小青：本来就是嘛，你们之前说是到人间来，为了找眼泪，可从一开始到现在，整天呆在这船上，你看我，我看你的，大眼瞪小眼，这样怎么能流出眼泪来？我看，还不如咱们到街上去走走看看，说不定那眼泪自己就会来了<br>管家：出去也好，哎哟，这船坐久了，我这身子骨也得活动活动啦，不如咱们找一处僻静的住所，三人主仆相称，安顿下来，你们看如何呀？<br>~<br>小青：姐姐，外面下雨了，你过来看哪<br>白素贞：哎呀，真的下雨了，还好我们刚才把普渡大仙的梦卷都读完了，不然被雨一淋，连梦里都要淋的落汤鸡了这人间，竟这般美呀<br>小青：好漂亮<br>白素贞：前面就是清波门了，我们不如在那儿安顿下来，然后，然后……<br>小青：你在看什么哪，姐姐许仙？姐姐，那站在桥头的不是许仙吗？<br>白素贞：可不是他吗？许配的许，神仙的仙<br>许仙：怎么突然下起雨来了？先想个办法搭船过湖再说吧船家，船家，能不能搭个便船哪？我去湖对面的双茶巷宝芝堂，方不方便哪？<br>小青：姐姐，你看那傻小子，竟然还拿着那把破伞呢，想必他还没忘记姐姐，没想到姐姐教他们过无情槌阵的方法果真有效<br>白素贞：这天下着雨，他自然要打伞了，怎么能说一定还记得呢？<br>许仙：船家，行个方便吧<br>白素贞：我看他的样子，精神恍惚，身体倦怠，他一定没记牢我的话，被那无情槌当头一棒，打得什么都忘了<br>许仙：船家，船家，<br>管家：公子，你叫我哪？<br>许仙：是啊，老人家，这雨下得越发大了，我要过湖去双茶巷的宝芝堂药店，不知道方不方便搭我一程啊？<br>管家：我们要去清波门，反正因风吹火，用力不多，就一并搭了去吧<br>许仙：那就多谢老人家了<br>管家：不谢不谢<br>小青：公子，<br>许仙：不好意思，我不知道船上有女客，真是造次，我这就走<br>小青：公子，怎么了？看你这样子你好像不记得我了？我是小青啊<br>许仙：小生初来乍到，怎么会认得姑娘？姑娘你一定认错人了<br>小青：我怎么会认错人呢？你呀，不就是那个许……<br>白素贞：青儿！青儿，别再胡闹了外面风大雨大，请公子进里面坐吧<br>小青：走吧<br>白素贞：公子请公子不必拘礼，请坐吧<br>小青：姐姐，没那么简单就要你认输了，让我来再好好试试他<br>白素贞：不要胡来<br>小青：公子，你看，外面的风和雨真的下得很大<br>许仙：是啊，无缘无故的就下起雨来了<br>小青：如果风雨下得太大的话，下个不停可是要成灾<br>许仙：但愿不会，否则的话百姓就该遭殃了<br>小青：要是风大雨大无处去，又被老船夫捡到船上，那说不定会到了本来不该去的地方<br>许仙：姑娘说不该去的地方是哪儿？<br>小青：这位公子是否听说过一间客栈，名叫半步多？<br>许仙：我是个穷书生，没有多少银子，我一路上只借柴房落脚，住不起客栈的<br>小青：公子你看，那边那个和尚，你看到了吗？<br>许仙：想必那是下山化缘的僧人，忘记带伞，僧袍都淋湿了姑娘你饿了？<br>小青：你真快气死我了，我让你忘记，我让你忘记，我让你忘记，我槌死你<br>许仙：姑娘，你这是为何呀？<br>白素贞：公子不用惊慌，我妹妹赶蚊子呢<br>许仙：赶蚊子？<br>白素贞：青儿！公子请坐你呀<br>小青：姐姐，那天我明明跟他说得很清楚的，他怎么就那么笨呢？到头来还是被那个槌子给打中了<br>白素贞：他只是个凡人，难道不真指望他能躲过老天的安排？<br>小青：既然姐姐已经知道结果了，那干什么还要费心地教他过那个无情槌阵的决窍呢？<br>白素贞：我不知道，也许是他们凡人的生死离别，让我一时不适应吧<br>小青：那他呢？姐姐打算如何？<br>白素贞：我的打算里，可没有他，一次短暂的重逢而已，只可惜相见竟成陌路<br>~<br>小青：姐姐，你看他，这样不好意思，就像没看过女人似的<br>白素贞：你呀公子，你在里面坐得好好的，为什么出来了？<br>许仙：我觉得船舱里太闷了，我出来透透气<br>小青：外面大风大雨的，怎么会热呢，公子？<br>许仙：我站在这里就好，还能看看四周的风景，请姑娘进去吧<br>小青：什么好风景这么好看？不如我也陪公子一起看看哪。姐姐，哪儿那么容易就让他把咱们俩给忘了？让我呀，好好戏耍戏耍他<br>白素贞：小青，别胡闹<br>小青：没事，别担心，看我的公子，公子可是读书之人？<br>许仙：倒是读了几本，算不上精通<br>小青：那既然是读书之人，想必知书达理，我看哪，倒不见得<br>许仙：姑娘这是何意？<br>小青：刚才我们看公子险些被雨淋着，所以呢才邀请公子一同搭船，要是读书人，自该通报名姓，也算礼数，谁知公子只管冷着脸，连个谢字都没有，岂不是个不通情理的呆子？<br>许仙：小生初来乍到，有失礼数之处还请姑娘见谅小生姓许名仙，许配的许，神仙的仙，苏州人士，自幼父母双亡，投靠姐姐姐夫，现在被姐姐举荐到钱塘县宝芝堂做学徒，谁知路上遇到这场急雨，若非两位姑娘便船相载，实是狼狈，小生先在这里谢了<br>管家：小青，人家公子说了一萝筐的话，怎么不听听他有什么要问咱们姑娘的？这也是礼啊<br>小青：那这位公子，可还有什么话要问一下我们家姑娘的？<br>许仙：我，我该问什么？<br>小青：你连自己想问什么都不知道，你简直是呆到家了你<br>管家：小青姑娘，这雨下得还真是冷啊，先回去吧，你看看，衣服都湿了，赶快回去吧小青姑娘，赶快回去吧，太冷了<br>小青：哎呀，管家<br>管家：快进来，换件衣服，来来<br>小青：我不冷啊<br>许仙：请问姑娘，尊姓大名？<br>白素贞：我姓白，名叫素贞<br>许仙：白素贞？<br>白素贞：公子想起了什么吗？<br>许仙：没，我只是觉得它是个好名字<br>白素贞：我本是四川人，我爹做为楚州指挥，双亲早亡，且葬于雷峰塔下，快到清明了，带了妹妹，前来上坟，所以经过这里，没想到遇到了公子<br>小青：管家，你说姐姐为什么把她的身世编得这般离奇？<br>管家：这世上，一旦男人对女人说了谎，就是要分开的前兆啊，但是一旦女人对男人说了谎，必要生出剪不断理还乱的一段纠葛<br>小青：这么复杂吗？<br>管家：双茶巷到了公子，前面就是双茶巷了<br>许仙：谢谢，谢谢<br>小青：公子，你忘记这个了<br>许仙：谢谢，那打扰各位了那，白姑娘，我下船了<br>白素贞：公子慢走<br>许仙：白姑娘，我已经到地方了，现在风大雨大，你还要赶远路，不如把我的伞留给你吧<br>小青：不用了，你这样的破伞也送得出手啊？你这伞哪我们已经领教过了<br>白素贞：好了，伞我收了，不过正所谓礼尚往来，青儿，快把我们的伞，给公子拿上<br>小青：我，<br>白素贞：快呀<br>小青：给，记住，伞给你了，可是要还的<br>白素贞：算了吧青儿，一把伞而已，不用还了<br>许仙：不，君子有道，一定要还的那白姑娘，我先走了<br>~<br>路人：这位小哥，为什么有伞却不打开挡雨呢？<br>许仙：这伞一打开，不就淋湿了吗？<br>路人：既然你有伞不用，不如小哥你借给我一用如何？<br>许仙：这伞是白姑娘借给我的，我怎么能转借他人，这样吧，我这里还有些碎银子，你拿去买把伞<br>路人：难道是呆子不成？<br>许仙：白素贞，好名字<br>小七哥：你怎么走道不看路啊？怎么回事你？<br>许仙：这位小哥，得罪了<br>小七哥：下这么大雨，快快快，咱们旁边避避雨我说，你不是本地人吧？<br>许仙：我是苏州人士，学徒而来<br>小七哥：下这么大雨，你怎么不打伞啊？你学的什么徒，是打铁的还是卖豆腐的？看你脚上无力，手上没劲的<br>许仙：我虽一无是处，但是我粗通药理，是前来宝芝堂<br>小七哥：你是许仙？<br>许仙：正是<br>小七哥：怎么不早说呀？我是宝芝堂的伙计，掌柜的想着你该到了，叫我出来接你的<br>许仙：真是巧了，没成想刚过湖就遇到了您，倒省得我挨家挨户的去寻了说到寻，我想打听一下，请问这钱塘县有没有一户姓白的人家？<br>小七哥：姓白的？这钱塘县那么大，姓白的人家少说有几十户，不知道你要找哪家？<br>许仙：我要找的那位姑娘叫白素贞<br>小七哥：白素贞？她长什么样？<br>许仙：她长得奇美<br>小七哥：嗨，别说了，下这么大雨，有什么事咱们回去再说吧<br>~<br>八两：你还想跟我耍？难道说遇见熟人了不成？你跑，好，我跟你耍站住，还跑，还跑跑啊，你怎么不跑了？累了吧，是不是累了？跟你八两爷爷赛脚力，这是什么响动？你看见谁了？这是什么响动，快告诉我，你看见谁了？你看见谁了？<br>（八两：丫头，我让你回家去<br>丫头：你要是走了，你就不是我爹谁要你的破箫）<br>八两：丫头，丫头是你吗？丫头<br>小女孩：爷爷，铃铛掉了<br>八两：丫头不可能，不可能，这怎么会是我那丫头呢？傻铃铛，你也被那无情槌打中了头不成，已经过了这么多年，她要是我那丫头，这个个儿也该这么高了吧臭丫头，你怎么在这儿？<br>~<br>八两：一个姑娘家，喝那么多酒成什么样子，还喝我说你别喝了<br>连翘：给我<br>八两：给我喝，喝呀，我看你喝什么<br>连翘：你们这群臭男人，一个算一个，都是负心人<br>八两：你呀，你说得没错，不过你们女人，也是一个算一个，眼泪口袋似的，动不动就哼哼唧唧的掉金豆<br>连翘：我被欺负了，哭两声还不成吗？<br>八两：你别哭了行不行啊，有本事，跟他单打独斗<br>连翘：我自然是想打他，可是我下不去手嘛<br>八两：姑奶奶，咱不哭行不行啊？真是没用，算了，大不了我再做你一笔生意，怎么？你还不相信我呀<br>连翘：你？<br>八两：怎么？丫头，你不知道我是刀客吗？以为我拿着刀是样子货，我告诉你，臭丫头，我不光会武功，我还会法术比如说什么急急如律令，三昧真火，乾坤无敌腿，还有，丫头，对了，咱们这丑话得说到前头，想让我用法术嘛，这银子得单收，这笔生意，你做是不做？<br>连翘：好，我就跟你做这笔生意<br>~<br>钱掌柜：您是许仙的舅姥爷吧？<br>亲戚甲：对，这是他姐姐托我带的一点东西，请您务必交给他<br>钱掌柜：您放心，我肯定交给他，他呀早上跟我告了个假，说是给哪家小姐送什么东西去，兴许一会儿就回来，既然您是他亲戚，又赶上了吃饭的时辰，您就留在这儿用个便饭吧<br>亲戚甲：那谢谢您了<br>钱掌柜：小七啊<br>小七哥：来了，掌柜的，来，这边请<br>钱掌柜：您是来抓药的？<br>亲戚乙：不是，我来找你们这里的一个小伙计，叫许仙<br>~<br>小孩：漂亮姐姐，漂亮姐姐<br>白素贞：什么？<br>小孩：漂亮姐姐，听他们说，从你这儿拿了东西送到对面的宝芝堂去，不仅有银子拿，还有一顿不要钱的饭吃<br>白素贞：你不行，你年纪还小，帮不了姐姐的忙<br>~<br>亲戚丙：许，许，许，许，许，许，许……<br>钱掌柜：许仙？<br>亲戚丙：对对对，我就找你许仙，我是你表弟啊<br>钱掌柜：你找我？我不是许仙哪，你怎么把他认成我了？<br>亲戚丙：我是你表弟啊<br>钱掌柜：你，你不认识他？<br>亲戚丙：我，我又没见过他<br>钱掌柜：那你们是远房亲戚？<br>亲戚丙：对对对，是是是他姐让我帮他带点东西<br>钱掌柜：又带东西？这里边装的什么东西这么沉？<br>亲戚丙：装的什么？我就说，记不住那么多嘛，带的什么东西来着，是，是，带的什么来着，我带的什么呀？<br>钱掌柜：行行行，我也不问是什么了好不好？我呀，一定交给他<br>亲戚丙：那，我可以吃饭了吧？<br>钱掌柜：吃饭呀？可以，可以，您请<br>小七哥：老板，这个许仙，他们家怎么这么多亲戚啊？<br>~<br>许仙：总算找到了白府，没想到是这么气派的宅子。白姑娘住在这么气派的宅子里，想必是有钱人家的小姐，她又怎么会在意我手中这把伞呢？说不定早已把我和这把伞给忘了，我还不请自来的给她送伞，岂不是自讨没趣？我只是把人家借我的伞还回来，凭着君子之道办事，何苦自寻烦恼。我难道真的只是想着给人家送伞这么简单的事吗？是为了还伞，还是……<br>月老：这么简单的事情还要想这么半天，自然是为了见人来的，公子<br>许仙：老人家，你在跟我说话吗？<br>月老：这旁边难道还有别的人吗？那就是你呀，我问问你，昨天夜里你是不是翻来覆去地睡不着觉，今天早饭也没有吃，方才来这清波门的路上，你心里头像揣个小兔子似的，扑通扑通地跳个不停，还有现在，你是不是口干舌燥，浑身无力，手心出冷汗，手脚发软哪？<br>许仙：老人家，真是一点不差啊<br>月老：还不止这些呢，我来看看，这新登记在册的，在这儿，许仙对吧？许配的许，神仙的仙，年方二十二，现在双茶巷宝芝堂药铺里给姓钱的掌柜当学徒<br>许仙：老人家您是怎么知道的？您难道是算命先生吗？<br>月老：我这么有气质的人，哪能像算命先生？命的事我不管，我管的是，公子，你已经在我的名册上了，昨日午时三刻<br>许仙：昨日午时三刻？我好像是在西湖的船上<br>月老：一点不错，再说得准确一点，公子是在西湖的船上借伞吧？<br>许仙：老人家，你是怎么知道我与这家姑娘借伞的事？<br>月老：我不仅仅知道你借伞的事情，我还知道这伞有借有还，你是借还伞的事来看人吧？来吧，公子，敲门吧，有些事情一旦注定了，想改就改不了啦<br>管家：谁啊？<br>许仙：小生许仙，来找府上的白姑娘还伞</p>
</blockquote>
<h3 id="第八集"><a href="#第八集" class="headerlink" title="第八集"></a>第八集</h3><blockquote>
<p>管家：谁啊？<br>许仙：小生许仙，来找府上的白姑娘还伞<br>管家：你就是昨日搭我们顺风船的公子？<br>许仙：是啊老人家，麻烦您进去通报一声白姑娘，就说宝芝堂的许仙来还伞<br>管家：白姑娘一早就出去了，怕是一时半会儿回不来<br>许仙：这样啊，那白姑娘的妹妹小青在吗？<br>管家：小青也出去了<br>许仙：都出去了，那不好意思，我改日再来<br>管家：公子<br>许仙：您这是干什么，老人家<br>管家：公子，你不是来还伞的吗？不如交给我，我替你还便是了<br>许仙：不劳老人家帮忙了，这伞是白姑娘借给我的，我当然要亲自还给她，我还要向她致谢呢<br>管家：不就一个谢字嘛，我替你说就是了<br>许仙：还是不好，小事一桩，不麻烦您了<br>管家：老人家闲着也是闲着，不如活动活动筋骨，替你们这些年轻人传个话，办个事，反正小事一桩嘛你总算回来了，伞哪，哎呀，伞哪<br>许仙：老人家，麻烦您告诉白姑娘一声，就说我来还过伞了<br>管家：我知道了，就说一个什么仙来还过伞了<br>许仙：是许仙啊<br>管家：对对对，许仙<br>许仙：还麻烦您告诉白姑娘，昨日的事情，我非常感激，所以<br>管家：所以什么啊？公子，<br>许仙：所以我心里，她<br>管家：什么她啊你啊你啊她啊的，你到底想说什么啊？公子<br>许仙：天要下雨了，这伞还是再借我用一下吧<br>管家：公子，光打雷不下雨，公子，趁着天没黑，公子还是回去吧得得得，您忙您的<br>许仙：我，老人家！<br>月老：看来又是一个有缘无份的，划了去吧<br>~<br>小青：快点<br>白素贞：青儿，你干什么去<br>小青：姐姐，你不是说宝芝堂里有很多眼泪可以收吗？那我们还等什么？赶快去找眼泪嘛，快点儿<br>小七哥：这怎么回事啊？<br>小青：都不是<br>白素贞：青儿，青儿，你别胡闹，那些眼泪不在药柜里<br>小青：不在药柜里？不在药柜里那会在哪儿？<br>妇人丈夫：掌柜的，快，掌柜的快，快给我顺产药，我娘子要生了<br>钱掌柜：那接生婆请去了没有？<br>妇人丈夫：就是她让我来的，她说满钱塘县就数你们宝芝堂顺产药最好，还有多少，我全要<br>小七哥：真没有了<br>钱掌柜：真不好意思，昨天都卖光了，还没来得及配呢<br>妇人丈夫：啊，没有顺产药，这可怎么好<br>婆婆：儿子，你怎么还在这儿啊？你娘子胎位不正，怕是难产啊<br>妇人丈夫：那接生婆呢？<br>婆婆：那接生婆子害怕，趁着乱跑了你快点回去看看吧，这可怎么办啊<br>妇人丈夫：那就再请一个嘛<br>婆婆：你娘子是百年不遇的横胎，没有人敢来接生的，弄不好就是两条人命啊，快点<br>妇人丈夫：天啊，这要我的命啊<br>小青：姐姐，你说为什么他娘子生不出孩子来，反倒要了他的命呢？<br>白素贞：我也不知道，管不了那么多了，母子两条命，救人要紧<br>小青：姐姐<br>~<br>妇人丈夫：娘子，娘子<br>产妇：顺产药呢？那接生婆呢？<br>妇人丈夫：也没有<br>产妇：相公，那我就只有你了<br>妇人丈夫：娘子<br>白素贞：这位大哥，嫂子情况很紧急，不如赶紧准备一下，让我和妹妹试一试吧<br>妇人丈夫：好<br>白素贞：大嫂，在我们开始之前，你要答应我一件事，一会儿无论看到什么，都不要对别人提起<br>~<br>路人：怎么回事你？<br>许仙：怎么会这样？一晚上没睡，饭也没吃，手脚冰冷，面红耳赤，腿软脚麻，什么结果都想到了，只是没料到，连人也没见上一面，现在好了，伞也还了，人又没见，心也凉了，身子也凉了，就像一盆凉水浇在我头上<br>妇人：对不起，小哥<br>许仙：也好，一盆冷水把我这个天底下最爱做梦的男人给浇醒了。谢谢大姐<br>妇人：呆子<br>~<br>产妇：太好了<br>婆婆：快，快来谢谢女菩萨，谢谢女菩萨<br>妇人丈夫：多谢您的大恩大德<br>白素贞：我何德何能，怎么受得起这样一跪呢？<br>小青：没想到，姐姐说的还真没错，去了一趟宝芝堂，还真见了不少眼泪呢<br>白素贞：青儿，青儿，让他们一家人团聚，我们先走吧<br>小青：嗯<br>~<br>小青：姐姐，我们终于有了第一滴眼泪了，以后还会有更多，等到把葫芦装满了，姐姐就能上天做神仙了，太好了，姐姐说的真没错，这宝芝堂啊，果然是收集眼泪的好地方<br>白素贞：这就是我说的为什么药铺里眼泪最多的原因了，人和妖不一样，喜怒哀乐都难免流泪，而生老病死，哪样离得开药铺呢？<br>小青：我知道了因为这滴眼泪是产妇生子所流的，所以，便应了姐姐的那个生字太好了，以后我就天天在这儿守着，有一滴眼泪，我就收一滴眼泪<br>白素贞：好了，走吧<br>小青：嗯<br>~<br>李贵：我说呀，真巧了，能在这儿碰上你<br>许仙：是啊，我也是刚刚才到的<br>李贵：最近怎么样啊？<br>许仙：还好吧<br>连翘：寻仇都能变成认亲，真是气人<br>八两：人家是亲戚，人家说点家常话有什么呢，看你这丫头<br>连翘：当舅舅的欺负我，这做外甥的就看笑话<br>八两：这倒也是不如这样好了，这舅舅的债就让当外甥的来还，嫁不成舅舅，要不然，咱们就捡个傻外甥也不错<br>连翘：你说什么？<br>八两：我，我什么都没说啊，我说丫头，我那边还有点事，我先走一步了啊，你跟我那兄弟说一声<br>李贵：那外甥，我先走了<br>许仙：慢走，舅舅<br>李贵：先走了<br>连翘：你干什么？<br>许仙：我为我小舅舅向你道个歉，任打任罚，随便你吧<br>连翘：我，负我的人又不是你，天底下只有你肯替他挨拳头了<br>许仙：没想到他欠了那么多赌债，所以才娶了这样的妻子，如今连孩子都有了<br>连翘：算了<br>许仙：真的？你肯放过他了？<br>连翘：情这样东西，是互不放过的，是他先放过了我一样的脸，却是两样的心，不见到你，还不觉得他无趣算了，丢了一个好看的男人能是多大的事，我们喝酒去吧<br>许仙：好啊<br>小青：姐姐，怎么了？<br>连翘：怎么了？你看什么呢？<br>小青：姐姐，那不是许仙吗？贼！<br>连翘：傻小子！<br>小青：小毛贼，你竟偷到你青姑姑头上了，看我怎么收拾你<br>白素贞：青儿，对这些孩子不要乱用法术<br>小青：那眼泪呀<br>小孩：接着快跑<br>许仙：站住！<br>小孩：抓不到，抓不到快来呀，抓不到<br>许仙：站住！<br>连翘：傻小子！<br>许仙：站住！给我站住！<br>小孩：快跑。接着。快点给我。快跑。给我呀，给我呀。抓不到，抓不到<br>连翘：小毛贼，把东西给我<br>白素贞：许公子！<br>连翘：傻小子！<br>白素贞：许公子！许公子！<br>小青：书呆子！书呆子！<br>白素贞：许公子，你抓住桶上来呀<br>连翘：傻小子，你没事吧你？<br>许仙：白姑娘，你的葫芦<br>小青：葫芦！姐姐，宝贝不见了<br>白素贞：是吗？<br>~<br>小青：书呆子，每次碰到你都要触霉头，这次是眼泪，下次不知道是什么呢<br>管家：白姑娘，俗话说万事开头难哪，丢一滴眼泪这没什么，就怕自己乱了阵脚啊对了，小青那丫头为这事还气了一晚上呢，你看你，怎么好像无动于衷啊？<br>白素贞：老神仙，看来我的心事都瞒不过你，其实我今天去宝芝堂，根本不是为了找什么眼泪，只是想去见见许仙，本来好好的，想来人间收集眼泪，可偏又在断桥上见到他，他忘了我，小青说我该恨他，可我却不恨他，反而有些担心他他只是一个弱书生，手无缚鸡之力，却专爱管那些自己管不了的闲事，你说我能不担心他吗？我给他扯了几尺布，又买了些糕点，老神仙，你说我这是怎么了？为什么我总是想着他，又那么担心他，难道不该装成陌生人的样子，就像从来没有见过他，也没有救过他一样吗？<br>管家：因为你们是朋友嘛<br>白素贞：朋友？<br>管家：你，小青，八两，许仙，你们四个是朋友，你们所做的是对朋友应该做的事情，这没什么稀奇的<br>白素贞：真的就这么简单？早知道是这样，我就不该对小青撒谎了，害的我心里愧疚半天呢，这眼泪来了又去，看来是对我用心不诚的惩罚。谢谢你呀，老神仙，从此以后我再也不胡思乱想了，我去跟小青说清楚<br>管家：我这一辈子也没说过谎话啊，真说了谎话，还真是有点不适应<br>~<br>白素贞：青儿！青儿！这丫头，一会儿看不见，又跑到哪儿去了？<br>~<br>小青：土地佬，识相的话，你最好把那滴眼泪给我送回来，那可是我姐姐的宝贝，我见不得她心烦，听见没？<br>法海：妖也想成仙？<br>小青：和尚？<br>~<br>李公子：小姐，原谅我没有用你，你是谁啊？<br>小青：我倒要问问你是谁呢，半夜三更跑到这里来跳湖，要不是本姑娘为了躲避那个和尚路经此地，你恐怕连小命都没有了。你倒说来听听，有什么大不了的事情非要你跳湖不可<br>李公子：说又有什么用呢？你帮不了我，又何必救我我一心求死，你这样只会让我落一个苟且偷生的恶名呀<br>小青：喂，你这人怎么搞的，那么固执，跳完又跳，有完没完啊<br>李公子：你这人怎么这么爱多管闲事啊？我和张姑娘约好今夜一同赴死，你误了我们团聚的时间，你担待得起吗？<br>小青：啊！有什么大不了的事情，非得要一同殉情不可，你倒说来听听<br>李公子：去年河灯节，我和张姑娘在此相识，一见钟情，早已经互托终身，可她是名门闺秀，他爹又是钱塘县最有名的爱财之人，怎么肯把宝贝女儿嫁给我这个穷书生，今夜一过，她就要被嫁到门当户对的人家去作新媳妇，张小姐誓死不从，想来明天又是我们一年前相见的日子，所以才一起约定，今夜共同赴死<br>小青：你不是说那个什么爱财的老爷子喜欢银子吗？那你就给他银子就是了嘛<br>李公子：说得倒容易，只是聘金就要五百两，我一个穷书生，哪儿来这么多的银子<br>小青：这有什么难的，不就是银子吗？你知道本姑娘是谁吗？<br>李公子：难道你是？<br>小青：我是，（我要是说自己是小青，名头不大，想必他不当回事，不如说个来头大的吧）我是观音菩萨<br>李公子：姑娘何必取笑我，我好歹也是个拜佛之人，观音菩萨的容貌我怎会不认得，还是跳湖的好啊<br>小青：李公子，你别跳，你听我说嘛<br>白素贞：公子请留步<br>小青：啊？姐姐？不是。拜见观世音菩萨。喂，你还愣着干什么吗？能救你的人来了，傻呆子<br>白素贞：李公子，你可是真心喜欢张家小姐？<br>李公子：菩萨在上，小生怎敢说谎话？我对张小姐的一片心，天地可鉴<br>白素贞：这样说来，如果我帮你讨来那五百两银子，你可愿娶她为妻？<br>李公子：那小生自应是感激不尽<br>白素贞：那好，现在你去张家门口等着，不出一个时辰，自然有人送银子出来<br>李公子：多谢菩萨<br>小青：姐姐，咱们真的要替他去讨回那五百两银子吗？<br>白素贞：你啊，真会给我惹事<br>小青：这样真的行吗？<br>白素贞：试试看吧<br>~<br>连翘：傻小子，你昨天教我的那两个字，怎么写来着我给忘了<br>许仙：李贵。你喜欢他，他不喜欢你，忘了他吧，傻丫头<br>连翘：我本来喜欢他，可是他打我，打醒了我，我应该忘了他，早就该忘了他，早就该不喜欢他，谁让他……，现在我喜欢你，傻小子<br>许仙：你说什么乱七八糟的<br>连翘：我说，我喜欢你，傻小子<br>许仙：你呀，自己都不知道自己在说什么，傻丫头<br>连翘：我知道，喝醉了嘛，开个玩笑。我怎么会喜欢你呢？你那么傻<br>~<br>张老爷：小民拜见观世音菩萨。小民拜见观世音菩萨。小民斗胆敢问菩萨深夜显灵，为何而来啊？<br>白素贞：张员外，你大祸临头，难道还不知道？<br>张老爷：小的，小的真的不知，请，请菩萨明示，明示<br>白素贞：你生性爱财，吝啬小气，平日里克扣长工工钱不说，就连自己的女儿也不放过，你想着你女儿貌美如花，把她当成摇钱树，嫁给财主那个生性好赌愚蠢的傻儿子，你置女儿的终身幸福于不顾，行为着实令人发指，目前，你的恶行已经登记在册，天帝对你的惩罚已经开始了，你自己听吧<br>张老爷：这，这，这是什么呀？<br>~<br>小青：李公子，这里有五百两银子，你赶紧拿去向张小姐提亲吧<br>李公子：谢谢，谢谢<br>白素贞：不用谢我，这是你们的造化<br>李公子：小翠！小翠！<br>小翠：李公子，你怎么现在才来呀？小姐，小姐怕是挨不过明天了<br>李公子：你说什么？<br>小翠：自从知道老爷把她许配给别人，小姐就整日不吃不喝，愁眉紧锁的，一来二去，就得了怪病，请了不知多少大夫，没有一个能治好，方才送走的大夫说，要是挨不过今晚，明天恐怕……<br>李公子：别，别说出来，你说出来会要了我的命的<br>小青：要了我的命？怎么又是这句话？姐姐，这话什么意思？<br>白素贞：两条人命，我们不能不救吧<br>小青：要怎么救啊？<br>白素贞：要用体内的仙丹<br>小青：不行！<br>白素贞：刚才仙丹已经用过，只剩下半成功力，不能起死回生了，我们回去找管家，他是神仙，一定有办法<br>小青：嗯<br>~<br>小青：管家！<br>管家：哎哟，白姑娘，哎哟，白姑娘，白姑娘<br>小青：管家，快走，快跟我们走一趟<br>管家：去哪儿啊？<br>白素贞：别问那么多了<br>小青：就是啊，走啊<br>管家：现在不行啊<br>白素贞：管家，现在只有你有办法了<br>管家：可是现在去不是时候啊<br>小青：两条人命啊，再不走就来不及了<br>管家：真的不行啊<br>小青：管家！<br>管家：白姑娘，有人在前堂等你呢<br>白素贞：和尚<br>~<br>小青：大和尚，你胆子还不小，居然敢找这儿来，你不要命了<br>白素贞：眼泪？<br>法海：白素贞，你丢了样东西，你说，我是还还是不还？<br>白素贞：青儿，和尚今天是我们的客人，眼泪我自然想要回了，它是我成仙的关键，不过我想，你今天来，大概也有条件吧<br>法海：眼泪可以给你，但是我要助你成仙<br>白素贞：助我成仙？青儿，我没听错吧？他说，要助我成仙<br>小青：姐姐，你当然没听错，不过这可是我听到的最离谱的话了<br>白素贞：这个我就不懂了，我是妖你是僧，你不是一心想除了我吗？怎么如今却要助我呢？<br>法海：我已问明老神仙，他说你成仙之事的确受过观音大士点化，正所谓，若邪魔能走上正道，也是件功德无量的一件大事<br>白素贞：原来和尚是想利用我的成仙，来成就自己的佛缘呀<br>法海：不是利用，是助你<br>小青：虚情假意<br>法海：你拜我为师吧，我会帮你斩断一切尘缘<br>白素贞：拜你为师？怎么斩断尘缘？<br>法海：这是忘情丹<br>白、小青：忘情丹？<br>法海：吃了这忘情丹，你便可以忘情绝爱，从此斩断一切尘缘，一心皈依我佛三宝<br>白素贞：你这个什么忘情丹，真的有这么厉害？<br>小青：姐姐，你别信他，这和尚一副道貌岸然的样子，一定是又拿了什么世上的奇毒来骗你，别理他<br>白素贞：我的千年道行又怎么会怕他的奇毒呢？只怕，有人居心叵测，毁了我的大好前程<br>小青：姐姐想得明白，还跟他费什么口舌？干脆让我先抢回眼泪再说吧<br>白素贞：和尚，没想到几日不见，你的法力长了不少啊<br>法海：妖孽，你要的东西给你<br>小青：姐姐，我接到眼泪了<br>管家：哎哟，哎哟，我的宝贝啊，你们还打不够是不是？这些宝贝每件都是稀有的呀，你们三个就看在我这个糟老头的面子上，别打了好不好？和尚，你不就是来送忘情丹的吗？我替姑娘收下便是和尚，忘情丹呢？<br>小青：老头，这都什么时候了，你就不要长别人志气，灭自己威风了，你怎么回事你<br>管家：和尚，忘情丹可以收下，可是我家姑娘要不要拜你为师，这，这也是大事啊，总得让人家考虑几天是不是？姑娘，放下剑吧和尚，这禅杖也不是用来伤人的吧？回去吧和尚，回去吧<br>法海：阿弥陀佛，白素贞，苦海无边，回头是岸<br>白素贞：我记得这话，也望和尚能明白<br>小青：你，臭老头，都怪你多管闲事，今天要不是因为你，输赢都还不一定呢<br>管家：你，你就知道输赢，难道这之前的教训还不够吗？<br>小青：你！姐姐，你听他说什么呢？<br>白素贞：老神仙没有说错啊，我们到人间是为了找眼泪，又不是来跟和尚斗法的，输赢又算什么呢？至于这个忘情丹嘛，就请老神仙先替我收着，想来我也是用不着的，我是蛇妖，怎么会有情？又谈什么断情决爱，斩断尘缘呢？<br>~<br>许仙：你不是那个……<br>月老：是我<br>许仙：你不是昨天在白府门前为我算命的老先生吗？<br>月老：我不是什么给人算命的老先生，我有名有姓有正经事情可做的，懂吗？<br>许仙：没想到我和老先生还真是有缘啊<br>月老：我跟这世上善男信女呀都有缘啊你果然是病了，而且病得不轻啊<br>许仙：我得的什么病？我自己怎么感觉不到？<br>月老：要是我没猜错的话，你这病根昨天在白府门前就算落下了<br>许仙：白府门前？我的病跟白府有什么关系？<br>月老：那还不是因为你和她，你们，你们两个正可谓，正可谓相思成病啊<br>许仙：相思成病？<br>月老：我已经说得太多了，公子，这个世上很多事情，一句两句话是很难说清的，你的病虽然没那么厉害，但是还没到无药可医的地步，我这里有个方子，按照我的吩咐，一日三次服用，保你药到病除<br>许仙：桃瓣三钱，杏蕊五钱，轻草根六钱，柳叶尖六钱，西湖水做引，煎后服用老人家，这是什么药方，怎么这么奇怪？<br>月老：奇怪的病当然得用奇怪的药方来医了，公子，你千万要信我，像你这样的病，越早医，好得越快，要是晚了，就深陷泥潭，不能自拔还有，这个药方必须患者本人前去采集，别人代劳不得呀<br>连翘：傻小子，傻小子！<br>许仙：我在这儿，我在这儿，傻丫头，你醒了？<br>连翘：你怎么了？你怎么变成这样了？面无血色，两眼红肿，你病了？<br>许仙：怎么都这么说，刚才那位老先生也这么说，还给了我一个药方呢，你看，<br>连翘：老先生？在哪儿呢？<br>许仙：在这儿怎么眨眼就不见了，和上次一样<br>连翘：你病得还真不轻啊，要是我没猜错的话，你是为了那个白姑娘，才一夜变成这样的对不对？你那么喜欢她，为她心疼了一整夜，她还真是命好啊<br>许仙：我没关系呀，主要是你，没了我小舅舅，你怎么办？<br>连翘：怎么办？我还没来得及想呢，只可惜我差一点就做了你小舅妈了，所以，我决定了，我要走了，要是你真的把我当朋友的话，今天晚上城门口，好酒一坛，算是替我饯行<br>许仙：你要走？你要去哪里？<br>连翘：一直往东，走到哪儿算哪儿<br>~<br>小七哥：许仙，你念一上午，念什么呢？<br>许仙：啊，是药方<br>小七哥：药方？<br>许仙：对<br>小七哥：什么药方啊？<br>许仙：治口冷脚冷心冷之症<br>小七哥：心冷，心冷？哎，哪有这种药啊？<br>钱掌柜：我马上差人把药和药方一道送到您府上去<br>小翠：那就有劳您了，请您一定要快些，这要是迟了一步，可就是一条人命啊<br>钱掌柜：知道，知道，您请慢走啊不送许仙，许仙<br>许仙：什么事，掌柜的<br>钱掌柜：照我开的药方子，把药抓好了给张府送去<br>许仙：好但不知掌柜的开的什么药方啊？<br>钱掌柜：没有药方子，你呢就弄点补气的养颜的，弄点值钱的药材对付对付得了<br>许仙：补气养颜的？可是我刚才分明听那丫环在说，再晚一步人命就没了，那个小姐病得不是很重吗？<br>钱掌柜：小姐病得是很重，请遍了钱塘县的名医，也吃了不少的珍贵药材，就连我这宝芝堂的掌柜，都一天往他们府上跑了三趟，只是这个张家小姐得的这个病，实在是有点奇怪，一日呢茶不思饭不想，二日呢衣带宽松，形容憔悴，三日呢口冷手冷脚冷心冷，现在再给她送什么药去，恐怕也是一口气憋在喉咙里，冷到心里去了啊<br>许仙：口冷手冷脚冷心冷？<br>~<br>白素贞：这忙只帮了一半，也不知道李公子和张小姐怎么样了？<br>李公子：张小姐，我对你生死相许诺言不会空许的，你若决定离开这里，我也不敢再多留半日，我就跟了你去了<br>白素贞：到头来还是如此，恐怕他又会做傻事了青儿<br>小青：姐姐<br>白素贞：怎么有人说要捻灯芯，捻到这儿来了？<br>小青：那，有人还不是一样，说什么要去买灯油，是吧，姐姐？姐姐<br>小翠：许公子你可来了，我这就去跟老爷禀告<br>许仙：千万别忘了告诉你们老爷，这药方一定要病者自己亲自采集<br>小翠：知道了，许公子，请进<br>许仙：好<br>白素贞：许仙？</p>
</blockquote>
<h3 id="第九集"><a href="#第九集" class="headerlink" title="第九集"></a>第九集</h3><blockquote>
<p>小翠：许公子你可来了，我这就去跟老爷禀告<br>许仙：千万别忘了告诉你们老爷，这药方一定要病者自己亲自采集<br>小翠：知道了，许公子，请进<br>许仙：好<br>白素贞：许仙？<br>小青：奇怪了，他来这里做什么？<br>白素贞：管不了那么多了，我们赶紧去找李公子再说<br>小青：可是，一转眼工夫他就不见了，姐姐你快看看，他会去哪儿<br>白素贞：他肯定又去和张小姐相遇的地方了<br>~<br>李公子：小姐，我要随你来了，你在天有灵，就等我一程吧<br>路人：有人要跳湖<br>小青：姐姐，他在那儿<br>白素贞：李公子，李公子<br>李公子：你们又来干什么，那五百两银子也救不了我们，我和张小姐这辈子恐怕没有缘分在一起了，就连神仙也帮不了我，我就希望下辈子我们能在一起，你们又何苦拦着我呢？<br>白素贞：不要<br>小青：李公子，我们姐妹三番四次的救你，反而是你自己，你怎么这样不珍惜自己的性命？<br>李公子：没有张小姐，留着我这条命，了无生趣<br>白素贞：你为什么那么轻易要放弃呢？张小姐还有一线希望，刚才我们看见宝芝堂的人送药过去了<br>李公子：没用的，钱塘县的名医都看遍了，没有一个人能救她<br>白素贞：你们如果真的有情的话，老天爷会让你们在一起的<br>李公子：老天？老天它哪里知道什么叫情为何物，他只会耍人罢了去年今天让我们在这里相遇，今年就人去桥空，你们就别拦我，让我一死求个解脱吧<br>小青：李公子，你千万不要做这样的傻事，你不该跳湖，你不是口口声声说张小姐是你的命吗？李公子，那你现在丢了性命，不就把她给丢了吗？你们说，是不是这个道理？<br>围观：是啊，李公子，你不能跳啊快看，对面来了好些姑娘<br>丫环：喂，桥东头的，为什么有个后生站在桥上啊？<br>围观：有个公子想不开，他要跳湖啊好像是这位公子的心上人得了重病，无药可医啊<br>张小姐：公子<br>李公子：小姐<br>小青：姐姐<br>白素贞：青儿你看，又是一滴眼泪<br>小青：真的哎，姐姐，记得你跟我说过，人有生老病死喜怒哀乐，这滴眼泪是因病而成，岂不是应该落在病字上面，对吧？<br>白素贞：对啊，哎，葫芦呢？<br>小青：这儿呢<br>白素贞：等他们采完药，你把他们送回去吧<br>小青：嗯，那我去了<br>白素贞：这下总算圆满了<br>~<br>许仙：白姑娘！<br>白素贞：许公子！<br>许仙：白姑娘，白姑娘，是我呀，白姑娘<br>白素贞：我在这儿呢<br>许仙：白姑娘，白姑娘，是我呀前日我曾到过姑娘府上还了那把伞<br>白素贞：什么，你说什么，我没有听见<br>许仙：我说我已经去过姑娘的府上还了那把伞<br>白素贞：伞啊，伞<br>许仙：本来想向你当面道谢的<br>白素贞：那日，那日我去了宝芝堂<br>许仙：什么？你说什么？<br>白素贞：我去了宝芝堂<br>许仙：难道那些假托亲戚送东西来的是你？<br>白素贞：是啊，我自知有些唐突<br>许仙：为什么？<br>白素贞：我，<br>~<br>白素贞：因为公子很像我一个旧识<br>许仙：这样说来，那一定是姑娘很好的朋友了<br>白素贞：算是吧<br>许：可是，只因为我长得像姑娘的这位朋友，便受到姑娘你这样的眷顾，我实在当之有愧姑娘，你这位朋友一定是位很了不起的人物吧？不然姑娘你怎么会这么牵挂他呢？<br>白素贞：他只是个穷书生，胆子很小，最怕刀啊剑啊的，不过他心眼好，很善良，很会替别人着想，说起话来，满口爱心，他还告诉我，如果有一天能到这西湖边，坐在一条瓜皮小艇上，烧一壶小酒，做几样小菜，看着满天的星星。我跟他说过我没有看过星星，他呀就做给我看，原来真的有星星，和他说的一模一样，他没有骗我。公子你怎么了？<br>许：我不知道，我只是觉得，姑娘方才讲的话，我似乎在哪里听过，我甚至以为，这些话好像就是我讲的，我不知道，我现在心里为什么如此悲伤，好像，有人要离开，有人不得不离开，到底谁要离开谁，为何如此悲伤？姑娘，如果我告诉你我病了，你信吗？只因为前几日我在断桥上遇到了一个人，从那以后我就多了一块心病，我也不知道我这病到底为谁而得，但是今日我见到了你，我想我心里明白了许多<br>白素贞：明白了许多？既然你知道是病，就该多吃几副药啊<br>许：恐怕这病是因姑娘而得<br>白素贞：怎么可能呢，我们才见过两三次，你怎么会因我而病呢？<br>许：两三次的确不多，也许姑娘你没什么感觉，但是人生不过七十，除去十年懵懂，十年老弱，就只剩下五十年，这五十年又要除去一半的黑夜，便只留二十五年，再仔细想想，吃饭饮茶，沐浴更衣，东奔西跑，做工生病，又耗掉不少时日，真正留下来可以陪自己心爱的人在一起的时间，掐指算来，少之又少，我不想让姑娘觉得我是一个花言巧语的登徒浪子，我只是想告诉姑娘，可如果我这一辈子只有两三次机会和姑娘邂逅的话，前两次我已经浪费掉了，只剩这一次，我是不能放过的<br>白素贞：你到底想说什么？<br>许：我要说的是，自打我第一眼见到姑娘的时候就喜欢你了<br>白素贞：喜欢？就好像我喜欢我妹妹那样喜欢？<br>许：不，不，那又不同，妹妹是亲人，心疼她就像心疼自己的手足，而喜欢姑娘，就像珍爱自己的性命，姑娘一日不在，生不如死<br>白素贞：我听不懂<br>许：白姑娘，你可愿意……白姑娘，你怎么了白姑娘？<br>~<br>小青：姐姐，好了，别再装了，我们已经到家了<br>白素贞：你怎么知道我是假装晕倒？<br>小青：姐姐可是千年蛇妖，怎么会晕倒呢？依我看，一定是那个傻小子把姐姐气着了，所以姐姐才会出此下策的<br>白素贞：我是吗？<br>小青：不是吗？<br>白素贞：我也不知道这是怎么了，心里发慌，手脚冰凉，好端端脚都挪不动步子了<br>小青：姐姐怎么会这样的，想必你是真的病了吧？<br>白素贞：我们是蛇妖，哪来的病啊<br>小青：既然姐姐不会生病，那么方才怎么又会晕过去呢？<br>白素贞：我，我……，你干嘛这么看着我呀？<br>小青：姐姐，出大事了，这是什么？<br>白素贞：汗？是汗<br>小青：啊！<br>白素贞：我怎么会有汗呢？<br>小青：对呀，你怎么会出汗呢？不可能，可能是雨水<br>白素贞：什么雨水啊，这宅子里好端端哪来的雨水啊，我体寒如冰，不可能有汗的呀<br>小青：天啊，难道你真的像凡间女子一样出汗了？<br>管家：白姑娘！<br>白素贞：管家，怎么了？<br>管家：白姑娘，门外那个傻小子在那儿等了一夜了，说是非要见你，你是见还是不见啊？<br>白素贞：我，我不见<br>小青：不见不见，一律不见<br>管家：那个傻小子看上去很担心哪，我怕他……<br>白素贞：一步走错了，底下的步子就全乱了<br>小青：是啊是啊，全都乱了你看头发乱了，衣服乱了，心也乱了，所有的一切都给搞乱了<br>管家：那我怎么处置他啊？<br>白素贞：不如，你帮我把他轰走好了<br>小青：不如，乱棒打死<br>白素贞：青儿，我现在心里乱得很，也不知道怎么回事，到底是哪出了差错不行，这样下去会误了成仙大事，我闭门三日，念观音心经，希望菩萨能给我指点迷津<br>小青：姐姐<br>~<br>小青：姐姐都已经进去三天三夜了，到底什么事情想不明白，非要把自己给关起来老神仙，你见多识广的，总能猜出个一二来吧<br>管家：你姐姐心里想什么，只有她自己清楚，万一她也想不清楚的事，恐怕，可就麻烦了<br>小青：什么清楚不清楚的，你说了半天就等于没说，难道你就不能想个办法，帮我姐姐想清楚啊<br>管家：我想想，哎，我想到了<br>小青：什么？<br>管家：天书一千八百卷，上面囊括了人生的生老病死世间万象，我们不如去翻翻看，说不定，能找到症结所在<br>小青：啊？不会是非看不可吧？我最讨厌看书了，我这一看书头……，喂，你怎么那么快就不见了<br>~<br>小青：老神仙，我们看了多少卷了？<br>管家：六百卷了，还有一千二百卷哪<br>小青：你说什么？还有那么多？<br>管家：啊<br>小青：难道咱们看的六百卷里面就没有一卷能够讲明白姐姐为什么这么不开心呢？<br>管家：没有啊，小青姑娘，趁着天还没黑，再多看几卷吧<br>小青：那好吧不过，说句实在话，我这辈子的书全在今天都给看光了老神仙，这些天书还真没意思，你看，特别是这个解梦的，不知道是哪个糟老头子写的，你看，罗哩巴嗦的一大堆，也不知道他究竟在讲些什么，给你看看<br>管家：不会这么没意思吧？我写书的时候就是为了年轻人的喜好，还加上了不少名人名言呢，你看看，这就是观音菩萨说的，正所谓苦海无边，回头是岸哪，你看看，你看<br>小青：管家，来了个翻红绳的老头<br>月老：年纪轻轻，不尊重长辈，这哪里是翻红绳啊，这分明是千里姻缘一线牵的红线<br>管家：月老，你不请自来，为的是什么事啊？<br>月老：我当然是来办正经事的，我是为那白素……<br>管家：小青姑娘，我看你也累了，不如咱们分分工，我在这里找症结，你去厨房烧水做饭，好不好？<br>小青：好啊，好啊，如果不用看这些书当然是好事了，不过烧水煮饭这些事我向来做不来，不如我去帮姐姐把眼泪找回来吧，兴许能让她高兴一点呢<br>管家：也好<br>小青：那我去了<br>管家：老头儿，说吧<br>~<br>小青：要是姐姐知道我想出这么好的办法来替她收集眼泪的话，不知道要怎么夸我呢。各位父老乡亲，我们白府现在急需眼泪五十斤，你们手上方便。要是有眼泪的话，尽管拿来当，一斤眼泪三两银子<br>围观：是不是真的啊，连眼泪都可以当<br>小青：当然是真的了，不论男的女的老的少的，只要你愿意，有眼泪，尽管拿来当<br>抱小孩妇人：有，我有眼泪，我有眼泪。我的小祖宗，你哭啊，你倒是哭啊，怎么不哭啊，你平常的本事呢？<br>小青：喂喂喂，大嫂，你那小孩光咧嘴没眼泪，那可是没银子的雷声大雨点小，也不能拿到银子的<br>~<br>白素贞：为什么我的名字会在上面呢？<br>月老：那是，那恐怕就是姻缘了，白姑娘<br>白素贞：姻缘？你是在说我吗？不可能啊，我是妖，怎么会有姻缘呢？<br>月老：我这个姻缘簿可不管你是人是妖，只要你动了情，你的名字就会自动地出现在上面，逃都逃不掉了<br>白素贞：动情？<br>月老：还不止这些呢，能在我这个姻缘簿上出现的名字，那肯定已经是情根深种了<br>白素贞：不可能的，我是不会动情的<br>月老：怎么不可能啊姑娘，那日在断桥，你是否感到心神不宁，一夜未眠呢？<br>白素贞：那是因为我初到人间，有些不适应<br>月老：不对，在断桥之上，姑娘好比捡到了情种，放进了贴身的口袋里，第二天你又口不对心，骗过了小青，自己去了宝芝堂，回来以后你是不是更感觉到烦躁不安，六神无主啊？<br>白素贞：那，那只是我去看一个老朋友而已，普渡大仙也是这么说的，是不是，老神仙？<br>管家：嗯，哦<br>月老：自欺欺人，我告诉你，那就好比姑娘把情种又从口袋里拿出来，种到地上，然后浇上水，培上土，又施了肥好，咱们就说在桥上吧，你和许仙擦肩而过，听他说了那些话，你是不是感觉到手脚冰凉，脸皮发烫，心跳不已呀？口里头叫他不要说，可是心里头又怕他说不明白<br>白素贞：那，那是因为我一时不适，后来就晕了过去<br>月老：姑娘，那就好比情根深种啊，不能自拔呀<br>白素贞：老神仙，普渡大仙，你渡人无数，就给我说句公道话吧<br>管家：哎呀，这千年蛇妖动了情，这好比是我船上载满了人，这大风大浪都过去了，对不对，却在这小河沟里翻了船，我渡人再多，也爱莫能助啊<br>白素贞：你看你们两个老神仙这打得什么比方啊，一个说情根深种，一个又说小河沟里翻了船，这一点说服力都没有，我不信你们<br>月老：姑娘，你可以不信我，可是请你摸摸你自己的额头，那上面又是什么呢？<br>管家：白姑娘，这神仙和妖魔都没有泪也没有汗，白姑娘，你动了真情，才能有了凡人的汗水呀<br>~<br>小青：三十四，三十五，三十五个人就有三十五滴眼泪，岂不是说我姐姐的葫芦很快就会装满了？到时候姐姐就能飞上天做神仙，我就成了神仙的妹妹，那岂不是很有面子的吗？要是天天能在观音菩萨身边玩耍，想想都觉得有前途啊。你们二位谁当眼泪，又为何而哭呢？<br>妇人：我当，每次瞧见这个狼心狗肺的东西，我就想哭<br>壮汉：我在外面赚钱，你却当我在外面鬼混<br>妇人：那我问你，要不是为了我们家的银子，你又怎么肯娶我呢？<br>壮汉：我一表人才，我娶了你这种女人，我才该哭，我掐死你，我掐死你<br>小青：住手，不要吵了我说你们两个既然彼此都不喜欢对方，那干嘛要勉强在一起来，来，接着，接着啊干什么，忙着呢<br>十天：那些是水，不是泪<br>小青：你说什么？<br>十天：我说，那些是水，不是泪<br>~<br>管家：不能动情，她要成仙<br>月老：情这种东西，放出去就收不回来，她要与许仙结亲<br>管家：不行！一千年的道行，她要成仙<br>月老：一千年的道行抵不过一炷香的姻缘<br>管家：成仙！<br>月老：续缘！<br>管家：成仙！<br>月老：续缘！<br>管家：成仙！<br>月老：续缘！<br>管家：成仙！<br>白素贞：两位神仙不要吵了，我已经有办法了，就是法海的忘情丹<br>~<br>管家：不能动情，她要成仙<br>月老：情这种东西，放出去就收不回来，她要与许仙结亲<br>管家：不行！一千年的道行，她要成仙<br>月老：一千年的道行抵不过一炷香的姻缘<br>管家：成仙！<br>月老：续缘！<br>管家：成仙！<br>月老：续缘！<br>管家：成仙！<br>月老：续缘！<br>管家：成仙！<br>白素贞：两位神仙不要吵了，我已经有办法了，就是法海的忘情丹<br>~<br>小青：哈！可笑，眼泪就是眼泪，怎么变成了水了，真是亏你想得出来<br>十天：那么大的人了，连泪和水都分不清楚，真是没羞<br>小青：你！<br>十天：连三岁的小孩子都知道，泪是人间至情至信之物，只有用真心才能换来的，而你呢，用那些银子换来的眼泪，没有一丁点感情，只是普通的水而已，根本不能算是泪<br>小青：喂，你有完没完，罗哩吧嗦的，什么至情至信，真情真意的，我根本都听不懂，什么意思啊？<br>十天：连至情至信都不懂，还收集什么眼泪，真是没用<br>小青：喂，你竟然敢骂我？你是谁啊你<br>十天：我是十天，记住这个名字，早晚有一天你会来求我的<br>小青：我？求你？<br>十天：你笑什么？<br>小青：我笑什么，你知道我是谁吗？就讲出这样的大话，如果本姑娘说出自己的名姓，恐怕吓得你尿裤子<br>十天：我当然知道你是谁了，你不就是那个有五百年道行，被压在西湖底下，后来又被白蛇救出来的小青蛇吗？<br>小青：你怎么知道我不是人？<br>十天：我说我有天眼，你信不信？<br>小青：天眼？你以为你是神仙啊？你到底是谁？<br>~<br>许仙：你们两个到底要做什么？一个往东，一个往西，咱们兄弟一场，只留下我一个人，这算什么？<br>连翘：要诚心想留我，你也不用天亮了才跑了来，咱们不过是同路客，谁跟你们是兄弟<br>~<br>小青：喂，你怎么进来的？<br>十天：我？我是跟着你进来的<br>小青：你跟我进来干什么？<br>十天：我跟你进来，自然是坐坐，喝杯热茶，再吃块桂花酥<br>小青：坐坐？喝杯热茶？<br>十天：对<br>小青：还吃块桂花酥？对你这样的小孩子，我只有三个字给你，不方便！<br>十天：你赶我走？<br>小青：哪里是赶哪，我还要打呢喂，你，你知不知道这些眼泪花了我多少银子<br>十天：我跟你说了多少遍，这些根本就不是眼泪，真正的眼泪，水流不融，风吹不散，你再看看你的眼泪，落在地上一滴都不剩<br>小青：我自然知道一滴都不剩，臭小子，你赔我眼泪，你赔我<br>十天：这样没用的眼泪，我可没有<br>小青：你赔还是不赔？<br>十天：不赔！<br>小青：我再问你一遍，你道不道歉？好，不向我小青低头，我就打你一拳，打扁你的鼻子，打得你娘认不出你来，道不道歉？十天！你吓死我，我无意伤你的，要不是因为那些眼泪，你没事吧？现在知道怕了？<br>十天：还我眼泪<br>小青：我偏不，这滴眼泪我要了，你说吧，多少银子<br>十天：多少银子都不卖<br>小青：不卖？大不了，那你想要什么，我们交换呐<br>~<br>八两：兄弟，当今乱世，人妖不分，恶人当道，这些恶人倒比那妖魔还要狠毒，而那好心的妖魔，却不会互相利用，倒比人来得简单原来，我的心里也跟那和尚想得一样，凡是妖魔一律该杀，没想到，自己走了趟魔道，经历了很多事情，现在反倒什么都变了，脾气也变了，我八两从此以后只分善恶，不辨人妖兄弟，我刚才说的那些话，你最好记住，否则，你要负一个人<br>许仙：我？我要负谁呀？<br>连翘：哎呀，好了好了，说什么妖啊魔啊的，有什么意思，日子还不得照样过<br>许仙：你的话没错，日子是要照样过，只可惜经过了昨天那一夜，我以后的日子，就真没什么过头了<br>连翘：你说她？<br>八两：兄弟，她是谁呀？<br>许仙：她，她是我的心，没了心，了无生趣<br>连翘：既然这样，我决定不走了，大胡子，你最好也别走，这傻小子连心都丢了，我们做朋友的怎么好坐视不理？<br>许仙：可是我……<br>连翘：可是什么呀可是，跟我走就是了，走<br>~<br>连翘：快点<br>许仙：你要带我去什么地方呀？<br>连翘：你就别问了，我去带你找你的心<br>许仙：我说你就别费劲了，好不好？我的心早就丢到湖里，找不着了<br>连翘：不试怎么知道啊？我知道位高人，就在城东头的月老祠，<br>~<br>十天：那好，你要我的眼泪也行，给你就是了，可是我十天的眼泪宝贵得很，你要用三件事情来和我交换<br>小青：三件事情，那么多？（这小孩子乖滑得很，我要是应了他，不知道他还要用什么事情来刁难我，可要是不应，倒好像我怕了他，再说，这眼泪果然是水流不融，风吹不散，是姐姐要寻的宝贝，丢了岂不可惜？算了，先答应他再说）那好吧，就三件事情<br>十天：就三件<br>小青：说吧，第一件是什么啊？我警告你，最好不要耍戏小青姑姑<br>十天：第一件事，我要你像刚才那样，像娘亲一样抱着我<br>小青：啊？<br>~<br>小青：宝宝贝，快睡睡，宝宝贝<br>十天：啊，真幸福，真舒服啊<br>小青：对了，臭小子，还磨蹭什么，赶快告诉我啊，那下一件事情是什么？你得快点，这太阳马上就要下山了，我可不想等到天黑，还要让我送你回家，快说吧，无论什么我都答应你<br>十天：那是钟声<br>小青：当然是钟声了，也不知道是从哪个寺里面传来的<br>十天：金山寺的晚钟<br>小青：金山寺？<br>十天：糟了糟了，不知道下山这么久了，再不回去，要被师傅骂了。你还欠我两件事啊，改天再来问你要，我先走了啊<br>小青：喂，喂，喂，你可不能走，改天是什么时候，现在说清楚不就得了<br>十天：你等我有空自然会下山来找你的呀，对了，忘了师傅的桂花酥了，我先走了<br>小青：这孩子真是个怪小孩，人怪呀，连名字也怪，十天？为什么不叫九天，八天，七天，偏偏叫十天啊？姐姐！<br>白素贞：青儿，你方才在做什么？<br>小青：一个奇怪的小孩子，没有娘亲，而且又喜欢抱抱，对了，你看，眼泪，是我找的呢。那臭小子八成想他娘想疯了，掉了这滴眼泪，刚好被我接着<br>白素贞：青儿，到我房里来一下，我有话跟你说<br>小青：嗯<br>~<br>小青：什么？你动了情？还是那许仙？<br>白素贞：你别这么大声好不好？我的心好不容易安定下来，又被你搅乱了<br>小青：你叫我安静？我怎么安静得下来？动情啊！那是凡间女子才会做出来的事情，我们是万万不能的<br>白素贞：我们妖不会动情，是因为我们根本就不了解人世间情为何物<br>小青：那现在呢？你明白了吗？<br>白素贞：一点而已<br>小青：那你该怎么办哪？<br>白素贞：既然动情，就要忘情，我已经决定了，我要吃法海给我的忘情丹，把他彻底忘掉<br>小青：忘情丹？姐姐，你不会吧？你一会儿告诉我什么动情，一会儿又告诉我要吃法海的忘情丹，你到底想清楚了没有啊？<br>白素贞：法海有句话倒还听得，要想成仙，就要忘情绝爱<br>小青：姐姐，你，你真的要忘了许仙？<br>白素贞：早该忘了他<br>小青：连朋友也不做吗？<br>白素贞：嗯<br>小青：可是我还记得他呀<br>白素贞：所以我才要特别叮嘱你呀，等我吃了忘情丹之后，你不要在我面前提起他的事，不管是魔道的还是人间的，这个人的名字我永远都不要听到，这件事可关系到我们成仙的大业<br>小青：嗯，我知道了，我不会在姐姐面前再提许仙半个字，总之，一切都为了成仙<br>白素贞：这我就放心了<br>小青：那，你准备什么时候吃啊？<br>白素贞：我还欠许仙一个约定尚未还清<br>小青：欠许仙一个约定？我怎么不记得我们还欠什么啊？<br>白素贞：你不知道，……<br>小青：啊，天啊，这么做，不是等于告诉他你是千年蛇妖了吗？许仙胆子小，万一知道了还不吓个半死，姐姐，天哪<br>白素贞：这个我早就想到了，所以，我会用入梦之法与他见面，等他一觉醒来，不管发生什么事情，只当是个梦罢了<br>~<br>卦婆婆：情？你们问情啊，不用算啦，你和这小子做不成夫妻的，他把你当兄弟了<br>连翘：不是我，是他要算他，他心上人是个大家小姐，人又生得美，他只是个穷小子，又不会讲话，不知道这样的两个人，有没有缘份啊？卦婆婆，你怎么不说一句话就走了？他们有没有缘分，能不能做夫妻，这傻小子能不能找到自己的心，就全看你一句话了<br>许仙：是啊卦婆婆，我是真心喜欢她，想娶她为妻，还求您给我个答案<br>卦婆婆：你真想知道？<br>许仙：嗯<br>卦婆婆：水里的月亮再美，也捞不起来，不如选这个吧，有力气，会干活，还会生养<br>许仙：婆婆你说什么，她是我兄弟<br>连翘：这事与我无关，婆婆干嘛把我扯进来<br>卦婆婆：不是我要扯你进来，是你自己要趟这混水，俗话说得好，百年修得同船渡，千年修得共枕眠，傻小子，想跟人家双宿双息，有那么简单吗？一千年啊，就算她输得起，你又输得起吗？<br>许仙：婆婆你不相信我的心吗？<br>卦婆婆：不是我小看你，傻小子，男人的心摇摆不定，今天把心放在她身上，过了今晚，明天又不知道上哪儿去了<br>许仙：卦婆婆，你这话好没道理，别人都说你能未卜先知，可是我看不见得，我的心在何处我自己知道<br>卦婆婆：你现在心在她身上，要是你日后碰到比她更美更好的，难保你不会动心<br>许仙：这你放心，如果碰到更美更好的女子，自然有更美更好的男子去配，与我何干，管他弱水三千，我只饮一瓢，我的心只在一处<br>卦婆婆：你现在这么说，一旦她年华老去，人老珠黄，你的心还会在她身上？<br>许仙：她老了，我陪她一起老，我的心还是在一处<br>卦婆婆：变老变丑不是最坏，一觉醒来，她早把你忘了，你只不过是路人甲乙丙丁，宝芝堂抓药的小伙计，你的心还会在她身上？<br>许仙：她忘记我有什么可怕，只不过再麻烦几次，告诉她我姓甚名谁，家住何处，我们的心自然还是在一处<br>卦婆婆：你既然这么相信你自己的心，我也没什么话好说了，傻小子，由着你去犯傻吧，其实你的心早就有了答案，又何必来问我呢？倒是这位姑娘，一心想着两个人，倒真该要我一卦<br>连翘：关我什么事，都说是问他的事了，傻小子，这卦不灵，我们走啊<br>~<br>卦婆婆：我就知道你会回来的，卦替你下了，也解好了，你是先听舅舅的呢，还是先听外甥的<br>连翘：当然是先听舅舅的了<br>卦婆婆：那这卦完了<br>连翘：完了？<br>卦婆婆：因为又开了另外一卦<br>连翘：当外甥的？<br>卦婆婆：当外甥的<br>连翘：可是，我是那傻小子的小舅妈啊<br>卦婆婆：不是啊，也没人当你是啊<br>连翘：那就是说，我把那傻小子当成了他舅舅的替身，因为没法跟李贵在一起，所以找许仙来充数<br>卦婆婆：不是，不是，说反了，说反了，是先有了许仙，才不要他舅舅的吧<br>连翘：婆婆是说……<br>卦婆婆：你和傻小子一样，情有独钟了吧？<br>连翘：可是，他喜欢的人不是我<br>卦婆婆：那有什么关系呀，你喜欢他就好了<br>连翘：婆婆说的可当真？<br>卦婆婆：你当真便真，不过，两个只能选一个，你要选了这个，就得忘了那一个，全心全意的守住这个啊<br>连翘：嗯<br>~<br>十天：菩萨保佑，要是不被师傅发现，逃过此难，明天一定多念几遍经给你师傅，我……<br>法海：十天，你干什么呢？<br>十天：我……<br>法海：你怎么这么晚才回来？<br>十天：我，我因为有些事耽搁了，所以我就，我就……，对了，师傅，我给你带了些桂花酥，你吃吧<br>法海：跟我过来<br>~<br>法海：十天<br>十天：啊<br>法海：你是按照师傅的要求打坐的吗？<br>十天：对不起师傅，我马上坐正头要正，背要直，右脚压左腿，左脚压右腿，不摇不摆不倚不偎，好好参悟<br>法海：这就对了，我们出家之人，绝不能贪图一时享受，而要以定力清修苦行，不能有一丝的懈怠十天，你去了哪里，你见了谁？<br>十天：我只是一时贪玩，去了那白府，我，我更不该用眼泪作交换，让小青替我办了点私事<br>法海：眼泪？难道，难道你为那妖孽流眼泪了？<br>十天：我只是躺在小青的怀里，想知道在娘怀里到底是什么感觉，所以我就……<br>法海：所以你就为了一己私利，为那妖孽流泪。难道你想助那妖孽成仙？你想毁了我的斩妖除魔大业吗？</p>
</blockquote>
<h3 id="第十集"><a href="#第十集" class="headerlink" title="第十集"></a>第十集</h3><blockquote>
<p>法海：所以你就为了一己私利，为那妖孽流泪。难道你想助那妖孽成仙？你想毁了我的斩妖除魔大业吗？<br>十天：不是，不是的，师傅，我不是故意的，我也想早日助师傅斩妖除魔，达到佛的最高境界，只是我实在忘不了娘，我实在是太想她了，难道佛不许我想念娘亲吗？那未免也太不讲情理了吧？<br>法海：所以你就为了你的娘亲，背叛了我？<br>十天：没有，师傅，我没有背叛你<br>法海：你有，我问你，你未曾出世便父母双亡，你娘在下葬之时，还怀着身孕，是谁为她念经超度，使她亡母产子，能顺利地生下了你？<br>十天：是您，师傅<br>法海：不是，是佛！我问你，你从小无父无母，是谁替你四处化缘，乞讨能让你活下来的一口百家粥？<br>十天：是您，师傅<br>法海：不是，是佛！我再问你，你从小就父母双亡，你是死人所生，被村里人视为不祥之子，在你被周围一干人等唾弃辱骂之时，是谁冒着被全村人赶出去的危险收留了你，还为你求得生长之水，使你十日之内长大成人，让你免去了成长的周遭之苦？<br>十天：是您，师傅<br>法海：不是，是佛，是佛收留了你，所以你不能背叛我，你背叛了我，就等于背叛了你的佛，佛才是你的爹娘，你懂吗？<br>十天：我懂，师傅，我以后再也不会离开你了，我会一直在你身边，斩妖除魔<br>法海：十天，你又流泪了<br>十天：对，对不起师傅，刚刚还说不犯错的，现在又犯了错了，出家人应该心如止水，六根清净才对<br>法海：好啦，你不是说，给师傅带了桂花酥吗？<br>十天：对了<br>法海：怎么不拿出来？<br>十天：师傅，师傅，好吃吗？<br>法海：你又用香味诱惑师傅，连累师傅犯了一大罪责<br>十天：大不了待会儿多抄几遍心经<br>法海：给<br>十天：怎么了师傅？师傅，师傅，师傅，你怎么了师傅？<br>法海：十天，你离开我，离我远点，离我远点！<br>十天：师傅，你的眼疾又犯了，眼疾又犯了是不是？师傅师傅，你等着我去拿药<br>法海：你离开我，你没听到吗？你离开我<br>十天：师傅<br>法海：不要，你离开我<br>十天：师傅<br>法海：你不要给我拿药，你把门给我关上，赶快离开我<br>十天：师傅，师傅，师傅<br>法海：快走<br>十天：师傅<br>法海：快走佛祖，我错了吗？我究竟错在哪儿了？你要这么惩罚我，请明示<br>十天：师傅，师傅<br>~<br>法海：安定信念，让我安定信念，佛无魔不成，佛无魔不成谁？谁？谁？你们是谁？<br>心魔：法海，你自称是什么得道高僧，怎么连自己的心魔都不认识啊？<br>法海：你们滚开，你们给我滚开，我是一心向佛之人，我是一心向佛之人，我无需你们趁虚而入考验我的意志，半步多一战，我误伤人童，瞎了双眼，但我从来没有认输，佛祖也并没有抛弃我，没有抛弃我，你们给我滚开，你们给我滚开！佛祖，法海一念之错，法海一念之错，错杀人童，已经知错，如今心魔频生，频生，我只是不知如何解脱，请佛祖明示，请佛祖明示啊！<br>~<br>许仙：白姑娘？你怎么来了？我不是在做梦吧？原来真是个梦管他是不是梦，姑娘来的正好，我有一萝筐的话想对你讲<br>白素贞：别说话，现在到天亮，不过三个时辰，我们时间不多了，我要带你去一个地方，跟我来<br>~<br>白素贞：公子，来，拉住我的手我们要上路了<br>许仙：白姑娘，我们竟然在天上飞啊？<br>白素贞：是啊，这是梦啊<br>许仙：是啊，我怎么忘了，这是梦白姑娘，我们这是要去哪里呀？<br>白素贞：公子，前面就要到了<br>许仙：这是哪里呀？<br>白素贞：不管你还记不记得，是你带我看了一千年来的第一次星星，所以，我欠你一份人情，不管明天如何，今晚我要还你一夜的星空<br>~<br>白素贞：很美吧？公子<br>许仙：就算是梦，这也太奢侈了<br>白素贞：公子，请跟我来吃一个吧。我不知道世间的男女是怎么谈情说爱的，刚才我做的，不过是听了你说过的那些话，没想到这么快就全做完了，现在，天还没有亮，那么我们该做些什么好呢？你不会说，还少一个像我这样的姑娘做你的媳妇吧？<br>许仙：这可是你说的，我可没说，不过你长得这么丑，反正也嫁不出去，不如嫁给我算了<br>白素贞：公子说得轻巧，你拿什么娶我呀？<br>许仙：白姑娘，我无名无利，你会嫌弃我穷吗？<br>白素贞：名利对我来说，根本就是没用的东西<br>许仙：白姑娘<br>白素贞：好了，公子，你又搅得我心神不宁了，都说人间有情，难道这情，就是我们现在这样吗？<br>许仙：我想，情就是西湖的水吧<br>白素贞：什么？<br>许仙：西湖的水，静的时候很美，美得贤淑；起风起浪的时候，也美，美的狂放；下雨的时候，雨水和湖水连在一起，就更美，美到点点滴滴情大概就是这样吧<br>白素贞：它也有不美的时候，你忘了那次莲花满湖之日下的大雨吗？不知要了多少人的性命<br>许仙：那只是场意外<br>白素贞：没错，情对我来说，也是一场意外公子，你还记得我们共用的那把伞吗？<br>许仙：我怎么敢忘？<br>白素贞：不敢，却偏偏忘了<br>许仙：我忘了什么？<br>白素贞：没什么，你不是说有东西要送给我吗？不知不觉已到了星月宫的尽头了<br>许仙：天快亮了<br>白素贞：该是时候了<br>许仙：你说什么？什么该是时候了？<br>~<br>许仙：白姑娘！原来是个梦<br>白素贞：公子，我是星月宫的仙子，因为你私自携带一枚星星下凡，所以追随而来，向你讨回<br>许仙：白姑娘！白姑娘等等我<br>~<br>许仙：白姑娘！白姑娘等等我。我有话要对你讲，我有东西要给你呀白姑娘，白姑娘！白姑娘，你在哪儿啊白姑娘白姑娘，白姑娘，你在哪儿啊？老伯，你有什么事吗？<br>月老：公子我问你，跑了大半天了，你是不是又累又饿又渴啊？不如到我的面摊上，喝口热汤面吧<br>许仙：多谢了老伯，我不累也不饿<br>月老：不会吧公子，你都从钱塘县追到这儿来了，能够不累不渴吗？<br>许仙：老伯，你怎么知道我在追人？<br>月老：我当然知道了<br>~<br>许仙：姑娘，我们晚上是不是真的见过？如果是，你为什么又要走呢？<br>白素贞：我问你，如果到了城门口，你还追不到我，会怎样？<br>许仙：那我就追出城去<br>白素贞：追出城去，到了山脚下，还是没有我呢？<br>许仙：追上山去<br>白素贞：上了山，又下山，是条大河，还没有我呢？<br>许仙：砍木头，做小船，追过河去<br>月老：怎么样二位？想好了吗？来点什么面吃？<br>白素贞：倒真是有点饿了<br>许仙：那麻烦你，要两碗面<br>月老：我这是小本生意，不好意思，先把这面钱付了吧<br>许仙：我不饿，给这位姑娘来碗面吧<br>月老：两个人吃一碗面？行了<br>许仙：真是不好意思，第一次请姑娘吃东西，只吃碗面<br>白素贞：这样很好啊<br>许仙：姑娘，我其实，我……<br>月老：面来了<br>白素贞：公子，你怎么会不饿呢？不如，我们两个人分这一碗面吧<br>许仙：不不不<br>白素贞：你看着我，我也吃不踏实老人家，麻烦再拿一个碗<br>月老：好来了，二位慢用<br>许仙：我来<br>白素贞：公子，你的碗里为什么只有汤没有面啊？<br>许仙：姑娘你不知道，这是我吃面的一个习惯，我吃面从来只喝汤，不吃面<br>白素贞：你不吃面光喝汤，怎么能喝得饱呢？来<br>许仙：不不不，姑娘你不知道，这一锅面的精华，都在面汤里了<br>白素贞：公子，你不是有话要对我说吗？<br>许仙：白姑娘<br>白素贞：嗯<br>许仙：做我娘子吧<br>白素贞：做你娘子？<br>许仙：对，从今以后，我们常相厮守永不分离，就像我们现在吃这碗面一样，你吃面我喝汤啊，对了，这是我的传家之宝，是我娘去世前亲手交给我的，她对我说，若是以后我有了心上人，就把这个送给那个姑娘，这就算我娘给你的见面礼吧。怎么了姑娘？<br>白素贞：做你娘子嘛，也不是很难，你就当我答应了吧<br>许仙：真的？姑娘你答应了？<br>白素贞：公子，是时候去宝芝堂开工了<br>许仙：那白姑娘，我何时上门提亲呢？<br>白素贞：公子的玉佩我已经收下了，其他的不过是俗套子，我根本就不在意，总之，你要记得，在这个面摊子上我们俩已经是夫妻了<br>许仙：那好，那，我走了那，我真走了我走了<br>~<br>卦婆婆：姑娘，有心事啊？我能帮你什么忙吗？<br>白素贞：我的心事太复杂，怕是没人帮得了我<br>卦婆婆：哎呀，不复杂，一手是忘情，一手是续缘，选一样便是了<br>白素贞：难道婆婆知道我的心事？<br>卦婆婆：这钱塘县里的女人，哪个没有一两样心事啊？<br>白素贞：可我这两样心事，可是水火不相容啊<br>卦婆婆：那就看在你心里孰轻孰重了<br>白素贞：那它要是一样重呢？<br>卦婆婆：天下哪有两样都齐全的美事？总要选一样，姑娘，那就问问你的心吧<br>白素贞：我的心？<br>卦婆婆：世上很多事情都是要用脑子去想的，唯独这情事，是要用心去想的<br>连翘：卦婆婆，卦婆婆，我有急事要找你<br>卦婆婆：姑娘，就算问卦也得有个先来后到啊，这位姑娘的事情，我还没解决呢<br>连翘：是你？你不是傻小子的仙女姐姐吗？<br>白素贞：我们见过，你好像是许公子身边的一个朋友<br>连翘：你也是来问卦的？跟傻小子有关？这么说，我们是为了同一件事而来的<br>卦婆婆：姑娘，怎么就走啊？<br>连翘：我今天来，是想告诉婆婆一声，不管傻小子的心在何处，我都明白我的心了<br>白素贞：姑娘，你是怎么明白自己的心的？<br>连翘：像我这样，什么都不要想，问问自己，如果这一辈子要守住一个人的话，那这个人到底是谁呢？这第一个出现在你面前的人，就是你的心上人了<br>白素贞：就这么简单？<br>连翘：就这么简单，不管你是什么白的还是黑的姑娘，都请听清楚，傻小子那儿有一颗心，已经给了姑娘你，只可惜姑娘倒好像有些犹豫，一直不肯接着，连翘是个傻丫头，不懂得若即若离的把戏，连翘只知道如果喜欢一个人，就要对他好，紧紧地跟着他，把他放在心里，要是姑娘对他无意的话，还请姑娘跟他说清楚，以便他死了这条心，一旁的人，也好当仁不让的对他好，毕竟，这世上，情是比天还大的一件事<br>白素贞：情比天还大？姑娘就这么肯定吗？<br>连翘：那姑娘有没有听说过人间有情这句话呢？那情比金坚呢？那只羡鸳鸯不羡仙呢？<br>白素贞：只羡鸳鸯不羡仙？<br>~<br>白素贞：大胡子！<br>八两：白姑娘，咱们多日不见了<br>白素贞：大胡子，来<br>八两：好<br>白素贞：快请坐吧<br>八两：好<br>白素贞：你是怎么找到这里的？<br>八两：这还多亏我那铃铛，没想到啊白姑娘，你们这来到人间，还真像模像样地过起日子来了<br>白素贞：我们姐妹俩是受观音菩萨指点，到人间收集眼泪的，以便寻得仙根，得道成仙<br>八两：啊，真的，看来白姑娘又有成仙的机会了<br>白素贞：等了一千年，终于走到这一步<br>八两：看来，我兄弟把姑娘忘了，倒忘得对了，也只有这样，才能成全了姑娘白姑娘，见过我那兄弟啦？<br>白素贞：嗯<br>八两：那你可曾对他提起？<br>白素贞：我并不想招惹他，许公子他应该有他自己平凡的生活<br>八两：我也犹豫了很久，不知道当日你们那些事，该不该与他讲明，不过听白姑娘这么一说，我也知道该怎么做了，白姑娘，你是要干大事的人物，不应该因为儿女私情，浪费了大好的前程，我这兄弟呢，也该本本分分的做个人，成家立业，娶妻生子白姑娘，你不知道，我也曾有过妻儿老小<br>白素贞：真的？那她们现在何处？<br>八两：我也不知道，孩子她娘也许老了，也许死了，我那丫头算起来也不小了，或许已经嫁人了吧<br>白素贞：那你也是为了跟我一样的理由，离开了她们？<br>八两：是啊，我离家太久，就算想回去，也一定找不到回家的路了<br>白素贞：大胡子，你是一个好人，放下这把刀，过几天安稳的日子吧。可是我，又该怎么做呢？<br>八两：我是个粗人，姑娘怎么来问我呢？喝茶，喝茶<br>~<br>白素贞：大胡子说得对，我不能选许仙，和尚不会放过我的，何必多连累他一个呢？<br>~<br>白素贞：青儿，早啊<br>小青：姐姐，不早了，你看天那，都快黑了对了，你什么时候回来的？为什么我都没看见你呀？<br>白素贞：方才，你可看见天边的那道菩提佛光了？<br>小青：我看见了<br>白素贞：真羡慕他，得到佛荫，可以修炼成仙了<br>小青：姐姐，你何必要羡慕别人呢？其实你也可以呀，只要你把一葫芦的眼泪收集齐了，只要你把那个许仙给忘记了<br>白素贞：谁是许仙啊？<br>小青：姐姐，你不会真的吃了那个忘情丹吧？<br>白素贞：忘情丹？你在说什么呢？好好的，忘什么情啊<br>小青：天哪，那个忘情丹果然厉害，一吃下去，真的什么都给忘了没事没事，我哪说什么忘情丹了，我是说现在天色已经很晚了，肚子饿得慌，想吃青菜炒蛋<br>白素贞：好啊，我们今天吃的清淡点，你再熬点米粥，我出去买菜回来<br>小青：好，好这下可好了，姐姐总算可以心无杂念，一心一意地和我找她的眼泪了<br>~<br>小七哥：什么事啊？笑了一上午了，连嘴都没合上过<br>钱掌柜：捡了银子了？<br>小七哥：不会呀，捡了银子也不用这么高兴啊，<br>钱掌柜：我去问问他许仙<br>许仙：掌柜的，不舒服是吧？来，坐，让我好好看看，眼圈发黑，舌苔厚重，你最近是不是总觉得胸口发闷，食难下咽啊？<br>钱掌柜：你怎么知道啊？<br>许仙：简单，八槿、杜仲各三钱，北芪、房菪各六钱，然后用水冲泡，喝三天就好了<br>钱掌柜：我是想问你，你为什么这么高兴？<br>许仙：掌柜的，你说有了心上人应不应该高兴啊？<br>钱掌柜：应该，应该<br>许仙：那还不赶紧回去喝药，掌柜的<br>钱掌柜：好，好，喝药，喝药你去试试<br>小七哥：我？我去？许仙，许仙，我……<br>许仙：小七哥，来坐，不舒服是吧？不用说，让我看看，浑身乏力，头昏目眩，是吧？<br>小七哥：哎，还真让你说中了<br>许仙：简单，田七还有天山术各一两，熬成汤，一个时辰吃一次，晚上就好<br>小七哥：一个时辰吃一次？<br>许仙：对呀<br>小七哥：太麻烦了吧？<br>许仙：麻烦吗？这样好了，你可以把它熬成汤，然后凉成膏，放在模子里做成丸子，每天带在身上，随时吃随时好<br>小七哥：哎，还是你心细<br>许仙：当然了<br>小七哥：许仙，我顺便问一句<br>许仙：问什么？<br>小七哥：你什么事那么高兴啊？<br>许仙：小七哥，你说你的心上人答应做你的娘子，不该高兴吗？<br>小七哥：应该，应该高兴许仙真有你的，她是哪家的闺女？<br>许仙：你要是再罗嗦的话，不赶紧吃药，你的病恐怕就会更严重了<br>小七哥：我这就熬药去<br>~<br>心魔：法海<br>法海：你是谁？<br>心魔：我是另外一个你<br>法海：是另外一个我？<br>心魔：一个你被心魔所困，另一个我便破茧而出来救你<br>法海：你既然是我的心，那你一定知道我的心魔因何而成了<br>心魔：法海，你是得道高僧，怎么倒问我这么深奥的问题<br>法海：难道是因为半步多我认错了妖魔，大开杀戒？<br>心魔：恐怕不止于此吧？你刚才心神浮躁，可是为了一个女人？<br>法海：不不不，她不是女人，她是妖<br>心魔：你也不是男人，你是和尚<br>法海：她是妖，坏我修行，我就恨她<br>心魔：法海，你记住，坏你修行之人也可以是助你修行之人，白素贞正是你心魔所在，除掉她，你便可以大步向前，再无阻碍了<br>法海：我恐怕，恐怕我的法力不够<br>心魔：如今，一个在佛祖脚下受过佛荫的念珠出世，我现将它赠给你，便可摒弃心魔，法力大增，除掉白蛇<br>法海：那，那念珠现在何处？<br>十天：师傅，我给您送饭来了给<br>法海：我吃粥便行了，你吃这个吧<br>十天：参公？<br>法海：你说什么？<br>十天：没说什么，我是在说师傅在这里打坐，不知练的什么神功<br>法海：十天，你又妄语了，师傅这哪里是练什么神功啊，这是在修行<br>~<br>十天：小人参精！小人参精，你快点出来，我是十天快出来呀，我给你带了好吃的东西<br>小人参精：十天！<br>十天：小……<br>小人参精：小声一点<br>十天：怎么了？<br>小人参精：我爷爷方才得了一样好东西，正在修炼呢<br>十天：是什么好东西？<br>小人参精：这可不能告诉你，这是我爷爷的秘密<br>十天：真是的，我还把你当好朋友呢<br>小人参精：我爷爷说这是天机，不可泄露的<br>十天：不说就不说，亏我还把你当成最好的朋友，在师傅的眼皮子底下，偷出白馍来给你吃，要是被师傅知道了，回去一定会把我打死的<br>小人参精：好了好了，我告诉你还不成吗？不过，你可千万不要告诉别人啊<br>十天：你知道，你是我唯一的朋友，我还会告诉谁去？<br>小人参精：好<br>十天：念过佛荫的念珠？<br>小人参精：嘘<br>十天：好啊，我还以为参公得到了什么宝贝，原来他是个小偷，这念珠分明就是从我师傅的心境台偷去的<br>小人参精：什么偷去的，这么难听，是机缘巧合，是我爷爷日日等夜夜盼，等了很多年才捡到的<br>十天：不行，我要告诉师傅去<br>小人参精：你要是告诉你师傅，我就只能跟你绝交了<br>十天：那，那你爷爷要念珠干什么？<br>小人参精：那还用说，得道成仙呗<br>十天：那就是说，如果你爷爷得到那串念珠，就得道成仙，救苦救难，而我师傅得到了那串念珠，就要斩妖除魔，害人性命算了，那串念珠让你爷爷拿去算了<br>小人参精：好朋友永不变<br>十天：永远不变的好朋友<br>~<br>十天：师傅<br>法海：十天，你去干什么了？<br>十天：我去竹林了<br>法海：你去竹林干什么？<br>十天：我……<br>老住持：新增植的几株幼竹，我让他去浇浇水十天，幼竹长势可好？<br>十天：好好好，幼竹长得可好了一次能吃两个白馍呢<br>老住持：还不赶紧给你师傅收拾包袱去<br>十天：师傅，你要出一趟远门啊？<br>法海：要下一趟山<br>十天：那，师傅带我同去吧？<br>老住持：是啊，法海，带他一块儿去开开眼界也好，再说，十天也可以给你当眼睛<br>十天：对<br>老住持：免去诸多不便<br>法海：不可，大师，此次下山是为了寻找被盗的念珠，带上他不方便<br>十天：被盗的念珠？<br>法海：怎么？你知道它的下落？<br>十天：没有没有，这样的宝贝我怎么会知道呢？<br>法海：嗯，赶快收拾去吧临走前，师傅还要听你念一遍大悲咒呢<br>十天：啊？还要念一遍大悲咒啊？<br>~<br>小二：客官，您慢走<br>八两：怎么说翻脸就翻脸？倒比书翻得还快，要下就下呀大和尚，天要下雨了，进来避避雨吧，省得打湿了僧袍<br>法海：阿弥陀佛，多谢施主提醒，只是这雨躲不得，出家人，淋雨，也是修行的一种<br>八两：和尚，这清汤寡水的怎么吃得饱啊？我这有些点心，将就着用些吧<br>法海：不必了，出家人忍饥挨饿，也是修行的一种<br>八两：大和尚，你怎么这么不通人情啊？算我多管闲事是你！<br>法海：阿弥陀佛，施主好大的杀气<br>八两：和尚，你阴魂不散，不会这么快就忘了你八两爷爷吧？<br>法海：怎么会呢？若不是你，我当日就把那一青一白两个妖孽给收了，我怎么会忘呢？苦海无边，回头是岸，我助你兄弟迷途知返你不知谢我，反倒是我做错了一般<br>八两：卑鄙！你可知道，他们一个有情一个重义，是天造地设的一对<br>法海：你说什么？他们是一对？荒谬！妖就是妖，谈什么情，说什么义<br>八两：和尚，是你多管闲事<br>法海：大胡子，你是助纣为虐<br>八两：和尚，你找死<br>法海：阿弥陀佛，大胡子，放下屠刀，立地成佛<br>八两：冤家路窄，看刀！<br>法海：我只跟妖斗，不跟人打<br>八两：不打也得打你若是不打，别人该笑话我欺负你是睁眼瞎了<br>法海：阿弥陀佛，我只是眼瞎了，总比你心瞎的好<br>八两：好，那我就挑开你的心，看看是你的心瞎还是我的心瞎</p>
</blockquote>
<h3 id="第十一集"><a href="#第十一集" class="headerlink" title="第十一集"></a>第十一集</h3><blockquote>
<p>八两：好，那我就挑开你的心，看看是你的心瞎还是我的心瞎。<br>法海：我再说一遍，我只和妖斗，不跟人打。<br>八两：难道你就不怕我真把你杀了？<br>法海：我若怕死，还出的什么家呀。<br>八两：好，那我今天就成全了你。<br>法海：笑什么？<br>八两：笑什么，刚才我突然明白了一件事情。<br>法海：你醒悟了些什么？<br>八两：你喜欢她。<br>法海：你说什么？<br>八两：我说，你喜欢她，白素贞，一个千年蛇妖，世上少有的美人，你喜欢她！<br>法海：你怎么敢？<br>八两：我怎么不敢？你喜欢她，所以说你怕她，你怕自己喜欢上她，所以你就要杀了她，你妒嫉许仙，所以就要陷害他，我现在全明白了。法海，一个出家人，真是一个笑话！<br>法海：荒谬！<br>八两：荒谬？不荒谬，我现在倒有几分可怜你了，你明明喜欢人家，却又不敢跟人家说，可怜哪，可怜哪，可怜之极。臭和尚，被我说中了吧？发狂了吧？<br>法海：当今乱世，真是人比妖还难于驯服，八两，我今天就替佛祖教训你。<br>八两：菩提佛光！<br>法海：菩提佛光？在什么地方？<br>八两：我为什么要告诉你？<br>法海：不好，菩提佛光指引我念珠方向，如今念珠落于紫竹林妖孽手中，妖若成仙，天地不容。<br>~<br>法海：有妖。<br>老人参精：法海。<br>法海：妖孽，你跑不了啦。<br>老人参精：你这和尚口气大得很哪。你不要浪费时间了。<br>法海：我有大把的时间。<br>老人参精：你有没有大把的时间跟我没关系，我说和尚啊，你就，你就成全了我吧。<br>法海：成全你？天有天规人有人法，你算哪一样？<br>老人参精：和尚，你且慢动手，念珠在我手里，已经有了我的灵气，若佛祖不想成全我，早就用这佛珠将我打成原形，你又何必这么执着非得要坏我的大事呢？<br>法海：妖就是妖，何用废话，看钵！灵气凝结不散，难道佛祖真的要成全这老妖？不可能，不可能，这妖怎么能成仙呢？念珠，我的念珠呢？妖孽，还我的念珠！<br>~<br>八两：兄弟，你轻点，年岁大了，经不起这疼。<br>许仙：知道自己岁数大了，还到处出去乱打架。<br>八两：说的这是什么话嘛，昨天这场架，就是拼上我的老命那也得打，再说那和尚……<br>许仙：和尚？你什么时候又跟和尚结了仇恨？<br>八两：忘了的事，说了也没用。<br>许仙：大胡子，不是我说你，你都一把年纪了，你这脾气也真应该改一改了，每次都出去跟人打架，自己伤成这样，再有下次，我定不帮你。<br>八两：（又来了，唠唠叨叨没个完，臭小子，要不是为你，我何至于跟那和尚没完没了的，不过）兄弟，记住哥哥一句话，你这一辈子永远不要跟和尚讲话，尤其是那个瞎眼和尚。<br>~<br>十天：小人参精！师傅。<br>~<br>小人参精：爷爷，你死得好惨哪。<br>十天：都怪我，小人参精。<br>小人参精：爷爷。<br>十天：小人参精，你怎么了，你怎么哭啦？<br>小人参精：都是你师傅做的好事。<br>十天：我师傅？他欺负你了？<br>小人参精：他不问青红皂白，就收了我爷爷，现在镇于这巨石之下，不但毁了我爷爷百年道行，还永世不得超生。<br>十天：这，这真的是我师傅所为？<br>小人参精：你说，是不是你告诉你师傅我爷爷的这串念珠的？要不，他为什么在我爷爷即将成仙的时候，来到紫竹林，抢走我爷爷的念珠。<br>十天：不是我啊，你是我唯一的朋友，我怎么会出卖你呢，小人参精。<br>小人参精：我信你，十天，可是我恨你师傅，他杀了我爷爷，就为自己能夺到这串念珠，修炼成佛。<br>十天：不是啊，我师傅只是一心修炼，并不是想得到这串念珠。<br>法海：定！<br>十天：师傅，他只是我的朋友，他只是我朋友而已。<br>小人参精：十天，你骗我，你出卖我，你领他来抓我。<br>十天：不，不是我，我对天发誓。你是我最好的朋友，我，我真的不知道。<br>小人参精：我不相信你，再也不相信你了，什么永远的朋友，都是骗人的。<br>十天：我……<br>法海：十天，把念珠从那妖孽手中拿过来。<br>十天：我，我不能，师傅，<br>法海：十天，那念珠可受过佛祖的佛荫，在妖孽手中便亵渎了神明。<br>十天：我，我不行啊，师傅。<br>法海：如果你不拿的话，以后就不要叫我师傅了。<br>十天：我……<br>小人参精：十，十天，你出卖我，你骗我，我恨你。<br>十天：不是，你……，我……<br>法海：十天，把这念珠拿好了，已经丢过一次了，不可以再丢第二次，走啦。十天！十天！<br>~<br>法海：十天，好些了吗？<br>十天：师傅，你为什么要镇老人参精？是为了修行，还是为了那串佛珠？<br>法海：要佛珠，也是为了修行。<br>十天：可是，那你为什么要把小人参精也定住，这样他很难逃出被旁人采去入药的厄运。<br>法海：明天再来换一次草药，现在去诵经吧。<br>十天：师傅，请您放过小人参精吧，他是我唯一的朋友。师傅，十天从小无父无母，只有紫竹林的小人参精才把我当朋友，求求你，求求你放过他吧，师傅。若师傅不答应的话，十天就跪在门外彻夜不起，直到，直到你答应我为止。<br>~<br>十天：老住持，那您能不能解开我师傅的定身咒，救出小人参精呢？<br>老住持：十天，你这可是为难我呀，你师傅是得道高僧，他施的法怕是要比他还厉害的法师才能解开吧。<br>十天：比他还厉害？像这样的人，我还真认识一个，那我下山去求她，您帮我看住小人参精，千万别让他被别人采了去。<br>老住持：这事就交给我吧。<br>十天：你可要睁大眼睛，不要打瞌睡啊。<br>老住持：臭小子，你小看我，呆会儿我念它一百遍大悲咒，非等你回来不可。<br>~<br>小青：十天？<br>十天：上一次你欠我的事情，我向你讨还，快点快点。<br>小青：哎呀，干嘛，你是又想吃点心喝茶了，还是想让我变成娘亲抱抱你啊？<br>十天：哎呀，不是不是都不是，是一件性命攸关的大事啊。<br>小青：再重要的事，也得等到天亮了再说吧。<br>十天：哎呀，去晚了，他可就没命了，快点。难道你忘了咱们那滴眼泪的约定吗？<br>小青：一诺千金，小青从不食言与别人，既然你这么说，那我就勉为其难跟你去吧。傻小子，带路吧。<br>十天：哎呀，那就快点。<br>小青：你事儿还真多，麻烦死了。<br>~<br>十天：快点，前面就是紫竹林了。快快，快点。<br>小青：你着什么急啊。<br>十天：快点。<br>小青：这道士，獐头鼠目，决非善类，生得一副油滑的模样。<br>十天：你快点走吧，前面就是了，快呀。就在前面了，快点。<br>小青：十天哪，你要救的人在哪儿啊？<br>十天：老住持，老住持，醒醒啊。<br>老住持：十天，你回来啦，我已经念到第九十九遍了。<br>十天：小人参精呢？<br>老住持：这不在石头上被定身咒定住了吗？怎么没了？我，刚才还在这儿，怎么没了？<br>十天：我叫你不要睡觉，你还睡觉，干嘛要打瞌睡？<br>小青：十天，忙活了这么半天了，你到底要救谁啊？喂，十天，你别哭啊。<br>~<br>许仙：你怎么在这儿，傻丫头？<br>连翘：那你怎么在这儿，傻小子？<br>许仙：我在这里做工学徒啊。<br>连翘：我也是啊。<br>许仙：哎呀，你别闹了，你听我说啊，等我忙完店里的事，我有天大的好消息要告诉你，然后再请你吃三大碗馄饨好不好？<br>连翘：真的？<br>许仙：嗯。<br>连翘：你说的。<br>许仙：对呀。<br>连翘：不许反悔。<br>许仙：我当然不许反悔，对了，我这里呢有些碎银子你拿去，上街散散步，买个水果吃啊，买碗面吃啊，实在觉得无聊呢，就看看打把式卖艺的，再觉得无聊呢，就上山抓几条蛇。<br>连翘：干嘛？我才不呢。我刚刚到这里做工，我要好好表现。<br>许仙：什么到这里表现，你学的哪门子工啊你。<br>连翘：跟你一样，宝芝堂学徒。<br>许仙：掌柜的，掌柜的，掌柜的，她，她说她是宝芝堂的学徒。<br>钱掌柜：是啊，她是学徒啊。<br>许仙：怎么可能？<br>钱掌柜：怎么不可能啊，她一上午劈了三天的柴，挑了五天的水，又会抓蛇，又懂中草药，最关键的是她自带了早中晚三顿饭，这样的学徒谁不收啊？<br>~<br>许仙：你还真有两下子。<br>连翘：何止两下子，我这个人哪，除了颇有姿色之外，什么贤良淑德啊，冰雪聪明啊，还有心灵手巧啊，我一样都不差呢。<br>许仙：连翘，你突然到宝芝堂，又这么卖力气，是不是有什么阴谋？<br>连翘：阴谋？<br>许仙：嗯。<br>连翘：我能有什么阴谋啊，我不过是赚点银子糊口罢了。<br>许仙：不，不，借口，以你的身手在山上捕捕蛇，赚的不比这里的多。<br>连翘：我其实……，对了，你不是说有个天大的好消息要告诉我吗？<br>许仙：是……<br>连翘：是不是钱掌柜给的月钱特别的多？<br>许仙：不是。<br>连翘：要不就是你去了间果子铺，特好吃？<br>许仙：不，不，不，是……<br>连翘：那就是路上捡到银子了？<br>许仙：她肯做我娘子了，她肯做我娘子了，高兴吧傻丫头。<br>连翘：高兴，当然，当然高兴。<br>钱掌柜：许仙！<br>许仙：什么事，掌柜的。<br>钱掌柜：我跟你说啊，这个县老爷的三姨太怀了身孕，出门一不留神动了胎气了，赶紧把咱们的保胎汤给送去。<br>许仙：知道了，咱们宝芝堂的独门秘方保胎汤我已经熬了三天三夜了，不就在那儿……<br>~<br>连翘：我怎么知道那是什么独门秘方，我更不知道那是你熬了三天三夜的保胎汤嘛。<br>许仙：不通药理就不要来宝芝堂嘛。<br>连翘：那我来宝芝堂还不是为了你，那现在怎么办啊？<br>许仙：什么怎么办啊，我只能跟县太爷请罪去了。<br>道士：快来看哪，包治百病的神药啊。<br>许仙：傻丫头，你听到了吗？<br>连翘：包治百病的神药，傻小子，这回我们有救了。<br>道士：各位乡亲，各位乡亲，贫道这里有包治百病的神药啊，无论是头疼脑热还是伤风湿寒，或是腰酸腿疼，四肢无力，补虚壮阳，收敛止血，总之只要是你们能够想得到的病症，我这个神药都能够治，这是个包治百病的神药啊。一两银子一包啦。<br>连翘：大师，这生孩子的病可否能医呀？<br>道士：别说生孩子保胎了，我这个神药就是常年膝下无子，吃了我这个神药，也能够心想事成啊。<br>连翘：真这么灵吗？<br>道士：那当然。<br>许仙：真是可笑。<br>道士：小老弟，你这话是什么意思？<br>许仙：说这话就得罪大师了，我学医多年，看过无数的医书，但是我从来没有听说过有什么药方可以使不能生育的女子怀上孩子，就连我们宝芝堂最出名的保胎汤，也只是起到保胎安康的功效，按大师所说，你这神药岂不比送子观音还要灵验了？<br>道士：我说小老弟，你不过是一个药铺学徒的小伙计，凭什么对我的神药说三道四，天下之大，无奇不有，你没听说过，只能说明你孤陋寡闻罢了。<br>许仙：可是，不能眼见为实，我到底不能相信。<br>道士：那好，今天我就让你好好的开开眼。两位老人家，是否多年求子无望啊？<br>老头：是啊，我们如今头发都白了，却无子养老，真是苦命啊。<br>道士：老人家，请把这个吃下去，我保证你能够怀上一个大胖小子。<br>老太：可是我已经五十多岁了。<br>老头：相信大师说的嘛，赶紧吃下去，难道不想有个儿子吗？<br>道士：你看看。<br>老太：老头子，这真是太好了。<br>老头：这下太好了，我六十得子，算是后继有人了。大师，你真是我们的大恩人哪。<br>连翘：这药我全都要了啊，我全包了。<br>围观：别跟我抢啊。<br>许仙：各位乡亲，药不能随便吃啊。医书上说，要根据不同的病症，对症下药啊。<br>~<br>小青：你也知道，咱们哪见过那么多的眼泪呀，所以当时十天一哭起来，我就一点办法也没有了。真后悔，当时没把姐姐的葫芦带了去，是吧，姐姐。<br>白素贞：那孩子也真可怜，从小就被人利用，不知道他师傅是谁，这么狠心。<br>小青：姐姐，你看。<br>老头：真太好了。<br>老太：瞧把你乐的。<br>白素贞：这位大婶，您这可是有了身孕吗？<br>老太：是啊，是啊，如今我们老两口甭提多高兴了。<br>老头：实不相瞒，这是巷子口的大师给我们一颗包治百病的神药，这才让我的老婆怀上孩子啦。<br>白素贞：大师？<br>小青：姐姐，不会吧？这么大年纪的大婶也能怀上孩子吗？<br>白素贞：那根本不是孩子，而是一团胀气，那个大师，恐怕也是欺世盗名的骗子，会点三脚猫功夫而已。<br>小青：如果真是这样的话，那，那个大婶岂不是空欢喜了一场？<br>白素贞：只怕……，青儿，跟我来。<br>~<br>许仙：连翘，药不是随便吃的，你没有病买这么多药干什么？<br>连翘：我当然没病了，可是县太爷的三姨太有病啊，这神药连五十岁的老太婆吃了都能怀上，那要是三姨太吃了，不就能顺顺利利的把孩子生下来了嘛。我是把宝芝堂的保胎汤给倒了，可是没关系呀，说不定掌柜的还夸我能干呢，这六包我还嫌少呢。<br>~<br>道士：两位姑娘，也是来买药的吗？<br>小青：听说大师的神药有奇效，能够药到病除，所以呢我和姐姐特地来讨教。<br>道士：不敢当，不敢当，请问姑娘要多少啊？<br>小青：我们准备把这些全都买下来，还有方才被那些人买了去的，本小姐全都要了。<br>道士：好说好说。<br>小青：慢着点，本姑娘还想问问大师，既然你这神药能够医治百病，那这手脚生疮之症，可能医得？<br>道士：这是神药，当然能医得了。<br>小青：这个就奇怪了，那为什么大师不先替自己医治一下呢？<br>道士：什么？你说什么？你们到底是什么人？<br>白素贞：我们是来揭穿你这个骗子的好人。<br>道士：你，你们是青白……<br>小青：你这是怎么了？刚才不是好好的吗？怎么又患上了耳聋口哑之症啊？你不是神医吗？自己的病都医不好，你又怎么医别人呢？<br>白素贞：各位乡亲，大家都看见了，这个道士只不过是个欺世盗名的骗子罢了，而那些神药，是便宜的草药配制而成，根本就不能治病，又怎么可能救人呢？<br>老太：你这个骗子，岂止是骗人，简直就是害人，大夫刚才都给我看过了，说是胀气。<br>白素贞：你也是修道之人，何苦在这里卖假药骗人呢？这次饶了你，下次再被我们撞见定不饶你。青儿，我们走。<br>小人参精：快来救我，快来救我。<br>小青：谁？刚才谁在呼救啊？<br>道士：没有啊，没有。<br>小青：没有？<br>道士：姑娘，不敢，不敢欺瞒姑娘，是我前日在紫竹林采的千年人参。<br>小青：我说是谁呢，原来当真是被你这个道士采去了。<br>小人参精：小青姐姐，小青姐姐，快救我。<br>白素贞：你这种人长生不老也是祸害，把他放了。<br>道士：我……<br>小青：你什么你。<br>道士：我法力尚浅，我办不到啊。<br>小青：姐姐，那日十天也是这样，巴望着让我帮他解开那条红绳，不知道是哪个黑心的高人，做出这等事来。<br>白素贞：现在紫竹林不安生，还是跟我们走吧。<br>小人参精：谢谢姐姐。<br>道士：不过是一青一白两条蛇妖，竟敢如此张狂，坏我的好事，他日定要把这口气挣回来。<br>~<br>许仙：请留步。<br>连翘：怎么样？药都送进去了？<br>许仙：我还是觉得不妥，世上哪有什么包治百病的神药，万一用错了，那可是两条人命。<br>连翘：有什么不妥的呀，你不也眼见着那个老太太怀上孩子了吗？你还担心什么呀。再说，只要三姨太的病能治好，掌柜的就不会怪我做错事情了，也就不会把我赶出去了，你就当为我好不好？你放心吧，一定不会有事的。<br>许仙：谁让我们是朋友呢？我就相信你，为朋友两肋插刀，也算君子所为嘛。<br>连翘：你真愿意为我两肋插刀啊？<br>许仙：嗯。<br>连翘：那这么说，我这个朋友在你心里的份量还挺重的。<br>许仙：当然不轻了。<br>连翘：那，是我的份量重呢？还是那个仙女姐姐份量重啊？我问你呢。<br>许仙：哎呀，好端端的，怎么问起这种事情。<br>连翘：我不管，你说，在你心里到底谁更重一些啊？<br>许仙：这不是一回事，怎么比啊。<br>连翘：那非要比一比呢？<br>许仙：那没法比。<br>连翘：怎么就没法比啊？<br>~<br>钱掌柜：包治百病的神药？<br>连翘：对呀，不管什么病都能治，以后什么问诊啊，开方子啊，抓药什么的，这些麻烦事就全可以省了。<br>钱掌柜：呸，什么包治百病的神药，明明就是几味破草药，连个伤风感冒都治不了。<br>连翘：怎么可能？我明明看见那个大师把药给人家用了，就全好了。<br>许仙：掌柜的说的没错，这的确是胡乱搭配的一些草药，乱用药是孕妇的大忌，万一吃错了，那可是一尸两命了。<br>连翘：那现在该怎么办啊？掌柜的。<br>钱掌柜：这可不关我的事啊，祸可是你们惹下的。<br>连翘：傻小子，你有没有什么办法呀？祸是我惹出来的，不如我去县衙认罪。<br>许仙：连翘，你一个女孩子家，怎么受得了牢狱之苦哪？再怎么说这事和我有关，还是我去认罪吧。<br>钱掌柜：且慢，我小时候就听我爹说过，有一种千年人参，它能够护胎保气，要是咱们能够得到这种人参，把它送给县太爷的三姨太，恐怕有一线希望。<br>连翘：有一线希望便好，可怎么才能找到这千年人参呢？<br>许仙：怎么找啊？<br>小七哥：你们听说了吗？方才在巷子口有一个欺世盗名的游方道士，被两个年轻貌美的姑娘给教训了一顿，听说啊，还救走了一个被道士绑了的千年人参精呢。原来这世上，真有千年人参精啊。<br>许仙：千年人参精？是被哪两个貌美的姑娘所救？是不是穿青白两色衣裙的姑娘？<br>小七哥：正是，听说她们住在清波门，你可认识？<br>~<br>小青：谁呀？<br>许仙：小青，我找你姐姐有事商量。<br>小青：没事可商量。<br>许仙：要紧的事。<br>小青：有多要紧呀？<br>许仙：一时半会儿说不清楚，你还是让我先进去吧。<br>小青：我姐姐不愿意和你讲话。<br>许仙：怎么可能？<br>小青：怎么不会？你这个人好不知趣，不想和你讲话还需要理由吗？那让我好好想想，可能是因为讨厌你吧。<br>许仙：这绝对不可能啊，那天晚上我……<br>白素贞：青儿，在跟谁说话，这么半天。<br>小青：姐姐，没事，是一个强买强卖的小贩，恼人得很。<br>白素贞：快把他打发走吧。<br>小青：知道了。<br>许仙：白姑娘，我是许仙。白姑娘，白姑娘。<br>小青：姐姐。姐姐你不是吃了忘情丹了吗？不是也把事情都忘了吗？你怎么又……<br>白素贞：你是谁啊？<br>许仙：我？白姑娘把我忘了吗？我是许仙哪，许配的许，神仙的仙。<br>白素贞：我们认识吗？<br>小青：不认识，不认识，以前不认识，如今也不认识，半步多也不认识，西湖小船上也不认识，反正不认识你这个人就是了。你赶快给我出去，出去吧，出去，出去吧。<br>许仙：白姑娘，你别拿我开玩笑了好不好？你不是答应做我娘子了吗？怎么刚过了几日，就装做不认识我了？如果我有什么得罪了你，还请姑娘你择日再戏耍于我，今日我找姑娘是人命关天的事情，我想请姑娘帮个忙，把府上的千年人参借我一用，我是为了救两条人命啊。<br>白素贞：原来你是来要人参的，不错，我府上有人参不假，可我凭什么给一个陌生人呢？<br>许仙：陌生人？白姑娘，难道你把昨天和你一起谈婚论嫁的男人，叫做陌生人吗？<br>白素贞：你说谁跟你谈婚论嫁？<br>许仙：当然是姑娘你呀，如果不是的话，那请问姑娘你挂在腰间的玉佩又算什么？<br>白素贞：我看你真是越说越离谱了，青儿，你就这样让人戏弄你的姐姐吗？<br>小青：好好好，姐姐，我马上就给他轰出去。走啊，走吧，走吧。<br>许仙：白姑娘你不借我人参没有关系，可是你为什么当作我们之间从来没有发生过什么呢？<br>白素贞：青儿，还等什么，关门，放狗。<br>连翘：傻小子，你怎么了？<br>小青：我还以为忘记一个人有多难呢，原来吃一颗忘情丹就全部解决了。<br>连翘：这么说，没人参了？<br>许仙：不光人参也没了，就连许仙这个人在白姑娘心里也没了。<br>连翘：你不是说她已经答应做你娘子了吗？为什么还放狗追我们呀？<br>许仙：我也搞不懂了，还是先跑吧。<br>连翘：我们现在怎么办啊？<br>许仙：不知道，你让我好好想想，我现在心里很乱。<br>连翘：没功夫想了，他们是来找我们的吧。<br>~<br>小青：姐姐。<br>白素贞：青儿，你回来了。你猜小人参精他跟我说了什么。<br>小人参精：十天的师傅是法海。<br>小青：我现在可管不了什么法海了，姐姐，果然不出你所料，真的出事了。<br>白素贞：出什么事了？<br>小青：我刚才上街，听到街坊告诉我，那个许……，就是刚才来我们府上胡言乱语的男人，被官府给抓去了。<br>白素贞：抓去了不是正好？也省得我们报官了。<br>小青：姐姐，不是的。那个人他买了那个道士的药，误给县太爷的三姨太服用了，结果，结果才八个月的身孕，就马上快生了，偏偏整个钱塘县，就找不到一个接生婆敢去接生，大家都说，恐怕要一尸两命呢。<br>白素贞：你说的这些，与我何干呢？<br>小青：姐姐，要是那个三姨太真的有什么好歹的话，县太爷决不会轻饶了他，一定会判他死罪的。<br>白素贞：你总提起这个人，难道你跟许仙相识不成？<br>小青：不是啊，不是啊，只是，姐姐，你真的是忘了不成？我知道我不该提起他，不过，不过那个许仙他的确是冤枉啊，想来他刚才到我们府上来借千年人参，好歹也是为了要救人一命，可我们不但拒绝了他，还关门放狗，那岂不是要把他置于死地啊。就算是你真的把他给忘了，就算他是一阿猫阿狗，那我们也不能见死不救吧？<br>白素贞：谁说我见死不救了？那么你现在到底是要我怎么样呢？<br>~<br>小青：小人参精，你别跑，你给我站住！<br>小人参精：白姐姐，青姐姐她拿着剪子要我的命呢。<br>白素贞：好了好了，小人参精，我们姐妹救了你，你是不是该感恩图报啊？<br>小人参精：可是我真的很怕死，要是连命都没了，以后怎么娶媳妇啊？<br>白素贞：不会要你的小命的，最多，最多要你这根小辫子而已啊。<br>小人参精：真的？<br>~<br>连翘：有没有人啊？喂，有没有人啊？这位大哥，麻烦你过来一下。<br>狱卒：什么事啊？<br>连翘：我想问你一下，那县太爷的三姨太生了吗？<br>狱卒：自从吃了你们的虎狼药，这人都折腾的不行，快脱了层皮，我不是泼你冷水，你说那游方道士无名无姓，游走四方的，这一夜之间到哪里寻得到，倒是你们两个宝芝堂的两个小伙计，正好归案顶罪呢。<br>连翘：真没想到结果会是这样，我就不相信，这次钱塘之行，就算走到了尽头？我连好男人都还没嫁过一个呢，就这么死了，我不甘心。<br>许仙：我也不甘心。为什么装做不认识我？<br>连翘：谁？<br>许仙：难道昨天夜里的种种只是场春秋大梦，那些海誓山盟都是假的吗？<br>连翘：你说什么呢？我听不懂。<br>许仙：我真搞不懂你们女人，昨天还花前月下，今天，就铁石心肠。<br>连翘：原来你说她呢。我说都什么时候了，明天一早我们两个的脑袋可都掉了，你还想她，你鬼迷心窍了？<br>许仙：心迷了倒没什么，只是怕心碎了。<br>连翘：好了，你别难过了，其实你不懂女人的，我想，那个仙女姐姐一定是想试试你的心。<br>许仙：试我的心？这话从何说起？<br>连翘：这话说来可就长了，大凡男人，沾花惹草的多，痴情汉子却少得可怜，他们可以三妻四妾，可以朝三暮四，女人就不一样了，女人的一生都要奉献给一个男人，包括她所有的快乐和所有的悲伤，所以说，男人可以用一炷香的时间去喜欢上一个女人，而女人却往往要用一辈子的时间去等待一个男人的爱，这样说来，男女之爱本来就不公平，一炷香换一辈子，这赌注可太大了，所以女人通常都会编排她们最喜欢的戏码，你越爱她，她就越要对你装出那种不屑一顾的样子，所以，你根本就不用担心，我想，她肯定是在试你的心呢。<br>许仙：真的？<br>连翘：真的，不信？不信你问那位大哥啊，是不是啊？这位大哥。<br>狱卒：是，这个女人啊，都是这样的，所谓海底针，女人心，小老弟，别发愁了，喝口酒，这是壮胆酒，喝了这个酒，就什么都不怕了，给。<br>连翘：傻小子，你跟我说实话，你对那个仙女姐姐，到底有几分喜欢？有这么多吗？<br>许仙：再倒。<br>连翘：再倒？<br>许仙：再倒，再倒。<br>连翘：还倒？那就是很喜欢了。<br>许仙：只可惜你酒碗小了些。<br>连翘：不会喝酒就别逞强啊。<br>许仙：傻丫头，你说，如果明天我死了，她会担心我吗？<br>连翘：我看啊，就算明天在大堂上能把命保住，你这个人啊，也是没药可救了。<br>~<br>许仙：白姑娘，白姑娘。白姑娘？白姑娘是你吗？<br>白素贞：嘘。<br>许仙：白姑娘，真的是你吗？我不是在做梦吧？<br>白素贞：你不是在做梦，这是县衙大牢，你是许仙，我是白素贞。<br>许仙：可是白姑娘，你怎么会来看我？你是怎么进来的？<br>白素贞：我自然有我的办法，时间不多了，我今晚是来救你的。</p>
</blockquote>
<h3 id="第十二集"><a href="#第十二集" class="headerlink" title="第十二集"></a>第十二集</h3><blockquote>
<p>许仙：可是白姑娘，你怎么会来看我？你是怎么进来的？<br>白素贞：我自然有我的办法，时间不多了，我今晚是来救你的。这是我家的千年人参，又加入了草药十八味，研磨出这枚顺产丸，明日大堂之上，你只要求得机会，让县太爷同意你给三姨太试药就行了，一旦服用，必定母子平安，顺利生产。<br>许仙：可是，可是我上次用药已经让三姨太生产不成，县太爷又怎么会给我这个机会呢？<br>白素贞：你放心，这一切我都安排妥当了，如果县太爷还是不准的话，你就跟他说（耳语），记住我的话了？<br>许仙：姑娘的话，我何时不是句句放在心上，怎敢删减半个字，我就知道你没有把我忘了，今天晌午，你只是拿我打趣而已。你看，你还是在意我吧，你还是看我来了。<br>白素贞：人家说你许仙痴，我看这话一点都不假，都什么时候了，你还顾及儿女私情，你就不怕死吗？<br>许仙：我自然怕死，人都怕死，可是死和死不一样，许仙生平别无所求，只希望两件事能美梦成真，这第一，就是有朝一日能够完成学医之业，悬壶济世，救人于危难之中，这第二，就是能娶一位美丽而又善良的妻子，携手共渡余生。可是没想到，只今天这一天，这两个愿望就双双破灭，先是被妖道所骗，用错了药，险些一尸两命，然后就是被白姑娘冷言冷语拒之门外，行同陌路，如果让我为病人死，一命抵一命，死得其所，但如果让我为白姑娘死，却不知是什么缘故，总有些心有不甘。还好，今天夜里你来看我，我也算安心了。<br>白素贞：许仙，我想你是误会了，什么私订终身，海誓山盟，应该都是你的痴人梦话吧。<br>许仙：我……<br>白素贞：我今天来，不过抱打不平，做些有良心的事，管他什么许仙，张仙，李仙，我一概不认识，反正药已经给你了，听不听我的，随你的意思吧。<br>许仙：白姑娘，你怎么又这样了？难道昨晚说的话就都不算数了吗？你到底有什么难言之隐，你怎么能出尔反尔呢？白姑娘。官爷，官爷，麻烦你把刚才出去那位姑娘叫回来好不好？<br>狱卒：什么姑娘？这大半夜的，这县衙里哪有什么姑娘。小老弟，赶快收拾一下，时间不早了，准备着大人升堂吧。<br>连翘：官差大人，这天快亮了，三姨太生了吗？<br>狱卒：生什么孩子，这人是死是活，还不知道呢。<br>连翘：完了完了，这下肯定死定了。<br>~<br>白素贞：糟了，只剩一口气了，还得帮她借一天阳寿。都说夫妻同命，就借用你的阳寿来救你妻儿命吧。<br>三姨太：你，你是谁？<br>白素贞：你不用管我是谁，总之，是来救你们母子的。<br>三姨太：我恐怕是活不了多久了，只可惜我肚子里的孩子。<br>白素贞：不要说这种不吉利的话，你是大福大贵之相，只要有贵人相助，一定保你们母子平安。<br>三姨太：真的吗？那我的贵人现在何处？<br>白素贞：他人在县衙大牢内，明天午时，将要被你家老爷问斩，记住我的话，你们母子的性命就全在他的手里了，只要保住他的命，就能保住你们母子的命。<br>三姨太：这，莫非是观世音菩萨显灵了？<br>~<br>县太爷：大胆狂徒，事到临头，你还不认罪？竟然提出再次为我娘子用药的无理要求，你以为本官糊涂到一而再再而三相信你不成？<br>许仙：大人，无论如何，请您再给小民一次机会，让我为您娘子问诊。<br>县太爷：大胆狂徒，你害了我妻儿两条性命还不够，你还想怎样？<br>连翘：行了，别说了，好歹都一样，认罪便是，生产是产婆的事，你怎么会懂呢？<br>许仙：大人，是我害了您娘子没错，在这公堂之上，我早已羞愧不已，但我斗胆纠正您一个错误，不是母子两条性命，而是母子三条性命。<br>县太爷：你说什么？<br>许仙：我是说母子三条性命，三姨太这次恐怕是花开并蒂，肚子里不是一个儿子，而是男女龙凤双胞胎。<br>县太爷：我娘子生男生女，你如何知道？<br>许仙：小民粗通医理，对于女子生产之事略知一二，听说三姨太的肚子尖圆不平，恐怕是男女双胞之像，上次误服道人的药，导致早产不假，但是过了一天一夜没有顺利生产，这就不是假药所为，是腹中双胞所致。<br>县太爷：拙荆命在垂危，你却在这儿满口胡言，让我如何信你，来啊，拖下去先打五十。<br>衙役：是。<br>许仙：大人，打我板子没什么，把时间耽误了，我就救不了你娘子性命了。<br>连翘：大人，你要错打人了，这事因我而起，药也是我劝许仙买下送进府里的，为什么要单单打他，这不公平。<br>县太爷：好，还你公平，拖下去，统统都打。<br>师爷：大人，打不得，大人，打不得呀。大人，许仙……<br>县太爷：什么？娘子要我……<br>师爷：不是，这堂上受刑之人……<br>县太爷：观音菩萨显灵？这个，先把人给我拉回来，这个板子不是不打，你与我同到后堂，为我娘子问诊，如果药到病除，那还罢了，如若不然，我就两罪并罚，定不轻饶。来，退堂。<br>~<br>师爷：老爷，老爷，老爷！<br>县太爷：你倒是快说呀。<br>师爷：生啦，生啦，果然是双胞胎兄妹，许，许大夫说得没错呀。<br>县太爷：观世音菩萨显灵了，阿弥陀佛，观世音菩萨显灵了。<br>连翘：这么说，不用挨板子啦？<br>师爷：不用啦，不用啦。<br>连翘：我们也不掉脑袋了？<br>师爷：不光不用掉脑袋挨板子，而且老爷还要亲自为你们宝芝堂题写匾额呢。<br>~<br>小青：怎么了，没有辫子，不习惯啊？姐姐，姐姐，你快来，姐姐，姐姐你快来看哪，这是怎么了？<br>白素贞：恭喜你啊小人参精，你的小辫子救了几条人命，现在功德圆满，你要成仙去了。<br>小人参精：太好了，成仙了，只可惜爷爷不能跟我同去。小青姐姐，我还有一件事，非求你不可。<br>小青：你是神仙了，哪还会有事情求到我？<br>小人参精：十天是我唯一的朋友，我们反目成仇，都是他师傅所为，我这一走，就再也见不到他了，青儿姐姐，你帮我去看看他好不好？就说，当日我说的都是气话，我们永远都是好朋友。<br>小青：放心吧，这个不难，青儿姐姐一定替你办得到的。<br>小人参精：白姐姐，那我就先走一步，在天上等你了。<br>小青：姐姐。<br>白素贞：你快去吧，不过万事小心，那金山寺是佛门重地，不到万不得已，不要惹事。还有，那法海如今在金山寺潜心修行佛法，功力了得，我们在半步多一战，害他瞎了眼睛，这笔账他也一并记在我们头上了。<br>~<br>法海：十天，十天，师傅喝粥便可，这个你拿去。<br>老住持：怎么？他还是不讲话？<br>法海：是啊。<br>老住持：也难怪，他还只是个孩子啊。<br>法海：是啊，可我何尝不把他当做是我自己的孩子呢？<br>老住持：你不该利用他，去拿那串佛珠。<br>法海：阿弥陀佛，大师怎么能说利用二字？我一向待徒儿如父，难道他为了佛做这么一点点事情，不应该吗？<br>老住持：小事？对你来说，是小事，可对一个孩子，让他失去唯一的朋友，可是天大的事啊，也难怪他不说话了。整天佛佛佛地挂在嘴边，你心里真的有佛吗？<br>法海：我……<br>老住持：跟你说话，还真是浪费口舌。<br>~<br>小青：这样不就好了吗？<br>十天：（我娘要是还活着，大概也就是这个样子吧？）<br>小青：怎么了？你看什么呢？来，给你的，拿着。怎么？你的朋友小人参精虽然被人采去了，但并没有被入药，而是救了三条命，不，是五条命，现在他功德圆满，成仙去了，而且在临走之前，还托我告诉你一句话，他说无论怎样你们是永远的好朋友，他不会忘了你的。你没事吧？这么大了还哭鼻子啊？这么小的孩子，就无父无母的，还要平白无故受那和尚的摆布，真是太可怜了。<br>~<br>小青：十天，来，你跟我来。老住持，我想带十天下山。<br>老住持：阿弥陀佛，施主这话，从何说起呀？<br>小青：这孩子我要定了，我要做十天的娘。<br>老住持：娘？<br>法海：不行！十天是佛赐给我的，你休想把他带走。<br>小青：哪个孩子不是爹生父母养，你凭什么霸着他不放呢？<br>法海：我教他佛理，助他开天眼，让他与众不同。<br>小青：教他佛理，你也要看他想不想听，助他开天眼你也要问他想不想看，你呀别费心机了，十天要的是娘，不是你这个无情无义的师傅。<br>法海：他当然要我这个师傅。<br>十天：他要我这个娘。<br>老住持：好了，何去何从，还是问十天自己吧。<br>法海：十天，你是要我这个师傅，还是要娘？十天，我在问你话呢。<br>小青：和尚，这个答案不是明摆着的吗？<br>法海：十天，玩耍的够了，随师傅回去。<br>老住持：法海，十天选了这位女施主。<br>小青：你看见了没有？你果然自不量力。你干什么？他分明选了我的，你……<br>老住持：算了女施主，没有用的。<br>小青：十天，你若有心，就杀了这个和尚，我做你娘，否则你势必被他利用，永困高墙。<br>~<br>法海：十天，是你吗？这两天也不知道怎么了，师傅这头发疯长，今天正好借你的刀子，给师傅剃剃头吧。过来啊。怎么？害怕了？过来吧。手艺不错，继续吧。吃饭了没有？<br>十天：吃了。<br>法海：早上洗脸了吗？<br>十天：洗了。<br>法海：啊，对了，昨天晚上你晒的衣服今天都收了吗？<br>十天：收了。<br>法海：十天，既然什么都做了，你还待在这儿干什么，还不下山去找你的娘。<br>十天：师傅！<br>法海：又听到你开口叫我师傅了，真好听。<br>十天：师傅，十天走了，以后记得要每日洗衣服，吃饭的时候不要只喝粥，还有，每日念经要有个时辰，不要忘了睡觉，师傅。<br>法海：十天，我们俩倒像是你是师傅我是徒弟了。<br>法海：师傅，你要保重啊。<br>法海：十天，临走前，可愿意陪师傅做一件事情吗？<br>十天：可以，师傅。<br>~<br>法海：阿弥陀佛，老精，我法海一念之差，坏了你百年修行，如今醒悟，却已自食其果，丢了我最宝贵的东西，这才明白，原来世间的修行也不过如此，但愿这番悔悟，为时不晚。老精，这受过佛荫的念珠就赠给你了，你借它之力，成仙去吧。<br>十天：师傅，你把这串念珠给了他，你怎么克服心魔啊？<br>法海：谁成佛不是成佛，你师傅法力高强，你就放心吧，这心魔奈何不了我，师傅若躲过此劫，必是另有一番天地。<br>十天：师傅。<br>法海：十天，师傅就只能送你到此了。<br>十天：师傅，你流泪了。<br>法海：师傅平生若只有一滴眼泪要流，便是为了你。<br>十天：师傅，在徒儿走之前，您再送我几句话吧。<br>法海：好好做人吧，做人有的时候大概比做佛更难吧。<br>十天：师傅。师傅！<br>~<br>小青：十天，走，你看外面多美啊。十天，怎么了？十天，怎么不走啊？<br>十天：我从来没有离开过金山寺半步。<br>小青：嗨，我还以为什么呢，没关系的，把这步迈出来就好了，你想想现在跟我一块儿下山，要吃有吃，要穿有穿，那日子，才是人过的日子呢。<br>十天：师傅说，我与众不同啊。<br>小青：那是你师傅骗人的，你是一个小孩子，能有什么特别，馋嘴，调皮捣蛋，跟邻居家的小孩打架，天底下哪个小孩会像你这般整天把斩妖除魔挂在嘴上的。<br>十天：那师傅怎么办？<br>小青：你管他做什么，十天你别忘了，他可是利用你差点害了你的好朋友小人参精啊，还不让你跟我下山去过好日子，你跟着他，只有受苦，走吧。十天，你就别犹豫了，你到底走还是不走啊？<br>十天：我不走了，你说得没错，我跟着师傅只会吃苦，可如果我走了，我的苦不是也要师傅去吃吗？不如留下，替师傅吃掉一半的苦，走了。<br>小青：十天，你回去可别后悔。<br>十天：决不后悔。<br>小青：十天，你不认我这个娘了？小心日后若是再碰到的话，大家势不两立，做了仇人。<br>十天：日后的事，日后再说吧，我现在要去给师傅做早饭了。<br>小青：臭小子，真是执迷不悟，跟你那个师傅一个样，做你的和尚吧，咱们从此就做仇人。<br>~<br>小七哥：怎么样？<br>连翘：我看应该，好像应该，往左一点。<br>小七哥：往左一点？<br>连翘：不不不，往右一点。<br>小七哥：往右点？<br>连翘：还是应该往左一点。<br>小七哥：我说姑娘，你这到底是往左还是往右啊？<br>连翘：反正不管怎么样都是再世华佗嘛。<br>钱掌柜：连翘。<br>连翘：你叫我？<br>钱掌柜：我说你们从县衙回来大半天了，这许仙上哪儿去了？<br>连翘：是啊，好一会儿没见到他了，吃饭没看见他，挂匾也没看见他，去哪儿了呢？<br>钱掌柜：你看看，这满屋子的人可都是冲着他来的。<br>连翘：啊？不会有这么多大肚子吧？<br>钱掌柜：多半是听说许仙料事如神，上这儿来看生男生女的。<br>连翘：那两个不是也要生孩子吧？<br>钱掌柜：那两个人不是，八成是给许仙来说媒的。<br>连翘：说媒？<br>钱掌柜：许仙现在可抢手得很，满钱塘县的姑娘都想嫁到咱们宝芝堂来呢，我看这倒是咱们宝芝堂招揽客人的好办法，可是这小子，他不当这再世华佗，他跑哪儿去了？<br>连翘：不用想也知道，这个时候他除了去那个地方，哪儿也不会去。<br>~<br>小青：烦死人了。死苍蝇，嗡嗡嗡，吵得人心烦，就像那和尚念经一样，还吵你，还吵？看你还吵不吵。<br>白素贞：怎么了？还在生气呀？<br>小青：当然生气了，那个法海可气，没想到收那个徒弟，更可气，气死了，气死我了，气死我了。<br>白素贞：有人来了。<br>小青：还能有谁呀？还不是那个纠缠不清的书呆子。<br>白素贞：可不止他一个呢。<br>小青：啊？<br>道士：蛇妖，今天我可算过了，我来收你们，正是黄道吉日。<br>许仙：怎么一股硫磺味？这不是欺世盗名的道士？难道怀恨在心上门报复？你这个骗子，好端端为什么在人家门口撒硫磺？<br>道士：公子，你说错了，这里不是人家，这是妖宅。<br>许仙：你说谁是妖？<br>道士：我跟你说，这白府里的一白一青那就是妖。<br>许仙：你再敢说一遍？<br>道士：这有什么不敢说的，你看，我把硫磺都带来了，就是为了让白府里的一白一青的蛇妖现出原形来。<br>许仙：你！<br>道士：你，你，你怎么打人啊？<br>许仙：打的就是你，你不单害了我，还来骚扰白姑娘，我打。<br>小青：姐姐，什么味儿？我头好晕。<br>白素贞：青儿。<br>白素贞：喘不上气了。<br>白素贞：青儿，你怎么了？<br>小青：姐姐，是硫磺。<br>白素贞：你顶住神，让姐姐出去来对付他。<br>道士：我的硫磺。<br>许仙：真是一场及时雨，道士，老天也看不过去了。<br>道士：我，我让你多管闲事。<br>许仙：你！白姑娘。他……<br>白素贞：真是不凑巧啊，好端端地，一场雨，把你的硫磺都冲走了，这里真的有蛇吗？还真是怕人啊。青儿。<br>小青：哎。<br>小青：去帮帮这位道士买些硫磺来，重新再撒一遍吧。<br>道士：妖孽，看来卦象有误，今日不是收你们两妖的日子，我，我另选吉日再来。<br>白素贞：青儿，还不赶紧去办正事。<br>小青：我说许公子，擦擦脸上血，不会打架，就不要学别人逞强嘛。<br>许仙：白姑娘，上次姑娘救我出狱，我是特地来感谢你的。<br>白素贞：既然谢过了，公子就请回，赶紧换身衣服吧。<br>许仙：白姑娘，我到底做错了什么让你这样对我。<br>白素贞：我对外人一贯如此，公子你倒不必太在意。<br>许仙：外人？这话是什么意思啊？<br>白素贞：外人，就是没有必要来往过密的人，比如说隔壁卖豆腐的小哥，对面那个剪刀铺的掌柜，还有卖梨的小孩，那都算是外人。<br>许仙：剪刀铺的掌柜的？卖梨的小孩儿？还有卖豆腐的小哥？难道我和他们一样吗？<br>白素贞：公子的意思是，我该把你当成何人呢？<br>许仙：几天前的清晨，我记得在城门口，有人亲口对我说过，她是我的娘子，我是她相公。<br>白素贞：那与我何干？<br>许仙：那个人就是你呀。<br>白素贞：我早跟公子说了，那不是我。<br>许仙：就是！<br>白素贞：就算是我，如今也忘了。<br>许仙：白姑娘，你不是这样的人。<br>白素贞：公子以为我应该是怎样的人啊？你自以为是，总以为天下的女人都爱你，我就偏偏不领你的情，如果我对公子有过什么承诺，那也是戏耍公子的玩笑话，老实说吧，我心里又有别人了。<br>许仙：白姑娘，如果你忘了我，你为什么将我送你的定情信物还挂在胸间呢？<br>白素贞：你是说这个呀，我还以为它是在哪个小摊子上捡来的便宜货呢，既然你这么在意它，不如拿了去吧。<br>连翘：傻小子，我就知道你在这儿呢，快回去吧，天要下雨了，药铺的人还等着你看病呢。你怎么了？定情之物，怎么碎成两半了？不就是块石头吗？碎了有什么了不起的呀，去找个不错的玉石店，跟他说一说，雕雕刻刻，修修补补的，再把两块做成一对啊，大不了，我去跟你做一回红娘，你一块，府上的人一块，玉佩成双，随身携带，还怕心不在一处吗？不是我说你，追女人嘛，脸皮哪能像你这么薄啊？追来追去才有意思啊。喂，我说的这些，你到底有没有听进去啊？<br>~<br>十天：师傅，你在这里站了半天了，干什么呢？你眼睛看不清，不如让我替你看吧。<br>法海：十天，我方才听到有雷雨声。<br>十天：不奇怪啊，下点雨，打点雷，很普通啊。<br>法海：那不是普通的雷雨声，那是有妖孽在用法行雨。<br>十天：谁的法术那么高可以施法行雨呢？<br>法海：从半步多客栈出来，在西湖边，我倒见识过一回。十天，拿上我的禅杖，我们下山去。<br>十天：是，师傅。<br>~<br>小青：怎么？想跑啊？<br>道士：妖，妖，妖！<br>路人：你神经病啊你！<br>小青：跑啊，再快点，快点嘛。快，再快点！<br>道士：妖，妖，妖！<br>船夫：去哪儿？<br>道士：给。<br>船夫：这，这是什么，我要银子！银子！<br>道士：有，有，快快快。<br>船夫：上船。<br>小青：我看你能跑到哪儿去。臭道士，你这也能叫跑啊？臭道士，你倒是快跑啊，都说了再给你最后一次机会，记得，记得跑得快点啊。都说这是最后一次机会，还不知道珍惜。快点，再快，快快快快快！干净利落，打道回府。十天，好久不见了，不知道这次见面，我们是朋友还是敌人。<br>十天：不是朋友，也不是敌人，你是妖。<br>小青：没想到几日不见，你说话倒跟那个瞎眼和尚一个腔调了。<br>十天：妖孽，你胡说什么。<br>小青：干嘛？他本来就是个瞎眼的嘛，不许人说啊？喂，对面那个瞎眼的，方才你必定看到我怎么制服道士了吧？有什么感想吗？怎么？怕了？你呀干脆下来，大家一起切磋一下，跟谁都打过，就数跟你过招最痛快，怎么样？哎哟，我倒给忘了，你现在可不比以前了，眼睛已经瞎了，那可怎么打呢？该不会你让你那小不点的徒弟替你出手吧？啊？瞎和尚。<br>十天：师傅，让我下去跟她打。<br>法海：收妖是师傅唯一的营生，怎么好让你抢了去？<br>十天：可是你的眼睛……<br>法海：你就是我的眼睛。<br>十天：船在你左边。师傅，向后七步。向南三步。师傅，向后五步。<br>小青：十天，十天，你枉费我小青对你这番好心。<br>法海：十天，她在哪儿？<br>十天：我也看不清楚，我看不清。<br>小青：瞎眼和尚，如果没有你徒弟的话，你便真正成了一个瞎眼的了，对不对呀，瞎眼和尚？<br>十天：师傅小心，她在那儿。<br>小青：十天！<br>十天：小青姐姐。师傅，这青蛇已经动弹不得了。<br>法海：青蛇，我今天就收了你，免得你再祸害人间。十天，你在犹豫什么？<br>十天：我，我只是不明白一件事。<br>法海：讲。<br>十天：师傅要收这条青蛇，因为她作乱人间，可是依徒儿看，青白二蛇来到人间，只是为了收集眼泪，并没做什么伤天害理的事情啊。再说，她刚才还救了徒儿的性命呢。<br>法海：她是妖，是妖早晚会祸害人间。怎么？你犹豫了是吗？<br>十天：我……<br>法海：回答我，十天，当日你为何不离开金山寺？不就是因为你选择了佛？<br>十天：师傅，别生气，我知错了，以后再也不问这样愚蠢的问题了。<br>~<br>白素贞：青儿，青儿有难了。白乙剑引青虹剑。<br>~<br>法海：妖孽，看钵！看你还不现出原形。快帮我看看，是什么妖孽袭击我？<br>十天：是两把宝剑，师傅，一把发着绿光，一把发着白光，现在它们正指着你的眉心。<br>法海：青虹剑，白乙剑，以为毁了我的金钵，我就没办法收你们了？十天，快来看看，来的是人还是妖？</p>
</blockquote>
<h3 id="第十三集"><a href="#第十三集" class="headerlink" title="第十三集"></a>第十三集</h3><blockquote>
<p>法海：十天，快来看看，来的是人还是妖？<br>十天：是两个官差。<br>法海：十天，我们走。<br>杜仲：伤得这么重，大家看看，这是谁干的？谁干的？<br>妇人：就是那个和尚。<br>~<br>白素贞：两位捕快大哥。<br>杜仲：白姑娘。<br>白素贞：这次麻烦你们送我妹妹回来，要不是你们，真不知道会有什么样的结果。<br>杜仲：这点小事情，本来就是我们兄弟份内的事，姑娘不必记在心上，倒是刚才那位小青姑娘，不知道现在如何了？可有大碍？<br>白素贞：有劳您费心了，方才我已经给她上了药，现在她已经睡下了。<br>杜仲：看姑娘的伤口，显然是那和尚想要了姑娘的性命，对一个弱女子下如此重手，此人真是罪大恶极，十恶不赦。姑娘为什么不报官，查个水落石出呢？<br>白素贞：我们不报官。是这样的，我们姐妹两个无依无靠住在这钱塘县，实在是不想招惹是非，现在事情已经发生了，没有伤到性命，我们已经阿弥陀佛了，又何必追根到底，没完没了呢？<br>杜仲：那这么说，我就不勉强姑娘了，只是你们毕竟是女人家，还是要多留心门户为好。这样吧，如果姑娘不嫌弃，杜仲愿意彻夜不睡帮姑娘看家护院。<br>白素贞：二位大哥的救命之恩，小女子已经不知如何报答了，如今二位又要替我们看家护院，又怎么担当得起呢？我看这样吧，万一再遇到什么麻烦，我一定去求助二位。<br>杜仲：那就一言为定，如果再有什么可疑的男人在门口走动，还请姑娘一定要派人到衙门口通报一声，我保证立刻赶到。天色不早了，我们先走了。<br>白素贞：那我就不留二位了，改日再谢。<br>杜仲：姑娘刚才好像说不知道该如何报答于我？<br>白素贞：啊？<br>~<br>玉器行掌柜：这桃花样子非常抢手，所谓桃花满枝头，必有佳人来相会呀，上回有位小哥对一位姑娘一见钟情，就是选了这个样子，才赢得了美人的芳心。<br>连翘：样子是不错，就是轻浮了一些，这个呢，这是什么意思啊？<br>玉器行掌柜：姑娘好眼力，这个有龙有凤的，是龙凤呈祥，这百合是取百年好合之意，上一次有一位娘子选了这个样子，准备送给她的相公，不瞒你说啊，他那个相公的心啊，早已另有所属，准备休了她，另娶他人了。<br>连翘：那后来呢？<br>玉器行掌柜：后来当然是思念旧情，做相公的回心转意，两个人和好如初了呗。<br>连翘：就是这个了，我要的就是您这句吉祥话，回心转意好，思念旧情好，和好如初还更好，总之，他们能好，就全都好了。<br>许仙：不好，什么都不好。<br>连翘：你怎么了？什么好不好的。<br>杜仲：姑娘可喜欢这块？<br>白素贞：你看，这块就不错，我看它的质地好，样子也好，我很喜欢。<br>杜仲：我看小了，不如这块，戴在身上，才够气派嘛，对吧？<br>白素贞：其实玉的大小并不重要，重要的在你的一份心意啊。<br>连翘：原来她也会对人笑，还笑得那么美，那么温柔，那么大方。<br>许仙：他是谁？<br>玉器行掌柜：公子不认识他吗？他可是衙门里有名的捕快呀，人长得精神，人品也是一等一的好，不知有多少媒婆把他家的门坎都踏破了，怪不得他哪家姑娘也没相中，原来心中早就有了这么一个标致美人啊。你们看，他俩是不是天造地设的一双啊？<br>许仙：怪不得，这样看来，就都合情合理了。什么样子的都不要了，本来说嘛，碎成两半的玉佩，又怎能恢复原样呢？送给你吧。<br>连翘：掌柜的，他给你开玩笑哪，虽然碎了，补一补，还可以派得上用场嘛，不送这个，还可以送那个呀，刚才那个样子我喜欢，给我留着啊。<br>玉器行掌柜：许夫人，许夫人，这雕补玉饰的银子还没给呢。<br>连翘：我今天没带银子，改天你到宝芝堂我一定给你啊。许夫人？我是许夫人？<br>~<br>杜仲：真不知道该怎么感谢姑娘，要换做是我呀，我怎么也想不到要买这块玉佩给我娘做寿辰贺礼的。<br>白素贞：这点小忙算什么，杜大哥对我妹妹的救命之恩，才真是该谢呢。<br>杜仲：对了，提起小青姑娘，我倒知道有个好方子，或许能医她的伤。<br>白素贞：真的？那我先替青儿谢谢你了。<br>~<br>道士：白素贞，你的底细我都查清楚了，想得道成仙？没那么容易，你吃了忘情丹，想要皈依三宝，我就偏偏要你泥足深陷，抛不开这红尘俗世。<br>~<br>连翘：喂，你去哪儿啊？喂！<br>许仙：我饿了，我要吃面。<br>连翘：好啊，肚子饿好，肚子饿就说明你还有救。<br>~<br>小二：姑娘，这许公子这口面吃了也有一个多时辰了，我们大家看着都着急啊，要不你劝劝他，让他把这口吃下去吧。<br>食客：吃啊，赶紧吃啊，赶紧吃啊。<br>许仙：我吃饱了，我要回去抓药。<br>连翘：抓药好，抓药就有精神寄托了。小二，面钱跟我到宝芝堂去要。<br>~<br>小七哥：掌柜的，你看他，包包拆拆的，百八十回了。<br>钱掌柜：过去跟他说说，药铺里有好多活要干呢。<br>连翘：你怎么这么狠心啊？傻小子那么可怜，他想干什么你就让他干嘛。<br>许仙：药我已经包好了，我现在晾衣服去了。<br>连翘：晾衣服也好，去去霉气嘛。<br>~<br>连翘：傻小子，好了好了，衣服晾完了吗？晾完了，咱们回屋里去好吗？<br>许仙：我要看星星。<br>连翘：看星星？下这么大的雨，哪有什么星星啊？好吧，看星星也好，看完了星星看太阳，看到了太阳，太阳一出来，天下就太平了。<br>钱掌柜：现在的年轻人啊，下着雨看星星？<br>~<br>小青：姐姐，姐姐快来救我。姐姐。<br>白素贞：青儿。<br>小青：姐姐。<br>白素贞：青儿，怎么了？<br>小青：姐姐，是那个和尚，那个和尚现在就在门外，我听见他的木鱼声了。<br>白素贞：和尚？没有啊，你一定又做恶梦了。<br>小青：没有，真的没有吗？可是我刚刚明明眼见，见他举起那个金钵，正念念有词要收我呢。<br>白素贞：不要怕，都是我不好，不该让你一个人去追那个臭道士，都怪姐姐让你受苦了。<br>小青：不是的，不能怪你，这怎么能怪姐姐呢？要怪，也要怪那法海，他从半步多一直追到这里，眼睛都追瞎了，可还是不肯放过我们，如今看来，他的法力却好像又高了几成，再加上十天的鼎力相助，就算我上天入地，可还是逃不过他的一双天眼，无法遁形啊。还好，还好姐姐抛出那白乙剑，引出我的青虹剑前来救我，要不，要不我真的要被那个和尚收进钵里，永世不得超生了。<br>白素贞：这个和尚实在太可恶了，竟用一个无父无母的孩子来对付我们。<br>小青：姐姐，你不用担心，这次小青受伤，根本就是我的大意，和尚，乘人之危，我决饶不了你。<br>~<br>小七哥：连翘姑娘。<br>连翘：这是干嘛呀？<br>小七哥：我去拿梯子呀，把这挂上去。<br>连翘：不用，拿来给我。<br>~<br>杜仲：驾！<br>围观：好功夫！<br>杜仲：好功夫！姑娘，我是路过的，不知道哪里得罪了你。<br>连翘：不是你，是你的马，我们正经大药铺，开门做生意的，你看看你的马，干的什么好事！<br>杜仲：原来是这样，姑娘见谅，都是我管教不周。<br>连翘：等等，我们是不是在哪儿见过？是你？<br>~<br>连翘：有什么话快点说，我忙得很。<br>道士：姑娘，我这次来是想叫你跟我去见一个人。<br>连翘：你这个骗子，上次把我和傻小子害得还不够惨吗？又编什么谎话来哄我，对不起，我可没你想得那么笨，茶我没喝，银子你付。<br>道士：难道姑娘就不想成就许公子和白姑娘的一桩好事吗？<br>连翘：你怎么知道？<br>道士：我是修道之人，算卦问卜是我糊口的本事，姑娘你难道就不想知道那白姑娘为何出尔反尔，明明答应做许公子的娘子，为何第二天又矢口否认了？<br>连翘：我当然知道了，是她看上别人了。<br>道士：不，是她吃了忘情丹。<br>连翘：忘情丹？忘情丹是什么东西呀？<br>道干：这忘情丹是我朝头等禁用的一道神药，凡食此药之人，便可斩断一切情丝，皈依三宝。<br>连翘：那好好的，白素贞为什么要服用这种禁药呢？难道她也想修炼得道，去做神仙？<br>道士：此乃天机不可泄露，我就不便和姑娘多讲了。<br>连翘：我为什么要相信你？就算你说的都是真的，又关我什么事啊？他们愿意在一起也罢，不愿在一起也罢，那是他们的事，我这个旁人又能做什么呢？<br>连翘：姑娘，当然有事可做，我有一套醒世棍法，专打那些吃了忘情丹，忘情绝义之人，你若学会了这套棍法，将那白素贞打醒，想起她的心上人就是你的朋友许仙，那不就成就了一桩美事了吗？<br>连翘：我又不是月老，成就他们做什么？<br>~<br>小贩：糖葫芦，糖葫芦。<br>骑马壮汉：吁，吁，吁，拽住它！<br>连翘：许仙，快闪开！许仙！<br>许仙：谢谢姑娘，谢谢。<br>连翘：站住！<br>许仙：连翘啊。<br>连翘：你不想活了是不是？<br>许仙：我，我只是在想一些事情。<br>连翘：想事情？想她才是真的吧？我们两个刚才差点没命你知不知道？天底下的事，命最大，你知道吗？我真想一棍子把你打醒。算了，与其打醒你，不如打醒她。你等着吧，我一定帮你把她找回来。<br>~<br>连翘：这棍子灵不灵？能学你的醒世棍法吗？<br>~<br>道士：你看清楚了，我这套棍法呢只教一遍，到底能学几招呢，就看你的造化了。<br>~许仙：明白了，喜欢一个人，大概是希望她好，她好了，我便好了，只要他们情投意合。傻丫头说的没错，我该醒醒了。糟了，刚才傻丫头拿着棍子说要去找白姑娘，莫不是……，小七哥，有没有看到连翘姑娘？<br>小七哥：没有。<br>许仙：掌柜的，连翘姑娘回来过么？<br>钱掌柜：一下午没看见这姑娘，谁知道她上哪儿了。<br>~<br>连翘：白素贞，你出来，白素贞你出来！<br>白素贞：姑娘，找我有事吗？<br>~<br>许仙：这位捕快大哥，请喝茶，捕快大哥，今天来宝芝堂，可是为了……<br>杜仲：对，是为了……<br>许仙：这么看来，我全明白了。<br>杜仲：你都明白？<br>许仙：捕快大哥大可不必担心，虽然我比你认识她更早一些，但是恐怕，她的心里的的确确只有你一个人。<br>杜仲：你说什么？她心里有我？<br>许仙：她的一颦一笑，一举手一投足，一个眼神，都深深地铭记在我的心里，她对你的一片用心，难道你就看不出来吗？尤其这两日她对我的态度，就算再糊涂的人，也该明白了，我可真傻，她三番五次地拒绝我，我还以为她是在试探我的用心，没想到，她真的另有所爱。<br>杜仲：听公子这么说，我怎么越来越糊涂了呢？明白了，原来啊，你也喜欢她。我就说嘛，像连翘这么有个性的姑娘，一定会有很多男人为她倾心的。<br>许仙：等等，你说谁？<br>杜仲：当然是我们共同的心上人，连翘姑娘啊，我今天早上从这里路过，当时我看见她在挂招牌，她那轻功真是了得，就连我这样一个七尺男儿，也不由得心生仰慕之情，不光是这样，后来又被她粗声粗气地给骂了一顿，还真是爽啊，从小到大，除了我娘，还没有被第二个女人这么痛快地骂过我，你说，这么有个性的姑娘，我是不是应该……公子，怎么了？这样看着我，好像我是你的仇人似的。<br>~<br>白素贞：这位姑娘，既然有事找我，不如到府上坐一坐，喝杯热茶，慢慢地说吧。<br>连翘：不必了，在这里说就好。<br>白素贞：那这样的话，我就洗耳恭听了。<br>连翘：我问你，你为什么要三番五次戏耍我的朋友？<br>白素贞：你朋友？<br>连翘：宝芝堂的许仙，你敢说你不认识他？<br>白素贞：原来是他呀，没错，我是认识他，不过，也才认识了两三天而已，要不是他三番四次地纠缠于我，我也不会对他冷言冷语了。<br>连翘：他根本就没有纠缠你，许仙是个再老实不过的人，我相信他，他说你答应做他的娘子，你就一定答应过他，为什么要出尔反尔？<br>白素贞：无论身世和地位，家财还是谈吐作派，我们哪一点能配成一对夫妻呢？<br>连翘：可是我就是相信他，他是不会骗我的，更何况，你根本就是吃了忘情丹。<br>白素贞：你说什么？忘情丹？是谁告诉你的？<br>连翘：别管是谁告诉我的，反正今天我来，就是专门替你解开这药的药力，让你记起许仙的。白素贞，等着接棍吧。<br>白素贞：醒世棍！谁教你的？是谁叫你来的？<br>连翘：没人叫我来，是我自己来的，白素贞，有本事就跟我过上几招。<br>白素贞：好，若姑娘当真想与我比划，不如换个地方吧。<br>连翘：好啊。<br>~<br>杜仲：公子，你到底是怎么了？<br>许仙：无耻！<br>杜仲：无耻？你在说什么？你到底要说什么？<br>许仙：你不但是个无耻之徒，你还是个衣冠禽兽，她那么好，那么善良，那么温柔，那么贤惠，你居然说出这么恶心的话，你个贱人！我要替白姑娘好好教训教训你。<br>杜仲：你凭什么骂我？我怎么成衣冠禽兽了？这跟白姑娘有什么关系？<br>许仙：你竟敢背叛白姑娘，我决饶不了你，我就是赔上我这条命也要杀了你。<br>杜仲：住手，住手，你给我住手，你别过来啊，你要是再过来的话，我可对你不客气了啊。<br>~<br>白素贞：姑娘，你虽是练武之人，但远不是我的对手。<br>连翘：是吗？那就接招吧。<br>白素贞：姑娘得罪了，我不和你计较，你赶紧走吧。<br>连翘：我是不会放弃的，我一定要帮那傻小子找回原来的你，傻小子是我最好的朋友，当日我被人负，是他安慰我，如今你负他，我是不能袖手旁观的，再说，你为什么要那么心狠，非要吃忘情丹，他有什么不好？他人那么善良又那么喜欢你，他哪一点配不上你？<br>白素贞：我和他好，还是和他不好，与你有何相干？他若真这么好，不如你嫁给他呀。<br>连翘：你说什么？好，我今天非要把你打醒不可。<br>白素贞：这套棍法，居心叵测，如果姑娘是被人利用误学了它，趁早把它忘了，今天挨这几下权当是个教训，如果不是，那就别怪我不客气，到时候，恐怕是自食其果。<br>~<br>钱掌柜：你们这些年轻人，打架也不分个场合，也不看看对手，人家是衙门里的铁拳捕快，鼻梁没打断，就万幸了。<br>小七哥：掌柜的，掌柜的快来看看吧，您快看看吧。<br>钱掌柜：这又是怎么回事啊？<br>小七哥：你看。<br>钱掌柜：我说什么来着，打架，也得看看场合分分对手啊，我说，你们以为我这药铺里给你们上药就不要银子了是不是？我看看，哎哟，这怎么这么大一个包啊？这，这还一个，你一个姑娘家你说，这打得什么架啊？我说小七，赶紧去把我那磨成粉的创伤药拿来。<br>小七哥：好好。<br>钱掌柜：快去。<br>小七哥：这，给您。<br>~<br>许仙：这世上怎么会有忘情丹呢？<br>连翘：这世上怎么会有醒世棍呢？<br>许仙：你叹的什么气，傻丫头。<br>连翘：那你又叹的什么气呢，傻小子。<br>许仙：我叹气，是因为有一个人把什么都给忘了。<br>连翘：我叹气，是因为早就忘了的事，现在又想起来了。<br>许仙：你想起什么了？<br>连翘：我爹。<br>许仙：你爹？以前从来没听你提起过。<br>连翘：我会把他想到最坏，早在很久以前我就已经把他给忘了，我只记得，他是一个抛弃我和娘的人，是我这辈子见过的最坏的最不负责任的男人，可是我今天，却挨了三下醒世棍，最先想到的，却是他。<br>许仙：你想到他什么？<br>连翘：我想到，他也当过爹，也是一个会疼丫头的爹。<br>~<br>丫头：爹，你在干什么呢？<br>八两：哎呀，我看谁来了，我的臭丫头来了。爹在干什么呀，爹在给我的臭丫头做个好玩意儿。<br>丫头：这是什么呀，这是什么奇怪的玩意儿这是？<br>八两：这怎么是奇怪的玩意儿呢？这个，这个叫箫啊。<br>丫头：箫？箫是用来干什么的？<br>八两：只要你用心去吹，就能吹出好听的曲子。<br>丫头：好听的曲子吹给谁听呢？<br>八两：吹给心爱的人听啊。<br>~<br>丫头：爹，我抓不到。爹，捕蛇太难了，傻丫头再也不想学了。<br>八两：胡说，你不学捕蛇，怎么养活自己？怎么养你娘啊？<br>丫头：有爹在，我和娘都不会饿着的。<br>八两：要是有一天，爹要不在了呢？<br>丫头：爹为什么会不在？爹要去哪儿？你要去哪儿啊，爹，爹。<br>~丫头：爹！爹！爹！爹！我就知道你不会抛下傻丫头和娘的。<br>八两：傻丫头，爹要走了。<br>丫头：你要去哪儿呀？<br>八两：去找我的师傅。<br>丫头：爹没有师傅。<br>八两：爹有师傅，在认识你娘以前，爹就有师傅，爹已经答应师傅了，一旦你长大了，能照顾你娘了，爹就要回去，闯江湖，惩恶扬善。<br>丫头：惩恶扬善？爹留在家里就不能惩恶扬善了吗？<br>八两：傻丫头，你还小，有些事你并不懂，但是你信爹，爹是去做好人，去办一番轰轰烈烈的大事。<br>丫头：做好人，办大事，你就一定要丢下我和娘吗？<br>八两：丫头，回家去。<br>丫头：不，我不回去。<br>八两：丫头，我让你回家去。<br>丫头：你要是走了，你就不是我爹！<br>八两：好，从现在开始，你往东，爹往西，一直往前走，永远不要再见面了。<br>丫头：好，反正我也可以捕蛇养活我娘，我听够了你罗嗦了，你长得又丑，嗓门又大，吃饭又多，我们现在就在这儿分开，我往东，你往西，我们永远都不见面了。你走啊，走啊，走啊。<br>八两：好，丫头，记住爹的话呀，要学吹那箫，万一有一天爹再看见你。<br>丫头：谁要你的破箫。<br>~<br>许仙：这么说，从那以后，你们就再也没有见过面。<br>连翘：我往东，他往西，选这条路，只会越走越远，怎么可能再见呢？<br>许仙：也许他会反悔，也许他会翻回头来找你。<br>连翘：要找早就找了，再说这么多年没有见面，就算碰到了，彼此也不认识，这些事情一想起来就心烦，我只当没有他这个人，慢慢的，就真的把他给忘了。开始只是忘了他的样子，后来忘了他的脾气，再后来连他姓自名谁都不记得了，可谁知道偏偏就有这么一套醒世棍法，让我把最不想记起的事情全都记了起来，我真不知道是不是老天在折磨我。<br>许仙：想忘记一个人，到底是因为太恨他，还是因为太爱他。<br>连翘：是说我，还是在说她？这么晚了，会是谁呢？是你？你怎么会来了？<br>小青：怎么不会呀？我姐姐可是天底下一等一的大善人呐，就算人家拿藤条来打她，她都不会计较，这次还特地让我送过来一瓶治棍伤的药酒。还有你啊，你，手无缚鸡之力的，干嘛还学人家打架啊？这次可好了，被人修理成这个样子，我这里还有一颗调筋顺骨丸，是姐姐特别吩咐给你带的，赶快吃吧。<br>许仙：小青姑娘，留步。<br>小青：你怎么了？<br>连翘：他从来都没打过架，现在腿还软着呢。再说我们这样做，还不都是为了你姐姐。<br>许仙：小青姑娘，我已经知道了事情的真相，还麻烦你告诉我，这到底为什么呀？<br>小青：什么真相啊？<br>连翘：就是你姐姐吃忘情丹的事儿啊，有什么大不了的，非要忘情绝义不可。<br>小青：还不都是为了……，这是姐姐的秘密，她不让我跟别人说的，总之啊，做不到忘情绝义的话，就会坏了我们的大事。<br>许仙：小青姑娘，虽然这么说，可是我……<br>小青：哎，哎，我可不要再听你说什么了，只要你一张嘴我浑身都哆嗦，什么情啊意的，唠唠叨叨，听也听不懂。哎呀，我怎么一看见你们两个，气就不打一处来，反倒把正经事给忘了，我姐姐让我来这儿，除了把治伤的药给你们带来以外，还让我给二位带句话，明天晌午，我姐姐在万香楼摆下酒席，请你们两位过去一叙。<br>许仙：白姑娘请我？<br>连翘：还有我？<br>小青：是啊，所以呀麻烦你们二位，明天请准时出席，我们姐妹二人可不习惯等人的。<br>~<br>连翘：万香楼，好气派啊，在这里吃喝，一定要花不少银子的。你哭丧着脸干什么，又不用你来付账。<br>许仙：我只是不知道，白姑娘叫我们来，到底要说些什么。<br>连翘：你管他呢，反正先大吃一顿再说，走。是你！你竟然敢出现在这儿，我告诉你，你以为我朋友好欺负啊，只要有我在，你休想动他一根手指头。<br>杜仲：我不是来这儿打架的。<br>连翘：那你是来干什么的？<br>杜仲：我是受白姑娘之邀，来这儿吃饭喝酒的。<br>许仙：你也是受白姑娘之邀的？<br>杜仲：是啊。噢，难道你们是白姑娘说的另两位伤得很重的朋友？<br>连翘：伤得很重的朋友？你说谁伤得很重？你敢！<br>小二：客官，里边，里边请。<br>~<br>白素贞：青儿，你去点菜吧。麻烦三位，今天都如约而来，白素贞感激不尽，我想我们四个人之间可能有一点小误会，而且我欠大家一个交代。<br>~<br>白素贞：事情就是这样的。<br>杜仲：许兄，连翘姑娘。<br>连翘：这么说，你和他是一点关系也没有了？<br>白素贞：要说一点关系都没有，那也不是真话，要不是杜大哥的帮忙，我妹妹恐怕有性命之忧了，所以这么说来，他还是我们姐妹俩的大恩人呢。<br>杜仲：白姑娘这么说，我可真是不敢当，助人为乐乃义不容辞之事，又何必放在心上呢？倒是让许公子白白的误会了一场，许公子，昨天多有得罪了。<br>许仙：原来是这样，我真是不该，杜大哥，都是我不好，胡乱猜疑，还对你动手，实在是……<br>杜仲：许公子误会我倒无所谓，如果是连翘姑娘误会我，我就算有一千张嘴，也说不清了。<br>连翘：这关我什么事，我为什么要误会你？再说，你怎么知道我叫连翘的？<br>杜仲：我……<br>许仙：连翘。<br>连翘：说啊，你怎么知道我名字的？啊？你打听我？<br>杜仲：我，我，我……<br>连翘：我我我，我什么我，你知道我名字了，我还不知道你名字呢，还不快报上名来，要不然我可不能饶你。<br>杜仲：我叫杜仲，是衙门里的捕快。<br>连翘：杜仲？你叫杜仲？<br>连翘：怎么？有什么不妥吗？<br>连翘：真是怪了，谁会和我一样取个药名呢？只有我那个傻头傻脑的表哥，只可惜只见了一面，就被我打破了头。<br>杜仲：你……<br>连翘：你是表哥？<br>杜仲：你是表妹？<br>连翘：可是，你小时候头很大的，怎么现在……<br>杜仲：表妹，你以前长得很难看的，怎么现在……<br>连翘：身手不错呀，要不要出去比划比划？<br>杜仲：好啊，走。<br>连翘：走，等着我啊。<br>许仙：你，<br>白素贞：许公子，让他们去吧，他们表兄妹见面，一定有很多话要讲，再说，我也有几句话，要跟公子说。</p>
</blockquote>
<h3 id="第十四集"><a href="#第十四集" class="headerlink" title="第十四集"></a>第十四集</h3><blockquote>
<p>白素贞：我也有几句话，要跟公子说。<br>白素贞：许公子，这第一杯酒，我敬你对我的一片诚心。这第二杯，我再敬你，敬你被我一而再再而三地拒绝，却依然痴心不改。这第三杯，我还要敬你，敬你明明知道我吃了忘情丹，狠心地把你忘记，还能赴约而来，没有丝毫地记恨。<br>许仙：姑娘。<br>白素贞：公子？<br>许仙：毕竟是女人家，酒喝多了会伤身子。<br>白素贞：公子，你不怪我？<br>许仙：姑娘这么做，一定有迫不得已的理由，我又怎么会怪姑娘呢？<br>白素贞：可是我辜负了你的一片痴情。<br>许仙：所谓痴情，就是痴人的爱情，痴人是不怕被辜负的。<br>白素贞：哪有人说自己是痴人的呢？<br>许仙：所以我才说自己是痴人啊。<br>白素贞：公子，你可知道，你让我有多为难。<br>许仙：既然为难，就是有情，既然有情，又为何忘情呢？<br>白素贞：我……，我有我的苦衷。<br>许仙：难道姑娘已经婚配他人？难道姑娘身患疾病，不得婚配？难道姑娘肩负深仇大恨？<br>白素贞：公子别乱猜了，你能想到的，都不是真正的原因。<br>许仙：那这到底为什么呢？<br>白素贞：我无法告诉你，但是总有一天，你会明白的。<br>许仙：我不明白，我的一片心，姑娘你就不明白吗？<br>白素贞：我明白，但这不是我想要的。<br>许仙：到底想要什么？难道天地间还有比情更可贵的东西吗？<br>白素贞：好吧，我今天索性让你死了这份心，我不相信情这个东西，我曾经问你，爱情是什么，你说是西湖的水，所谓水流不止，今天水流到这儿，明天水就流到那儿，就像公子今天喜欢我，也许明天又不知道去爱谁，我为什么要相信你？<br>许仙：姑娘这么说，简直屈死许仙，你心里明明知道，我爱你。<br>白素贞：那我问你，你有多爱我？<br>许仙：爱到不能再爱。<br>白素贞：那是有多爱？<br>许仙：爱到可以为你死。<br>白素贞：是吗？那公子就为我而死吧。听说钱塘外北山上，有一处试情崖，那试情崖离地万丈，如果从那跳下去，必死无疑，但所谓试情崖，只要每日午时三刻用情至深之人从那里跳下去，不但不会死，还会毫发无损，如果公子真的爱我，不如为我而跳下那试情崖，一试你的深情。<br>许仙：姑娘以为我会拒绝吗？那姑娘便当真不知道痴人为何是痴人了，我约姑娘明日午时三刻在崖上等我，我情愿为姑娘跳崖。<br>白素贞：好，一言为定。<br>许仙：好。<br>白素贞：那好。<br>许仙：好。<br>小青：许仙，你去哪儿啊？这菜还没动呢。姐姐。<br>白素贞：青儿，你快告诉我，我一心想着成仙，我一定能成仙的。<br>小青：姐姐，好端端地为什么突然问起这个来了？<br>白素贞：我要你快告诉我。<br>小青：当然了姐姐，你放心吧，你一定能够成仙的，真的。<br>白素贞：那就好，我一定能成仙的，我一定能。<br>~<br>连翘：什么？你说你要跳试情崖？你疯了？<br>许仙：我没疯，我已经决定了。<br>连翘：你还有什么心思捣什么药，我问你，白素贞让你死你就死，她到底是你什么人啊？我问你她到底是你什么人。<br>许仙：她是我喜欢的人，别说是让我为她死了，就是让我为她魂飞魄散，永不超生，只要能每天在她身边，看着她说话，吃饭，展颜一笑，还有刺绣，我就心满意足了。<br>连翘：说你傻你还真傻得离谱，你死了，正称了她的心了，你想清楚，她要是真的喜欢你，就算你跌了跟头擦破点皮，她都会心疼半天呢，她要是不喜欢你，就算你为她死，为她跳试情崖，她还是一样不喜欢你。哎呀，你听没听我说呀。<br>许仙：我这个人，一生胆小怕事，窝窝囊囊，没做过一件令人佩服的事情，可是今天在我喜欢的人面前，我突然明白了一件事，我虽然胆小，但我决不怕死，我只是要做一件很普通的事情，就是向她证明我的心。<br>连翘：你的心你的心，你就知道你的心，那别人的心呢，我的……<br>许仙：你说什么？<br>连翘：反正证明一个人的心有很多种办法啊，比如说送花啊，送荷包啊，淋雨的时候守在她家门口不走啊，她生病了，就为她买药，守在她身边啊，要是你为我做其中任何一件事情，我一定热泪盈眶，毫不犹豫地嫁给你，你又何苦非要搭上性命呢。<br>许仙：可惜，你不是她。<br>连翘：傻小子，我绝对不会让你犯傻的。<br>~<br>连翘：开门！白素贞。白素贞，你这个胆小鬼，快开门！<br>小青：喂，你到底要干什么？在外面吵个没完没了的。<br>连翘：把白素贞叫出来，我有话要问她。<br>小青：你以为你是谁啊？你想见我姐姐，我姐姐就会出来见你？<br>连翘：把门打开让我进去，我要问问那个狠心的女人，为什么要让许仙去跳试情崖？<br>小青：我就是不给你开门，我告诉你，许仙他自己要跳试情崖，关我姐姐什么事呀？放手，我要关门。<br>连翘：我偏不，我偏要进去。<br>小青：我再告诉你，你别费事了，我姐姐是不会见你的，你与其在这里浪费时间，还不如想办法去拦住许仙呢。对了，以后若再无理取闹的话，可要小心我把你告到官府去，关你个三五十天的，看你还能怎样，哼！<br>连翘：狠心的女人，想把我们关进牢里。牢里？<br>~<br>衙役：好！<br>杜仲：拿着。<br>小三：大哥，大哥，你的喜头来了啊。<br>杜仲：蹲了三天深山老林了，也没抓到那个毛贼，哪儿来的什么喜头啊。<br>小三：哎哟，不是那个喜头，是那个喜头啊。怎么样大哥，是你的喜头吧？<br>杜仲：小三，你看我的衣服整不整齐啊？<br>小三：大哥现在是又英俊又神武。<br>杜仲：那头发呢？会不会显得很凌乱？是不是有点老气？<br>小三：不会，大哥的头发又服贴又有型。<br>杜仲：那，有没有口臭啊？有没有酒汗味？<br>小三：哎哟，没有没有，大哥，你要是再不去的话，一会儿人该走了。<br>连翘：喂！<br>杜仲：那我走了啊，走了。连妹，你怎么来了？<br>连翘：表哥，你一定要帮我。<br>杜仲：当然，我一定会帮你，说吧。<br>连翘：这是你说的。那好，你替我把许仙抓起来，关进大牢。<br>杜仲：把许仙关进大牢？<br>连翘：嗯。<br>杜仲：怎么？他欺负你了？难道他强迫你……<br>连翘：哎呀，不是不是，你想哪儿去了，那个许仙为了向白素贞证明自己有多钟情于她，决定明天午日三刻去试情崖一死明志。<br>杜仲：一死明志？难道许公子真会这么做？<br>连翘：是啊是啊，那个傻小子真的要为那个狠心的女人去死，所以我才来求你，好歹把他抓进大牢，关他三五十天的，我也好跟他说清楚啊。<br>杜仲：我看，这件事情没那么简单，那白姑娘人又和善又亲切，怎么会是这种狠心的女人呢？她一定是用试情崖来试探许仙，等许公子欣然前往，她已经在那里等着了，像许公子这种至情至信之人，一定会逢凶化吉，大难不死的。<br>连翘：我说杜仲，那个傻小子昏头也就罢了，你怎么也跟着变傻了，那试情崖能试情的事情根本就是道听途说，一旦跳下去必死无疑，不行，你现在就跟我去抓人。<br>杜仲：连翘姑娘，你听我说，我要去抓人，总得有个理由吧，这县衙大牢也不是想进就进，想出就出的啊。<br>连翘：那你就随便编个理由啊，你就说他卖假药害人性命，要么你就说他调戏良家妇女。<br>杜仲：啊？<br>连翘：再不，你就说他长得太难看了，有损风化。总之，你是捕快，找个理由还不简单吗？<br>杜仲：这，这不冤枉人吗？<br>小三：大哥，快走吧，万香楼又有人白吃白喝了，县太爷说了，让咱们给抓回来，关他个三五十天再说。<br>杜仲：是吗？那我们马上走。<br>连翘：你不帮我了？<br>杜仲：这件事我们再商量商量，不如晚上我请你吃饭啊，连妹。<br>连翘：还吃什么饭啊，人都快死了。吃饭？<br>~<br>连翘：傻小子，你在写什么呢？<br>许仙：连翘，你来得正好，我这里有一封信，还麻烦你帮我转交给我姐姐。<br>连翘：没问题，反正苏州离这里也不过一天的路程，等过些日子铺子里不忙的时候，我跟掌柜的说一声，也就去了。你看我干嘛呀？我脸上有脏东西吗？<br>许仙：不是，我只是觉得你好像变了个人，没关系，我还是要感谢你支持我做这件事。<br>连翘：哎呀，我们是朋友嘛，你的事我一定会帮忙的，所以今天我还想请你大吃一顿呢。<br>许仙：大吃一顿？<br>连翘：对啊，而且还是要去我们钱塘县最有名的万香楼，赶紧换上你最好的衣服啊。<br>许仙：可是，<br>连翘：可是什么啊可是，像我这么小气的人都请你吃饭，这可是天上掉下来的大好事呢，快换衣服去呀。<br>~<br>许仙：傻丫头，这儿应该不便宜吧？<br>连翘：喂，你什么意思啊，看不起我？<br>许仙：你明知道我不是这个意思，我是说你赚点银子也不容易嘛。<br>连翘：小二！<br>小二：二位，吃点什么呀？<br>许仙：一碗阳春面。<br>小二：阳春面？<br>连翘：到这儿来吃什么阳春面啊，小二，这有什么特色菜啊？<br>小二：咱这儿有那个万香全席，就是二位吃起来多了些，浪费。<br>连翘：浪费？你未免太狗眼看人低了吧？你知道他是谁吗？他是我最好的朋友，知道他明天要干什么吗？他要去跳试情崖，就凭这个应不应该好好吃一顿啊？<br>小二：应该应该，小的去准备。<br>许仙：傻丫头，差不多就行了，其实我不是很饿。<br>连翘：那怎么能行啊？你明天有那么大的事情要办，我自然得让你吃饱了。怎么样？吃饱了吗？<br>许仙：傻丫头，你钱带够了吗？<br>连翘：没有啊。<br>许仙：啊？<br>连翘：没关系，我常来这里吃喝的，可以赊账。那吃好了我们就走吧。<br>许仙：哎，哎，傻丫头，我们好像没结账。<br>连翘：没事。<br>~<br>杜仲：关进去。<br>小三：是。<br>许仙：你们不能把我关起来，我明天还有很重要的事情要做。<br>杜仲：对不起许公子，我也爱莫能助，可是你们实在也是白吃了人家太多东西了，你们还是安心地在这儿待上几天吧，我已经派人回家去筹银子，等把银子付了，再跟万香楼的掌柜说一声，我想不用上堂问话，你们就可以平安地出去了。<br>连翘：我跟你说啊，最好少管闲事，就算你真的把银子送了去，也等我把他说通了，彻底打消了跳崖的念头再说，你要是敢把他放出去，可别怪我这个做表妹的翻脸不认人。<br>杜仲：我……<br>连翘：谢谢啊，表哥。<br>许仙：小哥，我求求你了，麻烦你跟万香楼的掌柜的说一下，我明天真的有很重要的事情要做，如果他肯成全我，我下辈子做牛做马都可以啊。<br>小三：不是我不帮你，许大哥，是你欠的银子实在太多了，我一个月的俸禄还还不清呢，我帮不了你。<br>许仙：哼，这下你高兴了吧？<br>连翘：哎，你说这话什么意思啊？<br>许仙：什么意思？你自己心里知道。<br>连翘：我不知道，你最好把话说清楚。<br>许仙：说清楚，好，那我索性就说出来，你就是想拆散我们，让我们不能在一起。<br>连翘：我拆散你们？你这话说的还真有意思，再说了，我为什么要拆散你们？<br>许仙：为什么？你得不到，你也不想让我们得到。<br>连翘：你再说一遍！<br>杜仲：小三，把许公子和连翘姑娘放出来吧。<br>小三：是。<br>连翘：不是跟你说好了吗？别多管闲事。<br>杜仲：不是我要你们出来，是万香楼的掌柜请你们出来的。许公子，走吧。<br>小二：许公子，连翘姑娘，都怪小的不是，把二位当成了白吃客。<br>连翘：可我们的确是白吃客啊。<br>小二：前日那个弘云观的张真人跟咱老板说了，有两位贵人近日到咱们酒楼一叙，你们二位不仅不是白吃客，还是咱万香楼的贵人，二位贵人是巳时三刻进店门的，与张真人说的是分毫不差。<br>~<br>许仙：天亮了，我回去收拾收拾还来得及。<br>连翘：我，我不会让你去的，你说的没错，如果我得不到的话，她也休想能得到，我就不信了，我就不信我拦不住你。<br>许仙：傻丫头，你可千万别生我的气，刚才在牢里我说出那种话，是因为我真的急昏了头，你可千万别往心里去，这下我知道了，你是真心实意的想要请我吃一顿饭，要实在不行的话，等我从试情崖回来，你再拿我出气，好不好？别生气了，等我从试情崖回来，我请你去万香楼，再做一次白吃客，我陪你坐一次牢好不好？<br>连翘：许仙，我求求你，醒过来好不好？我宁可你恨我，我也不要看你去死。<br>许仙：傻丫头，无论如何你是我最好的朋友，我会记得你。<br>连翘：许仙，如果你执意要去，我就死在你面前。<br>许仙：傻丫头，你这是干什么？<br>连翘：陪你啊，既然傻小子不想活了，那我这个傻丫头也不能偷生啊。<br>许仙：傻丫头，我求求你千万别干这种傻事。<br>连翘：算我陪你一起犯傻吧。<br>许仙：连翘，我知道你是一番好意，但是我求你放我一条生路吧。<br>连翘：放你一条生路？倒好像是我害了你。<br>路人：过来，过来，你看他们俩干嘛呢？<br>连翘：那好吧，你去吧。<br>许仙：傻丫头，等我回来。<br>连翘：好，我等你回来。<br>~<br>小三：午时三刻就要到了，我看许公子这次真的是要跳了，咱们还是给他绑了再说吧。<br>杜仲：别。<br>小三：大哥，你怎么了？你不是答应连翘姑娘了吗？就是绑也要把他绑回去吗？<br>杜仲：我答应连翘姑娘没有错，可是到了这里，看见许公子，看见他这么平静地站在这崖顶上，看见他脸上还那么坚决地笑着，我就突然改变主意了。<br>小三：改变主意？大哥，你可想清楚了，这可是一条人命呢。<br>杜仲：我知道，可是对于一个男人来说，一条性命的确不是最值钱的东西，没有人希望自己一个人终老，如果真是这种死法，倒还不如像许公子一样，心里装着对心上人的爱，轰轰烈烈地从试情崖上跳下去，这才是我心目中的真汉子。如果有一天，我也必须这样才能证明自己的心，我想我是会这么做的。<br>小三：你刚说的这堆话，我一点都没听懂，我只知道咱俩要是不把人带回去，连翘姑娘肯定轻饶不了咱俩，她那么大力气，我看我还是回去多吃点跌打丸算了。<br>~<br>小青：姐姐，不好了，姐姐，许仙真跑去跳崖了。哎，这好好的，姐姐跑哪儿去了？糟了，这个许仙也真是的，什么时候跑去跳崖不好，偏偏在我姐姐不在的时候去跳，看谁还能救你这个天字第一号大傻瓜。<br>~<br>小青：唉。<br>白素贞：青儿？<br>小青：姐姐，你刚才有没有听到我叹了口气？难道你都不觉得奇怪吗？那个天不怕地不怕，而且什么都不在乎的小青，竟然也学会叹气了。<br>白素贞：青儿，其实……<br>小青：姐姐，你真的不觉得你自从吃了什么忘情丹之后，就变了个人似的吗？你以前不会这么狠心的，你真的变了，姐姐，都是你，是你让那个傻小子，丢了性命。<br>白素贞：我……<br>~<br>白素贞：卦婆婆？你怎么到这儿来了？<br>卦婆婆：我听说宝芝堂的小伙计到这儿来跳崖了，我就特意赶过来想劝劝他，谁知道人老了，腿脚就慢了，等我赶到这儿，他已经跳下去了。姑娘，我们女人活在世上求个什么呢？不就是求个能对我们好的人嘛，要是连人都死了，还留着真心有什么用呢？<br>白素贞：这就是我要找的眼泪，只是没有想到，竟然是因为有一个男人为我而死了。<br>~<br>许仙：难道，这样便是死了？这又是什么地方？<br>八两：臭小子。<br>许仙：大胡子，是你！<br>八两：兄弟，咱们哥儿俩又见面了。<br>许仙：大胡子，这到底是怎么回事？我现在是死是活？还有，我怎么会在试情崖底遇到你呢？难道你跟我一样，一块儿跳了试情崖吗？<br>八两：你以为这世上还有像你一样发傻的人吗？我这一把年纪了，又跳哪门子崖啊？我是受人之托，上这儿来找你来了。<br>许仙：受人之托？是谁呀？<br>八两：一位姑娘，她啊，可真是你的头号仇人，瞅那架式，这一口一个恨字，恨不得能把你生吞活剥了。<br>许仙：头号仇人？<br>八两：嗯。<br>~<br>连翘：什么还等你回来，也不想想，从那么高的地方摔下来，一定摔成烂泥了，能回来才怪，还说什么让我放你一条生路，哼，明明是条死路，却认为是生路，把我的好心当成恶意，让你死的人却当成心肝宝贝，真是天底下最大最大的大傻瓜。许仙，我恨你，我恨不得千刀万剐，恨不得把你生吞活剥，我恨不得……，看什么看。<br>小七哥：哟，这不是连翘姑娘嘛，怎么了你这是，干什么满口恨字，年纪轻轻的，能有多伤心的事。<br>连翘：你说我喜欢的男人，现在要为别的女人去跳试情崖，我能不伤心吗？我能不恨他吗？<br>小七哥：这么说来，还真该恨他，不如去镇上找那个刀客解恨啊。<br>~<br>小七哥：行了，连翘姑娘，别哭了，他不是来了吗？<br>连翘、八两：怎么又是……<br>小七哥：原来你们认识啊，那你们谈生意吧，你们聊，你们聊。<br>八两：说说吧，这个薄情郎是谁，是让我一刀结果了他呢，还是把他带到你跟前，跪地求饶？要不，咱们先砍胳膊再砍腿，还是……<br>连翘：我都不要，我只要他好好的，我希望他回家。<br>~<br>许仙：这么说，是大胡子你救了我。<br>八两：嗨，这事要说起来还真气人，我在这崖底下等了半晌，你左也不跳下来是右也不跳下来，等着我这肚子有点不舒服，我就寻思着我找个地方方便一下吧，嘿，兄弟，你猜怎么着，就这么会儿功夫，等我回来以后，你好模好样地躺在那儿了。<br>~<br>白素贞：许公子，你只是暂时昏了过去，你在这儿多睡一会儿，一个时辰之后，会有人经过这里，将你救起。<br>许仙：素贞！<br>白素贞：你唤我什么？<br>许仙：我唤你素贞，难道有什么不对吗？<br>白素贞：没有不对，只是，你是这世上第一个唤我名字的男人。<br>许仙：我这是在哪里？<br>白素贞：试情崖底。<br>许仙：我的命已经给了你，你还要什么？<br>白素贞：我什么都不要了，你以命换情，我认输了。<br>许仙：白姑娘，我要一生一世对你好，我虽然穷，但我至少也可以让你粗茶淡饭三餐无忧，不若，我现在娶了你吧。<br>白素贞：现在我什么都不想要了，今生今世，我只想和你平凡地在一起。公子，我还有些事需要了断，三日之后你来白府，若门口悬挂着你那把破油伞，我便嫁了你去。<br>许仙：那若破伞落地呢？<br>白素贞：你信我。<br>许仙：嗯。<br>~<br>许仙：我想起来了，是她救了我，是她救了我！<br>八两：兄弟，你上哪儿去？<br>许仙：我要去找白姑娘，她应该没走多远。<br>八两：白姑娘？这哪有什么白姑娘？兄弟，你刚才掉下来的时候没碰着哪儿吧？你怎么直说胡话啊？<br>许仙：难道我又做白日梦了？不可能，这回不是梦，我们之间有一个三日后的约定。<br>八两：你啊，注定对白姑娘是情有独钟，兄弟，昨天为你哭了一天的傻丫头，你就一点没放在心上？<br>许仙：其实，这些日子以来，我多少明白一些事情，说没有感觉那是假的，可是我的心太小，装一个人尚且不够，其他的，就再也进不来了。<br>八两：她们俩，一个是天上的星星，一个是枕边的油灯，反正要哪个不要哪个，还是要你自己拿主意。<br>许仙：大胡子，我们现在可以走了吗？<br>八两：好，咱哥儿俩结伴而行。<br>~<br>小青：姐姐，姐姐！从试情崖回来好一阵子了，你就一直坐在那儿看着那把伞，你到底想什么呢？<br>白素贞：你不知道，我们家呀就要有喜事了。<br>小青：喜事？什么喜事？<br>白素贞：三日之后你就会知道了，青儿，快把家里的银子拿出来，既然要办喜事，就免不了各项花销，去吧，快去呀。<br>小青：姐姐说要办喜事，难道……，这是……，忘情丹。<br>白素贞：青儿。<br>小青：姐姐，这是什么？你如何解释？<br>白素贞：我……<br>小青：你根本没吃，你在骗我，白素贞。<br>白素贞：是，我是骗了你，我的确没有吃忘情丹。<br>小青：姐姐，为什么？当日说的明白，又是出于你的自愿，为什么你要出尔反尔，何必假装吃了忘情丹，又说把许仙忘得一干二净，只是为了耍戏我小青吗？<br>白素贞：你不懂。<br>小青：不懂，不懂，不懂，你总是说我不懂，你有一千年的道行没错，可是好歹我也有五百年啊，我不知道这事情究竟有多深奥。<br>白素贞：我是说这个情字，你不懂。<br>小青：你我都是妖，为什么我不懂，你偏偏就能懂呢？<br>白素贞：我又何曾敢说我自己懂来着？我只知道，它来势汹汹，又如此刻骨铭心，我被它一下子制服了，除了屈膝投降，我真的没有别的办法。<br>小青：你有，你完全可以吃了忘情丹，把那个许仙忘得干干净净的，你有！<br>白素贞：我不能。<br>小青：为什么？<br>白素贞：我真的不能忘了他，这比让我杀了他还难。<br>小青：你忘不了？所以你就来骗我吗？姐姐，我们姐妹一场，对于彼此从来都没有过二心，如今你为了他，却来欺骗我，我不能接受。再说，你口口声声说要皈依三宝，得道成仙，现在却为了一个男人，做出这种事情，难道你就不怕沾染红尘，误了大事吗？<br>白素贞：我当然怕啊，所以我才自欺欺人，让这份感情藏在心里。<br>小青：那难道你真的以为这样遮遮掩掩的，就能不被别人知道吗？<br>白素贞：起码他会死心，慢慢的忘记我，我常常在一个人的时候，莫名的想起他，只要我一见到他，我给自己下的决心，就全都忘了，就是在刚才，我终于想通了一切，青儿，姐姐要这个男人，我要定他了。<br>小青：你这是什么跟什么嘛，我不想听，反正你骗了我，就是把我当傻瓜，也许从一开始的时候，你白素贞就从来没把我小青放在眼里过，好，既然姐姐这么不相信我，那还做什么姐妹啊，不如我走好了。<br>白素贞：青儿！青儿！观音大士，你让我来人间寻求仙根，可弟子一时糊涂，不仅辜负了你的期望，还让情根深种，弟子不明白，难道有情和无情对成仙来说，就真的是相差那么多吗？观音大士，我求你不要走，求你听我把话说完，事到如今我才明白，所谓的忘情，根本就是我们这些没有经过情爱的妖怪和神仙凭空想象出来的，这个忘情丹其实就是一颗天底下最不可理喻最无用的神药。弟子有个不情之请，许仙曾对我说过，他一生有两个心愿，一是学医有成，悬壶济世，二是能娶得贤惠又美丽的妻子，所以，所以我想帮他完成这两个心愿，以我之力，帮他开一间药铺，再嫁给许仙为妻，可素贞向菩萨盟誓，如若完成心愿，我立即抽身，如若再眷恋红尘，宁愿身葬雷峰塔之下，请菩萨成全。</p>
</blockquote>
<h3 id="第十五集"><a href="#第十五集" class="headerlink" title="第十五集"></a>第十五集</h3><blockquote>
<p>白素贞：如若完成心愿，我立即抽身，如若再眷恋红尘，宁愿身葬雷峰塔之下，请菩萨成全。弟子多谢观音菩萨成全。<br>~<br>白素贞：这下可好了，傻小子看了，不知傻笑多久呢。我看，我也要把这儿好好地布置一下。青儿？<br>~<br>小青：怎么回事嘛，人家等了这么半天，还喝了这么多酒，为什么，为什么你还不出来追人家？什么？什么？为什么我那些已经愈合的伤口，就好像全部撕开来一样的疼。和尚，敲敲敲，不是诵经，就是敲钟，你以前害我，我还没找你算账，现在又来招惹我，也好，反正我现在离家出走，正愁没地方去，倒不如上那金山寺，与你斗一斗。<br>~<br>十天：真不知道师傅为什么老让我喝这种药，什么东西这么香啊，做和尚的为什么只能吃干馒头，真不公平。是什么东西这么香？就像是放生池中，捞出一条鱼，然后配上葱姜，烧了八分熟，还有那酱汁。<br>小青：好啊，小和尚，你破戒了。<br>十天：妖孽，佛门重地岂容你乱闯？<br>小青：几日不见，你也满口妖孽了，怎么跟你师傅一个腔调，怎么样啊？还想不想抱抱啊？<br>十天：有佛在此，不要放肆。<br>小青：在佛面前，放肆的恐怕不只我一个人吧？刚才是谁说要把放生池里的鱼抓上来，烧着吃来着？<br>十天：我只是想一想，没有要吃的意思啊。<br>小青：想想也是破戒啦，你自己说说看，三皈五戒里面，那第五戒是什么？<br>十天：五戒妄语。<br>小青：对呀，你刚才背着你师傅说你要吃鱼，这不是妄语是什么？<br>十天：你要干什么？<br>小青：你放心吧，我是不会告诉你师傅的，其实啊我是真的很可怜你，每天喝这种又苦又臭的东西，不说疯话才怪呢。今天我来这儿，也是不忍看你小小年纪，就受这种清规戒律，所以呢，专门给你带来一点东西，嗯，怎么样？<br>十天：白煮鸡。<br>小青：吃啊。<br>十天：妖孽，你少用白煮鸡来引诱我。<br>小青：我是可怜你，不忍看你被师傅骗，蒙在鼓里而已啊。<br>十天：少胡说，师傅怎么会骗我呢？<br>小青：不会骗你？那我问你，他让你每天喝这些汤药，但是有没有告诉你为什么？<br>十天：当然告诉过我了，那是因为我从小无爹无娘，身体虚弱，这是给我补身子的。<br>小青：骗人，这根本就不是滋补身体的汤药。<br>十天：那你说是什么？<br>小青：这个是不让你长大的神药。<br>十天：你胡说！<br>小青：我胡说是吗？那好，那我问你，你是何时被带进寺里来的？<br>十天：是我十岁那年。<br>小青：好，从那年到现在你一共在寺里诵经几年？<br>十天：五年。<br>小青：五年是吧？这五年里你可有长高长胖，或是换衣服和鞋裤？<br>十天：我，没有，那又怎样？<br>小青：那又怎样？这说明这一切呀，都是你师傅干得好事，那汤药根本就是不让你长大的神药，知道吗？<br>十天：少胡说啦，我师傅一向待我如父，怎么会不让我长大呢？<br>小青：他呀，是因为担心你一旦长大成人之后，就会失去天眼，要是失去了天眼，你就全无用处，他又如何靠你辨别妖魔？你师傅根本就把你当成一件斩妖除魔的武器。<br>十天：你乱说，我才不相信你呢，你是在故意挑拨我和师傅。<br>小青：算了，信不信由你，我的好心全白费了，还白白准备了三净肉拿给你吃，算我多管闲事吧。<br>十天：啊？等一下，你刚才说什么三净肉？<br>~<br>小青：快吃吧。<br>十天：哎呀，糟了，师傅出关了。<br>小青：你这是干什么？<br>十天：哎呀，别说了，我还要去上晚课呢，你赶紧走吧。<br>小青：怕什么，你师傅看见了，大不了再把这三净肉啊给你师傅也送去一点儿。<br>十天：不行，不行啊，再怎么三净，它到底是肉啊，你快走，要被师傅知道了，他非杀了我不可。<br>小青：我就不走。<br>十天：啊！<br>法海：十天，十天，你在干什么？<br>十天：师傅。<br>法海：十天，你在跟谁说话？<br>十天：我是在吃，不，我没在吃，是她……<br>法海：十天，嘴上怎么有油？十天！<br>十天：师傅，钟响了，一定是老住持接了香客，让您去诵经呢。<br>法海：你先随我过去，待会儿再和你算账。<br>十天：师傅小心。<br>~<br>老住持：法海，你来得正好，这位女施主千里迢迢地赶来，就是为了听你讲经说道呢。<br>法海：女施主？现在何处呢？<br>老住持：就在这儿。<br>十天：啊，青……<br>法海：青，十天，你说谁？谁在那儿？<br>十天：是一位穿着青色衣衫的女施主。<br>法海：女施主？<br>小青：是啊，小女身处红尘俗世，一直为情所困，不得解脱，听说金山寺上有位得道高僧，所以上得山来，一来添香，二来想听师傅说经讲道。<br>法海：说经讲道？<br>小青：嗯。<br>法海：（如果真是身处俗世的女施主倒也罢了，可是现在，我只觉得身边周遭妖气浓重，她分明是妖不是人）<br>小青：（和尚，瞎了眼睛，破了钵，还那么多心思，看我小青怎么收拾你。）<br>法海：妖孽，佛门重地，岂是你说来就来。<br>小青：说的没错，我的确是妖孽，而且啊还是个狐狸精呢，我们那些春香楼的姑娘呢，早就听惯了你们男人这般乱叫，如果大和尚执意要这样称呼，那我也不计较。<br>老住持：阿弥陀佛，法海，你说话造次了，不论出身如何，但凡在佛祖面前，你我都是凡夫俗子。<br>法海：十天，你到底看清楚了没有？她到底是不是师傅要寻找的青蛇精？<br>十天：不是不是，我生了眼疾，看不清楚。<br>老住持：法海，讲经说道，普渡众生，是我们必做的功课，既然这位女施主潜心学法，不问世事，你就指引一番吧。<br>法海：住持，这女施主杀气太重，恐怕不适合在这个地方。<br>小青：杀气太重？那，可我看来这里的菩萨各个都是怒目而视，难道他们也不合适在这儿吗？<br>法海：菩萨，那是为了斩妖除魔才一露怒容，但心却是慈悲的。<br>小青：是这样，那巧了，我也是面凶心慈啊。你说，是不是呀，十天小和尚？<br>十天：问我？我不知道。<br>老住持：好了，就这样决定了，无论这位姑娘出身如何，正所谓放下屠刀，立地成佛，我这就替这位女施主收拾好香房住下，明日让法海师傅给你讲经，女施主，这边请。<br>小青：麻烦你了大和尚，我呀，真是迫不及待地想跟你们两个和尚讲讲经说说道呢。<br>法海：十天，你跟我来。<br>十天：我……<br>~<br>十天：妖孽，你又是要干什么？<br>小青：喂，你一个小孩子，满嘴妖孽妖孽的，多难听啊，我有名字的，你可以叫我小青姐姐。<br>十天：呸，一个青蛇精，怎么能配当我十天的姐姐，哎呀，你还是赶快走吧，都是因为你，害得我被师傅责罚，现在要在天黑之前，把这几缸水全部挑满，你看，都已经磨破了。<br>小青：你师傅未免太狠心了吧，这是我和他之间的夙怨，关你一个小孩什么事啊。<br>十天：你要干什么？你是怎么做到的？<br>小青：这算什么，你再看看这个。<br>十天：啊？真是神了呀。<br>小青：这些根本都不算什么，我会的东西还多着呢。怎么样？要不要学？<br>十天：真的？<br>小青：在这大千世界里面，美妙的事啊还多着呢。<br>十天：美妙的事？<br>小青：好了，说了你也不明白，不如眼见为实吧，我带你去个好地方好不好？<br>十天：去哪儿啊？<br>小青：哎呀，去了就知道了，走哇，走哇。<br>~<br>小青：怎么样？<br>十天：天啊，我从来没见过这么有意思的地方。<br>小青：这算什么，你没见过和没听过的呀，还多着呢，来吧，咱们今天好好乐一乐，你呢，就忘记你师傅对你的管教，我呢，就忘记我姐姐对我的罗嗦，好不好？走啊。<br>十天：你等等我，妖孽。<br>小青：喂，我不是跟你说好了吗？我没有名字的？啊？妖孽妖孽的，这街上这么多的人，到时候被谁听了去，多没面子啊，烦人。<br>十天：那好，那好，我现在就叫你小青姐姐，可是你千万别告诉师傅啊。<br>小青：那好吧。<br>十天：太好了。<br>~<br>小二：来了。<br>小青：来了，来了，吃一个。好了，吃一个吧，反正破一次戒也是破，破两次戒也是破，我保证不会跟你师傅讲的，绝对不会说出去，吃一个。<br>十天：我不吃了。<br>小青：为什么？<br>十天：嗯……<br>小青：老板，那两只鸡我买下了。<br>十天：啊？<br>~<br>十天：小青姐姐，我们把这两只鸡养在后院，等他们再长大一些，我们就去放生，好不好？<br>小青：怎么都好，反正啊，这两只鸡是你的了，想怎么办都行。<br>十天：啊，师傅。<br>法海：十天，谁让你私自下山的？<br>十天：我，不是，我只是<br>法海：还不跪下！<br>小青：喂，起来，凭什么你让跪就跪啊，不跪。<br>法海：十天有错，他跪的是佛祖，不是我。<br>小青：你！<br>十天：师傅。<br>法海：十天，佛祖赐你天眼是让你分辨妖魔的，你要是屡次破戒的话，只怕你的天眼会混沌，辨不清是非曲直。<br>十天：知道了师傅，我以后再也不敢了。<br>法海：好吧，我就再给你一次机会，你就在此打坐思过，没有师傅的允许，不得入寺。<br>十天：嗯，知道了，师傅。<br>法海：十天，你手拿什么东西？<br>十天：是……<br>小青：是鸡，活生生的两只鸡，要是煮了吃肉，肉汁啊可鲜美得很呢。<br>法海：什么？<br>十天：不是，师傅。<br>法海：十天，你屡次破戒，我上次已经放过你，没想到啊，你真敢屡教不改，把鸡笼拿来。<br>十天：不是，师傅，你得听我解释。<br>法海：拿来！<br>小青：不给！那鸡是我买给十天的，凭什么给你呀，不给。<br>法海：十天，拿来！<br>十天：我……<br>法海：拿来！<br>小青：十天，你没做错，不要向他低头，不行！你不能给他，十天！<br>十天：师傅。<br>小青：法海，你还自称什么得道高僧呢，你，你根本就不分青红皂白，你知不知道，那两只鸡是我买给十天放生用的，你就把它们打死了，你才是货真价实的犯了杀戒。<br>法海：一派胡言，你拿两只活鸡来诱惑我的徒弟，你休想。<br>小青：简直是个疯僧。十天，你没事吧？<br>十天：都是我不好，要不是我把这两只鸡抱回来，它们也不会死在禅杖之下。<br>小青：这怎么能怪你呢？都是你那心狠手辣的师傅，自己破了戒，还要徒弟拜什么佛。<br>十天：不是的，不要怪我师傅，师傅以前不是这样的，他对我很好，对我很体贴，只有当他眼疾发作的时候，才会乱发脾气。<br>小青：十天，你师傅是不是生病了？<br>十天：生病？<br>小青：嗯，你师傅是不是每次眼疾突发的时候，脾气就会特别的暴躁啊？<br>十天：你怎么知道？<br>小青：我当然知道，因为他肚子里面有条非常非常毒的幼蛇。<br>十天：幼蛇？<br>小青：嗯。<br>~<br>小青：和尚，之前你对我们姐妹所做的，今日，我小青加倍奉还给你。<br>法海：妖孽，你害我。妖孽，你借我徒弟之手，加害于我，妖孽，你别想伤害我。<br>小青：大和尚，你一向自恃甚高，顶顶瞧不起的就是蛇了，可如今为什么又学做蛇一样在我脚下爬呢？痛苦吗？那你现在给我跪下，求我啊，说不定我网开一面，放过你。<br>法海：妖孽，我法海今生只跪佛，哪有跪妖的道理？<br>小青：好。<br>法海：妖孽，我法海与佛俱在，早把生死置之度外，你有什么法术使出来吧。<br>小青：你以为你念两句经，我小青就怕了你吗？和尚，你已经破了杀怒两戒，我就不相信，有我在，金山寺还有你的立足之地。<br>~<br>老住持：就是要让你疼，疼点会让你时刻保持清醒。<br>法海：住持，法海不会认错的，那女人的确是我追了很久的一条青蛇精啊。<br>老住持：法海，你怎么到现在还执迷不悟，不是我不信你，而是我想让你明白一个道理，妖孽易除，心魔却难挡，心魔因恐惧而生，你越怕她，怨气会越深，长此下去，你必然会引火烧身的。<br>法海：大师这话说得不对，法海一向痛恨妖魔，怎么会怕呢？<br>老住持：爱恨之心一样可怕，法海，你什么时候才能明白这个道理呢？<br>法海：法海一心除妖，别的都已放下。<br>老住持：说的轻巧，世上最难的事，不是拿起，而是放下，你要真的能放下，那就把爱恨之心一起放下。<br>法海：住持的话太深奥，法海不懂。<br>老住持：那就打坐三日，驱赶心魔，好好想明白我说的话，三日之内不得离开脚下这个蒲团，否则，别怪我狠心将你们逐出金山寺。<br>法海：可是，可是那妖孽还在寺中，法海怎么可以坐视不理呢？<br>老住持：法海。<br>法海：阿弥陀佛，法海听住持的便是。<br>~<br>十天：妖孽，站住！<br>小青：喂，怎么又不叫我小青姐姐，改叫妖孽了？<br>十天：你利用我，害我师傅。<br>小青：是吗？可是好像你师傅也用过同样的招数吧？这叫做自食其果。<br>十天：不管怎么样，我不会再让你再靠近我师傅半步。<br>小青：对不起了，是寺院住持让我送这碗汤药给你师傅的，所以呀，还请十天小和尚让开。<br>十天：你乱说。<br>小青：我没有。<br>老住持：十天。<br>十天：住持。<br>老住持：是我让她送的。<br>十天：啊？<br>老住持：女施主，麻烦你了。<br>十天：可是她……<br>~<br>法海：妖孽！<br>小青：和尚，难道你怕了我不成？<br>法海：我乃正道，何须惧你？<br>小青：既然你不怕我，干嘛老躲着我，又不敢亲近我呢？大和尚。<br>法海：妖孽，妖孽你撞破我金钵，我虽然无法收你，但我自知求佛之道无魔不成，妖孽，你今天尽管来试我好了，我法海的双脚若踏出这蒲团半步，就算我输。<br>小青：和尚，你又来这招，真是吵死了，你会用幻术，以为我不会吗？我要变成世上最美的女子，若是你还是不动心的话，我便服了你。<br>~<br>白素贞（小青幻化）：法海，闭上眼睛就看不见我了吗？我可知道你的心，正上上下下里里外外的把我看个通透呢，你真的不敢看我了吗？为什么？你不爱小青，但你不可以不爱我，和尚，装什么假正经啊，这世上的男人都爱我，你犯了这样的错，也是情有可原的。<br>法海：阿弥陀佛，成佛之路，无魔不成，你尽管来试我吧，我不怕。<br>白素贞（小青幻化）：哟，你的心跳得好快啊，和尚，你也是人，人都有七情六欲，你又何必如此不解风情呢？<br>小青：和尚，你已经出尔反尔了，刚才你已经离开了蒲团，分明就是输了，还说什么得道高僧，难道你就没听到自己的心，刚才又快又乱吗？有几分男人的德行了。<br>法海：妖孽，妖孽你敢坏我的修行。<br>小青：姐姐。<br>白素贞：青儿，快走。<br>小青：姐姐，我差点就成了，你知道吗？刚才我变作你的模样，你没瞧见那和尚脸红心跳的样子。<br>白素贞：你还没戏耍够吗？快走。<br>小青：姐姐。<br>白素贞：听见没有？<br>法海：白素贞，我等你很久了。<br>~<br>十天：十天敲的钟，师傅能听懂吗？<br>小青：小和尚，都怪你多管闲事，要不是你敲钟的话，我今日就真的得手了。小和尚。<br>十天：你要干什么？<br>小青：让你小青姐姐来教教你呀，这个钟啊，到底怎么个敲法，来。<br>十天：你下去，这钟你敲不得。<br>小青：我就不，追我啊。<br>十天：站住。<br>小青：你师傅我都戏耍得，这钟我怎么敲不得。<br>十天：你下去。<br>僧众：怎么了，怎么回事，出什么事了？<br>十天：你不要再敲了。<br>小青：追我啊。<br>十天：不要再敲了。<br>~<br>白素贞：法海，你的心已经乱了，根本不是我的对手，还不快跪地求饶。<br>法海：你休想，给妖孽跪下，天地不容。<br>白素贞：法海，我奉劝你一句，你的心魔已深入心底，如果还自不量力的话，必当欲火焚身。<br>法海：白素贞，无论要我付出多大代价，我必镇伏你不可，别以为我不知道你在那试情崖下做了怎样的勾当。<br>~<br>小青：姐姐，为什么不斩草除根呢？那和尚在半步多滥杀无辜，前几日又差点要了我的性命，姐姐，我们不如回去做个了断，好不好？<br>白素贞：好了，你呀，得饶人处且饶人，老天已经惩罚他，让他双目已盲，加上你今天一番胡闹，让他破了怒戒和色戒，已经够他受的了。再说呢，我还要急着回去，操办喜事呢。<br>小青：喜事？什么喜事？<br>白素贞：我准备嫁给许仙那个傻小子为妻了。<br>小青：姐姐，你，你疯了是不是呀？你说你不吃忘情丹也就算了，若你喜欢许仙，相好几日也无不可，干什么非要谈婚论嫁呢？<br>白素贞：青儿。<br>小青：我真是不知道你在想什么。<br>白素贞：我只想要一个平凡的男人对我嘘寒问暖，眉目传情的，青儿。<br>小青：平凡好吗？<br>白素贞：平凡当然好。<br>小青：比成仙还好啊？<br>白素贞：两样不一样嘛，哪样好，试过才知道。<br>小青：喂，喂，姐姐，姐姐你听我说啊，男人靠不住的。<br>~<br>许仙：这不可能，这不可能。这位师傅。<br>法海：阿弥陀佛，施主叫我何事？<br>许仙：请问师傅，刚才有没有看到一位穿白色衣服的姑娘从这儿走过？<br>法海：我双眼已盲，何以见得姑娘？<br>许仙：师傅见谅，我不知道，我只是太着急了。<br>法海：施主可是问这白府中的小姐？<br>许仙：正是正是，请问师傅你认识她们？<br>法海：贫僧不曾与她们相识，不过刚巧从这里路过，听到两位小姐说话。<br>许仙：她们说什么？<br>法海：她们走了，说不会再回来了。<br>许仙：走了？不会再回来？不可能，白姑娘明明告诉我，三日之后到她府上看伞，怎会不辞而别呢？<br>法海：世事多变，尤其是女人的心，信不得。<br>许仙：不，这不可能，师傅你一定认错了，那一定不是白府的姑娘，绝对不会是。<br>法海：姐姐称妹妹小青，妹妹叫姐姐素贞。施主，你还好吧？<br>许仙：没想到，试情崖捡回了一条命，在这里，又丢了。<br>法海：这条命丢了，还可以重生一次，施主何必执着。<br>许仙：重生一次？和尚说得好轻巧。<br>~<br>老住持：你们师徒二人，屡次破了戒规，就算我有心，也再也无法收容你们了，不如，下山去吧。<br>法海：老住持，法海即刻可动身，但是临行前还有一事不明，请老住持明鉴。<br>老住持：说吧。<br>法海：法海修佛，一心斩妖除魔，为了除妖，我几进魔道，甚至盲了双眼，还是坚持着除妖大业，法海不懂，我有何过错？请住持明鉴。<br>老住持：执着也是错，我佛要的是慈悲善心，你却修了一副铁石心肠，这也是错啊，阿弥陀佛。<br>~<br>十天：师傅，十天从小到大，就在这金山寺里，每日扫地，上香，诵经，撞钟，现在突然走了，还真舍不得。再说，我们现在又能去哪儿啊？<br>法海：十天，我们师徒自有去处，只不过，十天啊。<br>十天：嗯。<br>法海：从今日起，你我师徒要遇佛拜佛，遇寺添香。<br>十天：嗯。<br>法海：更加刻苦地修炼，今后你跟着师傅要受苦了。<br>十天：师傅，十天不怕苦。<br>法海：十天，记住，今天你我师徒所受的一切羞辱，都拜那一白一青那个妖孽所赐。<br>十天：嗯。<br>法海：早晚会有一天，我们付出的一切都会让她们加倍奉还。<br>十天：知道了，师傅。<br>法海：走。<br>~<br>八两：你干什么拦我？<br>连翘：着什么急啊你，没看见大家都没动筷子吗？<br>小三：是啊，大叔，这可是连翘姑娘一大清早起来，忙里忙外置办出来的。<br>八两：所以要赶紧吃啊，现在大家大眼瞪小眼的，菜不都凉了？<br>钱掌柜：就怕这桌菜不是给我们准备的。<br>连翘：做了一桌菜又怎么样？人家还是不领情，上次白姑娘不认他，他也这样，茶不思饭不想，这次，人都不见了，不知道他又会做出什么傻事来。<br>八两：谁说他茶不思饭不想的，我看他胃口好得很呢。<br>杜仲：表妹，这许兄，看起来有点反常啊。<br>连翘：是啊，胃口这么好，看不出半点难过，还真是有点怪了，算了，总之吃饭就好。<br>许仙：这第一杯酒，为我能平安回来而喝，傻丫头，你陪不陪？<br>连翘：陪。<br>许仙：这第二杯呢，为你清早起来就煮饭做菜而喝，离家这么久，我头一次吃饭这么有滋有味，傻丫头，你陪不陪？<br>连翘：陪，我当然要陪。<br>许仙：这第三杯呢，为你而喝，没有理由，你陪不陪？<br>连翘：陪，我当然要陪，傻小子，其实你知道我……<br>八两：我实在是看不下去了。<br>连翘：你干什么？<br>八两：你一个女孩子家的，喝这么多酒，成什么体统。<br>连翘：我高兴啊，我看见傻小子不伤心也不难过了，还这么爱吃我做的菜，我高兴不成吗？<br>八两：高兴也不成，你是一个女孩子家，你喝那么多酒，就是不成。<br>许仙：各位慢用，折腾了半日，我乏了，我要上去休息了。<br>连翘：傻小子。都怪你。<br>八两：傻丫头，我看你们俩都傻成一对儿了。</p>
</blockquote>
<h3 id="第十六集"><a href="#第十六集" class="headerlink" title="第十六集"></a>第十六集</h3><blockquote>
<p>连翘：傻小子。都怪你。<br>八两：傻丫头，我看你们俩都傻成一对儿了。<br>~<br>杜仲：许兄，我知道你没有睡，白姑娘不辞而别，这一去不知多少时日，不知许兄是如何打算呢？我是个外人，反倒比你这个局内人看得清楚，许兄，你还是死了这份心吧，世上好女人千千万，你还怕找不到一个能白头偕老的吗？你方才在饭桌上对连翘姑娘说的那些话，我不知道你是有心还是无意，我只想告诉你，连翘是个好姑娘，你若有心对她也就罢了，可是，如果你是被别人伤了心，想找个人替你疗伤的话，我劝你还是不要招惹她，否则，我是不会放过你的。<br>~<br>八两：丫头，别臭美啦，我看你心里想的那回事，成不了。<br>连翘：我想什么了？<br>八两：你不就是想，人家白素贞现在自动退出了，没人跟你抢那傻小子了，你就可以后来者居上了。<br>连翘：什么后来者，要算起来，还是我在先呢。<br>八两：你先？怎么会是你在先啊？那怎么算，都是她在先呀，要不是人家有大事要办，恐怕你连认识许仙的机会都没有。<br>连翘：要办大事？她要办什么大事？<br>八两：嗨，总之，总之是一件天大的事就对了。<br>连翘：天大的事，能有多大？能比一个男人为她跳试情崖还大呀。<br>八两：这事不能这么比吧，嗨，反正跟你说了你也不明白。<br>连翘：我是不明白，她为什么要那么狠心的对待许仙，许仙生性善良，又对她一片痴心，要是换作我……<br>八两：换你怎么样？<br>连翘：都喝一天酒了，还没喝够吗？<br>八两：你管我干嘛呀？我喝我的酒，关你什么事，你又不是我们家丫头。<br>连翘：你要是我爹呀，我早躲在家门里不敢出去了我。<br>八两：我有那么差么？<br>连翘：不只差，还差得离谱呢。<br>小七哥：丫头，外面有几个收账的，说要找许夫人，我们这儿有许夫人这么个人吗？<br>八两：许夫人？<br>~<br>连翘：一二三四五，哎呀，这几日为那傻小子花的银子还真不少呢。<br>玉器行掌柜：许夫人，您看我那些银子……<br>连翘：你刚才，刚才叫我什么？<br>玉器行掌柜：叫您许夫人啊，难道您不是吗？<br>连翘：是，当然是了。<br>玉器行掌柜：是不是今天手头不太方便，那我改日再来好了。<br>连翘：方便，我怎么会不方便呢？给我相公买东西嘛，肯定要赶紧把银子给您送到店里去呀，我相公经常教训我说，娘子啊，出门在外，决不能欠人家钱财，这是待人之道嘛。您别急，我一会儿一准儿叫人给您送过去。<br>玉器行掌柜：好好好，那我先回去了。<br>连翘：没别的事，就是能不能再叫我一回。<br>玉器行掌柜：许夫人。<br>连翘：哎。<br>玉器行掌柜：那我先回去了。<br>连翘：好，好，慢走啊。掌柜的，一会儿告诉旁边面馆的小二说，许夫人让他进来一趟啊。许夫人，许夫人，许夫人，许夫人。<br>八两：许夫人，很过瘾吧？<br>连翘：要你管。<br>八两：你，你是不是病了？<br>连翘：你才病了呢，你没事咒我啊。<br>八两：哎呀，我原来以为呀，这屋里，只病了一个，没想到啊，这病了一双。一个呢，是得了这个相思病，另一个呢，是恋夫狂。<br>连翘：大胡子，我警告你，闭上你那张臭嘴，现在你跟我生意已经做完了，银子我也付了，我现在请你走。<br>八两：请我走？好啊，那请我走，你就没有媒人了，那你岂不是一辈子也嫁不出去了？<br>连翘：你成心跟我过不去是不是。<br>八两：傻丫头，要真想当许夫人，你得先弄明白人家心里有没有你。<br>连翘：他心里当然有我了。<br>八两：我看未必，这许仙情愿为白素贞去死，这，你怎么说？<br>连翘：那他在饭桌上说的那些话你也听见了，那又怎么说呀？<br>八两：丫头，这白素贞能试许仙，你也能啊。<br>连翘：我？试他？<br>~<br>许仙：等等。<br>小七哥：嗯。<br>许仙：你为什么要扔我的伞？我的伞放在那儿招你惹你了？你凭什么？你怎么敢？<br>小七哥：我……<br>连翘：是我让他扔了的。<br>许仙：为什么？<br>连翘：人都走了，还留着它做什么？<br>许仙：它，只是把伞，扔了怪可惜的。<br>连翘：这把伞连雨都遮不住了，要它还有什么用呢？我再给你买把新的吧，旧的不去，新的不来嘛。<br>许仙：可是……<br>李贵：慢点，慢点。<br>许仙：小舅舅，你们怎么来了？<br>李贵：许仙，你舅妈现在怀有身孕都七八个月了，我上次听你说给那个什么县太爷的三姨太问诊的特别灵验，所以我特意登门拜访，就是为了讨一吉利话。<br>许仙：舅舅可能有所不知，说起来有些尴尬，连翘正在宝芝堂帮忙，万一你们碰到，又会生出一些麻烦。<br>李贵：可是我们……<br>许仙：我知道你们没有任何关系了，可是毕竟当初她喜欢过你一场，你对她又是那番情形，你总不能指望她对你没有任何感觉吧，如今要碰头又生出许多尴尬，那是，实在是……<br>连翘：你们来了，比预先说的早了些呀。<br>李贵娘子：这不急着想知道是男是女吗？所以就催着他早过来了，可就是怕麻烦了你们。<br>连翘：这有什么麻烦的呀，我们本来就是做这营生嘛，让我看看，圆圆的肚子啊肯定是个男孩子，不过我说了可不算，要他说了才算呢。这样吧，我扶你们到后面去喝口茶。<br>李贵：好，娘子请。<br>连翘：你们先坐一会，许大夫马上就过来。<br>李贵：好，好，好。<br>连翘：前天在街上遇到的，推脱不掉，就替你约了个时间。<br>许仙：可是，他不是你心上……<br>连翘：那都是过去的事了，如今他们连孩子都有了，你不会还指望我把他当心上人吧？<br>许仙：可是，你曾经那么喜欢他，难道你把他忘了？<br>连翘：要不怎么样啊，难道还要为他去死啊？<br>许仙：可是，你真的不在乎了？<br>连翘：真的，都过去了。<br>许仙：可是你怎么做到的？<br>连翘：就是把那个忘字在心里绕一绕，然后所有的事情一笔勾销，好吃，好喝，好睡，再遇到个好人，就全都好了。<br>许仙：忘字心头绕，前缘尽勾销，好吃，好喝，好睡，再找个好人，就真的能忘了吗？<br>~<br>小青：姐姐。<br>白素贞：又怎么了？<br>小青：你真的想好了？<br>白素贞：青儿，这种事不容我想。<br>小青：可是，那你的成仙大业呢？<br>白素贞：我已向观音大士表明了我的心迹，甘愿为许仙完成两个心愿，报答他对我的一片深情，大婚之后我会抽身而去，如若违背，甘愿受雷峰塔压顶之苦。世上有句话说得好，只羡鸳鸯不羡仙。<br>小青：姐姐，那好，那我不跟你说成仙的事，我们说蛇的事情好了，虽然我是一条五百年的小青蛇，地位自然比姐姐一千年道行的蛇低，可是姐姐想过没有，就算你是一千岁的蛇，这地位也比不过刚出生的娃娃，记得我们在魔道，那可是呼风唤雨骄傲的了得，可是到了人间，到底是人家的地方，寄人篱下，已经不痛快了，现在你又把自己双手奉送，岂不是太轻贱了吗？姐姐，人总是不能容忍，不能容忍我们这些异类的，倘若有一日揭穿，那你认为许仙还会对你这般痴情吗？姐姐，你再好好想想嘛。啊？姐姐，我们的房子呢？白府去哪儿了？<br>白素贞：我的伞呢？还有我的伞。<br>小青：什么伞啊？<br>白素贞：就是那把油伞，我把它撑开挂在门楣之上了。<br>小青：姐姐，现在家都已经没了，你怎么还管什么破伞呢？<br>~<br>连翘：求求你们了。<br>杜仲：行行行。<br>小三：好好好。<br>连翘：真的？<br>小三：放心吧。<br>连翘：那谢谢。傻小子，你怎么了？那不是断桥吗？是你和她第一次见面的地方对不对？就是这里呀。<br>许仙：是啊，是这里，这断桥就是我和她初次见面的地方。<br>连翘：许仙，救我。<br>许仙：快，快拿桨来，快把桨给我。<br>连翘：许仙，救命。<br>杜仲：许兄，我不会游泳，你快点救她呀。<br>许仙：快，把桨给我，快。<br>连翘：救命啊，救命，许仙。<br>~<br>连翘：这汤是给许仙熬的，你等下一锅呢。<br>小三：哎哟，连翘姑娘，我们没有功劳也有苦劳吧。<br>连翘：还说呢，让你们递船桨，谁让你们把他打晕了。<br>小三：你不是就想让他跳下去救你吗？反正醒着救是救，晕着救也是救，称了你的心不就成了？大哥，你还好吧？<br>杜仲：你说呢？让你跳下湖，连着救俩人，你会，会不会好呢？<br>连翘：许仙还没醒啊？他有没有说口渴？有没有想吃什么东西？有没有叫我名字？<br>小三：没有。<br>连翘：没有呀。<br>杜仲：大概是他一直在那儿吐湖水吧，还抽不出空叫你的名字，小三。<br>小三：嗯。<br>杜仲：这里呀，没咱们什么事了，咱们还是知趣点，早点，早点走吧。<br>连翘：你鬼鬼祟祟站后面干嘛？吓死我了。<br>八两：试过了？许夫人。<br>连翘：你都看到了，他不仅心里有我，而且还为了救我，奋不顾身地跳到湖里去呢。比起这个，那试情崖算什么呀。<br>八两：那我怎么听说，他是被歪打正着被人打昏了头，自个儿掉下去的呢？<br>连翘：是被人打昏了不假，可是我相信，要是他没有被打昏，也一样会下去救我的，因为啊，他对那个白素贞已经死心了，他现在心里呀，只有……<br>八两：丫头，你醒醒吧，他心里呀，没你。<br>连翘：你要怎么才相信他心里有我呢？<br>八两：除非他亲口对你讲。<br>~<br>许仙：掌柜的。<br>钱掌柜：许仙呐，好些了？<br>许仙：不碍事，只是头上挨那一下子还有些疼。对了掌柜的，怎么不见店里其他人？连翘姑娘呢？掌柜的，好端端叹什么气？<br>钱掌柜：这几日你在床上躺着，哪知有个媒婆上门，给连翘说了一门亲事。<br>许仙：她答应了？<br>钱掌柜：答应了。<br>许仙：答应了，虽然突然了一些，那毕竟是件好事情，可也不用叹气感伤啊。<br>钱掌柜：你不知道，其实啊，她都是为了你。<br>许仙：为了我？<br>钱掌柜：对啊，她见你对那个白家姑娘放心不下，就想着给你张罗门亲事，她一下子就寻了两个姑娘，那脾气秉性跟白家姑娘不相上下，可是谁家嫁姑娘不要个百八十两银子当聘礼呢？你又是个穷书生，所以她就想了个招，换亲。<br>许仙：换亲？这简直是胡闹，她现在人在哪儿？<br>钱掌柜：就在路口的茶坊里，和媒婆啊，俩人正……<br>小七哥：掌柜的，你也帮着连翘姑娘骗许仙啊？<br>钱掌柜：这怎么叫骗呐？连翘姑娘说，这叫试。<br>小七哥：嗨，这还不都一样。<br>钱掌柜：不一样，这男男女女的事啊，就是互相试来试去。愣着干什么，干活去。<br>~<br>小青：姐姐。<br>管家：白姑娘。<br>小青：你是要去哪里啊？姐姐。<br>白素贞：我要去找许仙，你别拦着我。<br>管家：白姑娘，你且住住脚，容我说句话呀。<br>白素贞：老神仙有什么话，等我回来再说，我和许仙有一伞之约，已经被那和尚破坏，他一定以为我负了他，不肯做他的娘子，以他的性情，不知会做出什么傻事来。<br>小青：姐姐。<br>管家：姑娘，姑娘，姑娘。<br>白素贞：老神仙，我真的不能再负许仙了。<br>管家：姑娘，你眼里只有许仙，只知道他为你付出了真情，难道我这糟老头子和你妹妹小青为你所做的一切，都不算数了？我们一个放着天上的神仙不做，一个不再游戏人间，还不是为了早日助你成仙吗？你现在已经找到了四滴眼泪，眼看成仙之路已过了一半了，那你为什么还要回到原处呢？<br>~<br>媒婆：连翘姑娘，这到底选哪个呢，还得你自己定，总之啊，这位相公呢，脸上虽然有点……，可是不妨碍他出手大方啊，整整白银三百两的聘金。至于这位相公呢，五官虽然不那么……，腰身也不那么齐整，可是他说了，要是你答应了，他那如花似玉的大妹子可正好能和许公子配成一双，连翘姑娘，你的意思是……<br>连翘：好吧，那我就选……<br>许仙：连翘！<br>连翘：许仙。<br>媒婆：公子，你这是干什么呀？我这媒还没做成呢。<br>许仙：这媒你恐怕是做不成了，我不会让傻丫头嫁给这种人的。<br>媒婆：可她是自愿的。<br>许仙：她是自愿的没错，但她不是心甘情愿的。<br>连翘：可是……<br>许仙：没有可是，你前几日害得我掉到湖里，我没找你算账，你现在却要把自己嫁出去，你想得倒美。<br>~<br>小青：姐姐。<br>管家：姑娘。<br>白素贞：老神仙，青儿，你们对我的恩德，我白素贞没齿难忘，可是许仙我不能不要，观音大士让我来人间收集眼泪，我虽不懂她的用意所在，可也从四滴眼泪的来历，悟出了一个道理，眼泪是因情而成，这情才是人世间最大的一件事，许仙甘愿一死，那证明他对我的深情，我怎么能视而不见呢？我求你们成全我，让我去找许仙，对他表明心迹。青儿，老神仙。<br>管家：那就是说，我们家要有一桩喜事办喽。<br>白素贞：这么说，你们不拦我了？<br>管家：拦也拦不住嘛。<br>白素贞：那我现在就去找许仙。<br>小青：姐姐，你慢些，我虽然啊，不是很懂情，但是却知道大凡女人私会自己心上人，那好歹也要梳洗一番吧。<br>白素贞：这倒是真的，青儿，你快帮我选一件干净又雅致的衣服。<br>小青：好好好，走。<br>~<br>连翘：傻小子，你吃啊。<br>许仙：你也吃啊，傻丫头。光喝汤怎么吃得饱呢？<br>连翘：吃得饱，当然吃得饱了，看着你，我就饱了。<br>许仙：人家都说我傻，我看你比我还傻。你老看着我傻笑干什么？有什么话你便问吧，问啊。<br>连翘：我想问你，你对她真的死心了吗？<br>许仙：你还记得当初李贵离开你的时候，你说了什么吗？你说情这样东西是互不放过的，既然她先放过我，那我也该试试放过她呀。你又傻笑什么？<br>连翘：你不用理我，我只是有点高兴，我真的是……，要不然你咬我一下吧，我有点不相信这是真的。<br>许仙：赶紧吃吧，傻丫头。<br>~<br>白素贞：青儿，你帮我看看，这绣得漂不漂亮啊？<br>小青：漂亮是漂亮，可这两只鸟生得奇怪，我怎么从来没见过？<br>白素贞：这个不是鸟，这个呀叫鸳鸯。<br>小青：鸳鸯？就是你之前说过的那个只羡鸳鸯不羡仙的那个鸳鸯吗？<br>白素贞：自然是了。<br>小青：真不错。姐姐你看，过了前面那个桥啊，就到宝芝堂了。<br>白素贞：你帮我看看，我这个样子还好吗？<br>小青：好看，你的样子啊如果不好看，这世上便没有好看的了。<br>妇人：许大夫，您慢走。<br>许仙：请留步，大婶。<br>连翘：傻小子，天要下雨了，也不记得带把伞。<br>许仙：又害你多跑一趟。<br>妇人：看你们小两口，多恩爱，多般配啊，让大婶看着，真羡慕唉。<br>许仙：大婶，其实我们……<br>妇人：许夫人，许公子，要下雨了，后院还晾着衣服，我不送你们了。<br>许仙：我们……<br>连翘：人都进去了，还说什么呢？不是还有几家的药没送呢吗？还不赶紧去，你想让我们都淋雨不成？<br>小青：姐姐，这是怎么回事啊？你不是说，你和许仙之间有一个一伞之约，一个愿娶，一个愿嫁的吗？怎么突然就跳出个许夫人来呀？<br>白素贞：我也不懂，这人间的情字，我到底算不得明白啊。<br>小青：那现在怎么办？那个许仙，到底要不要见啊？那个亲到底要不要成啊？我们去哪儿现在？<br>~<br>许仙：这种事情，还是跟人家说清楚比较好，何必被别人误会，要是毁了你的清白怎么办？<br>连翘：别人怎么说我不在乎。<br>许仙：不在乎？什么许夫人呢，知道我们是朋友的还好，要是不知道的人该怎么想呢？<br>连翘：我也不知道你心里怎么想的。<br>许仙：我……<br>连翘：是啊，我心里怎么想的，你再清楚不过了，以前你有个仙女姐姐，我虽然喜欢你，却不想从中破坏，甚至为了你们能好，我还从中做红娘，但她现在一声不吭的就走了，并没有赴你们的一伞之约，你的身边，就只剩下一个我了，若你对我不好，也就算了，可是你那天却又跑过来，不让我胡乱嫁给别人，你说的那些话，没有一句不是为我好的，许仙，你心里到底怎么想的呀，你到底是要那把破伞，还是要我这把新伞？哎！好了好了，我不问就是了，我知道你的为难，我给你时间想清楚，多少时日都行，是三天还是五天，是一个月还是一年，我都愿意等啊。<br>~<br>连翘：傻小子，你说刚才那两张桌子，我是买大一点的好呢，还是买小一点的那个呀？<br>许仙：我说，你在宝芝堂帮工，掌柜的不是给你安排住处了吗？你又何必自己搬出来置办家具呢？<br>连翘：要嫁人了，总不能还和别人挤在一起吧。<br>许仙：啊？你要嫁人啦？哪家公子？我怎么不知道呢？<br>连翘：说你傻你还真傻啊。这间老屋，不是昨天才贴出告示说要出租吗？怎么才一天时间，就变成药铺开张了呢？宝和堂？怎么和我们宝芝堂就差一个字啊？该不会是和我们抢生意吧？<br>管家：各位乡亲，各位乡亲，今天我们宝和堂啊，就算正式挂牌做生意了，因为我们这个问诊大夫啊，现在还没有到，所以啊，这头三天呢，只卖药不看病，有什么照顾不周到的，大家体谅体谅，来来来，请进，请进。<br>许仙：这个掌柜的好生面熟啊，好像在哪里见过，我们进去看看。<br>管家：我说，你们明天赶紧把那个咱们确认的那付药赶紧给弄来，要不咱们这生意就不好做了，到时候手脚都勤快点，要不咱们真是不好做生意了。<br>伙计：好嘞，您放心吧。<br>连翘：好气派呀，我们宝芝堂根本没法跟它比呢。<br>许仙：是呀，真是合我心意，若是能有这样一家药铺，真是死而无憾了。<br>连翘：好好的，说这么丧气的话干什么。<br>许仙：掌柜的，恭喜您开业大吉。<br>管家：许大夫，我们等您很久了。<br>连翘：等你？<br>许仙：掌柜的，您是不是认错人了？<br>管家：第一，我不是这儿的掌柜的，我只是这儿的管家，替人家管管铺面，收收账什么的，第二呢，我也没有认错人，你不就是许仙吗？<br>许仙：我是许仙没错，可是您怎么……<br>管家：众位乡亲，众位乡亲，来来来，我给大家介绍一下，这位就是我们宝和堂新请的问诊大夫，许仙，许大官人。<br>许仙：我说老人家，您是不是搞错了，我只是宝芝堂的一个小学徒，怎么会是你们这么一大间药铺的问诊大夫呢？<br>管家：我哪能搞错呀，你就是我们这儿的问诊大夫。<br>连翘：别理他，我看他是年纪太大了，糊涂了。<br>管家：丫头，我人虽然老了一点，可是脑子清楚得很呐，东家吩咐了，我们请的问诊大夫就是你呀。<br>许仙：这位老人家，您执意要我当您这里的问诊大夫，难道我和你们这里的东家曾经相识吗？<br>管家：我是这儿的一个下人，其他的一概不知啊。<br>连翘：那好吧，把你们东家请出来，我们当面问清楚。<br>许仙：是啊，还是问个清楚比较好。<br>管家：我们东家采购药材去了，得过三五天才能回来，许仙啊，您瞧我这脑子，这是我们东家临走的时候，叫我交给你的聘金，许公子，您就收下吧，收下。<br>许仙：老人家，您，您确定是我吗？<br>管家：错不了，就是你。<br>~<br>许仙：小七哥，你等一下，我还没要走呢。<br>小七哥：嗨，你甭管了，我帮你收拾吧。<br>许仙：你听我说小七哥，真的不急啊。<br>小七哥：行啦，你这回要去个大药房，以后我看病还得指着你呢，你甭管了。<br>许仙：掌柜的。<br>钱掌柜：许仙呐。<br>许仙：您看他这是……<br>钱掌柜：哎哟，你就安心吧，人往高处走，水往低处流，今后啊，咱们就是同行了，不过就是隔着几条巷子吗？有生意呢咱们还得互相照应，再说了，我还是你半个师傅嘛，你若干出番事业来，我脸上也有光啊，对不对？<br>许仙：可是掌柜的，这宝芝堂，我一走……<br>钱掌柜：哎呀，你就不要管了，赶紧跟你七哥收拾东西去，去吧，去吧，去吧。<br>连翘：掌柜的，你不觉得这件事有点奇怪吗？<br>钱掌柜：奇怪？宝和堂虽然刚刚开张，但是满条街的人都知道了，我也去看过了，那门面，那气派，咱还真比不了。<br>连翘：我不是说这个，我是说，怎么会那么巧，我们才到那里，就被请去做大夫了。<br>钱掌柜：这也没什么奇怪的，这许仙虽然在咱们宝芝堂只做了个把月的学徒，但是我心里明白，他饱读医书，对病理的很多见解，就连我这开了几十年药铺的老头子，都不敢跟他辩上一辩，再说了，他心地善良，亲切细致，很多病人都指名点姓地要他看病，他早就在这钱塘县小有名气了，挂牌行医那是早晚的事，说真的，我还真有点舍不得，可是你说现在有人请他，我总不能自私到不让他去吧？<br>连翘：话是这么说，可是，我总是觉得，有哪里不对劲。<br>钱掌柜：没有什么不对劲。<br>小七哥：是这个吗？我放这儿了啊。<br>连翘：不行，我得去收拾行李。<br>钱掌柜：我说连翘姑娘，人家当大夫，你跟着瞎起什么哄啊。<br>连翘：我没瞎起哄，我跟他一起去，我帮他忙。<br>钱掌柜：你瞧你一个大姑娘家的吧，在他身边进进出出，那不让人笑话嘛。<br>连翘：可是我……<br>钱掌柜：没有可是，这男人的事女人少插手，你呀，赶紧去厨房忙活自己的事吧。去吧，去呀。<br>~<br>连翘：就是奇怪嘛，好端端的被人拉去做什么大夫，天下哪有那么便宜的事啊，还有那个管家，怪里怪气的，好像在哪儿见过，在哪儿呢？宝芝堂？老茶坊？还是……，白府！他是白府的管家！<br>钱掌柜：连翘，跑那么快干什么去呀？<br>连翘：救人。<br>钱掌柜：救人？<br>~<br>小青：姐姐，有时候我真是搞不懂你，当日那情形，你也亲眼看到了，他们两个人是你是夫我是妻的，他恋上了别人，你也正好来个人去楼空，可整整一个月了，你茶饭不思，到头来却租下了那老屋，弄了间宝和堂，还要给他置办药材，请他做大夫。<br>白素贞：这我的确亲眼所见，却到底还不能甘心啊。<br>小青：那，姐姐，你究竟想干什么？是想让那傻丫头死心，还是想让那个傻小子回头啊？<br>~<br>许仙：连翘，傻丫头，你这是干什么呀？<br>连翘：你非得和我回去，这里留不得。<br>许仙：为什么呀？不是说好了吗？我在这里当大夫，你在宝芝堂帮掌柜的忙。<br>连翘：我后悔了，你非得跟我回去。<br>许仙：你总得有个理由啊。<br>连翘：好，我就给你一个理由，因为，他。<br>许仙：他？<br>连翘：你真的不记得了，你好好看看，你真的不记得他是谁家的管家了？<br>许仙：他只是一个管家，今天管张家，明天管王家，你想得太多了吧。<br>连翘：你真的要留下来吗？<br>许仙：连翘，我从小最想做的就是这件事，这是我最大的心愿，你成全我吧，好不好？<br>连翘：算了，什么成全不成全的，只要你高兴就好了，但是，如果你饿了，要让我给你送饭。<br>许仙：好。<br>连翘：要是你累了，让我给你捶捶背。</p>
</blockquote>
<p>许仙：好。<br>连翘：要是你不想在这儿做了，你就和我回宝芝堂去。<br>许仙：好。<br>连翘：要是有人欺负你，你就告诉我，我替你报仇。<br>管家：姑娘，姑娘，我们这是药铺，不是县衙的大牢嘛，许公子到这来是来当大夫的，不是来坐牢的，姑娘，你且放心，回去吧。<br>连翘：我走啦，你小心啊。<br>~<br>白素贞：小青，你笑什么？<br>小青：我在笑啊，姐姐英明一世，这次可是输给那个女人了，你看她，一副对许仙有情有意的模样，即便我是男人，也很难抗拒的，好了，我现在算明白了，姐姐你是不甘心，你是存心想试试他们对不对？<br>傻孙子：娘，喂我喝粥。<br>小青：哪来的傻小子，还不赶快走。<br>白素贞：小青，别吓着他。<br>傻孙子：娘子，要不你喂我喝粥。<br>小青：谁是你娘子啊你。<br>傻孙子：我的粥。<br>白素贞：这粥里有毒。<br>傻孙子：婆婆，公公，快点起来陪我玩啊，婆婆。<br>小青：姐姐，你说他们这一家子是怎么回事啊？</p>
<h3 id="第十七集"><a href="#第十七集" class="headerlink" title="第十七集"></a>第十七集</h3><blockquote>
<p>傻孙子：娘子，要不你喂我喝粥。<br>小青：谁是你娘子啊你。<br>傻孙子：我的粥。<br>白素贞：这粥里有毒。<br>傻孙子：婆婆，公公，快点起来陪我玩啊，婆婆。<br>小青：姐姐，你说他们这一家子是怎么回事啊？<br>白素贞：这是聋公公和哑婆婆，他们服了毒了，让我算算，他们的一双儿女客死他乡，只剩下一个傻孙子，老人家一时想不开出此下策。<br>小青：姐姐，他们都已经服了剧毒了，而且都已经闭气了。<br>白素贞：闭了气也要救。<br>小青：救？可是服了这样的毒，就算是钱塘县最有名望的大夫，也保不住他们的命啊。<br>白素贞：名医不能救他，好心的大夫却能救。<br>~<br>傻孙子：公公，公公，公公你起来呀，快点陪我玩啊，婆婆，婆婆，你们怎么了，你们快起来呀，快起来呀，快起来呀。<br>许仙：管家，这两个人是谁送来的？<br>管家：送来就走了，没留下姓名，许大夫，这人都没气了，救还是不救啊？<br>许仙：既然送到我们宝和堂，哪有不救的道理，自然要救。<br>管家：许大夫，这可是咱们宝和堂的头一号病人哪，服的又是剧毒啊，这要是救不过来，那咱们药铺以后的生意恐怕就难接了。<br>许仙：这是什么话，不管怎么说，这两个人的性命要比我许仙的名誉重要得多啊。<br>管家：可如何救呢？<br>许仙：让我想想，对了，我曾经看过一本医书，上面记载着一个民间的药方，表面看上去毫无章法，但仔细辨别，确自有它的道理，我想可以试一试。<br>管家：什么方子？<br>许仙：春之六草和秋之七花。<br>~<br>小青：姐姐，你说这许仙为何不在宝和堂救人，跑到这深山老林里来干什么？<br>白素贞：他到这里来就是为了救人的，他方才所说的那春之六草秋之七花，在这里应该都能采到。<br>小青：奇了，之前我还以为他胡乱说说呢，没想到还真有这样的方子。<br>白素贞：小心！<br>连翘：傻小子，你没事吧？有没有伤着？怎么样啊？让我看看，没事吧？有没有伤着脚啊？<br>许仙：真是奇怪，从这么高的地方掉下来，怎么一点事没有？<br>连翘：累了你就歇一会儿嘛，这种粗活，还是让我来吧。<br>白素贞：这儿没有我们的事了，我们走吧。<br>小青：干嘛？干嘛又叹气啊？姐姐，姐姐。姐姐，现在药铺你已经替他开起来了，你也眼看着他们两个人恩爱了，我们是不是也该离开这里，安心去找眼泪了。<br>白素贞：我还欠他一件事情没有做。<br>小青：这件事情跟姐姐有什么关系呢？那连翘对许仙有情有意，早就以许夫人自居了，我们还管什么闲事，你别自取其辱好不好，姐姐，姐姐。<br>白素贞：关键，还要看许仙是怎么想的。<br>小青：什么许仙是怎么想的，你不会还以为他还喜欢你吧？若是喜欢的话，他干嘛跟那连翘拉拉扯扯，不清不楚的，依我看，姐姐也不必那么犹豫，要是想嫁给他，我就替姐姐把许仙捉了过来，逼着他与姐姐成亲，然后再一剑结果了那个捕蛇女，省得她从中挑拨。<br>白素贞：你呀，你总是这样的胡闹，感情的事，又岂能勉强呢？若他们两个真的情投意合，我自愿从中撮合，如果只是连翘一厢情愿，我……<br>小青：若她一厢情愿怎么样啊？做人真麻烦，那么多选择。<br>~<br>许仙：药已经喝下去了，再过几个时辰就知道结果了。<br>管家：许大夫，你也累了一天了，早点回去歇着吧。<br>许仙：不行，我要守在他们身边，随时留心观察，这样我才能放心。<br>管家：我就不劝你了，连翘。<br>连翘：啊。<br>管家：不如去厨房弄点宵夜来呀。<br>连翘：好啊。<br>~<br>白素贞：青儿，是时候帮他一点忙了。<br>小青：帮忙？<br>白素贞：嗯。<br>小青：可是许仙不是已经给他们服过药了吗？干什么我们还要多此一举呢？<br>白素贞：能保住他们的命是不错，但是，还不够好。<br>小青：不够好？<br>白素贞：你忘了我许过的承诺吗？我要让许仙扬名钱塘县，这么好的机会我怎么能错过呢？<br>小青：我知道了，原来姐姐不光要保住他们的命，还要把那一聋一瞎的病症都治好，对不对？<br>白素贞：这还不够，我还要把傻小子的呆病治好，让大家口耳相传，许公子是无病不治的在世华佗。一会儿，你不要吵醒许公子啊。<br>小青：好，我知道了，我是不会吵醒你的心肝宝贝的。<br>白素贞：青儿。好了。<br>小青：姐姐，你看，呆病治好了，聪明的不得了呢。<br>白素贞：天快亮了，我们走吧。<br>许仙：白姑娘，既然来了，何必要狠心地走呢？<br>白素贞：我的心怎么这么疼？难道心真的会疼吗？<br>许仙：白姑娘。<br>白素贞：我不是回来了吗？可是，你又为什么选了别人呢？难道我们之间的情份，就这么禁不住考验，只被那和尚稍一玩弄，你就认输了吗？可是你流泪了，这泪又是为谁而流的呢？我的许官人。<br>许仙：白姑娘，是你吗？白姑娘。<br>连翘：哎呀。<br>许仙：我……<br>连翘：你，你刚才喊谁？<br>许仙：没什么，只是个梦。<br>连翘：我问你呢，你刚才喊谁的名字？<br>许仙：我说过了，只是个梦。<br>连翘：没有，你喊了，你喊白姑娘。<br>许仙：对，我喊了。<br>连翘：白姑娘，白素贞？<br>许仙：白姑娘，白素贞。<br>连翘：你看你，那么不小心，把汤全都打翻了，我看你饿了还吃什么，还好没有人比我更知道你了，你这个人啊总是毛手毛脚的，所以呢，我还留了一些在锅里，我这就给你盛去啊。<br>许仙：连翘，你跟我说忘字心头绕一绕，我绕了，你跟我说好吃好睡，我吃了也睡了，你说再遇到个好人，我也遇到了你，你说这样全都好了，可是我并不好，我现在心中只有一个念头，那就是有朝一日那破伞可以挂在白府的门楣上，白姑娘亲手开门对着我笑。<br>连翘：干什么？不过是个梦嘛，你最爱做梦了，不要罗嗦了，你说的那些根本就是不可能的事情，我知道你一时半会儿忘不了她，不过没关系，时间长一点，我再对你好一点，你一定会把她忘了的。我给你盛汤去啊，好不容易熬的呢，都被你打翻了，一定不能饶你，明天非得让你去给我买张婆婆的胭脂不可。<br>白素贞：（他没有忘了我，他喜欢的人还是我。）<br>~<br>瞎婆婆：多谢恩公。<br>许仙：快起来。<br>傻孙子：谢谢了，谢谢了。<br>许仙：起来，起来吧。<br>聋公公：多谢恩公救命之恩，大恩大德呀。<br>傻孙子：谢谢了。<br>瞎婆婆：太谢谢恩公了。<br>许仙：公公，婆婆，治病救人就是我应尽的本份，你们要是这样，我怎么受得起呀？<br>围观：许大夫真是神了，连瞎婆婆的眼盲，聋公公的聋症，还有那傻孙子的呆症都治好了，简直是华佗再世。<br>许仙：各位父老乡亲，你们听我说，公公婆婆的奇毒是我治的不假，可是这眼瞎耳聋，还有这呆病……<br>管家：各位乡亲，各位乡亲，我们宝和堂的许大夫，连闭气的人都能医活了，这点小病小伤的哪能难住他呀，大家别看热闹了，有病的看病，没病的买付药滋补滋补身子也是好的啊。<br>连翘：各位，各位，我们宝和堂可就这么大的地方，可是要有个先来后到的啊。<br>围观：那行，我们排队吧，排队。<br>许仙：管家，你也真是的，你也不让我说清楚，这公公婆婆的这个眼瞎，耳聋，真的不是我治的啊。<br>管家：许大夫，来来来。<br>许仙：管家你听我说。<br>管家：你坐，你坐，坐下，坐下。<br>许仙：这三个真的不是我治的。<br>管家：我跟你说这三个人不是，再来三个治好了，不就是了嘛。傻相公，看病吧。<br>许仙：管家！<br>~<br>许仙：拿好，记得按时服用。<br>病人：谢谢许大夫，谢谢许大夫。<br>连翘：都什么时候了，来问诊的病人都已经看完了，歇歇吧。<br>许仙：天色尚早，我看我还是查一查药柜，少了哪几味药，好及时补上。<br>连翘：药的事情，明天再查也不迟，我现在，有一句话要问你。<br>许仙：是不是因为昨天晚上我……<br>连翘：马上娶我。<br>许仙：你说什么？<br>连翘：我说要你马上娶我。我在等你回话呢。<br>管家：我不是故意要听你们的私房话，实在是，我们东家回来了。<br>~<br>小七哥：哎哎哎，关门干嘛？不做生意了？<br>连翘：别捣乱。<br>许仙：你这是干什么，傻丫头。<br>连翘：那你好端端的收拾包袱干什么？<br>许仙：不是刚才跟管家商量好了吗？他们宝和堂刚开业，问诊的客人比较多，为了不耽误我在路上的时间让我住过去。<br>连翘：你口口声声说什么东家，还不是因为她。<br>许仙：连翘，我跟你说过多少遍了，我不知道东家是她。<br>连翘：那既然现在知道了，为什么还搬去同住？<br>许仙：我，你在说什么连翘，我是为了问诊方便，怎么是搬过去跟她同住呢？<br>连翘：只隔两条巷子，你走动走动有什么不好？<br>许仙：你别闹了，连翘，那边很多病人在等着我呢。要不，好，我不过去住了，这样呢每天晚上回来，还能多帮掌柜的一些忙，你满意了吧？<br>连翘：我不满意，你怎么就不明白啊，我不要你从这里搬走，也不要你去问什么诊。<br>许仙：连翘，问诊是问诊，她是她，这，这根本就是两回事嘛。<br>连翘：没有她，哪来的问诊啊，要是别人请你，我还高高兴兴送你去呢，换成是她，我就不依。<br>许仙：你这是为什么呀？<br>连翘：你可以为她跳试情崖，为她死，还有什么傻事不能为她做的。<br>许仙：这都是过去的事了，还提它做什么呢？<br>连翘：真的过去了吗？我问你呢。<br>许仙：好了，我不去就是了，你不要烦我，我心里很乱。<br>连翘：你的心乱了，怎么她回来之前不乱，她一回来你就乱了，你别忘了，是她自己选择离开你的。<br>许仙：根本不是。<br>连翘：现在又来跟我抢，算什么。<br>~<br>许仙：大胡子说的没错，一个是天上的星星，一个是枕边的油灯，我是想忘了她，可是我到底忘了没忘呢？<br>~<br>小七哥：来了来了。<br>白素贞：请问，许公子在吗？<br>小七哥：许仙啊，在在，请跟我来，跟我来。<br>连翘：两位有什么事，跟我说吧。<br>白素贞：我要没记错的话，你是连翘姑娘？<br>连翘：我姓字名谁并不重要，说吧，找傻小子什么事。<br>小青：你是他什么人，凭什么由你来代他跟我们讲话。<br>连翘：我还怕你不问呢，过几天，我就要和傻小子拜堂成亲了，你说，我可不可以代他跟你们说话呢。<br>白素贞：其实跟谁说都是一样的，我今天来，只是因为昨天约好的病人，已经等了许大夫一个上午，所以才登门来请，麻烦你，许夫人告诉许大夫一声。青儿，我们走吧。<br>小青：姐姐。<br>连翘：傻小子不会去的，今天不去，以后也不去。<br>白素贞：这话，是姑娘说的，还是许公子说的？<br>连翘：我说的，便是他说的。<br>白素贞：那我明白了，青儿，我们走。<br>连翘：魂被勾去了不成？<br>小七哥：要是真能被勾去了，我倒情愿不要这个身子。<br>连翘：你们男人都一个样。<br>~<br>小青：姐姐，姐姐，姐姐你等等我，你说家里那么多病人，若许仙不来的话，叫我们怎么办哪？<br>白素贞：他会来的。<br>小青：姐姐怎么那么肯定啊？难道方才掐算过了？<br>白素贞：这件事情，不用掐算。<br>小青：不用掐算就知道，世上还有什么事情可以不用掐算就知道的，什么事啊？<br>白素贞：只有一件事情，情事。<br>小青：情事？情事是哪门子事啊？<br>白素贞：这太深奥了，你不懂。<br>小青：不就是动了情吗？有什么了不起啊，等过一阵子，我闲下来了，也动一次情到时候给你看看。<br>~<br>许仙：掌柜的。<br>钱掌柜：啊。刚睡着。<br>许仙：宝和堂那边情况怎么样？<br>钱掌柜：哎哟，她们那儿乱成一团了。<br>许仙：那我得赶紧去。<br>钱掌柜：那你下来的时候，可得轻着点。不不不，这边。<br>连翘：许仙，外面天气热，小心中暑。<br>钱掌柜：走，许仙哪，你心里到底装着哪一个，你可得掂量好了，现在可是到了紧要关头了，记住，总之一句话，选能让你幸福的那个，明白了？<br>许仙：掌柜的，我已经说过了，问诊是问诊，白素贞是白素贞，我这次去，当真是为了那些等着看病的老街坊。<br>钱掌柜：那就赶紧走吧。我，他不是我放他走的。<br>连翘：走就走吧，他自己要走，别人拦也拦不住。<br>~<br>许仙：您年纪大，自己熬药不方便，这样，我叫小青把药熬好了送到您家里去<br>病人N：谢谢了<br>许仙：慢走，小青，来拿药方，小青<br>小青：咳咳<del>咳咳</del>我知道啦，马上就来<br>白素贞：麻烦你了<br>许仙：那这个交给你吧<br>~<br>小青：一天到晚就知道催催催，他倒神气了，大笔一挥就挥出个方子来，可累坏了我了，熏死我了<br>白素贞：青儿<br>小青：姐姐，你还笑啊你，看看你们家那个宝贝许大公子，替人家治病，开个药方子不就行了吗，还要我替他熬汤药，我哪里干过这样的下贱活啊。<br>~<br>白素贞：许大夫请。<br>许仙：酒就不必了，等一下还要问诊，万一喝多了，脑子该糊涂了。<br>小青：我看，就算是你不喝酒，这脑子也没明白过。<br>白素贞：青儿。许大夫，这酒你一定要喝，你能赏光来这里问诊，是我们宝和堂的造化，这酒我敬你。<br>许仙：白姑娘，这酒我真的不能喝，老实说，自从上次在万香楼你敬了我三杯酒之后，我就再也不肯碰它了。<br>小青：哎哎，他不喝我喝，省得浪费。<br>白素贞：许大夫吃饭吧。来吃菜。<br>许仙：不用，我自己来，我自己来。<br>白素贞：许大夫，你是不是还在记恨我当日没有将伞悬于门上，赴你之约？<br>许仙：白姑娘，这话从何说起，你何去何从，由你自己拿主意，与我何干？<br>白素贞：你说这样的话，分明是在生我的气。<br>许仙：不是。<br>白素贞：分明是。<br>许仙：我说了不是。<br>小青：喂，我说你们两个到底吵到什么时候？饭菜都凉了。<br>白素贞：公子，事到如今，我就不能不说了，其实我们的破伞之约，全因一个人的破坏，所以才……<br>连翘：傻小子，傻小子。<br>许仙：傻丫头。<br>连翘：你干嘛？看见鬼了？<br>许仙：你干什么来了？<br>连翘：都到晌午了，当然是给你送饭来了。<br>许仙：送饭？<br>小青：你这是什么意思？我们姐妹请他来当问诊大夫，难道管不起一顿饭呐？<br>连翘：哟，这也叫饭啊？这什么东西啊，黑的像碳。<br>小青：这是红烧狮子头。<br>连翘：这道菜呢，火候不能太大，要细细慢慢地煮，像这样又焦又黑的怎么吃啊？还有这道菜，又红又绿的，是什么呀？<br>小青：这个呀，叫青椒炒笋丝，是我姐姐最拿手的。<br>连翘：炒笋丝就炒笋丝呗，放那么多辣椒干什么呀？你不知道傻小子最不能吃辣了，吃多了，他心口就疼起来没完，就算要吃呢，也得先去籽，再洗去七分的辣气，所以做饭这种事情呢，还是我们穷人家的臭丫头才能做得来，像你们这种大小姐呢，最好就是待在花园里，赏赏花啊，吟吟诗啊，不必浪费时间，故意讨人喜欢。<br>小青：你说什么呢你。<br>连翘：我说何必浪费时间讨别人喜欢呐，白姑娘，你说这煮熟了的鸡翅膀会不会飞呀？泼出去的水会不会流回来呀？这死了的心，能不能再活过来呀？啊？白姑娘？<br>小青：姐姐，你倒是说句话呀。<br>白素贞：青儿，坐下吃饭。<br>小青：姐姐！<br>白素贞：我叫你吃，还不吃啊，你不会觉得我煮的菜难吃吧？<br>许仙：傻丫头，你少说两句行不行？你不是给我送饭来了吗？<br>连翘：对啊，我给你做了最爱吃的酱鸭掌，还有阳春面。<br>小青：姐姐，你当真没听出来吗？那个臭丫头她分明是在将你的军嘛。<br>~<br>许仙：我说你在干什么？一晚上都在傻笑。<br>连翘：我一想到她们在饭桌上的表情，我就想乐，难道你不觉得好笑吗？我想好了，从今天开始呢，我每天都去给你送饭，不光给你送饭，还要陪你一起问诊，一起上工，一起下工，好不好？<br>许仙：我，我困了，我要上去睡觉了。<br>连翘：那我给你铺床去。<br>许仙：铺床？不用了，我又不是三岁小孩子，再说，我还想自己想点事情。<br>连翘：想事多费脑子啊？不如你看这个吧。<br>许仙：看它做什么？<br>连翘：选日子啊。<br>许仙：选日子干什么？<br>连翘：当然是办喜事了。<br>许仙：办喜事？<br>连翘：你不会这么快就把答应我的事给忘了吧？<br>许仙：我答应你什么事了？<br>连翘：娶我呀。<br>许仙：娶你？我什么时候答应的？<br>连翘：你口上没答应，但是你心里答应了。<br>许仙：我心里想什么，你怎么能知道？<br>连翘：我当然知道了，好了好了，你赶快上去休息吧，赶紧休息，明天还要问诊呢。<br>许仙：连翘。<br>连翘：啊？<br>许仙：我，我想跟你说……<br>连翘：有什么话就快点说啊。<br>许仙：算了，改日再说吧。<br>连翘：小心点，记着看皇历啊。瞧他高兴的，站都站不稳了。<br>~<br>许仙：白姑娘，我先走了，对了，柜上有几味药用完了，我明天写个单子，麻烦你再派人买些来，那我先走了。<br>白素贞：你瞧你。<br>许仙：白姑娘。<br>白素贞：出门总是忘了带伞。公子，你的衣裳湿了，进屋烤烤火吧。<br>许仙：烤火？<br>白素贞：进来吧。<br>~<br>白素贞：公子，你在想什么？<br>许仙：我没想什么。<br>白素贞：男人啊总是这样，明明有什么，偏偏说没什么，我猜，你在想，为什么我先前对你好，后来又拒绝你，如今，又巴巴地跑回来，自动现身哪？<br>许仙：是吗？如果真是这样的话，你能回答我的疑问吗？<br>白素贞：我先前对你好，是因为你对我好，我狠心地拒绝你，是为了我们两个都好，现在，我又巴巴地回来站在你的面前，是因为，我只想对你好。<br>许仙：白姑娘，你的话太深奥，许仙不明白。<br>白素贞：你迟早会明白的，但是请公子相信，素贞绝不是一个轻薄反复的女子，我做的每一件事情，都有自己的苦衷。<br>许仙：你只记得自己的苦衷，你有没有考虑过我的苦衷？你知不知道，你伤我伤得多深，如果你真的为了我好的话，就应该让我明明白白为你而生，为你而死。<br>白素贞：公子。<br>许仙：白姑娘，我实在不很懂你，你，太复杂。<br>白素贞：我只想问你一句话，你心里还有我吗？<br>许仙：现在说这样的话，白姑娘，你不觉得太晚了些吗？<br>白素贞：你心里有我，还管什么早晚。<br>许仙：只恐怕这一颗心难装两个人啊。<br>白素贞：难道是因为连翘姑娘？<br>许仙：是啊，她对我很好，也很诚心。<br>白素贞：那，你也喜欢她吗？<br>~<br>钱掌柜：这是给许仙做的？<br>连翘：嗯，你不知道，傻小子每天走街串巷的去问诊，鞋都走破了好几双呢，我呢，就给他做一双新的，让他每天穿在脚上，每走一步呢，都想起我。<br>钱掌柜：行。这是纳鞋底子，用不着使那么大劲。<br>连翘：你不知道，这不光是纳鞋底子的事，这呀，是女人跟女人之间的较量。<br>钱掌柜：又要打架呀？<br>连翘：这第一回合，比的柴米油盐，我赢了，可第二回合呢，她钻了空子，就因为一把伞，变我输了，可是没关系呀，真正的较量才刚开了头，好戏还在后面呢。<br>钱掌柜：这又何必呢？<br>~<br>小青：哎，怎么回事？姐姐，这鞋我穿太大了，你是不是把我的尺码给忘了？<br>白素贞：青儿，哎呀，你快脱下来，这不是给你做的。<br>小青：不是给我的？那是给谁的？噢，知道了，姐姐又是给你那个宝贝许大公子做的吧？姐姐你真偏心，亏我每天还在你身边任劳任怨，我就不给他，不如我呀把它给踢破了，踢破了。<br>白素贞：姐姐什么时候偏心过？不过一双鞋这么小器，试试看合不合适。<br>小青：真漂亮，姐姐，你什么时候偷学的针线活？小青为什么不知道呢？<br>白素贞：你每天这么贪玩，什么时候注意过姐姐。<br>~<br>小三：大哥，你看。<br>杜仲：别喊。许兄，怎么一个人在这儿喝酒啊？怎么许兄，有心事吗？干什么好端端的叹气呢？<br>许仙：你看，这就是我的心事。<br>杜仲：两只不一样的新鞋？<br>许仙：左边这只呢，是缎子做的面，漂亮又别致，是白姑娘做的，右边这只呢，是千层底的，纳了不知多少针多少线，虽然不中看，但穿起来很舒服，是连翘姑娘做的。<br>杜仲：我知道许兄的心事了，你呀这是一双脚，穿不过两家鞋啊，那许兄到底是选这样子别致的呢，还是要那个难看却经穿的呢？<br>许仙：一个有情，一个有义，难哪。<br>杜仲：这有什么难的，穿鞋嘛，样子好看有什么用，脚底下穿着舒服才是真的。<br>许仙：可是，问题不仅仅是漂亮，我要是你，就好了。<br>杜仲：这么说，许兄要选那缎子面的了？那千层底的怎么办？<br>许仙：不知道，我现在什么都不知道。<br>杜仲：长痛不如短痛，你要选谁不选谁，还是早点跟人家说清楚的好。<br>许仙：难啊。<br>杜仲：许兄，许兄，赶紧过来帮忙啊，把箱子拿着。慢点，慢点。<br>小三：来，许公子慢点。大哥，我们这是往宝和堂送啊，还是往宝芝堂送啊？<br>杜仲：他都不知道，我怎么知道？<br>~<br>年轻人：刷干净了吗？<br>十天：那肯定啊。<br>年轻人：好，给。<br>十天：谢谢。来两个馍。<br>小贩：稍等啊。<br>十天：一个就够了。<br>~<br>十天：师傅，你怎么又干这些粗活了？不是说好让我来的吗？师傅，这馍趁热吃吧。<br>法海：十天，这么早你去哪儿了？谁给你的馍？<br>十天：我，是，是我清早化缘了，结果遇上了一个好心的大婶，她问我从哪儿来，给谁化缘，我就说，我从金山寺来，是得道高僧法海的徒弟，您猜怎么着，她一听见是你，马上就把我请到家里去了，她还说，还说经常听您讲经，佩服得师傅五体投地呢，这不就摆了一大桌子饭菜给我吃，这十天实在是饿坏了，吃的翻天覆地的，师傅，你不会怪我吧？<br>法海：怎么会呢？倒是师傅整天只顾着扫塔修行，让你饿了好几天了。<br>十天：师傅，你别说了，快点吃吧，馍凉了就不好吃了。师傅，这馍，好不好吃啊？<br>法海：嗯。<br>十天：师傅，这塔我们也住了好几日了，还不知道它叫什么名字呢？<br>法海：这塔名叫雷峰塔，始建于吴建，是当年越王为其宠妃得子，祈保安康所建，传说这塔内藏有经书四百八十万册，但是从那时至今，却无一人能见。<br>十天：这是为什么呀？<br>法海：混沌人，混沌世，人心太浮躁了，没人能看得见。<br>十天：师傅，你又说我听不懂的禅机了，那我能不能一边扫地，一边顿悟啊？<br>法海：好啊，那就再给你三天的时间，若再悟不出，师傅可不饶你啊。拿着。</p>
</blockquote>
<h3 id="第十八集"><a href="#第十八集" class="headerlink" title="第十八集"></a>第十八集</h3><blockquote>
<p>十天：那我能不能一边扫地，一边顿悟啊？<br>法海：好啊，那就再给你三天的时间，若再悟不出，师傅可不饶你啊。拿着。<br>十天：师傅你吃吧。<br>~<br>法海：十天。<br>十天：师傅。我浑身冷啊。<br>法海：十天，你怎么了？你这身上好烫啊，十天，师傅要带你去看大夫去，走。<br>十天：师傅，我们的银子不够了，我只要睡上一晚上。<br>法海：师傅说话，哪有徒弟插嘴的份儿，走。<br>~<br>大夫：谁呀，三更半夜的，吵什么吵啊？<br>法海：大夫，我徒弟发热得厉害，麻烦你好歹给诊治一下吧。<br>大夫：三更半夜的看病，要多收你一倍的银子。<br>法海：大夫，贫僧是出家人，哪来的银子啊。<br>大夫：出家人不是人？是人看病就得要银子。没银子是吧？没银子就滚远点。<br>法海：大夫，大夫，求求您好歹给孩子看看吧。大夫，我是金山寺的和尚法海，佛有救苦救难，好生之德，就请您看在贫僧给您下跪的薄面上，给我的徒儿治病吧。大夫，求您了。<br>十天：师傅，你这是干什么，起来，你不能跪，你不是说了，你的膝盖，不跪父母，不跪师傅，只跪佛的吗？师傅，你是金山寺斩妖除魔的得道高僧，师傅。<br>法海：斩妖除魔有何用处啊？如今连自己徒儿的命都救不了，十天，十天，十天，十天，你怎么了？十天，你等着，师傅这就想办法救你。<br>老妇人：你是金山寺的法海？<br>法海：正是。<br>老妇人：你的徒弟就是十天了？<br>法海：施主，施主是如何知道的？<br>老妇人：怎么能不知道？这些日子来，他每天天不亮就挨家挨户的收马桶，他洗的马桶又快又干净，你的心肠也太狠了，这么小的孩子，每天干这种又脏又累的活，不病才怪呢。这里不成，你带他去新开的药铺宝和堂去看看吧，那里的大夫心地很好，也许能治吧。<br>法海：宝和堂？好，求您先帮我看着徒儿，我马上去凑钱。<br>老妇人：你别误了孩子的病啊。<br>~<br>当铺掌柜：破布一块，铜钱一吊。<br>法海：施主，你可看清楚了？这是天玄祖传袈裟，怎么可能是破布一块呢？<br>当铺掌柜：你说这不是破布是什么？能穿上街还是能穿着见客啊？连块孩子的尿布都做不了，给你一吊钱就不错了。你不乐意，可以不当啊。<br>法海：好，好，要当索性就当个痛快，这个你看看，是地藏天罗宝杖，您给估个价吧。阿弥陀佛。<br>当铺掌柜：什么天罗宝杖，这不过是一根打狗棒，瞧你这么可怜，来，我再给你一吊钱吧。<br>~<br>许仙：这位师傅好生面熟，你可是来问诊抓药的？<br>法海：阿弥陀佛，正是，正是。<br>许仙：那你为什么还不进去呢？<br>法海：贫僧为了替徒弟医病而来，只是没有买药的银两，听说这宝和堂的许大夫，心地再好不过了，所以想来碰碰运气。<br>许仙：我正是你要找的许大夫，请进吧。<br>管家：许大夫，这药就记在您的账上了。<br>许仙：好。给，按照师傅所说的病症，我又加了一味甘草，这药要分三次慢慢熬，如果不好，再来找我吧。<br>法海：阿弥陀佛，施主果然是大慈大悲之人，所谓善归善，恶归恶，施主今日广结善缘，他日定能有所福报。<br>许仙：师傅，我今生最大的心愿，便是济世救人，如果能够有人因我而身体健康，便是对我许仙最大的福报了。<br>法海：施主，施主刚刚说你叫什么？<br>许仙：小生姓许名仙，许配的许，神仙的仙。<br>法海：你，你真的是许仙？<br>许仙：师傅，有何不妥吗？<br>法海：有妖！有妖，有妖，糟了。<br>许仙：你这是干什么？<br>法海：许施主，你脉象轻浮，必是被妖孽缠身，许施主，你得了大病了啊。<br>许仙：师傅这是哪里话？我本来就是大夫，怎么会看不出自己的病症呢？<br>法海：许施主，宝和堂除了你，可还有其他的人呐？<br>许仙：我只是个问诊大夫，这里自然有其他人，方才为你抓药的是这里的掌柜的，此外还有宝和堂真正的东家，她们是白府的两位小姐，现在出去置办药材，恐怕晚上方能回来。<br>法海：小姐？<br>许仙：姐姐呢，唤作白素贞，妹妹唤作小青。<br>法海：果然是冤家路窄，这白蛇贼心不死，还好被我撞上。<br>许仙：师傅，你说什么？<br>法海：施主，那姐妹二人，恐怕不是人吧？<br>许仙：倒是常有人这么提起，说她们姐妹两个不像是人，像是天上下凡的仙女。<br>法海：荒谬！许施主肉眼凡胎，还不知道这其中的利害吧，那白素贞还有那小青是修炼千年的蛇妖，现在幻化成人形，是前来迷惑你的。<br>许仙：师傅，你这是哪里的话？你说白姑娘和小青是蛇妖，这才是荒谬呢，白姑娘不但貌美惊人，而且温柔大方，与蛇妖两个字根本扯不上关系，我看师傅你真是美丑不分，善恶难辨。<br>法海：许仙，看来你已经是被蛇妖迷惑了心窍，泥足深陷了呀。<br>许仙：师傅，你真是越说越离谱了，我好心好意给你抓药，你却在这里恩将仇报，咒骂我的东家，再说，两位姑娘与你无怨无仇，你又何苦说出这样的刻薄话，来诋毁她们的名声呢？这样说来，我只能请您出去了，管家，送客。<br>管家：师傅，请吧。<br>法海：许施主，你真是糊涂啊，本以为当日半步多，我虽然瞎了双眼，却能救你跳出火坑，也算我积得功德，没想到你不思悔改，一味贪恋女色，竟又干出这种飞蛾扑火的举动，你真是执迷不悟啊。<br>许仙：好你个和尚，什么半步多，什么贪恋美色，白姑娘不但貌美惊人，而且人品端正，我若有缘得到她，那是我今生的福气，我不许你在这里胡言乱语，说她的坏话，不然的话，我把你告到官府去，白姑娘和小青姑娘是什么样的人，我心里看得一清二楚，用不着你这个看不清的来告诉我，你若再不走，我便当真把你轰出去。<br>管家：师傅，还是赶紧走吧，我们这是规规矩矩的药铺，你要是在这儿闹起来，我们可就没法做生意了。<br>法海：阿弥陀佛，许仙啊许仙，你空有一双明目，却辨不清是非，妄我当日在白府打落定情之物，救你一遭。<br>许仙：等等，你说什么？你说你去了白府？你说把定情之物打落？<br>法海：是我拆散你们的，又如何？<br>许仙：为什么？<br>法海：因为白素贞是妖，我若视若无睹，便违背了我在如来面前立下的盟誓，我若今日受她恩惠，便从此没个安宁了。<br>许仙：白姑娘答应我了，白姑娘答应我了。<br>连翘：好端端的，和尚为什么要说白素贞是妖，还是蛇妖？<br>~<br>白素贞：薄荷，金银花，这味药是……，我看不太清楚。连翘姑娘。<br>连翘：傻小子到张伯家复诊去了，说要晌午才回来。<br>白素贞：姑娘要找他的话，晌午来便是了。<br>连翘：我不是来找他的，我是来找你的。<br>~<br>小青：姐姐，你说她平日里对我们冷言冷语的，怎么今天就突然之间殷勤起来了呢？<br>连翘：白姑娘，买点莲花散嘛，这虫啊蛇啊都可怕它了，很好用的，白姑娘，要不来点蛇胆酒吧？傻小子告诉过我，这能趋风活血，很有用处的一味药啊，要不，来两斤新鲜的蛇肉？小青姑娘，这可着实很补呐。<br>白素贞：连翘姑娘，你这是何意呀？<br>连翘：没什么意思，只是在家闷得慌，出来玩呗。<br>小青：哦，闹了半天，你是在耍我们。<br>连翘：玩不起就别玩，不过开个玩笑，对不对呀，白姑娘？<br>白素贞：平日里我们可有什么对不住姑娘的？<br>连翘：姑娘没有什么对不住我的地方，我只不过是跟蛇过不去，对了，白姑娘猜我是干什么的？我是捕蛇女，一生最恨蛇这个东西。<br>小青：姐姐，难道她知道咱们身份了？她是怎么知道的？<br>白素贞：他来了。<br>小青：啊？<br>~<br>小青：姐姐你看那儿，雷峰塔，姐姐，你真算定了那个和尚就在里面吗？你怎么了？<br>白素贞：青儿，你不知道，当日，我曾向观音大士盟誓，若我帮助许仙完成两个心愿之后，如若再眷恋红尘，心生杂念，就让我身葬在雷峰塔下，难道，这是佛祖对我的警示吗？<br>小青：姐姐，大可不必担心，既然来了钱塘，怎么会不看雷峰塔呢？再说，你只要按照你自己所说，一旦帮许仙完成心愿之后，就立刻抽身而退的话，不就行了吗？管他什么雷峰不雷峰呢，好了，既然咱们老熟人在里面，这都到门口了，哪有不顺便进去寒暄一番的道理？<br>~<br>小青：姐姐，你看。<br>十天：师傅，我不饿，师傅。<br>白素贞：他在发热，用内力替他降温。<br>十天：师傅，我不饿，师傅。<br>法海：妖孽，离我徒弟远些。<br>小青：姐姐，是那个臭和尚。<br>法海：妖孽，你没听到我说的话吗？离我徒弟远些。<br>小青：你没看见我姐姐正在给十天治病吗？很想打架是吧？跟我想到一块儿去了，不过得按照我姐姐的规矩来，救人最大。<br>法海：我徒弟是死是活，不劳你们费心，若他受了你们的恩惠，还不如病死的干净。<br>小青：呸，臭和尚，我姐姐说的没错，你虽然有个人的身子，却没有半点人的心，还是打架来的痛快，来吧，我小青奉陪。你知不知道，你现在像什么？就像一条狗！臭和尚，我等得这一刻已经等了很久了，今天我就成全你。<br>白素贞：青儿。法海，做个清心寡欲的和尚有什么不好？你到底想要什么？<br>法海：我要除了你。<br>白素贞：除了我，你又能怎样？<br>法海：除了你，除了你，我便能成佛。<br>白素贞：和尚，你拜你的佛，我成我的仙，根本就是两件不相干的事，你又何必搅在一处呢？我白素贞修炼至今，从未伤害过半条性命，为人做事更是不敢有半点差池。<br>法海：没有半点差池？那请问许仙呢？你又如何申辩？<br>白素贞：许仙？<br>法海：别以为我不知道你做的好事，你们魔道众妖，哪个修炼千年不是为了幻成人形，迷惑人间的痴情男子，一旦时机成熟，便吸取他们的精血，保自己千年不死之身。<br>白素贞：和尚，妖也分善恶，我虽出身魔道，但从未修炼过采阳之术，如果当日我肯苟合于魔道圣君，又哪有今日活命的许仙？<br>法海：是吗？白素贞，你口口声声心无杂念，那，无情槌阵你又怎么解释？若你当日无心迷惑许仙，为什么还要将那不忘情的办法知会于他？<br>白素贞：我动了情。<br>法海：什么？大声点，妖孽，我怕我听错了话。<br>白素贞：我对许仙动了情，虽然当日在半步多，我并不知道，但情就是情，无论我怎么修炼，也还是奈何不了它。<br>法海：妖孽就是妖孽，白素贞，这情字也是你配提的吗？这真是我此生听到的最大的笑话。若不是当日我在那无情槌阵变幻成你的模样，把许仙搭救出来，他早就没命了。<br>白素贞：许仙回头，忘了半步多的一切，都是因为你变成我的样子骗他？<br>法海：当然，不必奉承我的高明。<br>白素贞：你无耻！当日在半步多，我虽然恨你滥杀无辜，但也敬你执着，没想到你做出这样的勾当。<br>小青：他本来就无耻，姐姐，让我杀了他，好不好？<br>白素贞：我不杀你，和尚，杀了你反倒成全了你，本来这几日我还犹豫不决，以为自己做了令天下人耻笑的事情，可我今天见到了你，反倒让我下了一个决心，我突然明白，原来光明正大的那个人是我。法海，你竖起耳朵听清楚，我爱定了许仙，更要定了许仙，不如我们斗一斗，我若赢了，许仙便是我的，我若输了呢，素贞就是你的了。<br>小青：哼！<br>~<br>钱掌柜：来来来，大家多吃啊。来来来，吃啊。来，吃。<br>连翘：傻小子，你干嘛呢？今天可是掌柜的寿辰，你不吃也不喝，又犯了呆病不成？到底出什么事了？傻小子。傻小子，你去干什么呀？<br>许仙：和尚可恨，我太糊涂。<br>连翘：又是那把破伞。<br>~<br>小青：姐姐，不是要回家吗？怎么来这儿了？姐姐，这无缘无故的，喝的哪门子酒啊？<br>白素贞：不用多问，一会儿你就明白了。<br>小青：姐姐，可能天快要下雨了，不如我们先回去，这酒啊，在哪儿都能喝，对不对？<br>白素贞：这几杯酒，只能在这儿喝。青儿，你看，又是在这断桥之上，我们又碰到了雨。<br>~<br>连翘：傻小子，你要去哪儿啊？你要去哪儿啊倒是，你倒是说话呀。你去哪儿啊？说话呀，去哪儿啊？<br>许仙：你别拉着我，我要去找她，当日是那和尚从中挑拨，我糊涂啊，我误会她了，其实她已经决心嫁给我了。<br>连翘：什么和尚，什么挑拨，你去找她，那我怎么办？<br>许仙：傻丫头，我现在都明白了，你我是手足，她才是我要的人。<br>连翘：许仙！<br>小青：这是私人小聚，不方便外人打扰，所以呢，姑娘又何必跟上去，自讨没趣呢？<br>~<br>白素贞：公子，你来啦。<br>许仙：不光我人来了，我还把伞带来了。<br>白素贞：公子。我白素贞与你许仙，因雨而结识，这第一杯酒，我们就来敬这说来就来的雨吧。这第二杯酒，是来敬那个和尚，他苦心要拆散我们，反倒让我下定了决心。这第三杯酒，是我敬你的，自从你我相识至今，难得公子对素贞一片深情，不管是天意也好，缘分也好，我愿意履行我的诺言，做你的娘子，从此白头偕老，永无二心，你若答应，就请喝下这杯酒。<br>许仙：你愿意做我娘子？你会一心一意？<br>白素贞：若有二心，天地不容。<br>许仙：姑娘你能温柔贤惠，得体大方，尊敬我的家人，善待我的朋友？<br>白素贞：你的家人就是我的家人，你的朋友就是我的朋友。<br>许仙：你还会不辞而别吗？<br>白素贞：如若再有欺瞒公子之举，任凭公子你随意发落。还有些什么吗？<br>许仙：我一时想不起了。<br>白素贞：那就让我们以后一起想吧。<br>~<br>法海：十天，你还想吃什么？你跟师傅说，师傅替你化些斋饭去。<br>十天：师傅，在寺里的时候，听那小师兄说过，每当他生病的时候，他娘便给他煮粥吃，十天现在真想喝一口娘熬的粥啊。<br>法海：那好，师傅现在就去给你讨碗清粥去。<br>~<br>小二：我可帮不了你了，你这钵都破了，就算我肯舍给你，也盛不了粥啊，要讨饭就换个碗来吧。<br>法海：施主，我求求你，好歹施舍一些吧。<br>小二：本来呀，还有口剩粥，可哪还有送你碗的道理？<br>法海：施主，这钵虽然破了，可还能再补，若用这钵换了讨饭的碗，我岂不成了一个真的要饭的乞丐了？以后还如何斩妖除魔呢？<br>小二：你这么犹豫，还讨什么饭呐？<br>法海：好，好，施主且等等，我去去就来。<br>~<br>十天：师傅，我喝了这些粥，一下子感觉有力气了。<br>法海：好，那就多喝一些。<br>十天：师傅，你化缘的时候一向用那个金钵的吗？怎么突然变成了只破碗？<br>法海：那金钵已经破了，师傅把它给丢了。<br>十天：丢了？<br>法海：啊。<br>十天：你怎么能丢呢？那可是佛祖赐给你斩妖除魔的金钵，丢了钵，以后遇到妖，师傅如何去降？<br>法海：钵破的连碗清粥都装不了，还怎么斩妖除魔呢？<br>十天：师傅，你真是糊涂，还说什么斩妖除魔，一刻不得倦怠，你看看你，根本就像个乞丐，十天，十天很生你的气。<br>法海：那，那你不也一样吗？说什么，一个好心的婶婶把你请到她家里，一大桌饭菜吃得你昏天黑地，骗师傅的对吧？什么好心的婶婶，每天天不亮就跑去挨家挨户的收马桶才是真的吧？你把师傅当成小孩一样的骗，师傅，师傅也生你的气了，师傅生了比你还大的气。<br>十天：其实也不是很气，原谅你好了。<br>法海：那我们是不是和好了？<br>十天：对，我们和好了。<br>法海：十天，你又犯戒了。<br>十天：下不为例。<br>法海：下不为例，下不为例。<br>十天：师傅，这是怎么回事？这墙上怎么会有这么多的字啊？<br>法海：十天，那不是字，是佛经，我们看到那四百八十万册经书了。<br>十天：师傅，你的眼睛不是盲了吗？怎么还能看得见？<br>法海：正是我这样的瞎眼，和你这样的天眼，才能看得到，法海啊法海，你的执着到底没错，十天，佛祖赐给我真经了。<br>佛祖：法海，你救徒心切，不惜当掉天玄祖传袈裟和地藏天罗禅杖，此后又用镇妖的金钵换了乞丐所用的破碗，正所谓缘起缘灭，都需放下二字，你当日放下斩妖除魔的利器，正是你下乘修行的转机，只有放下，才会得道。法海，现在我就赐你天罗金钵，助你完成修行的上乘。<br>~<br>连翘：啊。<br>杜仲：你醒了。<br>连翘：我睡了几天了？<br>杜仲：整整三天了。<br>连翘：三天？那傻小子怎么办啊？他饿了，谁给他做饭？下雨了，谁给他送伞？不行，我得赶快到厨房给他做几个小菜，给他送到宝和堂去。<br>杜仲：连翘，他们今天已经结亲了。<br>连翘：结亲？什么时候？<br>杜仲：算起来，应该已经拜过堂了吧。<br>连翘：结亲要吃饭的。<br>杜仲：连翘，许仙已经娶了白素贞，难道他的娘子就不能给他做饭吃吗？连翘，他们本来就是很般配的一对，你就不要再去自讨没趣了，好吗？<br>连翘：傻小子吃惯了我做的菜，我只是给他送饭而已，没有别的意思，真的。<br>杜仲：连翘！<br>~<br>许仙：多谢各位，慢走。娘子，我会不会是在做梦啊？万一醒过来，你又不在了。<br>白素贞：那就永远也不要醒过来。<br>许仙：娘子，你怎么了？<br>小青：姐姐，姐姐，不好了，后院的老树被天雷击中了，起火了。<br>许仙：好端端的怎么会失火呢？娘子，你等我，我去救火。<br>小青：快点。<br>许仙：快走。<br>白素贞：（这是天雷，这是警告天下六道妖魔的天雷，难道老天在警告我，我做错了什么？难道我不该嫁给许仙吗？）<br>连翘：白素贞，你是蛇妖，对不对？若不是，老天怎么会在你大婚的日子，用天雷击中你的宅院呢？若不是，你怎么能把傻小子迷的心志大乱，弃我而去呢？<br>白素贞：连翘姑娘，你听我说，很多事情你不明白。<br>连翘：别说了，你看我美不美？<br>白素贞：你很美。<br>连翘：可是没有你美，我是个凡人，再美也美不过你，我还想跟你斗，可是怎么斗啊？你是妖，一定法力高强了。<br>白素贞：连翘姑娘，我知道你喜欢我的相公，但是你也清楚，他的心里只有我一个，两个人在一起，是勉强不得的。<br>连翘：你说两个人，你是说人这个字？白素贞，你放过许仙吧，我知道傻小子很喜欢你，你也帮了他不少的忙，我在他心里确实是没有位置，可是你们人妖殊途，是不应该在一起的呀。白素贞，你能瞒得住你的身份吗？你有没有想过，一旦傻小子他知道你是蛇，他又将如何呢？你又能怎么面对他呢？你若真的喜欢傻小子，你若真想知道当人家娘子的滋味，现在嫁也嫁了，娶也娶了，你总该收手了吧？我求求你，放过许仙，放过傻小子吧。<br>白素贞：不，我不能。<br>连翘：只要你愿意，没有什么不能的。<br>白素贞：我们是真心相爱的呀，连翘姑娘，不管我是谁，我是不是你们的同类，可是我奈何不了情这个字啊。<br>连翘：那你就是不肯放过他了？<br>白素贞：我试过，可是我做不到。<br>连翘：你就不怕老天再烧你的宅院？<br>白素贞：宅子烧了，再搬另一处，可相公只有一个。<br>连翘：你就不怕街坊知道诽短流长？<br>白素贞：只要两情相悦，何必在乎他人的闲言碎语呢？就算住在荒郊野外，我们也会很快乐的。<br>连翘：那我就索性杀了许仙，省得他跟着你受苦，被你所累。<br>白素贞：我不会让任何人伤害他，如果姑娘你真的想杀了他，那就有劳姑娘杀他的时候，连我一起杀了，不能同生，但求同死。<br>许仙：娘子，娘子。<br>白素贞：相公。<br>许仙：火灭了，人都无碍，只是药房被烧了大半。<br>白素贞：人没大事就好，药材明天再买嘛，对了，我们匆忙办事，倒忘了请一个人。<br>许仙：是吗？谁呀？<br>~<br>许仙：娘子。<br>白素贞：相公。<br>许仙：娘子，天色已经不早了，我们快去休息吧，你在这里干什么？<br>白素贞：我看你招呼了一天的客人，没吃什么东西，所以想给你煮点清粥。<br>许仙：我不饿，我就是饿，也不能累着娘子，对了，连翘不是送了个食盒过来吗？我吃那些就可以了，她做的酱鸭掌可香了，也不知道有没有我最爱吃的萝卜糕。<br>白素贞：也好啊，省得我们这些笨手笨脚的人，在这儿瞎忙活。<br>许仙：没想到，像娘子这样贤惠又大度的女人也会吃醋。<br>白素贞：你不吃你的酱鸭掌，你还笑话我。<br>许仙：娘子，你吃醋，说明你在乎我。<br>小青：姐姐。<br>白素贞：青儿，你找我有事吗？<br>小青：姐姐，我有事想问问你。<br>白素贞：相公，我去去就来。<br>小青：姐姐，不能再拖了。<br>~<br>小青：姐姐，难道你不觉得这场大火，是老天爷警告我们的吗？<br>白素贞：是天雷没错，刚才在雷鸣之时，我似乎看到很多法眼在盯着我，就连以前我在观音大士面前的盟誓，也句句响在耳边。<br>小青：那就是说，难道天上的神仙都已经知道了你要跟许仙成亲的事了吗？完了完了，姐姐，你大概也知道那个规矩吧？人妖成亲，必遭天遣呢。姐姐，你可记得鲤鱼精夫妇吗？姐姐，你不是说了吗？你一旦帮许仙完成两个心愿，就抽身而退，现在很好啊，许仙在钱塘县是有名的大夫了，今日他又成了亲，娶了像姐姐这般美人，我们现在可以走了吧？<br>白素贞：可是成亲也不过才一日，我不能在这个时候就这么走了，你也知道，相公对我情深意重，上次不告而别，已经闹出那样的举动，如果这次再走，万一他……<br>小青：万一万一万一，怎么那么多万一啊，姐姐，那我问你，咱们到底什么时候可以走啊？</p>
</blockquote>
<h3 id="第十九集"><a href="#第十九集" class="headerlink" title="第十九集"></a>第十九集</h3><blockquote>
<p>白素贞：你也知道，相公对我情深意重，上次不告而别，已经闹出那样的举动，如果这次再走，万一他……<br>小青：万一万一万一，怎么那么多万一啊，姐姐，那我问你，咱们到底什么时候可以走啊？<br>白素贞：起码，也要找个机会，跟他说清楚啊。<br>小青：那你可要抓紧时间，你等得了，有些人可等不了。<br>白素贞：天色不早了，早点休息吧。<br>~<br>白素贞：相公，怎么不点灯呢？<br>许仙：喜欢吗？<br>白素贞：喜欢，很美，像星星一样，真好。你怎么了？<br>许仙：没什么，我到芦苇荡捉萤火虫的时候，被划伤了。<br>白素贞：真的？让我看看。<br>许仙：让你看可以，可是你要答应我一件事。<br>白素贞：什么事啊？（耳语）看你，人家都说你傻，你还真是傻呀。<br>许仙：谁说我傻？我要真傻的话，能把你这样的仙女娶回家吗？我看世上最聪明的男人，非我莫属了。<br>白素贞：看来啊，小女子以后还要靠你这个最聪明的男人提携，我愿做你手下的随从，请不要把娘子我辞退。<br>许仙：娘子这是什么话？哪有辞退二字，除非让我死。<br>~<br>小青：掌柜的送来银瓶一对，这个。杜仲大哥送来镶花箱子，两只。小三送的花瓶。这是什么？谁这么糊涂啊？怎么没名没姓就送过来了？奇怪，会是谁送的？管他呢，拆开来一看便知。啊！<br>~<br>白素贞：青儿。<br>小青：姐姐救我！我要现原形了。姐姐。<br>许仙：怎么回事？好像有人在叫。<br>白素贞：没有啊，我怎么没有听到？<br>许仙：明明有人在叫，好像是小青啊。<br>白素贞：不会的，我和小青刚刚还在一起呢，相公啊，我看你累了一天了，你先睡。<br>小青：姐姐，它要收了我，救命啊。<br>许仙：就是小青，好像就在前堂。怎么了娘子？你怎么了？<br>白素贞：我喝了点酒，有点头晕，站不稳。<br>许仙：来，坐下让我看看。<br>白素贞：不用了，相公，你去厨房拿几颗酸梅来，给我醒醒酒。<br>许仙：好，那你等我啊娘子，我马上回来。<br>白素贞：青儿，快到我这儿来，我帮你恢复原形。<br>小青：姐姐。姐姐。姐姐这钵好厉害，你斗得过它吗？<br>白素贞：斗不过也得斗，恐怕我坚持不了多久，你赶紧跳进莲花池，免得一会儿现出原形，吓坏了相公。<br>小青：好。<br>许仙：娘子，娘子。娘子，酸梅来了。<br>白素贞：相公啊，我没事了，头不晕了。<br>许仙：不晕了？好这么快啊。<br>白素贞：你今天还没有看医书，不如我现在陪你去看。<br>许仙：娘子，看医书也不用这么着急啊，干嘛要跑？<br>白素贞：我跑了吗？对了，我还有句话要与小青交待，不如，你先去看医书，我去去就来。<br>许仙：娘子啊，到底发生什么事了？<br>白素贞：相公，总比吓着你强啊。青儿，快定住神，变回人形，别吓着相公了。<br>小青：姐姐，那钵缠的我好厉害，我办不到。<br>白素贞：法海！和尚，今天是我的好日子，你也来搅上一搅。<br>法海：正是今天才来，我的贺礼如何？收礼吧。<br>白素贞：法海，贺礼有些分量，可惜你法力不够，这钵你还没炼成呢。青儿，快变回人形，相公就要醒了。<br>~<br>许仙：娘子！娘子！坏了，我怎么一个人在大喜的日子睡着了。娘子，你在外面吗？娘子，小青，你们在做什么？怎么不叫醒我？<br>白素贞：相公，我看你累了一天，所以有病人来问诊，我就代劳了。<br>许仙：娘子，这不就是那日破坏我们的疯僧么？<br>白素贞：相公，你干什么？<br>许仙：娘子这和尚救不得，就是他硬说娘子是妖的。<br>白素贞：都说是疯僧了，所以难免胡说，我们何必跟他计较呢？我们是开药铺的，当然要讲医德了嘛。<br>小青：对呀，对呀。<br>许仙：娘子，还是你大仁大义，也好，那我就亲自给他看看。<br>白素贞：相公。<br>许仙：怎么了？<br>白素贞：我看不用了。<br>许仙：娘子，不是你说要讲医德吗？<br>白素贞：我刚才已经给他看过了，他是从娘胎里落下的病根，是失心疯，很难治的。<br>许仙：原来是这样，那倒真是不容易，难怪那日他胡说八道，说娘子你是妖呢。这样看来，我更要给他好好看一看，省得他以后到街上乱说，毁了娘子的美誉。<br>白素贞：相公啊，你看天色已经很晚了，病症又这么复杂，相公，不如你去翻翻医书，找找治病的方法，等找到了再让他来也不迟啊。<br>许仙：那也好，那我就进去翻翻医书，麻烦娘子你照顾他一下。<br>白素贞：好啊，好啊。<br>小青：姐姐，还好你反应得快，要不然就被许仙发现了。姐姐，既然你封了这和尚五音，不如干脆斩草除根，杀了他。<br>白素贞：那可不行，他是得道高人，又有佛祖所赐的天罗金钵，青儿，麻烦你走一趟，找个荒郊野外，把他放在那里就是了。<br>小青：啊，为什么？他那么狠毒，屡次跟我们过不去，方才我又中了那个钵一招，就这么饶了他，怎么甘心啊？<br>白素贞：你就听姐姐一次好不好？今天是我的大喜日子，我只想安安稳稳的，过了今夜再说。<br>小青：好吧，好吧，都听你的，谁让你是我姐姐呢。<br>白素贞：早去早回啊。<br>~<br>小青：待着吧，和尚。姐姐说让我不要杀了你，不过没说不让别人来杀你，我走喽。<br>十天：师傅！师傅！你在哪儿呢？师傅！<br>~<br>白素贞：青儿。<br>小青：姐姐，你这么早就起来了？我还怕吵醒你呢。<br>白素贞：你呀，怎么去了这么久？那和尚呢？<br>小青：我啊，把他放到五毒山了。<br>白素贞：五毒山？<br>小青：嗯。<br>白素贞：你怎么把他丢到五毒山了？<br>小青：你只说我不能杀了他，可又没说不能把他放到五毒山。<br>白素贞：你啊，坏了大事了。<br>小青：这怎么能叫坏大事呢？五毒山上那么多妖魔鬼怪，哪个不对他虎视眈眈的，我不过借别人之手解决心腹大患，杀了那个和尚，于姐姐，于我，不都是一件好事？<br>白素贞：你这哪是杀了他啊？你知不知道，你这反而是帮了他。<br>小青：帮他？<br>~<br>小青：你说什么？那钵需要修炼？它每收一个妖物，法力就会增强一重？<br>白素贞：那天罗金钵，本是天地间一件灵物，因为如来佛祖曾用它饮过水，所以它的潜力无穷，得道者，只要潜心修炼，就能使它发出巨大的法力。<br>~<br>钱掌柜：我说她从宝和堂回来有三天了吧？<br>小三：啊。<br>钱掌柜：一点动静都没有？<br>小三：没有，杜大哥让我在这儿守了三天，连唉声叹气的响动都没听见。<br>钱掌柜：我是怕她想不开。<br>杜仲：掌柜的，你说什么？<br>钱掌柜：我是怕万一呀。<br>~<br>月老：这位姑娘，你在这儿坐了半天了，想好吃什么了吗？<br>连翘：你也看我不顺眼，想赶我走是不是？<br>月老：姑娘，我哪儿敢呐？你可千万别哭啊，我最看不得女人流眼泪了，要不这样吧，你坐在这儿，坐到明天天亮，我，我都不赶你走，行了吗？<br>连翘：你是不是看我可怜，觉得我没地方去，觉得我没有人要，臭老头，你欺负人。<br>月老：姑娘，你可不能这么说话呀，我是好心好意地安慰你，你，你怎么反过来骂起我来呢？<br>连翘：我不止骂你，我还要骂那个臭小子，骂那个昏头昏脑，错牵姻缘的月老。<br>月老：月老？他得罪你了吗？<br>连翘：他不止得罪我，还害了我。<br>月老：害你？不可能，月老那么慈祥，又那么善良，他怎么能害你呢？<br>连翘：他就是害我，无缘无故地让我和那傻小子见面，就是害我，让我和他见面，却不让我跟他在一起，就是害上加害，不让我们在一起，却让他被那个蛇妖迷惑，就是害上加害再加害，臭月老，老糊涂，害人不浅。<br>月老：姑娘，说话不能那么苛薄，所谓姻缘天注定，这男人和女人在一起，靠得就是姻缘，月老只不过替他们牵个线，你，你怎么能怪罪他呢？<br>连翘：那就是天的事了，好，我今天就要骂骂这个天，我倒要问问它，每天在人家头顶上，到底看清楚没有，想清楚没有，做出这等十恶不赦的事来。<br>月老：姑娘，你可不能乱来，这天是能随便骂的吗？姑娘，我知道了，你说那个傻小子肯定是看了别人家的姑娘，娶了当媳妇了，对不对？<br>连翘：什么别人家的姑娘，她根本就是条蛇。<br>月老：蛇？啊，姑娘，如果你真喜欢那个傻小子的话，我这儿还可以再给你一个机会。<br>连翘：你给我机会？<br>月老：姑娘，这转机全都在这儿了。<br>连翘：不过是盏普通的油灯嘛，你耍我。<br>月老：别着急啊，姑娘，这灯虽然普通了一点，那灯芯它可就不普通了。变。变。<br>连翘：你会变戏法？你到底谁呀？<br>月老：我是谁并不重要，姑娘，你不是想要那傻小子回心转意吗？我现在就从万民之中，抽出了你们两个人的红线，把它系在了一起捻成了灯芯，这灯芯一旦点亮，你们俩就有了姻缘，从此以后，在你们眼中只有对方，没有别人，姑娘，你还不使出浑身的解数，赶紧把那个傻小子拽回来吗？<br>连翘：可是我不明白，你……<br>月老：没有时间问问题了，姑娘，你的时间不多，这个灯芯只要点完，你们俩的姻缘可就没戏了，快去吧。<br>连翘：好，谢谢啊。<br>~<br>连翘：宝贝油灯，你可千万不要灭啊，我也是为了救那傻小子跳出火坑啊，别灭啊，傻小子，你快点出来呀，我有一萝筐的话要跟你说呢。<br>~<br>小青：许仙，许仙，你去哪儿啊？装听不见，莫非是跑去鬼混？不行，我要告诉姐姐去。<br>~<br>连翘：不要灭，不要灭。傻小子。傻小子，我终于见到你了，我跟你说，你娘子她不是人，她是妖啊。<br>许仙：你瘦了。<br>连翘：我哪有，我天天都吃的很多，我还胖了不少呢。<br>许仙：你哭了，为我哭吗？<br>连翘：我是为你，你为她跳崖的时候，我为你哭，你跟她成亲，我还是为你哭，我都快变成一个爱哭鬼了。<br>~<br>小青：我说吧，他果然是出来鬼混来了，我说的话，你居然还不相信呢。姐姐，让我过去给他们一点难堪。<br>白素贞：算了，我们回去。<br>小青：姐姐，你怎么那么能忍啊？你们才成亲几天，他竟然做出这种事情来，刚才他们抱得那么紧，简直就是奸夫淫妇嘛，不行，我真的看不过去了，我一定要过去教训他们一顿。<br>白素贞：我说过了，我们回去。<br>小青：姐姐。<br>~<br>许仙：我怎么在这儿？怎么是你？我们怎么……<br>连翘：糟了糟了，油灯灭了，我还有好多话没说完呢，许仙，我不相信我们的缘分就这么尽了，灯是灭了，但它可以再亮啊，要不要它亮，就看你一句话了。<br>许仙：我只能说对不起你了，我不能对不起我娘子，我不能再欺骗我自己了，我更不能欺骗你。<br>连翘：为什么？当日她弃你而去，你不是已经忘了她吗？不是已经死了心吗？你要娶的人不是我吗？<br>许仙：不，我没有忘了她，我以为我可以忘了她，我以为我已经死了心，我甚至以为老天注定让我娶了你，让我们平平淡淡地过这一辈子，可是她又回到了我身边，她又回来了，她说她要做我的娘子，我就不能骗我自己了，我更不能再骗你了。<br>连翘：骗我？你是说，你要跟我在一起，是骗我？<br>许仙：我不是故意的，若没有白素贞的话，我说的话便都是真话，可是有了她，我再怎么说喜欢你，那也都是假话，当日试情崖，我已经为她死过一次，如若我再跟你成亲的话，我无非就是为她再死一次，你明不明白呀，我并不是已经死心了，是我的心已经随她去了，现在只剩下一个空空的身子，没有心，这样的人你肯要吗？我知道，我心里知道你对我好，可是我只是一个软弱而又无用的男人，这世上的事情原本就是这么奇妙，我要的不要我，要我的我却不能要，你我不过是溺海的两个落难者，偶然遇到一块浮木，便一同伸手去抓，成亲不过是那块浮木，可是浮木毕竟是浮木，在苦海里泡久了，一样会沉下去的。我离去的决心已定，你又何苦执着，抱着这块木头不放呢？<br>连翘：好，许仙，我说不过你，可是，你怎么才能明白，她不是人，她是妖。<br>许仙：你疯了，我也疯了，三更半夜的我和你在这种地方说这种疯话，这要是让我娘子看见，我得走。<br>连翘：许仙，你不能走，我不是来害你的，我是来救你的呀，你脑子清楚一点好不好啊。<br>许仙：要清楚的人应该是你，我已经跟你说过多少遍了，我爱的人是我娘子。<br>连翘：爱也爱了，可是不能再爱了，我真的不是来害你的，我是来救你的。<br>许仙：不，你错了，既然爱了，就不可能不再爱，这辈子，上辈子，下辈子，下下辈子，我只爱我娘子一个人，连翘，世上的好男人到处都是，我求你放过我吧，好不好？<br>连翘：你就会说让我放过你，你永远就只会这一句话，要放过你的不是我，是你娘子啊。<br>八两：丫头，别想了，再想那也是人家的相公啊。<br>~<br>许仙：娘子，我……<br>白素贞：回来了，回来就好，我给你擦干净才好啊。<br>许仙：娘子，我昨天晚上……<br>白素贞：不用说。<br>许仙：你生我气吗？<br>白素贞：你是我的相公，你做什么，我都不会生你的气的，不要说那么多了，跟我进屋吧。<br>许仙：娘子，我昨天晚上……<br>白素贞：跑了一个晚上，一定饿了吧？我和青儿做了早点，青儿，给相公盛碗粥。<br>许仙：娘子，我……<br>白素贞：青儿，你这是什么态度啊？<br>小青：我什么态度啊，姐姐，你好脾气能忍，我可没那么大方，这才成亲几天啊，他就背着你出去鬼混，还拉拉扯扯的，真不像话，姐姐给你开药铺，让你名扬钱塘县，供你吃，供你穿，你知恩图报没有啊，可在外面沾花惹草你倒挺在行。<br>白素贞：青儿！<br>许仙：难道你们都知道了？<br>小青：都知道了，我和姐姐两个啊，亲眼看到了，下次是不是请街坊邻居也去给你捧场啊？<br>白素贞：青儿，你够了，她耍小孩脾气，乱说的，不是回来了吗？回来就好。<br>许仙：娘子，我知道我昨天晚上做了十恶不赦的事情，可是，请你相信我，我只是做了一个恶梦，我真的不知道自己在做什么呀。<br>小青：恶梦？我告诉你，俗话说得好，日有所思，夜有所梦，你要是平日里不想的话，又怎么能做出这样的事来？今天要是我不替姐姐教训你的话，我就不叫小青！<br>白素贞：青儿！<br>小青：姐姐！<br>白素贞：你骂也骂够了，气也该消了吧？你给我进屋去，听见没有？<br>许仙：你就让她动手吧，至少我心里舒服一些。<br>白素贞：什么大事啊，你说的，我都相信。<br>小青：好了好了，我真被你们两个给气死了，算了，我懒得管你们俩的闲事，哼！<br>许仙：娘子。<br>白素贞：我们是夫妻，既然在一处，难免磕磕碰碰的，如果这样的小事都过不去，还谈什么白头偕老啊。<br>~<br>八两：丫头，都是我错了还不行吗？我哪知道你在底下，那手里还拿着盏油灯啊，丫头，丫头，你大人不计小人过，行不行？我是一个粗人，你大人有大量，那你就原谅我，这还不行吗？那要不，大不了你说什么是什么，对不对？我任凭你发落。<br>连翘：对呀，你会武功？<br>八两：会啊。<br>连翘：你也会法术？<br>八两：倒拜过一师傅，学了些三脚猫的功夫。<br>连翘：好，那你替我把那蛇妖给杀了。<br>八两：哎哟，这可使不得呀。<br>连翘：为什么？<br>八两：我再大罪过，也不能凭白无故杀一个好人啊。<br>连翘：你们怎么都不相信我，她是妖，她不是人。<br>八两：不行，我说不行。<br>连翘：好，就按你的规矩办。<br>八两：不行，这生意我不能接。<br>连翘：做不做？你不做我做，你教我功夫，然后再教我法术。<br>八两：丫头，这武功好学，法术难求啊，这法术不是一天两天就能学成的。<br>连翘：一天两天学不会，我学一年，一年学不会，我学十年，总有学成的一天，再说我爹从小教我捕蛇，我身手还是不错的。<br>八两：你说你什么？你爹教你什么？<br>连翘：捕蛇呀。<br>八两：他在哪儿？<br>连翘：死了。<br>八两：丫头，你就听我一句，你不是她的对手。<br>连翘：我本来就是个捕蛇女，也许我跟她之间，注定要较量一番。<br>~<br>白素贞：相公，你看，这里多美呀，我好喜欢。<br>~<br>许仙：娘子。<br>白素贞：相公。<br>许仙：我帮你吧。<br>白素贞：从今往后，这两只簪子，只为你留着，你来拔它，我才歇下。<br>许仙：娘子，时候不早了，我们休息吧。<br>~<br>小青：欠，又是欠，哎呀，这账根本就没法算了嘛，你说这要么就是义诊，要么就是白送汤药的，还有每天的吃穿住用，哪样不花银子的，他们两个倒好，只管着两个人卿卿我我的，什么都要我们俩来着急，真是的。<br>管家：青姑娘，着急也没有用，还是从长计议吧。<br>小青：从长计议？没有银子，计什么计呀。我以前哪会为这种事着急上火，那两手一挥，一二百两银子不就变到手上了？可是到了人间，规矩那么多，法术一样也不许用，还要学人那么辛苦地赚钱，真是烦死人了，烦死了，我不算了。<br>~<br>小青：姐姐。你等等，你看看这账是怎么回事啊？<br>白素贞：这账目有什么可看的，你看，差点把我的燕窝粥给打翻了。<br>小青：啊？燕窝粥？这大概要花多少银子啊？<br>白素贞：这有什么呀？要不要尝尝？锅里还有，自己盛去。<br>小青：免了吧，我看啊，还是留给你那个宝贝相公喝吧。<br>白素贞：这你也吃醋。<br>~<br>小青：许仙，你不要买了，许仙，铺子里已经没有多少银子了，你知不知道你。你不要那么太浪费好不好？你为什么一点都不关心啊？你……最近药铺生意也不好，你倒是大手大脚的，尽买一些有用没用的东西。<br>小贩：这个才二两银子。<br>小青：什么？二两银子？太贵了，不值不值。<br>许仙：小青，你说这个簪子给你姐姐戴，好不好看？<br>小青：不好不好，一点都不好看，你说一个簪子哪里值这么多钱啊，不要买。<br>许仙：小青，结账。<br>小青：许仙，我都跟你说太贵了，你怎么还买啊？好，你们两个都不管是不是？那我还瞎操什么心啊？反正这日子也过不了几天了，给你。<br>杜仲：许兄？<br>小三：停！小青姑娘。<br>小青：小三。<br>杜仲：小青姑娘。<br>小青：杜大哥，你们这是去哪儿啊？<br>杜仲：小青姑娘，这是新起获的赃银，要送到太尉府去入库。<br>小青：赃银？赃银应该查封才对嘛，为什么要送到太尉府呢？<br>杜仲：这……<br>小三：青姑娘，这是上边的事，可由不得我们胡说呀。<br>小青：两位大哥忙去吧，路过宝和堂，记得进来喝茶呀。<br>杜仲：告辞。<br>小青：既是赃银，那就不怕再赃一次了。<br>~<br>八两：好久不用了嘛，想当初在魔道的时候，他曾经还救过我和傻小子一命呢。<br>连翘：这就你宝贝啊，又脏又破的，黑漆漆的，藏着什么机关？<br>八两：你懂什么呀，给我，一会儿我练的时候，只要口念咒语，那些灵符就会听着号召而出鞘，闪开点，别伤着。再远点。<br>连翘：你念咒语的时候慢一点啊，我也好用心记牢啊。<br>八两：好，没问题。看好了。急急如律令，六道妖魔你往哪里逃？走走走。八道神魔走走走。我再试试，十二道灵符，走走。<br>连翘：喂，大胡子，你到底会不会法术啊？<br>八两：好久不用了，这些灵符可能有点认生，不过没关系，你让我跟它们单独相处一会，它们就会乖乖地出来。<br>连翘：出来吧，还捕快呢，身手那么差。出来呀。<br>杜仲：你都知道了？<br>连翘：当然知道了，不知道才怪，你这从早到晚的跟着我，安的什么心呀。<br>杜仲：我安的什么心？表妹，我的心你还不知道吗？我的心，我的心……<br>连翘：你到底要说什么呀？<br>杜仲：我的意思是……<br>八两：出来了，你们这帮猢狲怎么不认识我了？停。你们怎么连八两爷爷都不认识了？停。没事，认生，认生。<br>杜仲：表妹，大胡子如果不留那把大胡子的话，我倒觉得他像极了一个人，你记不记得小时候……<br>连翘：不是。<br>杜仲：真的很像。<br>连翘：我说了不是就不是，再废话，小心我打你啊。<br>~<br>小青：天啊，这么多赃银呀，这要是都搬回宝和堂，还真要费些时候。不如我先拿点回去应急，若日后我再缺银子之时，再带些箱子袋子把它们都给装回去。</p>
</blockquote>
<h3 id="第二十集"><a href="#第二十集" class="headerlink" title="第二十集"></a>第二十集</h3><blockquote>
<p>小青：不如我先拿点回去应急，若日后我再缺银子之时，再带些箱子袋子把它们都给装回去。<br>~<br>连翘：大胡子，你躲在屋里干什么？不是约好了去练功夫吗？你哭了？<br>八两：谁哭了，我只是迷了眼睛，我揉得有点红罢了。<br>连翘：迷眼睛了？<br>八两：你别围着我乱转，把我的头都转晕了，天不早了我要睡了，我要睡了。<br>连翘：大胡子。<br>八两：什么？<br>连翘：为什么要走回头路？你说过，一直向西走的。<br>八两：我又不是神仙，说了就一定要做吗？<br>连翘：一定要做，做了这么多年，为什么这一次，要回头呢？<br>八两：我，就这一次，丫头，我也是男人，我也有老婆和孩子，想回去看看不成吗？看着你，我就想起我那丫头来了，算起来，她也有你这么大了，看着你每天这么疯疯癫癫的，脾气又坏，又嫁不出去，就替我那丫头担心不成吗？说了你也不懂。<br>连翘：你丫头？怎么没听你说起过？<br>八两：在她很小的时候，我就离开了她和她娘。<br>连翘：为什么？<br>八两：时间太久了，理由我忘了。<br>连翘：忘了？这么轻巧，当爹的，抛下自己的妻子和女儿，应该有一个天大的理由吧。<br>八两：我困了，我要睡了。<br>连翘：大胡子，你这么抛妻弃女，你每夜都能睡得安稳吗？会不会梦到你的娘子？会不会梦到你的丫头？如果我是你的丫头，我恨不能杀了你，还好我不是。<br>~<br>小青：等着我啊，下次我一定再来看你们。没想到啊，这库银也太好盗了一些。<br>杜仲：小青姑娘，这三更半夜的，你怎么一个人在这儿？<br>小青：我……<br>杜仲：你不是迷路了吧？<br>小青：是啊，我本来只想出来散散心，谁知道这钱塘县呐，大得很，这巷子呢又多得数也数不清，还一模一样的，七拐八拐的，所以我就迷路了。<br>杜仲：还好你碰见我，你不知道，你现在所处之地，可是闲人不能靠近的太尉府啊。<br>小青：噢，原来，这就是人们常说的那个放满库银的太尉府啊。<br>杜仲：这里不是说闲话的地方，我送你回去吧。<br>小青：（我身上带着五百两库银，若半路遇到衙门里的官差盘问，岂不会被抓个正着？若跟着他，倒省去些麻烦）哎呀。<br>杜仲：怎么了？<br>小青：我方才扭了脚了，现在好像走不了路了。<br>杜仲：啊？这可怎么办呀？天这么晚，我到哪里给你弄辆轿子去啊？<br>小青：不如你就把好事做到底，把我背回去吧？<br>杜仲：啊？我背你？<br>~<br>杜仲：小青姑娘，你别着急，再过一条巷子，就到你们宝和堂了。<br>小青：杜大哥，你怎么流那么多汗啊？<br>杜仲：小青，小青姑娘，你一个姑娘家，也不是很轻啊。<br>小青：（傻瓜，人家身上有五百两银子呢，能不重吗？）<br>杜仲：小青姑娘，我们到了。小青姑娘，你摔伤了哪里没有？<br>小青：没事没事，你这个人啊，还真挺老实的，自己的腿也摔破了吧，还过来问我。<br>杜仲：小青姑娘，我是个男人嘛，一点小伤算什么呢，可是你是个女孩家，若是摔着碰着，哪里受得了呢？<br>~<br>许仙：鲍鱼，燕窝粥，银耳汤，小青，你什么时候这么舍得花起银子来了？<br>白素贞：青儿，青儿，相公在问你话呢。<br>小青：啊？<br>许仙：我在问你，前几日我给娘子买个簪子你都拦着嫌贵，怎么今天你突然大手大脚起来？<br>小青：你以为就你会讨姐姐喜欢啊？我也心疼她不行吗？<br>许仙：不如这样好了，我们放假一日，去游游西湖？<br>白素贞：游西湖？<br>小青：姐姐，我不去了，你们尽管好好玩吧，我还有，我还有些账要算一算。<br>许仙：账目？<br>白素贞：账目有什么问题吗？<br>小青：这个你放心吧，所有的问题我都解决了，你好好随他去吧。<br>白素贞：那好，等账目算完了，你到西湖来找我们。<br>小青：啊，不用了，我自然有我想去的地方。<br>~<br>小三：看什么看呀，都回家去，回家去，回家去，看什么看呀。回家去。<br>小青：小三。<br>小三：小青姑娘，你怎么跑这儿来了？您要是没什么事，赶紧回家吧，省得被当成闲杂人等，带去问话。<br>小青：怎么了？这太尉府，出什么事了吗？<br>小三：您还不知道吧？这太尉府出了大事，昨天夜里丢了库银五百两，可这门锁却完好无损，这还不算……<br>小青：哎，对了，杜仲呢？我是来找杜仲的。你待会告诉他，我在对面的茶坊里等他，有东西要给他，你可记得要跟他说哦，我走了。<br>小三：杜大哥？杜大哥不是喜欢连翘吗？<br>~<br>小青：杜大哥，昨天你为了背我，还跌破了自己的腿，所以呀，今天我特地拿了瓶药酒过来给你。<br>杜仲：一点小伤而已，还让姑娘挂念。<br>小青：怎么会呢？你对我那么好，我做这些事情也是应该的嘛，拿去吧。<br>八两：丫头，不如我们换个地方。<br>连翘：不，偏要在这里。<br>杜仲：小青姑娘，我还要去捉那盗库银的贼人，就不陪你多坐了。<br>小青：那可不行，人家专门请你过来喝茶，你怎么能连杯茶都没喝就走了呢？<br>杜仲：茶喝完了。<br>小青：杜大哥，你看药酒还没上呢，你还是坐下来吧。<br>杜仲：我自己回去上好了。<br>小青：不行，这药酒涂在伤口之处，还要，还要用那特别的方法，轻轻地将淤血揉开，我看不如这样，你先坐下来，现在呀，由我亲自替你调理一番。老实人，你真是跟小青见外了，还是不相信我小青的身手，杜大哥，别着急，保管不疼的。怎么了？很疼吗？<br>杜仲：不疼不疼。<br>小青：还说不疼，看，你脸上汗都流下来了，怪我没拿准轻重，咱们重新来过啊。<br>杜仲：连翘！<br>李公甫：不像话，大白天的给男人家上药酒。<br>许姣容：好了，你那么大声干什么。<br>李公甫：我说实话嘛，大白天的，一个姑娘家，拉拉扯扯的，摸东摸西的，我看不过去。<br>小青：你说你看不过去谁呀？<br>李公甫：我说你呢。<br>许姣容：好了好了，别再说了，弟弟还在家等我们呢，我们还得去赶路呢。<br>小青：站住，骂完人就想走啊，没那么容易。<br>李公甫：你想怎么样？想让我教训教训你呀？<br>小青：就凭你？糟老头。<br>李公甫：你说谁是糟老头？<br>小青：这旁边还有别人吗？怎么？难道你还想比划？<br>李公甫：你……<br>许姣容：姑娘啊，容我说句话，你瞧你这年纪也老大不小的了，你看你，从头到脚，穿的哪点像个正派的姑娘，所以我家相公他才……<br>小青：我穿的没什么不对，倒是你们，恐怕是乡下来的吧？<br>李公甫：你！<br>小青：怪不得穿得那么土气，不过，既然自己品味差，就赶紧找一个没人的地方吃茶算了，何必跑到这么热闹的地方来，碍人眼呢？<br>许姣容：姑娘，就算你打扮得体，那刚才呢，你和一个大男人拉拉扯扯的，成何体统？难道你家里就没有人教你吗？还是你家里人全都这么不懂规矩呢？<br>小青：喂，你骂我就骂我，跟我家里人有什么关系呀，本想不跟你们一般计较的，看来现在是不行了。<br>李公甫：娘子啊，你让开，今天让我好好教训教训她。<br>小青：还不一定谁教训谁呢，糟老头。<br>杜仲：小青姑娘，这位大哥大嫂，小青姑娘就是这样的直爽性子，如果有什么得罪你们的地方，我就替她向你们赔个不是吧。<br>许姣容：是啊，相公，咱们是来寻亲的，又不是来打架的。<br>小青：怎么了？不敢打了是吗？<br>杜仲：小青姑娘，这件事都因我而起，我给你赔罪了，你先别生气，一件小事而已，何必动怒呢？对吧？<br>小青：那好吧，我这可都是看在你的面子上啊，老实人。<br>许姣容：走吧走吧。<br>小青：老实人，你干嘛？刚才都怪我不好，耽搁了时间，好了，我们且坐下，继续呀。<br>杜仲：不用了，我的腿伤全好了，你看，我跑得比兔子还快呢。<br>~<br>许仙：小二，来壶茶。<br>小二：好嘞。<br>许仙：我们喝些水吧。<br>小二：您的茶。<br>白素贞：相公喝点吧。<br>小二：您慢用。<br>许仙：娘子，游了一天的湖，是不是累了？<br>白素贞：跟相公在一起，到哪儿也不会累的。<br>小七哥：许大夫，许夫人。<br>许仙：小七哥，你怎么追到这儿来了？<br>小七哥：晌午的时候，苏州来了封加急的信函，我是看这许大夫老家来的信，怕有什么事，所以呀，我特别从沿路找过来，我想能碰上你们。<br>许仙：辛苦你了，谢谢啊。<br>小七哥：那行，那我走了啊。<br>白素贞：相公啊，是不是家里出什么事了？<br>许仙：娘子，我姐姐姐夫要来了。<br>白素贞：姐姐姐夫？什么时候？<br>许仙：按照信上所说，应该今日便到了。<br>白素贞：今日？怎么这么快呀？<br>许仙：怎么？娘子你不高兴吗？<br>白素贞：我没有不高兴，我只是有点意外，早知道姐姐姐夫要来，也该上街置办饭菜，替他们接风才是啊，可是我们却跑去游西湖，现在天都快黑了，买菜做饭恐怕来不及了，相公啊，我们现在就去万香楼定一桌酒菜好了，还有啊，叫管家把铺子给关了，再带下人把客房收拾一下，还有，幔帐，被褥，茶碗都要买一套新的，被褥要上好的面料，睡着又舒服又暖和那种，哎呀，不行不行，我还要亲自去挑选花色才好啊。<br>许仙：娘子，你看把你急的，不过是我的姐姐姐夫来而已嘛，随便一顿家常便饭就可以了，不必这么破费铺张。<br>白素贞：不行不行，早听说做你们人难，做你们人的媳妇就更难了，稍不留神，就要被公公婆婆挑剔的。<br>许仙：娘子啊，你为什么要说，做你们人呢？是……<br>白素贞：我的意思是，做你们家的人，你看我头一次要见你们家的人，都紧张的说胡话了。<br>许仙：娘子，你大可不必紧张，我姐姐呢，是个再好相处不过的人了，至于姐夫，脾气大点，可也是个直爽的好人，你这么美，这么温柔体贴，你们一定合得来的。<br>白素贞：不过，我还要亲自替姐姐挑一床上好的被褥才安心。<br>许仙：好好，你既然这么想当孝顺的媳妇，我高兴还来不及呢，走，我陪你一起去。请。<br>~<br>杜仲：表妹！表妹！你等等我，表妹。你生我气了？<br>连翘：尽管上你的药酒，你找我何事。<br>杜仲：不是，表妹，你误会了，我跟小青姑娘没什么的。<br>连翘：你跟她有什么要来告诉我吗？我说什么了吗？我生气了吗？<br>八两：你当然生气了，现在就你这张脸，傻子也能看得出来你有多生气。<br>连翘：我当然生气了，你也不是不知道，我跟白家的那两个女人是什么关系。<br>杜仲：我……<br>连翘：昨天还说好听的，今天就当着我的面跟她拉拉扯扯的，她们当众给我羞辱，你全当没看见吗？<br>杜仲：我都看见了，而且，我也都知道，可是她毕竟是个姑娘，好心给我拿了药酒来，我总不能把她骂走吧？<br>连翘：姑娘？她根本就不是。<br>八两：没看她气成这样啊？还不赶紧走啊？等她消了气，再来说几句好话吧。<br>杜仲：那我先走一步，再晚一点，我再带连妹最爱吃的烧鹅来赔罪，我现在走了。<br>连翘：大胡子，你为什么不让我说啊？<br>八两：丫头，这何必嘛，这事万一传出去，人人都知道宝和堂是一个蛇妖开的，那岂不搅得人心惶惶，让许仙那傻小子连吃饭的家伙也没有了吗？<br>连翘：可是……大胡子，我的脸脏不脏？<br>八两：干净，很干净。<br>连翘：那我衣服好像没洗。<br>八两：不是，你昨天下午才洗过。<br>连翘：对了，把胭脂给我，快把胭脂给我。<br>八两：你什么时候用过胭脂啊。我的手。<br>连翘：大胡子，他们过去了。<br>八两：手。<br>连翘：他们眼里，只有彼此，根本放不下第三个人。<br>~<br>李公甫：夫人，你看，这钱塘县的东西太贵了，早知道，从家里带一些便是了。<br>许姣容：那怎么行？这可是我弟弟娶媳妇，我这个当姐姐的，能不给我弟妹置办些好货吗？好了，咱们还是赶紧找一找宝和堂药铺怎么走吧。<br>李公甫：对，夫人请。<br>小青：这位大爷。<br>李公甫：臭丫头，怎么又是你呀？<br>许姣容：姑娘，你还想怎么样啊？<br>小青：真是好心可没好报，我看你们好像是找不到地方，想过来帮你们指指路而已。<br>李公甫：不用，无事献殷勤，非奸即盗。<br>小青：哎呀，好心帮你们指指路，你们还不领情啊，那好吧，本姑娘现在就告诉你们，只说一遍啊，听清楚了。这宝和堂呢，就在桂花巷，从这儿开始，你们要过三条街，走四个巷子，最后上孤山，过六桥，分别是映波、锁澜、望山、压堤、东浦、夸虹，过了六桥之后呢，再往东走上两百步，又折回去走上一百步，再往北一转，一抬起头，就看到宝和堂的招牌了。怎么样？你们都听懂了吗？<br>李公甫：臭丫头，不，姑娘，你说的那么快，我们哪能记得住啊。<br>许姣容：是啊。<br>小青：记不清楚是吧？那好，那我就大人不记小人过，亲自带你们走一趟喽，跟我来。<br>~<br>李公甫：姑娘，姑娘，姑娘！<br>小青：这下大老粗和恶婆娘可有得好看喽。<br>李公甫：姑娘，姑娘！我说你别哆嗦行不行啊。<br>许姣容：我哪里在哆嗦，是你在哆嗦嘛。<br>李公甫：好了好了，不要害怕。<br>许姣容：相公，相公，相公！<br>~<br>白素贞：相公啊，你别着急，不会有事的。<br>小青：姐姐，姐姐我回来了。<br>白素贞：青儿，你跑哪儿去了，这么晚才回来。<br>小青：干嘛？你们去游你们的西湖嘛，我自己去找乐子，不碍你们两个的事还不行啊？<br>白素贞：好了好了，你赶紧梳洗一下，准备迎接客人。<br>小青：客人？谁呀？<br>白素贞：是相公的姐姐姐夫从苏州来，按说早就该到了，不知道为什么，到现在还没有来。<br>小青：想必一定是路上遇到了强盗。<br>许仙：什么？<br>白素贞：青儿，别胡说八道。<br>管家：许公子，许公子。<br>许仙：管家，怎么样？有没有我姐姐姐夫的消息？<br>管家：绸缎庄的老板倒说了，今天下午啊，有一位女客，给弟弟和弟媳妇买过一匹绸缎呐。<br>许仙：绸缎庄？那离这里不远啊，半个时辰也该到了。那你有没有问问，他们出了门，又往哪儿去了呢？<br>管家：绸缎庄的老板说，他们跟着一位漂亮的姑娘走了。<br>许仙：漂亮姑娘？<br>小青：绸缎庄？等等等等，管家，你是说，桂花巷的那个绸缎庄吗？<br>管家：对啊，就是那家啊。<br>许仙：青儿，你哪里看见过他们？<br>小青：我不仅看到他们了，而且，我还给他们带了路啊。<br>白素贞：带路？<br>~<br>许仙：姐姐，姐姐！<br>白素贞：姐姐，姐夫，姐姐！<br>许仙：姐姐，姐夫，姐姐！<br>白素贞：姐夫！<br>小青：姐姐！<br>管家：这林子里都找了三遍了，许大夫，已经半夜了，再这么找下去，也不是办法啊。<br>白素贞：相公，别太担心了，姐姐姐夫福大寿大，一定不会有事的。<br>许仙：这三更半夜的，要是你和小青走丢了，你说我能不着急吗？<br>小青：许仙，你就别拐着弯骂人了，好不好？说不定啊，姐姐和姐夫他们已经走出去了呢，现在已经到了宝和堂了呢。<br>许仙：算了算了，我先回去了。<br>小青：姐姐，对不起，你别生气了，我不是有意的。<br>白素贞：你呀就知道玩，如今玩到自家人头上了，要真出什么事，我看你怎么收场。<br>小青：姐姐！<br>~<br>管家：许大夫，你看好像屋里有人呢。<br>许仙：你等一下。<br>白素贞：相公，你等一下，相公！<br>小青：姐姐！<br>许仙：姐姐。<br>许姣容：汉文。<br>许仙：姐姐。<br>许姣容：姐姐可想死你了。<br>~<br>连翘：这几日手痒痒，去山上捕蛇才碰着了，听他们说起是要来寻宝和堂，便知道是姐姐姐夫了，在宝和堂等了半晌，不见你们回来，所以就送到这儿来了，本来也没想进来的，没想到你们偏偏不在，我又刚好看见门虚掩着，就擅自作主，扶他们进来上药，没半盏茶的工夫，你们就回来了。<br>许仙：傻丫头，真不知该怎么谢你。<br>连翘：咱们之间还用得着这个谢字吗？<br>李公甫：姑娘，要谢，不但要谢，而且要大谢。许仙啊，要不是这位姑娘，姑娘叫什么名字？<br>连翘：我叫连翘。<br>李公甫：要不是连翘姑娘，我和你姐姐现在还在林子里呢，早被人家喂狼喽。<br>白素贞：姐夫，对不起啊，小青她，她……<br>许姣容：许仙啊，没有人教过你娘子规矩吗？这客人都来这么半天了，连口茶水也没有。<br>白素贞：我现在就去烧水，给你们泡茶。<br>许姣容：这哪还来得及呀，还得等你去烧。<br>白素贞：那我现在就去。<br>连翘：许夫人，不劳你费心了，这茶我不喝了，姐姐，姐夫，时间不早了，我也该回去了，改日再来看你们吧。<br>许姣容：连翘姑娘，太谢谢你了，只是这天色太晚了，许仙呀，你快去送送连翘姑娘啊。<br>许仙：我送你。<br>连翘：不用你送，倒是你娘子，我有几句话要跟她说，能不能赏脸跟我到外面说几句呢？<br>白素贞：姑娘请。<br>~<br>白素贞：姑娘有什么话，就尽管说吧。<br>连翘：我要跟你做个了断。<br>白素贞：事已至此，你还不死心吗？<br>连翘：心？你懂得什么叫心？心是不会死的，心若能死，如今你相公便是我相公，哪里还能轮得到你。<br>白素贞：那你到底想怎么样？<br>连翘：若我赢，你就放过傻小子，离开钱塘县，若你赢，我便自动消失，永远不再与你们相见。<br>白素贞：姑娘何必如此固执呢？你以为可以打败我吗？<br>连翘：别以为我注定会输。<br>白素贞：好，我全力以赴。<br>连翘：我会过来找你的。<br>白素贞：连翘姑娘，不管怎么样也要谢谢你把姐姐姐夫送回来。<br>连翘：与其在这里说客套话，不如回去好好管教你妹妹，让她以后别再出来害人。<br>小青：姐姐。姐姐我都知道错了，你别用那种眼神看我好不好？你的眼神很冷，吓得小青直哆嗦。<br>白素贞：知道错了，还那么做，就是明知故犯了？<br>小青：我没有，我哪知道他们是许仙的姐姐和姐夫啊，如果知道的话，我一定雇八抬大轿把他们给请回来，又哪敢把他们诳到黑林子里去呢？<br>白素贞：你意思是，如果不是我们的亲戚，就可以任你玩耍了？<br>小青：不是不是，我不是这意思，姐姐反复告诫我说，虽然我们是妖，但是不能害人性命，就算是落难的陌生人，也要能帮忙就帮忙，还要救人于危难。<br>白素贞：好一个救人于危难，你明明就是要把我置于危难之中啊，妖性难改，害人不浅。<br>小青：姐姐，我真的知道错了，你让我改好不好？<br>白素贞：我记得第一次见到你，你就在害人，我以为压你在西湖三百年，你也该想清楚了，没想到还是这样，你让我怎么面对相公，怎么面对他的家人呢？<br>小青：反正我们迟早都要离开的，不如把事情闹大，让他们赶你走也不错啊。<br>白素贞：你还在那儿说风凉话。<br>小青：啊，没有没有，我是说，虽然事情的确是闹的大了点，可是应该有补救的办法啊。<br>白素贞：事已至此，你想得太天真了，怎么补救啊？<br>小青：当然可以补救了，这个简单，许仙和许仙的姐姐情深意重，他们大老远从苏州赶过来看他，不过是想一家人团聚嘛，我们索性讨他姐姐的欢心，把她留下来长住，慢慢的对她好，难道还会怕她不说姐姐懂事吗？<br>白素贞：能把他们留下同住当然更好，可是你也知道，我们宝和堂经常义诊，一直入不敷出，现在四个人已然有些拮据了，再多两个人，哪来那么多银子啊？<br>小青：提到银子，那可难不倒我。<br>许仙：娘子，你们在说什么？准备去哪里？<br>白素贞：啊，我看姐姐姐夫来了，怕家里的被褥不够用，就跟小青说，要她去朋友家借些回来。<br>小青：嗯，是啊。<br>许仙：我可不敢劳动小青姑娘，只求小青姑娘你下次带路的时候，脚下留情，我就阿弥陀佛了。<br>小青：我……好了，行了，刚刚被一个观音骂了，现在又来了一个如来，都是我不对，大不了，明天让姑老爷把我吊到树上，然后狠狠地打一顿，这样总行了吧？<br>白素贞：哎，青儿！<br>许仙：小青！娘子，她明明做错事了，还不让别人说她。<br>白素贞：其实，青儿已经知道自己错了，要怪就怪我，我应该教她一点礼数的，不如，我替小青去向姐姐姐夫赔不是吧。<br>许仙：不用了，姐姐姐夫已经睡下了，大不了，明天早上你敬茶的时候，多说几句好听的，不就行了吗？<br>白素贞：敬茶？<br>许仙：对呀，你不知道，这是我们老家的习俗，过门的媳妇一定要给男方的家人敬茶，长者为母，你这杯茶，是要敬给姐姐的。<br>白素贞：这么说来，明天早上这杯茶很重要了？<br>~<br>十天：师傅从五毒山回来都快三天了，每天都把自己关在塔里，也不知道要搞什么名堂。<br>法海：十天，这么早起来，你要去哪里呀？<br>十天：已经二更了，我要赶到山下去，取马桶来洗。<br>法海：从今天起，你不用再去洗马桶了。<br>十天：那我们吃什么呀？<br>法海：放心好了，佛祖不会让我们挨饿的，从今以后，我们有正经的事情要做。<br>十天：正经事？<br>~<br>法海：怎么样？十天，师傅给你做的这双草鞋还合脚吗？你穿上师傅给你做的这双鞋，想去哪儿，便可以去哪儿。<br>十天：想去……<br>~<br>小三：喂，什么人？三更半夜的来太尉府门口做什么？杜大哥，今天算咱们运气，他们脚已经踏进禁区来了。<br>法海：十天，这些是什么人？<br>十天：好像是太尉府的捕快。<br>法海：阿弥陀佛，施主，我们师徒二人只是路过此地，顺便斩妖除魔。<br>小三：三更半夜的，你斩什么妖除什么魔？和尚，你眼睛瞎了不成？你没看清楚这告示上写的什么吗？凡擅自闯进这红线之内者，一律按盗库银的贼人对待，正愁找不着贼人定罪呢，没想到你们，自己送上门来了。<br>十天：你胡说什么？你没看见我师傅的眼睛坏了吗？<br>杜仲：小三，那和尚的眼睛好像是盲的。<br>小三：瞎子怎么了？瞎子就盗不了库银了？<br>杜仲：这位大师，这里是太尉府，前几日刚有贼人盗了库银，所以现在要严加看守，凡迈进这红线之内的一干人等，都要带回县衙问话，麻烦大师，跟我们走一趟吧。<br>法海：真是可笑，你们不抓真正盗库银的贼人，却要抓我们这些斩妖除魔的和尚。<br>小三：就怕你是贼喊捉贼吧？<br>十天：你说谁是贼呀？<br>小三：不是贼，你大半夜跑这儿来干什么？<br>十天：都跟你说了，我们是来除妖的。<br>杜仲：照小师傅的意思是，我们这太尉府里有妖了？<br>十天：阿弥陀佛，我说，你还不算太笨。<br>小三：杜大哥，看他们一老一小，穿得怪模怪样，一定有问题，别跟他们废话，先带回去问个明白再说。<br>杜仲：两位师傅，还麻烦跟我们走上一趟，否则，别怪我得罪了两位。<br>十天：怎么？想打架？<br>小三：打就打，怕你呀？臭和尚。<br>十天：你敢骂我师傅？<br>法海：世人真是糊涂，正是因为你们的愚钝，才有那些妖孽作乱人间，也罢，我今天就破破规矩，好好教训教训你们这两个有眼无珠的捕快。十天，不用打了，那妖孽已经得手，我们再斗下去，反倒助了他们。<br>小三：杜大哥，那贼人跑了。<br>杜仲：不用追了，这师徒二人法术高明，我们根本不是他的对手。<br>小青：太好喽。<br>杜仲：谁？<br>~<br>杜仲：小青姑娘？<br>小青：老实人。<br>杜仲：你怎么会在这儿？你有没有看见……<br>小青：好了，老实人你可不可以陪我看样东西？等看完了之后，我们再说话，来，你看，你觉不觉得今日站到这个山顶上，风景最美。<br>杜仲：每日都很美。<br>小青：不是，老实人，你错了，只有今日最美，因为今日有你站在我身边，谢谢你，这是我小青有生以来第一次有了今日，才知道以前的寂寞。<br>杜仲：我现在没有时间跟你说这些，我眼看着黑衣人跑到山上，却一转眼不见了，反倒是你在这里，难道……<br>小青：难道什么？难道你以为我就是盗库银的贼啊？<br>杜仲：不是不是，只是小青姑娘为何这么早就在这儿，我觉得很奇怪。<br>小青：那如果，我告诉你我是专门在这等你的呢？<br>杜仲：等我？<br>小青：嗯。<br>杜仲：为什么？<br>小青：理由简单，我喜欢你。<br>杜仲：喜欢我？<br>小青：嗯。<br>杜仲：为什么？<br>小青：为什么，为什么，你除了问为什么，就不会说别的了？你们这些男人怎么这么傻啊？还是你是天下独一份，喜欢就是喜欢嘛。<br>杜仲：小青姑娘，我……<br>小青：干嘛？难道你还是不相信我？<br>杜仲：不是不相信你，只是我抓黑衣人到此，黑衣人没有捉到，却碰到了你，于情于理我都要把你带回县衙去。<br>小青：说了半天，你还是要把我带回县衙，你，你怎么那么笨呢你？人家把话说得那么明白了，你怎么还不懂啊，你真是气死我啦。<br>杜仲：我……<br>小青：好，若你真不相信我，小青以死为证。<br>杜仲：喂，不要，小青姑娘。<br>小青：老实人，现在你懂我的话了吗？<br>杜仲：我……<br>小青：好，现在你好好看清楚，我是不是那个盗库银的贼呢？<br>杜仲：不像是。<br>小青：答的好。<br>杜仲：小青姑娘，我还有事，我先走了，告辞了。<br>小青：老实人就是老实人，真是让人喜欢，其实我也能看出来，你心里呀，又何尝不爱我呢？就象，姐姐跟许仙那般。<br>~<br>白素贞：茶叶，哎呀，茶叶没有了，怎么忘了添补呢？<br>许仙：娘子，你在这儿，方才你去哪里了？<br>白素贞：相公，你怎么起这么早啊？方才，方才，方才我们家茶叶没有了，我正急着上街去买呢。<br>许仙：你开什么玩笑，这么一大清早，哪有开门的茶叶铺呀？<br>白素贞：你看，我都糊涂了，这么早，确实没有茶叶卖，可是没有茶叶，我拿什么煮茶呢？<br>许仙：娘子，你看，这是什么？<br>白素贞：好香啊，这是什么？<br>许仙：这是茶，莲心茶，我特意替你准备的。<br>~<br>白素贞：姐姐。<br>许姣容：汉文，你瞧瞧你媳妇，衣衫不整，云鬓惺松的，汉文，你不知道敬茶，要换衣净身吗？<br>白素贞：姐姐，对不起，我刚过门，不懂规矩，以后记住了。<br>许仙：姐姐，素贞忙了一早上了，你还是尝尝她亲手为你煮的茶吧。<br>白素贞：姐夫喝茶。<br>李公甫：哎。<br>白素贞：姐姐，喝茶。<br>许姣容：这茶是你煮的？<br>许仙：姐姐，当然是素贞煮的了，为了这个，她天不亮就起来了，劈柴烧水，不止如此，素贞还特别做了燕窝粥和小菜，为你们早饭用呢。<br>李公甫：还有燕窝粥？我最喜欢喝燕窝粥了。<br>白素贞：我去端来吧。<br>~<br>青：这个老实人还真老实啊，你说什么他便信什么。</p>
</blockquote>
<h3 id="第二十一集"><a href="#第二十一集" class="headerlink" title="第二十一集"></a>第二十一集</h3><blockquote>
<p>小青：这个老实人还真老实啊，你说什么他便信什么。<br>小青：这个老实人，还真老实啊，你说什么他便信什么。<br>许仙：小青。<br>小青：我没有偷懒，也没有想男人啊。<br>许仙：哈哈，不打自招。<br>小青：你来这儿干嘛？<br>许仙：啊对了，我呢，要和娘子过湖去上香，娘子让我问你，要不要同去呀？<br>小青：哼，我才不要去呢，每次你和姐姐出门，老是腻在一起，我想和姐姐说句话都凑不到近前，对了，没事儿你们上的哪门子香啊？<br>许仙：转眼呢，已经一年过去了，今天刚好是我和娘子初次相见的日子，所以我和她商量，打算过湖去月老祠，感谢他老人家给我们牵线搭桥，结成百年之好。<br>小青：好是好，不过也真快，时间还真不禁用，一转眼就一年了。也难为你，还记得和姐姐是哪一天认识的。<br>许仙：何止记得这些？就连我和你姐姐初次见面的时候，她穿的什么衣服，鞋上绣的什么花，手里拿着什么样的手帕，我都一清二楚。<br>小青：这些你都还记得？<br>许仙：对呀。<br>小青：你的心有多大，放得下这些吗？<br>许仙：你呀，现在还小，什么都不懂，等你以后知道真正去喜欢一个人的时候，你的心自然会变大，可以为了她，放下很多东西。<br>小青：心还会变大？<br>许仙：噢，对了，我刚才进来的时候，外面有位公子在找你。<br>小青：公子？<br>~<br>杜仲：一会儿等她出来，我一定要跟她说清楚，昨天的事是场误会，那不过是我一时冲动，我其实早就有了心上人。对，绝不能和她，绝不能。<br>连翘：老实人，你来找我的吧？<br>杜仲：我……<br>~<br>小青：我问你呀，你第一次和我见面的时候，曾是什么日子啊？<br>杜仲：三月初六。<br>小青：那，那日我穿的是什么样的衣服啊？<br>杜仲：青绿色的纱裙，青绿色的鞋子。<br>小青：我又拿什么样的手帕？<br>杜仲：那天姑娘被强人所伤，是一条鸳鸯戏水的手帕。<br>小青：这就对了，一样都不差，老实人，真没想到，你的心也很大嘛。好了，不过说说话嘛，脸怎么红成这样了？不留你了。<br>杜仲：好。小青姑娘，我今天来找你的事，你就当作没发生过，还有昨天的事，我们……<br>小青：怎么？<br>杜仲：也当作没有发生过好了，我走了。<br>小青：傻小子，你说没发生过就真的没发生过？喜欢我呢又不敢承认，姐姐还说我不懂情，你看，不就这么简单吗？<br>~<br>白素贞：这月老祠啊，来的人还真不少。相公啊，我去把这结缘牌挂到月老祠的结缘树上，你在这儿等我。<br>许仙：好。杜兄！<br>杜仲：许兄。<br>许仙：你在干什么？<br>杜仲：我没干什么呀，我没有想跟别的姑娘结缘。<br>许仙：没有？那你拿着结缘牌做什么？<br>杜仲：我是替别人求的。<br>许仙：替别人求的？那我倒要看看，看上的是谁家的姑娘。<br>杜仲：不要看不要看，我都说了是别人的。<br>许仙：既然是别人的你干嘛怕我看？一定是骗我，肯定是连翘姑娘。<br>杜仲：不能看。<br>~<br>白素贞：小青？<br>许仙：是啊，娘子你激动什么，这不是很正常吗？<br>白素贞：他怎么会喜欢小青呢？他不是喜欢连翘的吗？<br>许仙：对啊，其实我一直也这么认为，可是我直的没想到，他心里的那个竟然是咱们家小青。<br>白素贞：不行，我绝不允许，我去找他说清楚。<br>许仙：娘子，我真没想到你对这件事反应这么大，你看这件事，八字还都没一撇呢。<br>白素贞：怎么八字还没有一撇呢，既然来月老祠求签了，那就证明他有打算了，我……<br>许仙：娘子，我们都是过来人，我呢，看得很清楚，其实杜兄啊他自己心里到底喜欢谁，他也没搞清楚，可能他只是对小青姑娘有好感，也许青儿根本就不知道背地里有这么个傻小子在喜欢着她，万一现在什么也没发生，你突然把这件事说破，岂不是让两个人都非常尴尬吗？<br>白素贞：可……<br>许仙：来，坐下。<br>白素贞：但愿如你所说，这些不过是杜仲他一厢情愿，否则，否则可要大祸临头了。<br>许仙：娘子，你说什么？什么大祸临头？<br>白素贞：啊，也没什么。<br>~<br>八两：丫头，这回看你的了，接着。就这堆石头，你呢，给我移动移动。<br>连翘：师傅小心！<br>八两：谢谢啊。哎哟。我跟你说呀，你刚才你还有点生疏，不过没关系，万事开头难，咱们可以重新来嘛。走，徒弟呀，我跟你说，这法术啊还有一招，就是凭空取火。<br>连翘：急急如律令！师傅，我会凭空取火了。<br>八两：是啊，火还很大呢。<br>连翘：我练成了，师傅。<br>八两：哎哟，哎哟。<br>连翘：师傅，你没事吧？<br>八两：别傻站着，不是还教了你一招吗？天降祥雨呀。<br>连翘：天降祥雨？<br>八两：快来救我呀。<br>连翘：师傅，你等会儿。师傅，成了。<br>~<br>连翘：我就不信，拼我一条命，我打不过白素贞。<br>八两：难道说你两句都不成？就这么快就放弃了？就你现在这样去找人家白素贞，也必输无疑。<br>连翘：谁说的，我一定会赢。<br>八两：你拿什么赢啊？<br>连翘：拿一条命行不行啊？<br>八两：命是爹生父母给的，说丢就丢了？<br>连翘：我……<br>八两：你知道问题出在哪儿了吗？<br>连翘：我太笨了嘛。<br>八两：不对，你很聪明，又肯吃苦，关键是你用情太深，根本放不下你个人的恩怨情仇，丫头，自古练玄门法术之人都要记住四个字，清心寡欲，像你这样心里总想着那个傻小子，是练不好上乘法术的。<br>连翘：那我要怎么做才行啊？<br>八两：这第一，你先忘了与傻小子的情，第二，再忘了与白素贞的恨。<br>连翘：大胡子，你到底是不是在教我法术啊？<br>八两：我不光教你法术，丫头，我是教你怎么做人。<br>~<br>许姣容：弟妹，你是不是不想出来跟我买菜啊？<br>白素贞：没有啊，姐姐，你看，前面的菜都很新鲜，我们过去看看吧。<br>许姣容：好，走。<br>小贩：走好。哟，许夫人，今天来点什么菜啊？<br>许姣容：我问你，昨天那些烂菜是不是在这儿买的？<br>白素贞：是啊。<br>许姣容：是就行了，跟我学着点。你是怎么做生意的呀？你昨天卖给我弟妹的那些菜，份量又不够，叶子又全是烂的，是不是欺负她不会持家呀？我可告诉你，从今儿起，宝和堂由我当家，今天你不把昨天的损失给我补回来，我可不依。这萝卜不错，给我装满了吧。<br>白素贞：姐姐，这样不好吧？<br>许姣容：弟妹，你不会做好媳妇呢，就要多听多看，多跟我学着点。还愣着干什么，快给我装啊。看见没有，这才像个做媳妇的样子。<br>小贩：大嫂，你等等。<br>许姣容：干什么？还嫌给多了不成？<br>小贩：这萝卜是装满了，但是有些话呀，得说清楚。<br>白素贞：小哥，算了，不要说了。<br>许姣容：让他说，我倒要听听他说什么。<br>小贩：你说许夫人从我这儿拿回去的烂菜叶子是不假，但那可不是我卖给她的，许夫人和许大夫开药铺，救苦救难，平时啊，对我们那么好，从不多收我们这些乡亲半文钱，遇到手头紧的时候，也全指着她替我们把银子垫上，我们一向都把最新鲜的菜留给她。<br>白素贞：别说了。<br>小贩：昨天她把自己的菜跟乞丐阿婆的烂菜叶子换了，这菜不是我卖给她的。<br>白素贞：小哥，你看这菜钱够不够，不要再说了。<br>小贩：咱们敬重许夫人和许大夫的人品，就算把这些菜白送给您我也心甘情愿啊，我就是气不过有的人在这里颠倒是非。<br>白素贞：姐姐，前面还有菜摊，都挺新鲜的，我陪你过去看看。<br>~<br>许姣容：昨天我说你的时候，你怎么不解释呢？害得我在那小子面前丢丑。<br>白素贞：不是的，姐姐，你昨天对我说的句句都是宝，我自幼父母双亡，从来没有人教过我这居家过日子到底是应该怎么过法，还有那些礼数规矩，就更是一样不通了，昨天姐姐说的那番话，才让我明白，原来过日子也有过日子的学问和乐趣啊，以后素贞还要跟姐姐多学一点呢。<br>许姣容：你知道我的苦心就好，不过再怎么说，我昨天那些话也是重了一点，我知道汉文很喜欢你，你们两个呀也很般配。<br>~<br>白素贞：青儿，你老实告诉我，这么晚了，去哪儿了？<br>小青：你不是让我置办生活所用吗？所以我就各家铺子都转了一转。<br>白素贞：这么晚了，哪家铺子还开着门呢？你还胡说。<br>小青：好了姐姐，我告诉你就是了，我，我跑去找他了。<br>白素贞：谁是他呀？<br>小青：是那个捕快，杜仲啊。<br>白素贞：杜仲？你真的跟他在一起呀？<br>小青：姐姐，你别着急好不好？我跟他其实什么都没有，真的什么都没有。再说，我虽然去找他，可是还没有碰上面，就遇上事情了。<br>白素贞：真的？<br>小青：真的。<br>白素贞：好，那我就相信你，不过你刚才说遇到事情，到底什么事啊？<br>小青：这可就，可就说来话长了。本来呢，我是拿着银子，按照姐姐的吩咐，去各家铺子好好逛逛，等到事情忙完了，我看天色还早，就想着那老实人受了伤，应该去探望探望，可是就在去县衙的路上，……<br>~<br>鲤鱼精：快。<br>小青：喂，想跑？站住。<br>俞七郎：快跑。<br>小青：站住。<br>俞七郎：快跑。<br>法海：站住。<br>小青：和尚？她不是，不是在半步多客栈姐姐救过的那条鲤鱼精吗？<br>俞七郎：你就不能放过我一家三口吗？<br>法海：难道你想替妖孽求情吗？<br>俞七郎：小豆子！娘子，娘子。<br>鲤鱼精：和尚，放了我儿子。<br>俞七郎：娘子，不行啊，孩子在他手里，娘子。<br>鲤鱼精：和尚，放了我的孩子，难道你忘了你的眼睛是如何瞎的吗？<br>法海：今非昔比，我的眼睛已经瞎了一次，倒不怕再瞎第二次，妖孽，倒是你，上次饶了你一次，还敢妄求第二次吗？<br>俞七郎：娘子。<br>鲤鱼精：和尚，你还敢说，上次分明是青蛇白蛇相救，与你何干，你一心杀我，我有何错？<br>俞七郎：娘子。<br>法海：你是妖就是错，你与人间男子成亲，生儿育女，过起人间生活，就是错上加错。<br>鲤鱼精：和尚，我要过怎样的日子，与你何干，放下我儿子。<br>法海：十天，这个妖孽让我放了他的儿子，你说是放还是不放？<br>十天：师傅，十天看得明白，他娘是妖，可这小孩不是妖，求您放了他吧。<br>法海：好，我徒弟让我放了他，我便放了他。<br>俞七郎：小豆子！小豆子！<br>鲤鱼精：小豆子！<br>俞七郎：娘子，娘子。<br>十天：师傅。<br>鲤鱼精：小豆子！<br>俞七郎：娘子，娘子。<br>小青：十天，你师傅还和以前一样卑鄙，说放人不放，算什么男人。<br>十天：你少胡说，我师傅原本打算放的，只是……<br>小青：只是什么？<br>十天：只是一时失手而已。<br>小青：你才胡说呢，一时失手？带着孩子快走，这里交给我了。<br>鲤鱼精：小青姑娘，大恩不言谢，我们先走一步，你的恩情来日再报了。<br>法海：十天，替师傅收妖。<br>十天：是。<br>俞七郎：娘子啊！<br>十天：师傅，等我。<br>鲤鱼精：儿子！<br>小青：和尚，我和姐姐一定要把雷峰塔夷为平地。<br>~<br>小青：就这样，我只好先把她带回来，正想着偷偷摸摸进来和姐姐有个商量，可是没想到，就被你叫住了。<br>白素贞：那她现在在哪儿？<br>小青：红姑，还不快现身。<br>鲤鱼精：白姑娘，求求你一定要救救我相公和我的孩子。<br>白素贞：好妹妹，来。真是没想到，这个和尚居然为了炼钵，连人都不放过，你放心吧，我一定会想办法救出他们的，只是要委屈你，在柴房里安身了。<br>~<br>法海：你又来了。<br>心魔：是你让我来的。<br>法海：你来做什么？<br>心魔：来救你。<br>法海：来救我？上次我被心魔所困，如今我早已放下万缘，一心除妖，你又来救我什么？<br>心魔：上次你被心魔所困，如今，你心魔已成。<br>法海：妄语！我于雷峰塔下得佛祖真传，佛祖赐我天罗金钵，以便我修炼上乘佛法，早日完成斩妖除魔的大业，何来心魔？<br>心魔：既是除妖，那为何捉了人回来？<br>法海：那鲤鱼精被青蛇搭救，我无从下手，若我留住他的相公和儿子，她必会找上门来。<br>心魔：她是谁？<br>法海：鲤鱼精。<br>心魔：错，你明明在等另一个。<br>法海：谁？<br>心魔：白素贞。<br>法海：没有，你胡说。<br>心魔：是我胡说吗？你今天所做的一切，不过是在逼她就范，你要她来见你，要她伏在你的脚下，求你放过她，你便得此俯视她的美丽。<br>法海：即便如此，那又如何？我一样收她。<br>心魔：你放得下万缘，但放不下一个白素贞，不杀白素贞，你永远成不了佛。哈哈哈。<br>~<br>鲤鱼精：小青姑娘，你一定要救救我相公和我的孩子。<br>小青：你放心吧，姐姐呢绝对不会坐视不理的，但是你一定要，一定要记住姐姐的话，不能走出柴房半步，否则万一被旁人看见了，就会连累我姐姐，做不成人家媳妇了。<br>鲤鱼精：我知道了，你放心吧，我这就进去藏起来。<br>小青：藏好了。<br>许姣容：小青。你刚才嘀嘀咕咕在跟谁说话呢？<br>小青：我，没有啊，这里是柴房嘛，怎么会有人呢？姐姐，这里是柴房，怎么会有人呢？<br>许姣容：可是我刚刚明明听到，还有一个女人说话的声音。<br>小青：不会的，不可能的，你知道柴房里很脏灰尘又很多，而且还会有很多蜘蛛网，小心弄脏了姐姐的衣服，那多可惜呀。<br>许姣容：你不用拦着我，这里边我一定要进去，一定有古怪。<br>小青：姐姐。哎哟，姐姐，你看，你看，都说柴房里头很脏，你非要往里闯，好了，姐姐，让我给你打盆洗脸水好好洗一洗。<br>~<br>许姣容：坐吧，坐吧，连翘姑娘，你上次救我们夫妻的恩情还没报答呢，你怎么也不到宝和堂走动走动呢？<br>连翘：最近很忙，抽不开身。<br>许姣容：你一个姑娘家，有什么可忙的呢？<br>连翘：我哪有白姑娘那么命好，嫁了个好男人，我只有自己的一双手，还不得勤奋些。<br>许姣容：连翘姑娘，你生得这么漂亮，人又好，怎么还会没有婆家呢？不如，姐姐我替你留意一下，给你找个好婆家。<br>连翘：多谢姐姐好意，可是连翘心里早就有一个人了。<br>许姣容：是哪家的公子这么好福气呀？<br>连翘：其实白姑娘也认识啊。<br>许姣容：弟妹也认识吗？那快说一说，咱们能帮就帮嘛。<br>白素贞：姐姐，婚姻大事怎么好在茶坊里说呢？何况，连翘姑娘，婚姻不是儿戏，万一人家已经有了家室的话，你还执迷不悟，那可就要让别人看笑话了，来。<br>许姣容：连翘姑娘，我弟妹说的倒也没错，这如果对方有了家室的话，可就不好再插一脚进去了。这俗话说的好，一日夫妻百日恩，你何苦拆散人家呢？<br>连翘：我喜欢的人，若是看上了世间更加美貌贤惠的女子，我当然心甘情愿地退出了，可若是他看上的不是人，是……<br>白素贞：啊，姐姐你看茶就要凉了，这西湖龙井一定要趁热喝。<br>许姣容：西湖龙井啊，我可要尝尝。<br>连翘：姐姐，泡茶啊，第一杯是最没味道的，不如泼了，让连翘敬你一杯。<br>白素贞：连翘姑娘，倒茶添水这种事，还是由我这个当弟妹的来做吧，怎么能劳动外人呢？<br>连翘：我怎么能算外人呢？只差那么一点点，我就是许家的媳妇了。<br>许姣容：噢，连翘姑娘，你喜欢的人也姓许啊？<br>白素贞：姐姐，喝茶。<br>许姣容：好，喝茶，你们也喝啊。对了，我刚才看见有家点心铺，闻味道就知道好吃了，我去买点给汉文，连翘姑娘，你可别走啊，晚上大家一块儿吃个便饭。<br>白素贞：恕我不送。<br>连翘：我说过要走吗？<br>白素贞：听说，你在跟大胡子学法术。<br>连翘：那又怎么样？<br>白素贞：你上次跟我说要单打独斗，我可等了你很久，我担心等你学成了，也成老婆婆了，我可不想跟一个老太婆动手啊。<br>道士：小叫化子你，你敢跟我抢啊你，我打死你。你，是你们，你们想干什么你们？<br>白素贞：这位姑娘想怎么样我不知道，但我要教训教训你，省得你再欺负别人。<br>连翘：白素贞，你省省吧，走。<br>道士：就凭你？想跟我斗？那白蛇青蛇我打不过，你，小丫头，你省省吧。<br>连翘：急急如律令！<br>道士：闹了半天，你也是妖妇一个，那我就跟你斗一斗。<br>连翘：道士，今天要了你的命。<br>道士：如此雕虫小技你也敢出来献丑，看我的吧。<br>白素贞：道士，今天算是给你一个教训，若还想活命的话，就离开钱塘县，永远不许再回来。<br>道士：是，白姑娘你大仁大量，您饶了我这一次，我这就出城，这辈子我再也不回来了，我再也不回来了。<br>白素贞：连翘，算起来，我大你很多，不如我叫你一声妹妹吧。<br>连翘：有你这种妖孽当姐姐，我娘地下都睡不安稳。<br>白素贞：你实在像个孩子。<br>连翘：谁是孩子？白素贞，等我学会了法术，还会回来找你的。<br>白素贞：好，我等你，不过你要记住大胡子的话，要想赢我，最好忘了爱恨情仇。<br>连翘：她怎么知道大胡子跟我说什么？<br>许姣容：难道说，难道说弟妹会玄门法术？<br>~<br>李公甫：还别说，这饼还真好吃，在哪儿买的？明天我再买些回来给汉文和他媳妇。哎呀，你干什么呢？从回来到现在就盯着那手镯子看，那不是你要给弟妹的见面礼吗？<br>许姣容：是要送的，都拿出来了，可是，哎呀，我得找她问问清楚。<br>李公甫：哎呀，我说你问什么呀？<br>许姣容：说了你也不相信，我看见弟妹她拿手那么一挥，不知道哪儿来的水呀，溅了人家一身。<br>李公甫：我说你呀，是看错了，哪有这种事啊？你们女人总是这样，总爱把挨不到边的事扯到一块去。<br>许姣容：我保证没有看错，我看弟妹那神态，那架势，我敢肯定，弟妹她会玄门法术。<br>李公甫：什么？玄门法术？我说娘子，这玄门法术那可不是一般的人能学得了的，学那些的，学那些的可都是无亲无故的怪人，要么……娘子，你不会是说，咱们家弟妹是妖吧？<br>许姣容：哎呀，弟妹当然不能是妖怪了，可是一个好人家的姑娘，好端端的学什么玄门法术啊？你说这弟妹她要是……那万一汉文他，不行，我得去问问。<br>李公甫：娘子，等等，等等。<br>~<br>白素贞：怎么会这样？<br>鲤鱼精：我的道行尚浅，一旦离开水源，不出三日，就会现出原形。<br>小青：那怎么办呢？万一她现出原形，被别人撞见怎么办？<br>白素贞：所以当务之急，我们要赶紧把她的相公和孩子救出来，让他们尽早离开。<br>小青：什么时候动手？<br>白素贞：就在今晚。<br>~<br>白素贞：青儿，一会儿你弄三担水，让红姑沾沾水气，以免现出原形。<br>小青：嗯，知道了。对了，姐姐，我们今天夜里去雷峰塔救人，若那和尚执意不放小豆子和他爹，那该怎么办呢？<br>白素贞：他不放人，我们就抢人，不能让一家三口就这么散了。<br>小青：太好了，我就等姐姐这句话了，那今天晚上我们可以大干一场了。<br>白素贞：你呀。啊，姐姐。<br>~<br>白素贞：姐姐，我这次，又做错了什么？是衣服没洗干净，还是饭做得不是味？还是……<br>许姣容：弟妹，我有件事情要问你，你要老老实实地回答我。<br>白素贞：姐姐你问就是了。<br>许姣容：你是不是会玄门法术？<br>白素贞：玄门法术？<br>许姣容：你别说你不知道，我可是亲眼看见的。<br>白素贞：我……<br>许姣容：弟妹啊，我说你，你为什么要学那些乌七八糟的东西呢？<br>白素贞：既然施法术被姐姐撞见了，那我就实话实说吧。我早年父母双亡，只和妹妹两人结伴，家中并无男人，很不安全，自然担心坏人打我们的主意，所以只好投身玄门，学一两样法术，我学的法术，只是为了保全自己，又何尝害人性命来着？<br>许姣容：要真是这般，我就放心了，可是现在你已经嫁入我们许家了，以后就再不怕被人欺负了，那些玄门法术到底是旁门左道的东西，如果被人家看了去呢，难免有些诽短流长的，所以你要答应我放弃那些玄门，再也不用法术了。<br>白素贞：以后，不再用法术？<br>许姣容：是啊，你要一心一意的做我们家的好媳妇。<br>白素贞：不行，姐姐，因为我……<br>许姣容：怎么？你还舍不得吗？难道，难道你宁可毁掉你和汉文的幸福？<br>白素贞：好吧姐姐，我答应你便是。<br>许姣容：这才是我的好弟妹嘛。这个啊，这是我为汉文娶媳妇准备的，来。<br>白素贞：谢谢姐姐。<br>~<br>十天：两位女施主，跟我来吧，师傅已经等候多时了。师傅，她们来了。<br>小豆子：白娘娘，快救救我和爹，和尚逼着我们读经，读得我头都晕了。<br>白素贞：小豆子乖，白娘娘来救你了。<br>小青：和尚，既然知道我们要过来，那一定也知道我们为何而来吧？识相的话，就赶快放人吧。<br>法海：你懂得什么？我教他们读经，是帮助他们脱离苦海，及早回头，救他们的人是我，不是你们。<br>白素贞：和尚，你要救人，也要问问他们要不要你救吧。<br>俞七郎：我不要和尚救，我要跟白姑娘她们一起走。和尚，你就大慈大悲，放了我们吧。<br>法海：真是罪孽，我白白教你读了这么多的经，你依旧是执迷不悟。<br>俞七郎：对，我是执迷不悟，你就算让我读再多的经，我也一样执迷不悟，和尚，你就死了这份心，放了我们吧。<br>法海：不能。<br>白素贞：法海，你执意如此，难道你真的是为了救他们？<br>法海：难道不是吗？<br>白素贞：你做的这一切，究竟为了什么你心里清楚，我们俩的恩怨，何必算在别人的头上呢？<br>法海：阿弥陀佛，法海放得下万缘，也放得下恩怨，今日先救了他们，来日再来救你。<br>白素贞：救我？<br>法海：你迷恋红尘，自甘堕落，放着神仙不做，却跟人间男子厮混，我若不救你，他日必遭天遣，到时候，不只是你一个人会被打回原形，恐怕真正遭殃的是钱塘县的百姓，今天我收留这父子二人，只是想借他们之事，让你明白人妖殊途的道理。<br>白素贞：这么说来，和尚对我还真是用心良苦啊。<br>小青：姐姐，别跟他费话，先打了再说吧。<br>白素贞：不，青儿，不如，我们今天换个法子斗一斗，和尚，你我都会法术，虽然你有了天罗金钵，可是你一日修炼不到最上乘的法力，照样奈何不了我，总这样打打杀杀的，我看也没什么意思，不如我们今天都不用法术，而像平常人那样用手脚和脑来斗，我们姐妹二人跟你们师徒二人，好比佛法跟人情，如果我们赢了，就带走这父子二人，如果我输了，我们姐妹自愿拜在你的脚下，削发为尼。<br>小青：啊？姐姐啊，你，斗法就斗法嘛，非要赌那么大干嘛呀？我不想一辈子当尼姑。<br>白素贞：你还不信我吗？怎么样？和尚，敢是不敢？<br>法海：出家之人，没有什么敢和不敢。<br>白素贞：这就成了，为了公平起见，我要请一个人进塔。<br>法海：谁？<br>~<br>老住持：十天，你慢点，老衲年岁大了，腿脚不灵便了。<br>十天：大家都等您主持公道呢。<br>老住持：自从认识你们师徒两个，连觉都睡不踏实，其实，一个是和尚，一个是妖，能有什么公道不公道呢？<br>~<br>老住持：老衲方才已禀明了佛祖，今夜就借他脚下这块地方，让你们两个决一胜负，既然你们信得过老衲，让我主持公道，那就由我来出题吧。不过老衲有言在先，今天我们即不比佛法，也不比妖术，就比一比人力所能及的事情。<br>法海：阿弥陀佛。<br>老住持：这第一回合呢，我就要你们比拜佛，谁先拜完一千次，谁就是赢家。<br>十天：师傅，拜佛是我们的家常便饭，一定是我们赢了。<br>小青：磕头有什么好比的。<br>白素贞：你们放心吧，说要救你们出去，就一定说到做到。<br>俞七郎：好，谢谢白姑娘。<br>小豆子：谢谢白娘娘。<br>老住持：二位施主，请吧。<br>小青：姐姐，这样的小事还是让我来吧。<br>白素贞：你不要觉得拜佛很简单。<br>小青：哎呀，姐姐，你就放心吧。<br>十天：你们到底要不要比，不要让师傅等急了。<br>小青：姐姐，没事，不过就是磕磕头吗？那有什么可难的呀，没什么，你放心吧，啊。<br>老住持：阿弥陀佛，拜佛开始。<br>小豆子：一百一十二，一百一十三，一百一十四。<br>十天：七十一，七十二，师傅快点。九百九十五。<br>小豆子：九百九十一，小青姐姐。<br>十天：九百九十六。<br>小青：姐姐，我不行了。<br>白素贞：青儿！青儿！<br>小青：姐姐。<br>俞七郎：小青姑娘，小青姑娘，你没事吧？<br>白素贞：没事，她只是从来没磕过这么多头。<br>十天：一千！我们赢了！<br>老住持：都说世上有三苦，撑船打铁卖豆腐，却不知道这怎么能与简简单单的磕头之苦相提并论呢？白姑娘，老衲不得不宣布，这第一回合，你们输了。<br>白素贞：老住持，这回输了，还有下面呢，继续出题吧。<br>老住持：下面要比的是，打水。<br>~<br>老住持：你们看到了，就是眼前这口破缸，我要你们在一炷香的时间内，把它装满了水，你们，谁先来啊？<br>小青：啊？<br>小豆子：爹，这缸都破了，根本就不可能装满水啊。<br>俞七郎：是啊，老住持，小孩子童言无忌，但是道理是很明白的，这破缸怎么能装满水呢？<br>老住持：不然，人的智慧无穷无尽，只要用心想，总会找到办法的。二位，还是赶快动手吧。<br>十天：师傅，让徒弟试试吧。<br>法海：好。<br>十天：老住持，看我的吧。看好了。看。师傅，徒弟把缸给装满了。<br>小青：你胡说，明明是你把水给喝了，怎么又能说是装满了水缸呢？<br>十天：我刚才喝了一肚子水，水就装满了我的肚子，现在我又站在水缸里，那不是用我肚子里的水装满了水缸吗？<br>小青：不算不算，这什么歪理啊？<br>十天：师傅，十天做成了。<br>法海：好，理虽歪，却很通，您说呢，老住持？这个回合，我们又赢了吧？<br>白素贞：青儿，不用说了。</p>
</blockquote>
<h3 id="第二十二集"><a href="#第二十二集" class="headerlink" title="第二十二集"></a>第二十二集</h3><blockquote>
<p>法海：好，理虽歪，却很通，您说呢，老住持？这个回合，我们又赢了吧？<br>白素贞：青儿，不用说了，一切都听老住持的发落。<br>俞七郎：儿子，看来这次是无缘与你娘团聚了。<br>老住持：十天的做法也是有些道理的，不过，我刚才说得很明白，是要缸里装满水，而不是往肚子里装满水，白姑娘，你们还是有机会取胜的。<br>小青：姐姐啊，我觉着这事关救人，不如我们还是用一招障眼法吧。<br>白素贞：不行，说好了不用法术的。我倒想出一个好办法，青儿，来帮我把这缸推到水里去。<br>小青：太好了，老住持，这回合，该算我们赢了吧？<br>老住持：现在法海和白姑娘各赢了一个回合，这决定胜负的，就看这最后一题了。<br>~<br>老住持：我们比了拜佛，又比了打水，我就想，这最后一个回合，我们就比比这做人最简单的，也是最难的一件事情吧。<br>小青：奇怪了，世界上最简单也是最难的事情，那是什么事情啊？<br>老住持：就是，睡觉。<br>小青：啊？睡觉？<br>~<br>许姣容：哎哟，这么早，你出去干什么了？<br>李公甫：一直在衙门口当差，习惯早起了嘛，你说这次来钱塘县，辞了公差，一时还真有点不习惯，这不刚要出去走走，就在门口碰到了送水的小贩，索性帮了把手，你看这新衣服都溅湿了。<br>许姣容：这一大清早的，送水的小贩来做什么？<br>李公甫：我也不知道啊，那小贩说是咱们家弟妹买的水，买了整整三担水呢，这不，我都放在门口了。<br>许姣容：那么多水，放在柴房门口做什么呀？<br>李公甫：哎呀，你问我我怎么知道？人家就说是弟妹买的，就一定有她的用处了。<br>许姣容：三大担水，够我们全家喝上一个月的，不对，我得去看看。<br>李公甫：我说，你管那么多闲事干什么？这衣服谁洗啊？<br>~<br>许姣容：难道是贼？弟妹！小青！难道是弟妹爱干净，有每日沐浴的习惯？啊！妖，妖，妖怪呀！<br>~<br>小青：喂，老住持，你醒醒啊，你说这睡觉的比试，到底要比到什么时候为止啊？<br>老住持：天亮了，是时候了，叫他们起来吧，老衲也可以回去睡个回笼觉喽。<br>~<br>李公甫：夫人，夫人，你怎么了？醒醒，夫人。妖！妖！妖！救命啊，有妖怪！<br>~<br>老住持：二位，起来吧，胜负已经出来了，白姑娘胜了这个回合。<br>小青：姐姐，你赢了，太好了。<br>法海：老住持，我不明白。<br>十天：是啊，十天也不明白，这睡觉怎么能分出胜负呢？<br>老住持：这睡觉之中，学问也大得很呢。在金山寺当住持这么多年，常常被香客们问同一个问题，那就是，请问大师什么才是真正的幸福呢？小青姑娘，你觉得，什么才是你的幸福呢？小青：我的幸福，就是姐姐的幸福，只要能一辈子和姐姐在一起，我就觉得很幸福了。<br>老住持：俞施主，你怎么回答呢？<br>俞七郎：能跟我娘子团聚，就是我的幸福。<br>小豆子：能和我娘在一起，就是我的幸福。<br>老住持：十天，你呢？<br>十天：十天的幸福，就是每天准备好白馍和清粥，看着师傅吃个精光。<br>老住持：所以，每个人都有每个人的幸福，而我的幸福，就是每天能睡一个安稳觉，能得到这样的幸福，谈何容易啊。<br>小青：可是这个一点都不难啊，躺下便睡了，住持为什么要说它很难呢？<br>老住持：光明正大的人，无愧于心的人，当然躺下便睡了，可是有私心杂念的人，作茧自缚的人，便会恶梦缠身，挥之不去啊。白姑娘，你神色镇定，一觉醒来倒比方才又多了几分神采，想必你做了什么美梦吧？<br>白素贞：我梦到了我的相公。<br>老住持：法海，你眼圈淤黑，神色紧张，想必做了什么恶梦吧？<br>法海：倒也不算什么恶梦，不过是斩妖除魔遇到一点小麻烦。<br>老住持：她梦里没你，你梦里有她，法海，这一招你又输了。我这样说，你觉得是公道啊，还是不公道啊？<br>法海：阿弥陀佛，十天，跟师傅诵经去。白素贞，今天你救了他们父子，可你想过没有，它日你和许仙被我捉住，谁又会来救你们呢？<br>白素贞：劳你费心了，和尚，永远不会有那么一天的。<br>小青：就是。<br>俞七郎：小豆子快点，多谢白姑娘救我们父子出塔。<br>白素贞：别这样，起来起来，我跟小青这么做，不过是尽一点人情而已，咱们快回去吧，红姑还在家里等着你们呢。<br>小青：对了，小豆子，你要答应我，回去见到你娘，可不许哭鼻子啊，走了。<br>~<br>小青：姐姐，你看。<br>李公甫：大家小心啊，那妖怪可怕得很啊，尾巴有这么长，啊，不，有这么长。<br>小豆子：白娘娘，你家门口怎么有这么多人啊？是有唱戏的吗？<br>小青：姐姐，会不会是红姑？<br>俞七郎：红姑怎么了？<br>白素贞：糟了，红姑她离水太久，现了原形了。<br>俞七郎：这，这怎么办？<br>李公甫：大家一定要注意安全。<br>白素贞：姐夫，到底怎么了？<br>李公甫：弟妹，你可回来了，里面有个妖怪，你不是会法术吗？赶紧收了它，要不然她杀你姐姐。<br>白素贞：杀姐姐？姐姐。<br>许仙：娘子，你看看，你看看我姐姐这是怎么了？她可能中了妖怪的妖术，脉象很乱啊。<br>白素贞：姐姐只是受了惊吓，并无大碍，一时昏了过去。<br>许仙：没事就好，没事就好。<br>小三：许大夫，赶紧再叫些人来吧，我们守不住了。<br>李公甫：这个妖怪，害人不浅，我跟它拼了。<br>白素贞：啊，姐夫让我去，你去不得。<br>许仙：不不不，娘子，我可不能让你去，那可是妖怪，万一它发了狂，可如何是好啊？<br>白素贞：相公，我不会有事的，其实妖不像你们想像的那样。<br>许仙：什么你们我们的，都这个时候了，你还替妖说话，我们是人，斗不过妖的，现在姐姐已经这样了，你要再有个三长两短，我该怎么办哪？<br>白素贞：相公啊，你一定要相信我，我若不去，还不知道要闹出多大的事情来呢。<br>许仙：你一个女流之辈，去了有什么用啊。<br>白素贞：你看，姐夫不是也说了吗？我会玄门法术，那个妖是斗不过我的。<br>许仙：不，不，不。<br>白素贞：你在这儿守着姐姐，我去去就来。<br>许仙：娘子。<br>白素贞：你放心，我不会有事的。<br>~<br>白素贞：杜兄弟。<br>杜仲：白姑娘。<br>白素贞：里面怎么样了？<br>杜仲：白姑娘，千万别进去，里面的妖怪着实厉害。<br>白素贞：杜兄弟，这儿交给我，你帮相公照顾姐姐吧。<br>杜仲：那怎么行？留你一个女人在这里。<br>白素贞：不会有事的。<br>小青：老实人，姐姐让你去你就去嘛，我和姐姐都会些法术，治住这个妖怪不成问题的，你放心吧。<br>杜仲：白姑娘，那你们小心啊。这是我娘给我求的护身符，你拿着吧，或许能保佑你逢凶化吉。<br>小青：你，你把这个护身符给了我，那你遇到危险怎么办呐？<br>杜仲：没关系，我是个男人嘛。<br>小青：谢谢你，老实人。<br>俞七郎：孩子，别着急。<br>白素贞：红姑，没有别人了，你快出来吧。红姑，这里没人要捉你了，你快出来吧。<br>俞七郎：是啊，娘子，你快出来吧，白姑娘已经把我和小豆子救出来了，你快出来吧，我们要离开这里，永远不回来了。<br>小豆子：娘，你出来见见小豆子吧，我想你了。<br>鲤鱼精：唉。<br>俞七郎：娘子。<br>白素贞：红姑，难道你就不想见你的相公和儿子吗？<br>鲤鱼精：白姑娘，我当然想见他们，可是，我现在的样子，根本没法出去啊。<br>小青：红姑，你赶紧出来，门口的人都要进来捉妖呢，咱们赶快离开这儿吧。<br>小豆子：娘，快出来吧。<br>小青：姐姐，你说外面那么多人还看着呢，我们该怎么办呢？<br>白素贞：管不了那么多了，先把红姑送出城。青儿，咱们这样吧。<br>~<br>杜仲：怎么样了？<br>小三：没事吧？<br>许仙：娘子，这是？<br>白素贞：里面妖怪实在太厉害，我根本没法对付，小青都被打伤了，我去送她治伤。<br>李公甫：我就说吧，那妖怪下手着实狠毒。<br>白素贞：是啊，我先送小青走了。<br>许仙：娘子，既然小青受了伤，我又是大夫，就让我先替她看一下吧。<br>白素贞：那怎么行呢？你忘了，小青是被妖所伤，不是你能治得了的，还是另请高人吧。<br>许仙：你一路小心啊。<br>李公甫：各位街里街坊，麻烦让个道，让个道，慢点，慢点。<br>白素贞：红姑，支撑一下，马上就好。<br>围观：来，看看，还在里面呢，妖就在里面呢。<br>白素贞：红姑，法海！<br>法海：妖孽！你以为这里的人都瞎了眼吗？<br>白素贞：他们一家三口并没有做伤天害理的事，你为何一定要斩尽杀绝呢？<br>法海：斩妖除魔是我的责任。<br>白素贞：今天你收了红姑，她的相公和孩子会有多痛苦，难道你真的那么残忍吗？<br>法海：残忍？我看残忍的是你，你似乎特别喜欢人妖之恋的营生。<br>白素贞：就看在我在半步多也救过你一命的份上，你就放他们一条生路吧。<br>围观：真是妖怪啊。<br>白素贞：法海！<br>俞七郎：娘子，快跑。<br>围观：站住！站住！<br>许仙：娘子，你怎么样了？被妖怪骗了吧？这妖果然可恨，且退后歇着吧。<br>白素贞：法海！<br>鲤鱼精：别打了，求求你们。<br>白素贞：你为什么就是不肯放过他们呢？<br>法海：不是我不肯放，是老天不肯放，你看看这些人，有多么恨你们这些妖，也包括，你的相公，妖就是妖，就算嫁了人，生儿育女。<br>俞七郎：别打了，求求你们。<br>法海：你还是妖，人间是容不得你们这些妖孽的。白素贞，不如跟我走吧，我教你佛法，助你修行，帮你完成成仙大业。<br>白素贞：你休想！我就不相信今天救不了他们。<br>俞七郎：我求求你们，别打了，别打了，别再打了。我求你们。<br>鲤鱼精：相公救我。<br>俞七郎：师傅，师傅，我自愿跟你修行佛法，你就放过我娘子吧，求你了师傅。<br>法海：阿弥陀佛，就算我放过你娘子，又有何用，恕贫僧无能为力。<br>鲤鱼精：别打了，求求你们。<br>法海：她已经不是人，也不是妖，永远只是一个半人半妖的怪物了。<br>俞七郎：师傅，那我就求你成全，收了我娘子吧。<br>白素贞：俞七郎，你知道自己在说什么吗？<br>俞七郎：我当然知道我自己在说什么，但是，我能眼睁睁的看着我的娘子被人当成怪物，用棍子打吗？这日子该如何过下去？<br>白素贞：你等着，我这就去救她。<br>俞七郎：没用了，你救得了她人，但是你救不了她以后的日子。<br>鲤鱼精：救我，救我。<br>俞七郎：难道你让我的儿子每天都看着一个半人半妖的娘吗？师傅，求你收了她吧。<br>法海：这可是施主自愿的？<br>俞七郎：是，是我自愿的。<br>鲤鱼精：小豆子！<br>法海：阿弥陀佛。<br>白素贞：这是我来人间拿到的第五滴眼泪，这滴眼泪拿在我手里，未免太重了，它因一个男人的恨而成。法海，我终于明白你为什么就是不肯放过我，因为你嫉妒我。<br>法海：我最后问你一次，你是走还是不走？你若跟我走，我便助你成仙，你若不走，便要成就你雷峰塔之盟。<br>白素贞：和尚，让我告诉你，许仙不是俞七郎，我也不是红姑，我的许仙永远不会背叛我，还有，自从我决定嫁给许仙的那天起，我早已自断后路，你还是好好炼你的钵，守好你的雷峰塔吧。<br>~<br>邻居甲：你们听说了吗？宝和堂有妖啊。<br>邻居乙：啊？真的？<br>邻居甲：是啊。<br>邻居乙：那不是被和尚收了吗？<br>邻居甲：你们不知道，只收了一个。<br>邻居乙：一个啊。<br>邻居甲：搞不好，里面还有呢。<br>邻居乙：还有？<br>邻居甲：是啊，谁知道啊。看看，还吃饭呢。<br>李公甫：看什么看，没见过吃饭呐？走走走，讨厌。真是的，自从那天和尚在咱们这儿收了那妖怪，连顿饭也吃的不踏实。<br>许姣容：弟妹，我再也忍不下去了，这事你一定给我说说清楚，那天我去柴房，小青鬼鬼祟祟地拦着我，我就知道这里边一定有古怪，还有你无缘无故的要三担水，三大担水，难道都是为了那妖怪？难道你认识那妖怪？难道你和那妖怪……<br>李公甫：弟妹，家里出了妖怪，这可不是一件小事，街里街坊都看着呢，你总得跟家人有个交待吧。<br>小青：不是的不是的，你们可千万不要乱猜，其实这件事情啊……<br>白素贞：青儿，事已至此，我就不瞒大家了，其实……<br>许仙：娘子，其实，你也不用再替我隐瞒了，姐姐，这件事是因我而起的。<br>白素贞：相公。<br>许姣容：你？<br>许仙：姐姐，其实那妖怪，还是被我给捡回家的，那日妖怪找上门来让我替她看病，我一摸脉相，便知道她不是人，可是无奈她法术高强，我又不是她对手，我就只好被迫同意把那妖怪留在家中了，谁知此事被娘子知道了，娘子劝我想办法及早脱身，甚至还要代我服侍于她，本想找机会请一个法术高明的人将她收服，谁知姐姐你……<br>许姣容：这是真的？<br>白素贞：真的姐姐。<br>李公甫：汉文啊，这就是你的不是了，咱们是一家人，你早应该把这事说清楚嘛。<br>许仙：总之，是我的不对，姐姐，你可千万别怪我娘子。<br>~<br>白素贞：相公，方才你……<br>许仙：娘子，什么都不要说了，事情已经过去了。<br>白素贞：可是我是诚心要救那鲤鱼精的。<br>许仙：我知道。<br>白素贞：你知道？<br>许仙：我们是夫妻嘛，还有什么能瞒得住彼此的。<br>白素贞：那你不问我为什么要救那妖怪？<br>许仙：娘子，你做事一定有你的理由，你是个好心的人，做事也有分寸，我不需要问什么理由。<br>白素贞：可是如果事出有因，并且还有一个不可告人的秘密呢？<br>许仙：我们之间也有秘密吗？<br>白素贞：如果有呢？<br>许仙：如果有的话，就让它有吧，娘子早晚会告诉我的，只不过现在还没有到说出来的时候。<br>白素贞：也许，我现在就应该告诉你，相公，我……<br>许仙：娘子，你千万不要勉强自己，每个人都有自己的秘密，好比我。<br>白素贞：相公。<br>许仙：娘子，我不希望你为难，我只想看着你开心，你开心，我便开心。<br>~<br>李公甫：你干什么听墙根啊？<br>许姣容：嘘，我不听墙根，怎么知道他们那么恩爱呀？<br>李公甫：他们说什么？把你都说哭了，让我听听。<br>许姣容：走，睡觉去，睡觉去，走。<br>~<br>小三：杜大哥，小青姑娘来了。<br>杜仲：你，你看清楚了？<br>小三：小青姑娘长得那么漂亮，我怎么会看错呢？<br>杜仲：帮我拿着。<br>小三：哎。<br>小青：小三子，老实人呢？<br>小三：杜大哥啊？一早就出去了。<br>小青：去哪儿了？<br>小三：去县衙。<br>小青：县衙？这儿不就是县衙吗？<br>小三：对，对，早上起来还在这儿呢，怎么就找不着了呢？<br>~<br>白素贞：相公，喝口茶休息一下吧。你看见管家了吗？<br>许仙：反正也没什么人来问诊，我就叫他老人家到后面歇着去了。<br>白素贞：怎么？还没有病人上门问诊啊？<br>许仙：还不是前几日妖怪作祟之事？<br>白素贞：可是，这妖怪不是已经除了吗？<br>许仙：妖怪是除了，可是流言蜚语越来越多了，现在街坊都说，咱们宝和堂根本不是什么清净之地，所以才会有妖魔作乱。<br>白素贞：难道，世人真的这么怕妖吗？<br>许仙：妖乃异类，自古以来，作乱人间，为非作歹，害人性命之事屡见不鲜，我们这些人，哪有不怕的道理呢？<br>白素贞：宝和堂落得今天这个样子，都怪我。<br>许仙：娘子，你这说的什么话？这跟你一点关系都没有，怎么能怪你呢？要怪只能怪那些作祟的妖魔。再说了，如果没有你，哪来这间宝和堂，又哪来我这样一个什么许大夫呢？娘子，我不许你有这样的想法。<br>白素贞：相公，如果有一天，你发现，你发现我骗了你，你会怎么样呢？<br>许仙：娘子你绝不会骗我。<br>白素贞：我是说如果，万一呢？<br>许仙：娘子对我恩重如山，即便骗我，我也心甘情愿。<br>白素贞：相公。<br>许仙：娘子。<br>~<br>小三：杜大哥，你来了，快快快，快进去。<br>杜仲：没人看见吧？<br>小三：进去吧。杜大哥，我都跟月老祠的守门人说过了，今天你就先在这里住下，明天我再来找你。<br>杜仲：谢谢你了。<br>小三：谢就不必了，不过杜大哥，小三真的不懂，小青姑娘年轻漂亮，哪里配不上大哥呀？让你这么东躲西藏的，你就这么躲一辈子？<br>杜仲：我并不是要一直躲下去，只是我到现在也没有想明白，小青和连翘，我到底更喜欢哪一个？<br>小三：嗨，要是我呀，要是我，我就选小青姑娘，你看许大夫，选了白姑娘，两人好得像一个人似的，多让人羡慕。<br>杜仲：这话说起来没错，可是不知为什么，我这心里总不踏实，我总是觉得吧，有哪儿不对劲。<br>小三：喜欢一个人，能有什么不对劲啊？<br>杜仲：谢谢你，你先回去吧。<br>小三：好。<br>杜仲：我自己好好地想想。总算能睡个安稳觉了。<br>~<br>小三：杜大哥，你来了，快快快，快进去。<br>杜仲：没人看见吧？<br>小三：进去吧。杜大哥，我都跟月老祠的守门人说过了，今天你就先在这里住下，明天我再来找你。<br>杜仲：谢谢你了。<br>小三：谢就不必了，不过杜大哥，小三真的不懂，小青姑娘年轻漂亮，哪里配不上大哥呀？让你这么东躲西藏的，你就这么躲一辈子？<br>杜仲：我并不是要一直躲下去，只是我到现在也没有想明白，小青和连翘，我到底更喜欢哪一个？<br>小三：嗨，要是我呀，要是我，我就选小青姑娘，你看许大夫，选了白姑娘，两人好得像一个人似的，多让人羡慕。<br>杜仲：这话说起来没错，可是不知为什么，我这心里总不踏实，我总是觉得吧，有哪儿不对劲。<br>小三：喜欢一个人，能有什么不对劲啊？<br>杜仲：谢谢你，你先回去吧。<br>小三：好。<br>杜仲：我自己好好地想想。总算能睡个安稳觉了。<br>~<br>杜仲：小青，你别走！要么就因为她睡不着，要么一睡着就梦见她。小青姑娘？<br>小青：老实人，你起来了。<br>杜仲：你什么时候来的？<br>小青：你来我就来了，只不过听小三说，你已经有好几天没有睡过安稳觉了，所以我就站这儿等啦。<br>杜仲：你是说你站了一夜？<br>小青：嗯，这有什么大不了的，我会功夫嘛。你看我现在腰也不酸，腿也不软，而且还有时间去给你买早点呢，你等着，我现在就拿上去。<br>杜仲：你别上来。<br>小青：为什么？<br>杜仲：小青姑娘，今天我索性跟你说清楚了吧，你以后不要再缠着我了。<br>小青：我缠着你？没有啊。<br>杜仲：有啊，你这几天天天像影子似地跟着我，我到这儿，你便到这儿，我到那儿，你便跟到那儿。<br>小青：这有什么呀，我看姐姐和许仙也是这样啊，但是许仙也没说姐姐缠着他啊，而且好像还很喜欢呢。<br>杜仲：你姐姐和许仙是夫妻两个，而我们，我们只是朋友啊。<br>小青：那还不简单，从朋友做了夫妻，不就成了吗？<br>杜仲：不行不行，我心里早就有了一个人了，而且我早就发过誓，非她莫娶，如今你这样，不是让我出尔反尔吗？<br>小青：我知道你还有其他的姑娘可以选，就像许仙一样啊，不过，许仙最后不还是娶了我姐姐吗？再者说，那是很久以前的事情了，我只问你，就现在，你的心是怎么样的？你是选了我，还是选她？你说啊。<br>~<br>李公甫：老板，老板，面摊儿是谁的？<br>月老：嘘。<br>李公甫：我说你这面卖不卖啊？老人家，我是来吃面的，你这是什么意思？<br>月老：现在顾不上，要吃，自己下吧。<br>李公甫：你这面是怎么卖的？哪有让客人自己下面的道理？我跟你说话呢，到底看什么？<br>~<br>杜仲：小青姑娘，我还是不能让你上来。<br>小青：为什么？你明明喜欢的人是我，你刚才做梦还梦到我了呢。<br>杜仲：你怎么知道？<br>小青：我当然知道了，你做梦的时候还喊着，小青姑娘你别走，喊得可大声可用力了，我听到了，就连那边卖面的老人家都听到了。<br>李公甫：老人家，他喊小青的名字，你听到了？<br>月老：当然听到了，而且声音还挺大的。<br>小青：听见了没有，我知道你肯定喜欢我，如若不是，干嘛整夜叫我的名字？干嘛不梦到别的女孩梦到我呢？<br>杜仲：我是喜欢你，可是大丈夫要从一而终。<br>~<br>白素贞：不行！绝对不行！<br>小青：为什么不行？老实人喜欢我，我也喜欢老实人，就象你和许仙一样，你们可以，为什么我们却不行啊？<br>白素贞：我们状况不同，我和许仙是真心相爱，禀明了观音大士才得来的姻缘。<br>小青：那我也可以去找观音啊，告诉她，我小青也像姐姐一样爱了，动了心了，懂得情为何物了。<br>白素贞：你懂吗？若你只是寂寞，就赶紧放手吧，天谴两字，我们心知肚明。<br>小青：天谴，天谴，你现在说话的口吻，简直和那臭和尚一模一样。<br>白素贞：法海说了那么多的话，我一句也听不进去，只有天谴一说，近些日子却时刻印在我的心上，青儿，要知道你是妖，如果执意妄为，到时候遭殃的不止你一个人，还有杜仲，甚至全钱塘县的老百姓都要遭灭顶之灾啊。<br>小青：好一个你是妖，姐姐，你把你自己当什么了，就算是有天谴，你以为你就可以凭着观音的庇护，就能逃过此劫吗？你总拿一千年的道行来压我，说我什么都不懂，可如今我也有喜欢的人了，我为什么就不能懂情呢？姐姐，你也未免太小看人了吧，难道这世上只有你跟许仙的情是不可一世的，而我和老实人的情就可以轻如鸿毛了吗？<br>白素贞：青儿，不管怎么样，我希望你明白姐姐是为了你好。<br>小青：为我好？为我好你就成全我和老实人嘛。<br>~<br>小青：还说什么为了我好，根本就是骗人的嘛，要是会有什么天谴的话，为什么你和许仙还这么幸福地生活在一起呀，骗人，当初你和他好的时候，我有没有这样劝过你呀？你还不是一样执意要嫁给他？怎么今天换作是我，就又换成了另外一番说辞了呢？什么天谴不天谴的，我小青天不怕地不怕，难道还怕这个不成？好了，要是真有什么天谴呢，那就趁着现在，一道厉闪将我劈醒。啊？难道老天爷真的不同意我和老实人相好啊？这一定是姐姐施的法术，想吓我回头的，我从来都那么听你的话，这次，我就偏偏要跟你对着来，看你拿我怎么办？<br>~<br>杜仲：小青？<br>小青：老实人，我，我跟我姐姐吵了一架，就跑出来了，我不想回去了，我能不能……<br>~<br>白素贞：青儿！青儿你在哪儿？你听到姐姐叫你，好歹也应一声啊，青儿！姐姐很担心你，你气也气够了，答应我一声啊，青儿！难道，她去找……不行，绝对不行！<br>许仙：娘子，娘子你怎么了？娘子。<br>白素贞：相公？这么大的雨，你跑出来做什么？<br>许仙：这么晚了，下这么大雨，你还跑出来摔了一跤，你要有个三长两短，我怎么办呐？<br>白素贞：我还不是一样，小青这么跑出来，我也不放心啊。<br>许仙：走吧。<br>白素贞：哎呀。<br>许仙：娘子，怎么了？<br>白素贞：脚好像扭了。<br>许仙：严重吗？疼不疼？<br>白素贞：没事。<br>许仙：那怎么能行？万一骨头伤了，让我看看。来，坐下。<br>白素贞：不碍事的。<br>许仙：哪只脚？疼吗？<br>白素贞：还好。<br>许仙：什么还好，你看看你，脸色都白了。<br>白素贞：你生我气了？<br>许仙：我当然生你气了，这么晚了，你一个人跑出来，还摔了一跤，万一……那我还不急死。你还笑。<br>白素贞：我不是笑你，我是感到幸福，遇到了你这样的好男人。<br>许仙：所以嘛，你就更不该阻止小青和杜仲了，人生难得一知己，相爱又谈何容易，想当初，我还不是为了和你在一起，连死都不怕，还不是因为情这个字？我们都是过来人，你应该理解小青，何必还从中阻拦嘛。<br>白素贞：我阻拦她，有我的苦衷，但愿你说的对吧。<br>许仙：娘子，天已经很晚了，我想小青她一定没有什么地方可去，也许，她现在已经回到宝和堂了，我们也回去吧。<br>白素贞：嗯。<br>许仙：来，慢一点。<br>~<br>白素贞：相公啊，还是让我自己来吧，要是被人看见，多不好意思啊。<br>许仙：不行，相公疼老婆，是天经地义的事，我才不管别人看不看得见，再说了，咱们宝和堂这几天也没什么生意，我呀，手痒痒，正好过一下当大夫的瘾。<br>白素贞：照这样下去，宝和堂不知能撑多久。<br>许姣容：看着你们小两口恩恩爱爱的样子，我和你姐夫也没白来一趟，现在，我们也该走了。<br>许仙：走？<br>白素贞：姐姐，你们刚来怎么就要走啊？是不是因为街坊的那些话？<br>李公甫：不不不，你姐姐不是这个意思，是瞧你们这些日子一点进项也没有，我们在这吃住，给你们添麻烦了。<br>许仙：姐姐姐夫，这怎么能算麻烦呢？姐姐把我从小一手带大，就算我供养姐姐，那也是应该的啊。<br>白素贞：是啊，姐姐你不能走，刚才你也说了，我们是一家人呢，我不是个好媳妇，还要你手把手的教我呀。<br>许姣容：弟妹，可是这样下去，这宝和堂都维持不下去了。<br>白素贞：姐姐，你相信我，宝和堂一定会好起来的，流言只是一时的，不会是一世。<br>李公甫：可是眼前一家五口吃饭穿衣也需要银子啊。<br>白素贞：姐夫，你放心，银子，我有。这是五十两白银，我们渡过这个难关，用来周转一下，我想是不成问题的。<br>许仙：娘子，你哪来这许多银子？<br>白素贞：当初置办宝和堂的时候，小青跟朋友借的，没想到我们刚开张就有了盈利，所以这几日正准备把银子还回去，谁知道又遇到困难，我们再借来用一下吧。<br>李公甫：没想到咱们小青这么有本事，还认识这么有钱的朋友啊。<br>许姣容：哎呀，你胡说什么呀，弟妹呀，这银子我们该还不还，人家会不高兴的。<br>许仙：是啊，娘子，到底不是我们的，还是还回去吧。<br>白素贞：不打紧，我想事情总不会一直这样的，等我们有了缓机，立刻还给人家就是了，这些银子你先拿着，把柜上的药给补齐了吧。<br>许仙：这……<br>白素贞：这件事由我作主了，姐姐，姐夫，你们就安心住下吧，我和汉文一定有办法的。<br>许仙：娘子，你好像有什么心事吧？<br>白素贞：啊，没有啊。</p>
</blockquote>
<h3 id="第二十三集"><a href="#第二十三集" class="headerlink" title="第二十三集"></a>第二十三集</h3><blockquote>
<p>小青：姐姐，这是我写的唯一的帖子，我不知道除了你，我还能，我还能请谁来喝我的喜酒，日子就是明天，来不来，看你的意思了。<br>白素贞：我不会去的，我也不会让你这样胡闹下去。<br>小青：我怎么能是胡闹呢，姐姐，我要说多少遍呐，我和老实人是真心相爱的，难道，难道，你不希望我找到幸福吗？<br>白素贞：青儿，我知道我现在说什么你都听不进去，可是你要相信我，我是在救你。<br>小青：救我？我看，你还是先救你自己吧。<br>白素贞：你真的不听我的话？<br>小青：你说的话和那个和尚一样让人讨厌，我不听。<br>白素贞：你已经决定了吗？<br>小青：对，我决定了，我一定要嫁给他。<br>白素贞：如果这样错了呢？<br>小青：如果这样是错的，那就让我一直错下去吧。<br>白素贞：如果我不让你错呢？<br>小青：除非你杀了我。<br>白素贞：好，那我就成全你。<br>~<br>小青：姐姐，姐姐你放我下来啊，明天就是我好日子，你不能这样拦着我，姐姐你放我下来，姐姐，放我下来啊，放我下来好不好？<br>白素贞：你早晚会知道我的用心良苦，姐姐如今用情至深，才知道用情的辛苦，而你的情一半是寂寞，一半是模仿。<br>小青：我……<br>白素贞：现在收手，还来得及，可一旦成了婚，你就不能置身事外了，我今天虽然绑住你，但也给你一个脱身的机会，如果老天真让你动这份凡心的话，你自会找到脱身之计。<br>小青：姐姐，姐姐，你疼吗？没事吧？<br>白素贞：真难得，你还能感到姐姐身上的疼，青儿，如果你今日真能脱身，成就你的大事，姐姐只有祝福你了，万一，我是说万一有天谴，记得回来找我，姐姐替你顶着塌下来的天。<br>小青：姐姐，哎，姐姐，你别走啊你，这里荒山野岭的，有谁帮我脱身啊，姐姐！你还真走啊你，姐姐！难道老天助我不成？十天！十天！十天，过来过来。<br>十天：青蛇？你怎么在这里呀？<br>小青：我嘛，在这儿玩啊。<br>十天：玩？吊在树上，还绑着手脚，这叫什么玩法啊？<br>小青：这你就不懂了吧，我在这儿待着，不但可以玩，而且还能从树上摘银子呢。<br>十天：摘银子？<br>小青：嗯。<br>十天：少胡说啦。<br>小青：我没有，我怎么会胡说呢？真的，这树上长满了银子，要是被世人的肉眼凡胎看了去，岂不是让大家都摘了？所以呀，要把自己放在树上，吊在这儿，然后保持这个姿势不动，你就能看见满树的银子，怎么样，想不想来摘啊？<br>十天：这，这树上真有银子啊？要是我学会了这个法子，就能每天给师傅做清粥和白馍了，那不就……，小青姐姐，你能不能教教我啊？<br>小青：好吧，看在你跟我是好朋友的份上，不过，你得先把我放下来，再把你换上来，才可以教你啊。<br>十天：这树上真的结满了银子啊。<br>小青：这傻小子，这银子怎么能从树上掉下来呢？这是你小青姐姐从太尉府里盗过来的。<br>~<br>十天：谢谢老板，明天我还来，给我留个最大的。<br>小贩：好。<br>~<br>许仙：老板，这是我药铺要新添的药材，那就麻烦您了，这是预付的定金。<br>老板：好好。<br>~<br>官差：走开走开。让开让开。<br>白素贞：这几日，街上的官差怎么这么多？难道是要拿什么人吗？糟了，是官府缉拿盗库银贼人的告示。<br>~<br>杜仲：白姑娘。<br>白素贞：我今天来，只有一句话要问你。<br>杜仲：姑娘请说。<br>白素贞：你是真心喜欢我妹妹小青吗？<br>杜仲：杜仲对小青，一心一意，绝无二心。<br>白素贞：有你这句话我就放心了，我妹妹贪玩，可没人比她更重情意，希望从今以后，你能好好对她。<br>杜仲：白姑娘……<br>小三：哎，杜大哥，杜大哥，赶快走吧，有紧急公务。<br>杜仲：什么事？<br>小三：盗库银的贼人被捉住了。<br>白素贞：谁啊？<br>~<br>县太爷：啊，没错，这正是本府丢失的库银。小居士，这锭银子从何而来？你快如实招来，如若不然就要大刑伺候了，你小小年纪可是受不得刑的，还是不要自讨苦吃了。<br>衙役：说。<br>杜仲：小居士，老爷的话你可听清楚了？还不快把银子的来历告诉老爷。<br>十天：这银子是我摘的。<br>县太爷：什么？摘的？那你是从何处摘的？<br>十天：出了城门向西走，过了黑石桥再向北走，大槐树的三岔路口，沿着最右边一条小路走上二三里，路边就有一棵银子树，这银子就是从那摘的。<br>县太爷：银子树？<br>十天：没错。<br>县太爷：大胆小居士，竟胆敢戏弄本官，这天底下哪来的银子树？分明是一派胡言，看来不动大刑你是不会老老实实招供的，来人呐，给我打。<br>杜仲：启禀老爷，属下有一事要禀告老爷。<br>县太爷：什么事呀？<br>杜仲：那日太尉府官银失窃的时候，这小居士和他的师傅的确在现场出现过，不仅如此，二人还几乎闯进禁区。<br>县太爷：哦，有这等事？<br>杜仲：不光属下，那日当值的兄弟全都看到了。<br>县太爷：这么说来，这小居士的确是和官银失窃有关喽，那他的师傅呢？<br>杜仲：他们师徒二人一直寄居在雷峰塔内。<br>县太爷：派人速速把他师傅捉来，本官我要仔细的查问。<br>杜仲：是。<br>~<br>衙役：跪下。<br>十天：许仙？<br>衙役：启禀老爷，偷盗库银的人犯被带到了。<br>县太爷：这么快就带到了？<br>衙役：赃银在此。我等在巡街的时候，遇到几个药材商人，说此人用官银买药材，很是可疑，属下一看，正是县衙库府失窃的官银。<br>县太爷：不错，正是本府丢失的库银。大胆和尚，你不好好的吃斋念佛，守着你的清规戒律，三番五次的偷盗本府库银，实在是顽劣之极，不用大刑，料你也不会如实招供，来呀。<br>师爷：老爷，他不是和尚，和尚还没来呢。<br>县太爷：啊？不是和尚，那是谁呀？<br>师爷：是宝和堂的许大夫，许仙。<br>县太爷：哦，许大夫，请起请起，许大夫，本官有一事要请教许大夫，不知本府官库的库银，怎么就会到了你的手上呢？<br>许仙：我……（这银子明明是娘子所给，怎么会成了太尉府所盗的库银呢？难道娘子所说的那个朋友，根本就是个江洋大盗？若是我照直说，岂不是要害了娘子？）<br>~<br>小青：姐姐，姐姐，怎么你先走的，倒是比我还晚回来呢？<br>白素贞：好端端的，躲在暗处干什么呀？<br>小青：姐姐，我跟你说，没见街上那么多的官差呀？听说盗库银的贼人被抓住了，还不知道是哪个倒霉蛋呢。<br>白素贞：你还好意思说，我正为这事烦心呢，怎么好端端的，有人被当成盗库银的贼抓了去呢？<br>小青：啊呀，姐姐啊，有人替我们顶罪不是更好，你不用为这件事心烦，倒是咱们有言在先，要是我走脱了，说明上天在帮我，姐姐，你可不要阻拦我的好事哦。<br>白素贞：你呀，好自为之吧。<br>小青：我就知道姐姐最疼我了。<br>管家：夫人哪。<br>白素贞：管家，怎么了，发生什么事情了？<br>管家：哎呀，不好啦。<br>白素贞：有什么事慢慢说。<br>管家：许大夫，他被官差抓走啦。<br>~<br>师爷：说啊，哎呀，你倒是说啊，嗨，说出来不就没事了吗？你……老爷，一个时辰都到了，这个许仙是一句话都不肯说，我看不用刑是不行了。<br>县太爷：我说许大夫，我看你说话吞吞吐吐，话不成句的样子，定是心里有鬼，看在当日你救过我家娘子的份上，可别让我动刑哦。<br>衙役：启禀老爷，县衙外有一位妇人和一个和尚求见。<br>许仙：娘子。<br>法海：阿弥陀佛，贫僧法海见过大老爷。<br>县太爷：法海，本官问你，堂下跪的小居士你可认识？<br>十天：师傅。<br>法海：这正是贫僧的徒弟十天。<br>县太爷：那好，本官再问你，前几日你是否带着这个徒弟，进过太尉府的内廷禁区？<br>法海：是，我们是去过。<br>县太爷：好，你们师徒二人进到存放库银的禁区，当日库府便失窃了，过不了几日，你的徒弟又拿着官府丢失的库银上街买东西，这些事情，你如何解释？<br>法海：大老爷问话，贫僧自是知无不言，言无不尽，但是贫僧也有一事不明，请大老爷明示。<br>县太爷：好，讲。<br>法海：听说库府官银被盗之时，门未开，窗未破，封条未开启，敢问世间有何人能有如此本事，大庭广众之下，光天化日之中盗走库银呢？<br>县太爷：这，这的确不是常人所为，这简直就不是人可为之的。<br>法海：正是，这不是人可为的。<br>县太爷：什么？你的意思是……<br>法海：这是妖孽作祟，那日贫僧带着徒弟前去降妖，不料算错一步，让那妖孽逃了。<br>县太爷：你是说，这是妖怪所为？一派胡言，难不成你还会降妖除魔？<br>法海：正是。<br>县太爷：胡说，你当本官是三岁小孩，随随便便就可以糊弄过去？不打你你不说实话，来人。<br>师爷：老爷，你有所不知，这法海是钱塘县有名的人物，的的确确也会降妖除魔之术啊。<br>县太爷：许仙，那你说说，你那几锭银子又是怎么来的？<br>白素贞：大老爷，这件事，都是小女子我的不是。那日我带妹妹小青去郊外踏青，出了城门向西一直走，过了黑石桥再向北，走到大槐树的三岔路口，沿着最右边一条小路又走了二三里地，突然从一棵大树上掉下三锭银子，嗨呀，当时我和妹妹都吓了一跳，也怪小女子我见识浅薄，虽然觉得事有蹊跷，但是还是禁不住拿了起来，带回家中贴补家用，却想不到这竟然是官府丢失的库银，给相公惹了一身这样的麻烦，真是早知如此，何必当初呢？<br>县太爷：又是从树上掉下来的，怎么跟小居士说的一样啊？<br>师爷：这两个人应该是没有串供的可能，说得如此一致，倒不可不信呐。<br>县太爷：那以师爷的意思，此案应该如何定夺啊？本案个中蹊跷众多，依照高僧所言，定是妖孽所为，白素贞与小居士又都是在大树下捡到的银子，本官要审审这棵妖树。<br>~<br>小三：别动。找到了，找到了，启禀老爷，这里是四十七两的官银，加上已经找到的一共五十两，全部找回。<br>县太爷：啊，找到啦，好好好，经本官查证，此次库银被盗，正是妖孽作祟，而这妖孽一定便是这棵老树幻化成妖，为了以后不再危害百姓祸害苍生，本官决定要把这棵妖树斩草除根。<br>白素贞：老爷，那，那我相公呢？<br>县太爷：这是妖怪所为，那自然不关你们事啦。<br>白素贞：多谢清官大老爷，老爷夜审妖树，追回库银，他日一定传为美谈，小女子对您佩服的五体投地。<br>县太爷：佩服我？哈哈哈，好好好，你和许大夫实情相报，助我追回了库银，也是有功之人呐，这样的百姓不表彰，还待何时？记着，我要再为宝和堂题写匾额。<br>白素贞：相公，还不赶紧谢过老爷。<br>许仙：谢谢老爷。<br>~<br>小青：姐姐，对不起，一切都是因我而起的，如果不是当日我一时任性，盗了库银，也不会连累姐姐和许仙对簿公堂啊。<br>白素贞：好了好了，你这话说不通，一盗库银你是为了贴补家用，再盗库银，我们姐妹同往，就算是错了，也是我们姐妹两个人的错呀。<br>小青：那就是说，你原谅我了，你也不会再责怪我和老实人之间的事了吧？<br>白素贞：你有什么错呢？你不过是太寂寞，要找一个男人来爱。<br>小青：那我可以爱他吗？<br>白素贞：我想可以，因为我可以，其实我阻止你们成婚，是不想让你步我的后尘，了解那种万念俱灰的快乐，爱一个人是何等辛苦之事，爱的时候你什么都不想，只想跟他在一起，一生一世就这么过下去，过完今生，还有来生，如果有一天你懂了姐姐的话，那你就会痛苦了。<br>小青：今天晚上的月亮真美，明天我可就要嫁人了，姐姐，今天晚上我能不能睡在你身边，就像以前那样，只有我们姐妹两个，好不好？好嘛。<br>白素贞：好了。<br>小青：我现在去铺床。<br>~<br>白素贞：弟子白素贞，见过观音大士。<br>观音：唉。<br>白素贞：观音大士您为什么叹气呀？为什么那么忧愁？<br>观音：你自己看看吧。<br>~<br>白素贞：观音大士，您究竟让我看什么？<br>法海：白素贞。<br>白素贞：和尚？<br>法海：阿弥陀佛，白素贞，你不仅自己迷惑人间男子，嫁与许仙为妻，你现在又纵容青蛇重蹈你的覆辙，你说，你知罪吗？<br>白素贞：我们只是凭着自己的心办事，何罪之有？<br>法海：心？你若有心，就记住今夜你所看见的一切吧，明天天一亮，你就知道你错在哪里了。<br>白素贞：明天天一亮，你什么意思？明天天亮怎么样？会发生什么事？<br>法海：你罪孽深重，只有我能救你。<br>白素贞：我不信，我不信老天这么安排，什么人妖殊途，我们夫妻两个恩恩爱爱，过着幸福的日子，早就忘了什么人妖的事情，为什么要提醒我，这只是个梦，梦一醒，什么都不会发生的，不可能！不可能！我不信！我不信！和尚，你让我进去，那才是我的家。<br>法海：不是我，白素贞，天谴已经开始了，你再执迷不悟，钱塘县的百姓将因你而死。<br>白素贞：法海，你别走，你别走！观音大士，连你也认为我错了吗？我不能再回那个家了吗？<br>观音：天意难违，天有天规，你已犯天条，我根本无力挽回，记得你跟我说过的话吗？一旦帮许仙完成心愿，你就要抽身而退，而如今，你早已泥潭深陷，就连青蛇，也要步你后尘，卷进这场人妖的是是非非当中，现在该是你离开的时候了，去找你的眼泪，成你的仙吧，这里不是你的家，你留在这里，只会害了他们的性命，去吧。<br>白素贞：观音大士，观音大士你听我说，没错，我当日立下了誓言没有错，可今天反悔的是我，不关其他人的事情啊，观音大士！相公！相公！相公！相公！<br>~<br>白素贞：啊！<br>小青：姐姐，你怎么了？你的脸色好苍白，是不是生病了？我知道了，姐姐你做恶梦了是吧？<br>白素贞：不，那不是梦。<br>小青：姐姐。<br>白素贞：因为我们，很多人……，我要去找相公。<br>~<br>李公甫：钱塘县的浩劫？弟妹，你说笑吧？<br>小青：姑老爷，你千万要相信我姐姐讲的话。<br>许姣容：弟妹，我不是怀疑你，可是这么大的事，你怎么会知道的呢？<br>白素贞：我……<br>许仙：姐姐，你忘了，我娘子是玄门中人，懂得一点法术的。<br>许姣容：那就是真的了，怪不得夜里起了黑风，叫人心里发慌呢。<br>李公甫：这要是真的，天一亮钱塘县就有天灾人祸，那我们还在这等什么，还不赶快走。<br>许姣容：那我们赶紧收拾收拾，能走多远就走多远吧。<br>小青：姐姐，我看这倒是个好办法，与其我们两个走，不如全家一起走，我现在找老实人去。<br>许仙：我们不能走，若钱塘县真的有一场浩劫，一定会瘟疫蔓延，家破人亡，到时候，一定有不少病人需要医治，我身为宝和堂的大夫，怎么可能在这个时候走呢？<br>小青：许仙，你平时犯呆也就罢了，这生死关头，你能不能不再犯傻了？<br>许姣容：是啊，汉文，现在不是逞英雄的时候啊。<br>李公甫：是啊，你要这样，我也帮不了你呀。<br>许仙：娘子，你怎么说？<br>白素贞：你到哪儿，我就到哪儿，你留下，我就留下。<br>小青：你们两个疯了，简直气死我了，姑老爷，你快说话呀，你倒是说句话呀。<br>李公甫：这……<br>小青：你们倒是快点决定啊，要是再犹豫，想走都来不及了，姐姐。<br>白素贞：已经来不及了，天亮了。<br>许仙：娘子，按说天早该亮了，怎么现在还像夜里一样？<br>白素贞：相公，姐姐，姐夫，一会儿我打开门，无论你们看到什么，都不要惊慌。<br>李公甫：弟妹，你放心，我好歹在衙门口做事，是见过世面的。<br>许姣容：是啊弟妹，既然我们决定留下来，我们就要挺过去，从现在起，你说怎么办，我们就怎么办。<br>许仙：我们是一家人，只要我们在一起，就没有过不去的关口。<br>小青：我真是服了你们了，这都什么时候了，不过，姐姐，你放心，我是你的妹妹，无论发生什么情况，我绝对不会离开你的。<br>~<br>小贩：许大夫，救救，救救我吧，救救我。<br>李公甫：夫人，你怎么了？<br>许仙：姐姐，姐姐。<br>李公甫：怎么回事？汉文。<br>许仙：没关系，她只是惊吓过度，没大碍的，快扶她进去吧。<br>李公甫：那你呢？<br>许仙：我，我去救人。<br>白素贞：相公。<br>许仙：我去。<br>李公甫：青儿，拿着灯。<br>小青：姐姐。<br>李公甫：我扶你走。<br>~<br>许仙：娘子，别过来，会被传染的。<br>白素贞：我说了，你在哪儿，我就在哪儿。<br>许仙：好，我们生死在一起。<br>白素贞：嗯。<br>~<br>李公甫：夫人。<br>小青：姐姐，姐姐。<br>许姣容：汉文。<br>小青：醒了。<br>许姣容：汉文哪儿去了？<br>小青：姐姐你放心，许仙跟我姐姐去救人了，姑老爷，姐姐要是没事的话，就扶她进去吧，我也要去帮忙了。<br>李公甫：快，快去啊，当心啊。<br>许姣容：我们也过去帮忙。<br>李公甫：来，我扶着你。<br>小青：姐姐，姐姐。姐姐，那边那个人不行了。<br>许仙：姐姐，你怎么来了？<br>许姣容：咱们是一家人，哪有不在一块儿的道理啊？<br>许仙：哎呀，你们还是回去吧。<br>李公甫：我们不会看病，可也能帮帮抬抬病人啊。<br>许仙：好，我们一家人在一起。<br>杜仲：许公子。<br>小青：老实人？<br>白素贞：看我们一家人齐心协力，老天，你杀人，我可以救人，我们就比比看，谁的速度更快。<br>~<br>小青：姐姐，怎么样，好点吗？<br>白素贞：青儿，再去棺材铺赊口棺材吧。<br>许仙：娘子，娘子，柜上的药已经用完了，现在等着急用，怎么办呢？<br>白素贞：你别着急，我再想办法，姐姐姐夫怎么样了？<br>许仙：姐姐已经快不行了，姐夫也扛不过这几天了，这里的百姓死的死，逃的逃，除了我们宝和堂还开门问诊，整个钱塘县就像个死城，如今，药也已经用完了，娘子，你说是不是老天爷真的要我们都死在这里？<br>白素贞：相公，你千万不能这么想，当初你那么坚定的留下来，如果现在连你都退缩了，这钱塘县，也就真的完了。<br>许仙：娘子，是我让你跟着我受苦了。<br>白素贞：不是，是我害你。<br>许仙：不说这些了，还是救人吧。<br>白素贞：嗯。<br>小青：杜仲，你醒醒。<br>~<br>李公甫：钱塘县的浩劫？弟妹，你说笑吧？<br>小青：姑老爷，你千万要相信我姐姐讲的话。<br>许姣容：弟妹，我不是怀疑你，可是这么大的事，你怎么会知道的呢？<br>白素贞：我……<br>许仙：姐姐，你忘了，我娘子是玄门中人，懂得一点法术的。<br>许姣容：那就是真的了，怪不得夜里起了黑风，叫人心里发慌呢。<br>李公甫：这要是真的，天一亮钱塘县就有天灾人祸，那我们还在这等什么，还不赶快走。<br>许姣容：那我们赶紧收拾收拾，能走多远就走多远吧。<br>小青：姐姐，我看这倒是个好办法，与其我们两个走，不如全家一起走，我现在找老实人去。<br>许仙：我们不能走，若钱塘县真的有一场浩劫，一定会瘟疫蔓延，家破人亡，到时候，一定有不少病人需要医治，我身为宝和堂的大夫，怎么可能在这个时候走呢？<br>小青：许仙，你平时犯呆也就罢了，这生死关头，你能不能不再犯傻了？<br>许姣容：是啊，汉文，现在不是逞英雄的时候啊。<br>李公甫：是啊，你要这样，我也帮不了你呀。<br>许仙：娘子，你怎么说？<br>白素贞：你到哪儿，我就到哪儿，你留下，我就留下。<br>小青：你们两个疯了，简直气死我了，姑老爷，你快说话呀，你倒是说句话呀。<br>李公甫：这……<br>小青：你们倒是快点决定啊，要是再犹豫，想走都来不及了，姐姐。<br>白素贞：已经来不及了，天亮了。<br>许仙：娘子，按说天早该亮了，怎么现在还像夜里一样？<br>白素贞：相公，姐姐，姐夫，一会儿我打开门，无论你们看到什么，都不要惊慌。<br>李公甫：弟妹，你放心，我好歹在衙门口做事，是见过世面的。<br>许姣容：是啊弟妹，既然我们决定留下来，我们就要挺过去，从现在起，你说怎么办，我们就怎么办。<br>许仙：我们是一家人，只要我们在一起，就没有过不去的关口。<br>小青：我真是服了你们了，这都什么时候了，不过，姐姐，你放心，我是你的妹妹，无论发生什么情况，我绝对不会离开你的。<br>~<br>白素贞：青儿，把这药给他喝了吧。<br>小青：不用了，这药根本治不了他的疫症，你们又何苦自欺欺人呢？<br>白素贞：你何必揭穿呢？在这个时候，除了拖延时间，我们又能做什么呢？<br>小青：姐姐，这瘟疫传播得太快，我们根本就无力阻止，不到三日，钱塘县已经成了一座空城，别的人我不管，可是老实人，他是好人，他不能死，我绝不能让他死。姐姐，你告诉我，我们到底做错了什么？难道我们真的错了？就要这么多人替我们而死吗？<br>管家：白姑娘，快去看看吧，许大夫他……<br>~<br>白素贞：相公！相公！相公！相公你不要吓我，相公！相公。<br>许仙：娘子，你抱住我，我冷。<br>白素贞：我抱紧你，我抱紧你，你不要死，相公，你不要死，我不许你死，当日在试情崖，你已经为我死过一次，我不许你再为我死第二次，你听到了没有？相公，我求求你，你跟我说句话呀。<br>许仙：娘子，你看天下雨了，我们一起去西湖好不好？<br>白素贞：好。<br>许仙；这次，你又忘记带伞了，我借给你。<br>白素贞：好，你想怎样就怎样了，我都依你，相公我依你。<br>许仙：你还记得我们上次一起去看星星吗？我找不到星星给你看，就跑到芦苇荡里去，拼命的跑，拼命的跑，然后好多的萤火虫飞起来了。<br>白素贞：你说什么？你怎么会记得的？你还记得什么？相公。<br>许仙：我不知道，脑子里有很多没有经历过的事情，客栈，船，大雨。<br>白素贞：相公！眼泪，这就是我成仙要的眼泪吗？可是你来得这叫什么时候？我相公就要死了，我要你还有何用啊！天啊！我们到底做错了什么？你要这样的惩罚我们，为什么妖就不能动情？动情错了吗？难道爱一个人错了吗？我不明白！你回答我，回答我呀！<br>~<br>白素贞：相公说，生在一处，死也死在一起，可是，我连死也不会，老天也真是太不公平了。<br>~<br>白素贞：青儿，把这药给他喝了吧。<br>小青：不用了，这药根本治不了他的疫症，你们又何苦自欺欺人呢？<br>白素贞：你何必揭穿呢？在这个时候，除了拖延时间，我们又能做什么呢？<br>小青：姐姐，这瘟疫传播得太快，我们根本就无力阻止，不到三日，钱塘县已经成了一座空城，别的人我不管，可是老实人，他是好人，他不能死，我绝不能让他死。姐姐，你告诉我，我们到底做错了什么？难道我们真的错了？就要这么多人替我们而死吗？<br>管家：白姑娘，快去看看吧，许大夫他……<br>~<br>白素贞：南海到了。弟子白素贞叩见观音大士。<br>观音：白素贞，你又来做什么？<br>白素贞：观音大士，钱塘县遇到百年天灾，瘟疫横行，百姓死伤无数，我……<br>观音：这些我都知道，我只是想知道你想让我如何？<br>白素贞：我，不敢要观音大士如何，只是素贞救人心切，想讨一个治病的方子。<br>观音：虽是天灾，也因你和小青而起，下得凡间，本来是助你成仙，谁知你却因情生变，自甘堕落，我早已经警告过你，谁知你执迷不悟，眷恋红尘，也该遭此一劫，我无法帮你，你去吧。<br>白素贞：素贞自知罪孽深重，一切罪责由我一人承担，请菩萨赐我救人的方子。<br>观音：这是天意，凭你一人之力，怎么可以扭转乾坤？你还是去吧，哪儿来的去哪儿，不是照样潇洒快活？<br>白素贞：既然来了，就不可能再回去了，就像爱了，就不可能不爱一样，潇洒快活谁人不想，可是要用一城人的性命来做交换，我宁愿自己灰飞湮灭，万劫不复，素贞请观音大士，赐我救命的方子。<br>观音：好歹三百年前，我曾点化于你，如今也不想看到悲剧发生，既然你这么诚心，我就姑且告诉你一个方子，你可以一试。<br>白素贞：谢谢观音大士。<br>~<br>小青：姐姐，怎么样？<br>白素贞：有了，是六魔散。<br>小青：六魔散？六魔散是什么？我怎么从来没有听说过呢？<br>白素贞：听观音大士告诉我，六魔散是由断肠谷中六株断肠神草碾磨而成，而那六株神草分别种于六个阵法之中，六魔阵分别有六位魔君看守，不论是凡人还是神仙，都不得靠近，若想采得六魔散，必须闯破这一关。<br>小青：那，那你还等什么呀？姐姐，现在我们就去啊，就算是拼了命，我们也一定要破了那阵法。<br>白素贞：不行，观音大士说，那六魔阵只能由六个勇士一同攻入方可，而且六位魔君会变换人形，成了你心中最重要人的模样，到那时候，不论你看到的是谁，都要断肠决意的用手中的剑将他杀死，才能得到阵中神草。<br>小青：六个人同时攻入？现在钱塘县早就变成了一个死城，除了你我两个还没有染上瘟疫，谁还可能好好活着呢？<br>八两：谁说这儿人都死光了？</p>
</blockquote>
<h3 id="第二十四集"><a href="#第二十四集" class="headerlink" title="第二十四集"></a>第二十四集</h3><blockquote>
<p>八两：谁说这儿人都死光了？<br>白、小青：大胡子。<br>八两：白姑娘，这回咱们又可以像在魔道一样并肩作战了，不过，这次还有一个人，不知道你欢不欢迎，臭丫头，还不出来？<br>白素贞：连翘？<br>连翘：本来我是准备学了法术来跟你斗的，没想到这次回城，竟然是要和你并肩作战。<br>白素贞：你肯帮我？<br>连翘：不是帮你，是帮傻小子，还有我表哥，还有钱塘县的百姓。<br>白素贞：不管怎么样，谢谢你肯来。<br>连翘：你别高兴得太早，等我找到六魔散，救活钱塘县，我还是要跟你比个胜负。<br>白素贞：好，等办完大事，要杀要剐，都由你。<br>小青：太好了，我们一共六个人，现在已经有四个了，按说呀还应该有两个呢。怎么会是他们？<br>法海：阿弥陀佛。<br>白素贞：该来的，都来了。<br>~<br>管家：各位，前面就是断肠谷了。<br>十天：那六扇门就是我们要找的六魔阵吗？<br>白素贞：这就是六魔阵入口，我们就在这里分开吧。<br>~<br>小青：魔君，你在哪儿？快出来。<br>~<br>连翘：大胡子。<br>八两：没想到，为了这根小草，折腾了我半天，我肚子都饿了。你们，你们都拿到了吗？<br>十天：你这是……，你受伤了？<br>八两：一点小伤，没什么。<br>连翘：谁下手这么重啊？<br>八两：丫头，你没事吧？<br>连翘：我没事，好着呢。<br>八两：他们出来了吗？<br>连翘：没呢。<br>~<br>法海：你们这些妖孽真是不知道天高地厚，竟敢在我面前乱舞乱扭。<br>魔君：法海，你来了，我们很想你啊，你还念什么经，来和我们一处吧。<br>法海：妖孽，竟敢亵渎神灵，接招。高人在此，还不速速离去，我且饶尔等一条性命。<br>白（魔君）：法海。<br>法海：白素贞，是你吗？<br>白（魔君）：法海，没想到吧？你心里最重要的那个，竟然是我，一个蛇妖。<br>法海：不可能，绝不可能是你，你休要胡言乱语，坏我的修行基业，我今天要了你的性命。<br>白（魔君）：法海，你来杀我呀。你舍不得杀我。<br>法海：佛祖助我，让我杀了这个妖孽。<br>~<br>十天：师傅！你怎么会受伤了呢？<br>法海：徒弟，快，给师傅把剑拔出来。<br>十天：不行，这样你会疼死的，师傅。<br>法海：我让你拔你就拔，拔！<br>十天：师傅，你忍着，你忍着，师傅。<br>小青：奇怪，这把剑怎么那么像姐姐的白乙剑呢？让我知道了吧？和尚，我知道你心里最重要的人是谁了。你怕我说出你的秘密。<br>十天：我师傅受伤了，不要去。<br>小青：臭小子，少管闲事。<br>八两：小青姑娘，别打了，看在我的面子上，先别自相残杀了，你姐姐还没出来呢。<br>小青：好，今天就算我放过你，反正我现在知道你和尚的底细了，要治你，易如反掌。<br>~<br>白素贞：怎么？写的是我和相公的往事，落水镇的大雨，半步多客栈的相遇，无情槌阵的分别，初到人间的相逢，怎么到了相逢就没有了呢？底下的故事呢？<br>白素贞：难道，闯这个阵的办法，就是要我把剩下的故事一一写出吗？<br>白素贞：只写到天谴一劫，不知道底下的故事，要怎么写。<br>白素贞：相公！<br>许仙（魔君）：娘子，你刚才的字字句句好像都在我的眼前，那些故事，对我来讲，就好像昨天发生的一样。<br>白素贞：是啊，刚才在写这一段的时候，只觉得肝肠寸断。真想把它留下来，等我们老了，可以坐在一起慢慢的读它，回想当年的事情。<br>许仙（魔君）：那娘子你不如就把它带在身上，想看的时候，就拿出来读一下。娘子，我真希望就这么永远地抱着你，我们就停留在这一刻，管他什么小青杜仲，什么姐姐姐夫，还有那些半死不活的百姓，我们根本不用去管他们，因为爱情本来就是自私的。<br>白素贞：你不是我相公，我相公决不会说这样的话，你是设下这个阵的魔君。<br>许仙（魔君）：娘子，你这是干什么？难道你想杀我吗？我是你相公，你难道忍心杀我吗？我是许仙啊，娘子，你这是干什么？<br>~<br>连翘：这白素贞到底在干什么？难不成被魔君招了亲？<br>八两：你又胡说。<br>小青：你说什么？<br>连翘：我说的不对吗？<br>小青：我说你是不是想打架啊你？<br>八两：行了行了，两个女孩子家吵什么吵啊？怎么老这样啊？<br>十天：白蛇回来了。<br>小青：姐姐，姐姐，姐姐你醒了，终于醒了。姐姐，我们终于拿到了六棵仙草了，可以赶回去救人了。<br>~<br>十天：师傅，这伤到底是谁打的呀？徒弟又错了，师傅，你别骂我，我马上念经。<br>连翘：大胡子，你说，那和尚到底被谁伤得那么重？他法力那么高强，怎么会让人轻易近身呢？<br>八两：当然是心中最重要的人了。<br>连翘：啊？和尚也会有心里放不下的人？<br>八两：只要有心，就有放不下的人，本来最看不起这道貌岸然的和尚，没想到这断肠谷一战，对他有了些好感，没想到他的心原来没死，这和尚倒还有救。<br>连翘：你说的什么呀？我怎么听不懂啊？<br>八两：不必懂，那你呢？说说你，你又是被谁所伤呢？是不是被我那傻兄弟呀？<br>连翘：我倒希望是他，这样一来，成就了我的情有独钟，只可惜，原来在这世上我心里重要的人，根本就不是他。<br>~<br>小青：姐姐，你何苦呢？明明知道是假的。<br>白素贞：你不懂。<br>小青：我怎么不懂？我刚刚也见到了老实人，可我不还是一剑要了他的性命嘛。<br>白素贞：青儿，这就是我和你的不同之处，我的情，用到了尽头。<br>小青：没想到，你这一千年的道行，从来没有怕过谁，也从来没有输过谁，只有一个许仙，就让你全盘皆输了。<br>~<br>八两：哎呀，丫头，真没想到这一回来，我的伤也好了，你看。但愿我们回来的还不算太晚，四处走走，看看能不能帮上什么。<br>白素贞：大家不必担心，我已经让管家带着六棵神草先回宝和堂，研磨成六魔散，发给众乡亲服用，我想用不了几个时辰，这钱塘县便和原来一样热闹了。<br>法海：十天，我们也该回去了。<br>十天：嗯，师傅小心。<br>白素贞：法海，不管怎么样，谢谢你肯助我一臂之力，若我全家渡过此劫，我定行尽六拜九叩之礼。<br>小青：姐姐，你说什么呢？他跟我们是仇人呐。<br>白素贞：青儿，对大师说话，要懂礼数。<br>法海：白素贞，青蛇说的没错，你我之间的恩怨并未了结，你早晚都是我的钵中之物。十天，随师傅走。<br>十天：慢点。<br>小青：姐姐，你看看他们呐，根本不会改变，你竟然还要登门拜谢，你不是自取其辱吗？<br>白素贞：青儿，天谴之后，也该好好想一想，以前这和尚也许说对了，毕竟他是得道之人。<br>小青：得道？姐姐，我都不敢告诉你，你都不会相信，我们在六魔阵闯关的时候，那个和尚居然遇到了一个人，你以为她是谁啊？她竟然是……<br>八两：丫头，你要干什么呀？<br>连翘：我要干什么，她最清楚。<br>白素贞：连翘，我确实答应过你，我们比一场，了却你的心事，可是现在的确不是时候啊，钱塘县的老百姓不知死活，还有我相公他，我实在担心得很。<br>八两：对对对对，回去看相公，看相公。人家担心自己的相公，回去看看也好，打架这事又不必急在一时，干什么呀你。<br>连翘：就算许仙能活过来，又能怎么样？有朝一日还是会被你害死。白素贞你别跑。<br>八两：行了，你别胡闹了，人家根本就把你当孩子，怎么就这么自不量力啊？糊涂！<br>连翘：糊涂的人是你。<br>八两：干嘛？是不是想以下犯上呀？现在连师傅的话也不听了？<br>连翘：师傅？是我师傅的话，就别拦我除妖。<br>八两：妖也分善恶，那白素贞有情有意，除不得，你不能光想着自个儿，让人家家破人亡啊。<br>连翘：情？你跟我讲情？你跟我讲家破人亡？好，我就让你看看什么是家破人亡。<br>~<br>八两：你是我的……<br>连翘：丫头，我是你的丫头，你说女孩子没名字好养活，所以你叫我丫头，连翘是我后取的名字，因为每次给娘抓药的时候，药方上最后一味药材都是连翘，所以药铺的掌柜的，就叫我连翘。<br>八两：那你娘她……<br>连翘：病久了，实在拖不下去了，死在异乡了。<br>八两：丫头，你怎么认出我来的？<br>连翘：当年一个往东，一个往西，这句话是你说的，我至今不敢忘。<br>八两：我说话没有算数，我走回头路了。<br>连翘：那又如何？我还是要一直往前走，只不过是方向换了，你往东，我往西，一样老死不聚头。<br>八两：我知道，你们娘儿俩，一定恨死我了。<br>连翘：没有，我们不恨你，我们忘了你，我娘临死前，甚至忘了你叫什么，要不是那一套醒世棍法歪打正着打醒了我，我可能至今还把你当成那个有点脾气，有点脏有点臭的大胡子，其实有些事情想得太明白了，反倒无趣了，你看如今，你连我的大胡子师傅也当不成了。<br>八两：丫头，我是你爹呀。<br>连翘：是吗？<br>~<br>连翘：你那时不是说了，一个往东，一个往西，永远都不见面了吗？为什么你又回来了？<br>~<br>法海：十天，替师傅护法。<br>十天：是。啊！师傅，天龙杖，风雷钵，还有穹羽袈裟，师傅，你练成了。这下我们可以收白素贞那个蛇妖了，师傅。<br>法海：谁？<br>十天：别躲了。<br>法海：作甚？<br>连翘：什么？<br>十天：我师傅在问你，你在做什么呢？<br>连翘：噢，我，我在玩呢。<br>法海：我们走。<br>十天：师傅，师傅你看她在做什么哪？<br>法海：她在拜我为师。<br>~<br>白素贞：青儿，一会儿你见到相公，别让家里人知道我在断肠谷受伤的事。<br>小青：姐姐，你说，你为他受那么多的苦，又瞒他不让他知道，这是为何？<br>白素贞：青儿，帮帮我。<br>小青：好了，我依你便是了，我真希望从今天开始，所有的灾难都会过去，我们姐妹只和我们喜欢的人在一起，从此啊，过上没有烦恼的日子。<br>白素贞：会的。<br>~<br>白素贞：管家，管家。<br>管家：啊哟，白姑娘，哎哟，哎呀小青啊，哎哟，你们……<br>白素贞：管家。<br>许姣容：回来了。<br>白素贞：姐姐，姐夫，姐姐，你好些了吗？<br>许姣容：好了好了，听说啊，你们去了什么断肠谷，为钱塘县的百姓啊，找到了什么神药。<br>李公甫：弟妹，这药可真神了，吃下去不到一个时辰，跟以前没什么两样了。<br>小青：真的？<br>李公甫：弟妹能求得神药，又救了这么多人的性命，岂不成了比汉文还要高明的神医了？<br>白素贞：姐夫你说笑了，哦对了，我相公他醒了吗？<br>许姣容：弟妹你别担心，汉文哪，身子弱，要醒过来，还得些时候。<br>白素贞：我先去看看他。<br>小青：姐姐！姐姐担心许仙，我也担心老实人，我去看他吧。<br>许姣容：哎哎。<br>管家：你呀，不如和我再给他配点药。<br>许姣容：是呀。<br>管家：等老实人醒了，我们自然会唤你过去的。<br>小青：我不，我呀就只看他一眼，再说，我都回来了，他怎么敢还不起来呢？我这回去了断肠谷一遭，知道了不少事情，我有些真心话要跟他讲，就算打，也要把他打醒。<br>许姣容：小青姑娘，你还是听管家的话，跟他去配药，跟他去配药。<br>小青：我说，你们今天怎么了，到底出什么事了？<br>李公甫：小青姑娘。<br>小青：说。<br>李公甫：老实人已经走了。<br>许姣容：不是说好了……<br>~<br>小青：杜仲，杜仲，杜仲你给我出来。<br>白素贞：青儿！<br>小青：杜仲，杜仲你给我出来。<br>杜仲：小青姑娘，你来了。<br>小青：你这算什么意思？你说啊，你说啊。我这个人脾气，你大概也很清楚，有什么话就请你直说吧，如果吞吞吐吐的话，还不如一刀杀了我呢。<br>杜仲：小青姑娘，我不能娶你，不若，你杀了我吧。<br>小青：好，我听到了，说你的理由。<br>杜仲：钱塘县一场浩劫，我几乎死了一次，这几天昏昏沉沉的，有时我会想到你。<br>小青：想到我，那不对吗？因为你喜欢我，自然会想起我来呀。<br>杜仲：不是，我想到你没错，可是，跟想起我娘，想起小三，许大夫，许夫人，没有什么区别，想起你们，我会舍不得，可是想起她，我会心疼。<br>小青：她？那是说你表妹？<br>杜仲：对。<br>小青：你信不信我杀了你？<br>白素贞：青儿！<br>杜仲：小青姑娘，我知道我负了你，依你的脾气，你必杀我无疑，所以我根本没打算回去，不过，有些话要说清楚，你和我，一个是寂寞，一个是好奇，干柴与烈火，只要一颗火星，便足以燃成一把火，火来得快，去的也快，烧剩下的，只是一堆枯碳，了无生趣，姑娘无心在我，我也无意姑娘，我们只是一时的冲动，细想起来，我都说不清楚我到底喜欢姑娘什么，姑娘可否告诉我，姑娘爱我什么？又如何爱我的？<br>小青：就象我姐姐爱我姐夫一样，你明白吗？<br>杜仲：怎么能像呢？他们两个，一个愿意为了他生，一个愿意为了她死，而我们呢，糊里糊涂在一起，就像在玩一场游戏。<br>小青：玩有什么不好的？生生死死在一起才折磨人呢，我不管你到底喜欢谁，背叛我小青的一定要死。<br>杜仲：我宁愿死。<br>白素贞：青儿！别做傻事！<br>小青：老实人，这一缕头发，留给你做个纪念吧，好歹你也是动过心的，以后想赖也赖不掉啊。老实人，以后做人别太老实了，命只有一条的，若是这么死了，后悔都来不及了。姐姐，你还愣着干嘛？咱们走吧，别碍了他们的事。<br>白素贞：他们？<br>小青：是呀，他，还有她。该走的走了，该来的人也来了。<br>杜仲：表妹？<br>~<br>白素贞：青儿，我真是没想到，你竟让管家去找连翘，给他们相好的机会，你真的和以前不同了。<br>小青：姐姐，就算小青再有不同，可是，在我的心里，对姐姐总是从一而终的。<br>白素贞：你真的想通了？<br>小青：嗯，你也知道，依我的脾气，这一次老实人离我而去，又这么不给我面子，他呀，一定死过好几回了，其实在我心里面最重要的人不是老实人，而是姐姐你。你笑什么，要只是我一个人的心思，那也就罢了，谁知道，自以为是的不止我一个，你猜连翘心里那个人是谁？<br>白素贞：不是我的相公许仙吗？<br>小青：不是的，原本我也以为是姐夫许仙呢，可是有一次我偷听到她和大胡子的话，这才知道，她心里的那个人原来另有别人。<br>白素贞：真的？<br>小青：嗯，所以我想通了，既然三个人的心思和原来以为的都不一样，那岂不是一本再糊涂没有的账了？所以，我呀，我就很聪明了，自己先退出，让他们自己去清算。姐姐，你跟以前不一样了，我发现在你的眼睛里面，有一种亮晶晶的东西，你的眼睛像人的眼睛了。<br>白素贞：真的吗？<br>小青：嗯。<br>~<br>许仙：钱塘县大雨，半步多，这名字怎么这么熟？那些情景好像就在眼前，那是什么地方？我和娘子是如何相识的？难道我们初次见面，不是在西湖断桥上吗？<br>白素贞：相公！相公！相公，相公你醒了，你终于醒了，你吓死我了。<br>许仙：娘子，这一切到底怎么回事？怎么我只睡了一个觉，起来就都好了？你从哪里求得的神药？姐姐姐夫怎么样？杜兄呢？还有全钱塘的百姓呢？<br>白素贞：你呀，你眼里除了你的病人，就没有别的了吗？<br>许仙：我眼里自然都是病人了，但是我的心里，就只有娘子你一个人。<br>白素贞：让我好好看看你。相公，你怎么了？<br>许仙：啊，没什么，可能是因为身体刚刚恢复，还有些乏力。<br>白素贞：是吗？那我扶你过去休息一下，你先歇下吧，我去给你煮一碗安神汤过来。<br>许仙：娘子，我们第一次见面，真的是在西湖的断桥上吗？<br>白素贞：你说什么？你是想起了什么？还是怀疑什么？<br>许仙：我，我不知道，我只是觉得我们好像认识很久了，好像上辈子就认识。<br>白素贞：相公啊，我想，你可能刚服了六魔散，药性还未解除吧？好了，你先休息一会儿，我去给你煮安神汤来。相公！<br>许仙：还有什么事？<br>白素贞：哦，我只是问问你这位大夫，安神汤要不要放一味薄荷，提神醒脑啊？<br>许仙：啊，你看着办吧，连我都束手无策的疫症，你都治得好，何况一剂小小的安神汤呢？<br>许仙：想必我这回病得真是太重了，连梦里的东西都会相信，我的的确确是在西湖的断桥上和娘子相遇的，这难道还有错吗？我真笨，怎么会怀疑我娘子呢？<br>~<br>白素贞：哎呀，青儿，这药都熬糊了。<br>小青：怎么？糊了？对不起啊。<br>白素贞：怎么回事青儿？魂不守舍的。<br>小青：姐姐，我觉得人间一点都不好玩，我们还是回魔道吧，要不，我们躲在西湖底下修炼也好啊，这人不好当，还是做妖好，最近，发生太多事情，我的心里面是又酸又痛，这脑子里面，整天都是不知道在胡思乱想些什么，姐姐，我们回去好不好？<br>白素贞：你又在胡说什么？你忘了我们来干什么吗？眼泪找了一大半，就这么走了，岂不是前功尽弃了吗？<br>小青：我忘了？我怎么敢忘？倒是姐姐你忘了吧？你现在满眼满心都是你相公你的家，我真的不知道，在你的心里面有多少心思是想着修炼，想着成仙呢？<br>白素贞：我……<br>小青：姐姐，你等了一千年，成仙的妙处，我不多说你也明白，可你那个相公，除了一番痴情，还能给你什么？就算你不计较得失，愿意陪他终生，那他老了呢？死了呢？就算你不计较浪费大好时光，那和尚呢？和尚的钵要有一日炼成了呢？好好好，就算你不怕和尚，那天呢？<br>白素贞：青儿！我的好妹妹，我知道你都是为我好，我也知道在你心里没有人比我更重要，我答应你，等我找齐眼泪，我就跟你离开这里。<br>小青：你没有骗我？啊！<br>白素贞：怎么了？<br>小青：姐姐，好像有人在敲木鱼，是不是又是那个法海？他的木鱼声为什么传得那么远啊？我好疼，痛得我好像裂开了，姐姐，到底怎么回事？<br>白素贞：不好了，法海，他那个金钵炼成了。<br>~<br>连翘：让开，我要走，我请你让开。<br>八两：天底下，哪有丫头对自己老子这么说话的，就凭你这，那就该一顿好打。<br>连翘：天底下，哪有这么狠心抛妻弃子的爹，凭这一点，就该杀。<br>八两：丫头，就算你不认我这个爹，那我好歹也是你师傅吧？<br>连翘：你要是真把我当徒弟，就该让我亲手杀了她，可是你却帮着她，挡着我这个做徒弟的，你算哪门子的师傅？你这个人呢，我算看清楚了，当人家爹的时候，就说是斩妖除魔，可真到斩妖除魔的时候，却拦着女儿，当起了发号施令的爹，不管做师傅，还是做爹，都是一样，临阵退缩，算什么男人？</p>
</blockquote>
<h3 id="第二十五集"><a href="#第二十五集" class="headerlink" title="第二十五集"></a>第二十五集</h3><blockquote>
<p>八两：丫头，我知道你恨我，可是当时我离开你们的时候，那我是有苦衷的。<br>连翘：苦衷？什么苦衷？说来听听啊，当年就有一个小女孩已经听过一遍了，现在她仍然可以一字不落的给你说出来，大胡子，你要听听吗？<br>八两：我一直以为咱俩很像，但是我错了，我心中的情义更多，而你心中呢，却充满着怨恨。<br>连翘：当日你走的时候，我娘就坐在那儿，一动不动，整整三天，滴水未进，而我呢，跟着你跑了那么远，就换来你一句，你往东，我往西，永远都不要回头。是啊，我们是不同，我是满心的怨恨，我爹一句话不留就走了，我娘为了讨生活，病死异乡，我喜欢的男人偷了我的银子，娶了别人做娘子，还有傻小子，我好不容易死心塌地爱上这个，又偏偏被一个蛇妖迷得七荤八素，你倒说说看，我的人生究竟出了什么问题？我在想，如果当初你不走的话，我娘也许还活着，我也许已经嫁给了李贵，生了个大胖小子，如果真的是这样，我又何来的怨恨？我的怨恨根本就是拜你所赐。<br>八两：是，我知道，我当时脑子坏了，我得了失心疯，我现在恨不得一刀砍了我自己，丫头，我不是已经走了回头路了吗？你好歹给我一个机会。<br>连翘：我娘临死前说了句话，她说这世上，若有卖后悔药的就好了，哪怕用她的生命来换，也是值得的，可是她错了，这世上根本就没有后悔药，你的病，无药可医。<br>八两：丫头，你要去哪儿？<br>连翘：去哪儿？当年你也没有回答我这个问题。<br>八两：丫头！<br>~<br>十天：师傅，这个姐姐在这里跪了这么久，难道真的要拜你为师啊？<br>连翘：师傅，师傅！<br>十天：我师傅要去诵经了。<br>连翘：那我还要拜师学艺呢。<br>十天：哪有今天拜师，今天就学艺的道理呀？<br>连翘：啊？难道你的意思是，法海肯收我为徒了？<br>十天：师傅既然没有赶你走，自然说明收你为徒了。<br>连翘：真的呀？<br>十天：你别高兴的太早，当我师傅的徒弟，可没那么简单啊，今天你先在这里住下，有什么话，明天再说。<br>~<br>连翘：你会飞来飞去的法术，又不用担这么重的水，你倒是下来试试啊。<br>十天：这些，我早就试过了，想要拜我师傅为师，受的苦还多着呢。<br>连翘：你别跑那么快啊，等等我。<br>~<br>连翘：你怎么做到的？<br>十天：想要学的话，就跪下来叫我声师兄。<br>连翘：臭小子，要本姑娘给你跪下，你想得美呀。<br>十天：那我帮不了你了，你慢慢的用你的笨办法去砍柴吧。<br>~<br>十天：你这是干什么？难道想亵渎神灵吗？<br>连翘：师傅，我不是有心的。<br>法海：心？<br>~<br>法海：连翘，今日，你的一句话，倒突然使我茅塞顿开。<br>连翘：我的一句话？<br>法海：嗯，你说心。我有了十天，便有了眼睛，寻得到她，有了金钵，便有了法力，可以收了她，我有了你的心，就可以伤害她的心，便可以真正战胜她了。<br>连翘：师傅，我不懂。<br>法海：你会懂的，连翘，把你的箫拿出来，我要教你吹箫，我要教你吹出这世上最悲哀的曲子，我要你用尽全身的力气，吹出你对许仙的情意，对白素贞的怨，吹出你的嫉妒，吹出你的愤怒，你要用心的去吹，吹成这首曲子。<br>连翘：这曲子叫什么名字？<br>法海：这曲子的名字叫凤凰令，你若能吹成这首曲子，就等于拥有了一道法令，你便可以呼唤出冰火两只凤凰，到时候，你就可以赢了她。<br>~<br>许仙：自从我病好以后，我的脑子里总是出现那些奇怪的画面，好像我和我娘子之间，并不是那么单纯的相识相恋，似乎有一些我并不知道的事情发生过。娘子，你到底是什么人？你怎么会这些高深莫测的玄门法术？你怎么能找到可以治好疫症的神药呢？还有那些怪梦，为什么我总是梦到那些从来没有发生过的事情？这到底是为什么？为什么我一想到这些事情，我的心里就发慌呢？没有酒，让我怎么睡得着觉？<br>~<br>许仙：这箫声为什么这么悲伤？我怎么又要想起梦里的那些事了？这是谁在吹？是谁在吹？月老祠，不知不觉我怎么走到这里来了？是你！<br>连翘：好久不见了。<br>许仙：是你在吹箫？你吹的什么曲子？为何如此悲伤？<br>连翘：这是凤凰令，要想着最伤心的事情才能吹成。<br>许仙：听着这曲子，我只想流泪。<br>连翘：真的吗？傻小子，这首曲子真能让你为我流泪吗？要不要我再为你吹一曲呢？<br>许仙：不，不，我不想再听了，听了你的曲子，我心里发慌，有些本不该想起的事情，会突然出现在我眼前。<br>连翘：不该想起的事情？我知道。<br>许仙：你知道？你怎么知道？<br>连翘：因为我最近也发生了很多事情，我拜了一个师傅，在他那儿，我刚好听说了一些你和你娘子的事情。<br>许仙：你师傅是谁？<br>连翘：法海。<br>许仙：法海！就是那个说我娘子是蛇妖的疯僧。<br>连翘：疯的人是你，你被你娘子迷惑，妄想和一个蛇妖白头偕老，才是真的疯了。<br>许仙：你胡说，我娘子根本不是妖，又是这个疯和尚，他休想妖言惑众，侮辱我娘子清白。<br>连翘：我们妖言惑众？那我问你，钱塘县所遭的天灾怎么解释？<br>许仙：那只是一场瘟疫，与我娘子何干？<br>连翘：那是你们人妖殊途，天地动怒，所以降瘟疫于钱塘县。<br>许仙：不可能！要真是这样的话，我娘子又如何寻到神药，救活钱塘县所有百姓呢？<br>连翘：那是菩萨大慈大悲，不可因那蛇妖一人之错，连累钱塘县的百姓，所以这一次我们一行六人，前往断肠谷寻得六魔散。<br>许仙：六魔散？<br>连翘：是六魔散救了你和钱塘县的百姓。<br>许仙：可是我娘子和小青……<br>连翘：小青也是妖，只不过道行浅些，当年也是因为这样，被你娘子所收，成为姐妹。<br>许仙：当年？<br>连翘：还记得莲花满湖吗？<br>许仙：我好像是在梦里见过。<br>连翘：那不是梦，那只是一段被抹去的记忆，在这段记忆里，有一个天大的秘密，等你的记忆全部恢复了，就是真相大白的时候了。不如我帮你，快一点找到真相，到时候，你亲眼所见，就不会再怀疑我了。<br>许仙：我不知道你在说什么，什么真相？什么秘密？<br>连翘：真相就是你和你娘子根本就是在半步多相遇，你误闯魔道，险些被那些妖魔捉住吸尽阳气，而你娘子根本就是魔道中人。<br>许仙：你胡说，你空口无凭，我不能相信，我娘子那么美，那么好，怎么可能是妖呢？<br>连翘：若你一点都不怀疑，何苦三更半夜在街上闲逛，而不回去陪你娘子呢？是不是妖，一试便知，明天你再到这里来，自然会有人帮你探得究竟。<br>许仙：我不会来的。<br>连翘：你一定会来的。<br>~<br>小青：姐姐啊，他一个大男人，还怕他丢了不成？<br>白素贞：他从来都没有夜里出去的习惯呀，我这几天心里总是发慌，好像要发生什么事情一样。<br>小青：姐姐要是担心有什么事情发生的话，还不如掐指一算呢。<br>白素贞：人间不比魔道，事事难料，就像上次天谴，就算我算出结果又能怎样呢？青儿，你答应我，以后还是少用法术，我们就像普通人一样行事就好了。<br>小青：姐姐，可是我们本来就不是人嘛。<br>白素贞：好了，照我们刚才说的几个地方，我们分头找。<br>小青：好，你相公最大，我们现在就去找了。<br>~<br>许仙：小青说本来就不是人，是什么意思？<br>~<br>白素贞：相公啊，你想什么呢？菜都凉了。<br>小青：刚才呢，就是相公不吃，姐姐着急，现在呢，就是姐姐不吃，妹妹着急，姐姐呀，你呀，担心了人家半天了，可是人家一点都不领情呢，妹妹给你夹菜，啊？<br>许姣容：是啊，汉文，从你病好到现在也有好几日了，怎么整天总是闷闷不乐的？一副心事重重的样子，你没事吧？<br>白素贞：相公，要是你不舒服，为妻可替你诊治。<br>许仙：娘子，我……<br>李公甫：汉文，你不要留下什么后遗症，啊？你要是觉得哪儿不舒服，就说出来，啊？<br>许姣容：是啊。<br>李公甫：弟妹是个医术高明的人，而且又会些玄门法术，她要是给你治病，一定手到病除啊，啊？<br>许仙：不用不用，我没事的，我只是不习惯这么闷热的天气，心里有些发躁。<br>白素贞：可现在才四月天呀。<br>许仙：啊，娘子，对了，自从我染上疫症之后，我心里就烦躁不安，不如我们一块去月老祠添香，去去心火。<br>白素贞：这几日求医的人特别多，我怕走不开，不如我让青儿陪你去吧。<br>许仙：那也好，反正添香的时候礼数很多，我可以顺便教教她。<br>小青：不去，我不想跟许仙去拜什么佛，姐姐呀，我光听礼数那两个字，我头都已经快晕了，姐姐，我宁愿留在铺子里面帮你的忙好不好？<br>许仙：也好，我只有明天自己一个人去了。<br>白素贞：那你一个人去进香，你这身体……<br>许姣容：行了，你就别担心他了，他也是个大人了。汉文呐，明天到月老祠去拜一拜，嗯，你就求他老人家让你们两个白头偕老吧。<br>许仙：啊，啊。<br>~<br>白素贞：相公，这么晚了，你抱被子去哪儿啊？<br>许仙：对了，明天还有好几副药要研磨出来，我一时半会睡不着，所以我打算去前面做工。<br>白素贞：明天一早你不是还要去月老祠吗？不如我帮你一起。<br>许仙：不不不，娘子你也累了一天了，你还是赶快休息吧。<br>白素贞：相公是不是有什么话要对我说？<br>许仙：没有，娘子，你还是赶快休息吧，我想，等明天就都好了。<br>~<br>许仙：我这是在干什么？她说让我来月老祠，我就真的来了，难道她说我娘子是妖，我还当真以为我娘子是妖不成？可是，那些梦，还有头疼时想起来的那些事情，那又是怎么回事呢？不行，我一定要弄个明白。娘子对我恩重如山，我怎么能怀疑她呢？咳，我可真是该死。这位师傅？<br>道士（连翘）：我是终南山的张天师，见你头上一道黑气，掐指一算，你已被那妖孽纠缠多日，今日拦着你去的路，只为救你一条性命。<br>许仙：妖孽？什么妖孽缠我？师傅请不要胡说。<br>道士（连翘）：那我问你，半年前，你可娶了一位貌美如仙的女子为妻？<br>许仙：没错，我娘子生的貌美，钱塘县街头巷尾，无人不晓，那又怎样？<br>道士（连翘）：那你娘子可有父母亲眷？<br>许仙：我娘子和我一样，从小父母双亡，并无亲眷，只有一个妹妹，唤作小青。<br>道士（连翘）：这就对了。<br>许仙：对了？什么对了？<br>道士（连翘）：我再问你，可有人对你说过，你娘子和她妹妹是千年蛇妖？<br>许仙：没有。<br>道士（连翘）：没有？你分明是在说谎，你娘子和她妹妹根本就是一青一白两条蛇妖，与你成亲，只是她们修炼的一部分，你早晚会成为她们的口中之食。<br>许仙：你胡说！为什么你们都这样，都说我娘子是妖呢？我和她在断桥偶遇，互定终身，现在她又嫁给了我，安心做一个好妻子，她的心比菩萨还善良，她又怎么会是妖呢？<br>道士（连翘）：你……，是不是妖，口说无凭，一试便知道，我这里有两道灵符，一道藏于你的袖中，一道烧成灰，化于清水之中，让你娘子喝下去，若她是妖，必会现出原形，若她不是，我自愿还她清白，到你府上负荆请罪。<br>许仙：我为什么要用你的灵符试我娘子？我娘子根本不是妖。<br>道士（连翘）：你若心无一点怀疑，便不会来这一趟，不是吗？<br>许仙：好，你记住你说的话，我娘子要喝了这灵符没有事的话，你要登门谢罪。<br>道士（连翘）：一言为定。<br>~<br>许仙：你们不知道，你们今天没去真是可惜了，今天呀，月老祠前可热闹了，有说书的，有看相的，还有吹糖人的，甚至还有卖药的呢，可是我只要用鼻子一闻，就知道那药是真的是假的。<br>李公甫：汉文，那有没有打把式卖艺，耍大刀啊？<br>许仙：有，不止有耍大刀的，还有喷火的把戏呢。<br>~<br>小青：姐姐，你不觉得吗？今天许仙跟以前好像不大一样。<br>白素贞：对，他今天话多了。<br>小青：不只话多，而且好像故意在讲给别人听的似的，你说呢？<br>白素贞：一个平时不爱说话的人，现在话多了，只能是为了掩饰他的紧张，这里必有缘故。<br>小青：不如我去问问他吧。<br>白素贞：他要说自然会说的。<br>~<br>李公甫：汉文，明天领我去看看。<br>许仙：好。<br>许姣容：看什么呀看，大男人家的，不在家做事，看人家舞刀弄枪的。汉文呐，什么时候变得这么不懂事啊？天黑了才回来，你娘子在家等你等得好着急啊。<br>许仙：娘子。<br>白素贞：相公回来就好，累了吧？我去做饭。<br>许仙：不，娘子，你等一下，是这样，我今天在月老祠，求了一张结缘符，听说把它烧成灰，喝下去，就能永结同心，不如你喝了吧？<br>白素贞：相公啊，我想你是累了吧？你这手，冷得像冰。<br>许仙：我不累，娘子，你不如先喝了它吧。<br>小青：姐姐，这符有问题，我只是看看它，便心乱如麻。姐姐。<br>许仙：娘子，你不是要去做饭吗？不如，吃过饭再喝也不迟啊。<br>白素贞：相公不是说是结缘符吗？你这一片诚心，为妻怎么敢拂逆呢？<br>小青：不能喝。<br>白素贞：相公，现在满意了吧？<br>许仙：我就知道会是这样。<br>小青：许仙，你这话什么意思？<br>许仙：我……<br>小青：你求的符根本就不是什么结缘符，对不对？<br>许仙：不是，是我……，娘子。<br>小青：好，我知道了，这符定是拿来对付姐姐的，你说从哪弄来的？<br>许仙：不是，娘子……<br>白素贞：好了小青，你不要为难相公了，只是我们夫妻一场，你心里有事儿，为什么不说呢？<br>许姣容：你们谁能告诉我，这到底是怎么一回事啊？<br>小青：让他自己说吧。<br>许仙：娘子，都是我不好，我不该听信别人的馋言，拿什么符来试探你，我只是想要替你讨回清白而已。<br>小青：说了半天，不还是一样吗？<br>李公甫：你也太不像话了，弟妹无论如何，也不能像什么妖啊。<br>许姣容：是啊，弟妹，我弟弟他糊涂的厉害，坏了脑子了，这次啊，你千万不能原谅他。<br>小青：对呀姐姐，你千万别原谅他。姐姐不会原谅你的。<br>许仙：娘子。<br>白素贞：我只问你一句话，你当我是妖吗？<br>许仙：不是，娘子，我只是虚应一下，有些事我总是想不通，我不好，娘子。<br>白素贞：刚才的话，你并没有回答我，你是不是当我是妖啊？<br>许仙：不是娘子，真的不是，我眼睛迷了，心也迷了，都是我不好，我不是人，娘子。<br>白素贞：你又何必呢？我只可怜，可怜当初你对我的一片诚心，也快化为乌有了吧？也许，情这个东西，真的禁不起时间的磨炼。<br>许仙：不不，娘子，你千万别说那样的话，我不是那样的人，我对你的诚心不会变，就算你现在让我去跳试情崖，我一样会为你粉身碎骨，在所不惜的。原谅我吧。<br>白素贞：你可以为我死，我相信，可是，你却还是想知道真相，因为，你毕竟是一个男人。好，我就告诉你真相，不过，一切要等我从月老祠回来再说。<br>许仙：娘子。<br>~<br>白素贞：青儿，一会儿无论发生什么，都不关你的事。<br>小青：可是，姐姐……什么声音呀？姐姐，这是什么？<br>白素贞：是凤凰令。<br>小青：凤凰令？姐姐，就是说，有人会把火凤凰和冰凤凰引出来吗？<br>白素贞：看来，我们今天非出手不可了。果真是你。<br>连翘：我就知道，你一定会来的。<br>白素贞：你这次未免太过分了，枉在我夫面前说我是妖，又画符来捉我，屡次三番，我不能再忍你了。<br>连翘：那也好，我们之间的夙怨已结下多日，不如，今天就做个了断吧。<br>小青：姐姐，跟她打，哪用你动手，让我来对付她。<br>白素贞：不用，这是我和她的事情。认不认输？<br>连翘：不认。<br>白素贞：好倔的丫头，那就再来。<br>十天：师妹，师傅让你用这个。<br>白素贞：原来你拜了法海为师。<br>十天：对呀，现在我已经是她师兄了。<br>连翘：你不说话，没人把你当哑巴。<br>白素贞：连翘姑娘，你要想清楚，法海是个无情无义的和尚，你跟他能学到什么？<br>连翘：学到什么，你一会儿就知道。<br>白素贞：青儿，你快走，她吹的是凤凰令，恐怕冰火两只凤凰就要被引出来了。<br>小青：想用凤凰令吓我，我才不怕呢，我小青偏要留下来。<br>十天：师妹，我还从来没有见过两条蛇发抖，我要去告诉师傅。<br>白素贞：你快走啊，这凤凰是天上的神鸟，我们根本不是它的对手，你在这儿只会成为我的负担。<br>小青：要走一起走。<br>白素贞：好，举剑！青儿，不要怕它们，有姐姐在呢。<br>小青：姐姐，我好冷啊，我快受不了啦。<br>白素贞：青儿，千万别睡，睡过去就醒不过来了，青儿你醒醒啊。<br>小青：姐姐，姐姐，小心！<br>白素贞：青儿！<br>小青：姐姐！姐姐！姐姐！姐姐！<br>八两：住手！<br>小青：姐姐！<br>八两：闪开！<br>青、连翘：大胡子！<br>八两：快拿铃铛，赶走凤凰。<br>连翘：大胡子，大胡子，没事吧？<br>八两：放开！<br>连翘：我只是想要个输赢，我也不想杀她呀。<br>八两：人和妖，不过一念之差，人若没了心，没了爱，就变成了妖。<br>小青：大胡子，大胡子你没事吧？<br>八两：小青，给你姐姐，三天之内或许保得住真气，三天之后就不好说了，要想保命，一定要讨得百家的，百家的撑门碳，暖身去毒，记住。<br>小青：我知道了，大胡子。<br>~<br>许姣容：这是谁呀？伤成这样。<br>李公甫：你们这些人可真是，快把他抬进去。<br>许仙：小三，大胡子怎么伤成这样？<br>小三：我也不知道，本来我们都是去月老祠上香的，也不知怎么，许夫人和连翘姑娘就这么打起来了，更奇的是，连翘姑娘一吹箫，就引来了两只凤凰助阵，许夫人哪里是那凤凰的对手啊，眼看就敌不住了，大胡子就出来替她挡了那么一下，就变成这样了。<br>许仙：小三，我娘子呢？我娘子在哪里？她是不是受伤了？她伤得重不重？她在哪里呀？不不，她不会受伤的，否则的话，就是我害了她，都怪我信了那个道士的话，引她去月老祠。我娘子呢？我娘子在哪里？<br>白素贞：相公，你别急，我不是好好在这儿吗？<br>小青：姐姐。<br>许仙：娘子，你可回来了，你没事吧？没事就好。<br>小青：没事？你哪只眼睛看我姐姐没事？<br>白素贞：相公！相公！<br>许仙：娘子。<br>小青：你看清楚，姐姐刚才差点被那个疯女人弄得没命，她已经受了内伤，大胡子说，怕是熬不过三天的工夫。<br>白素贞：青儿，你吓他做什么？<br>小青：姐姐，我讲的哪句话不是真的？谁想吓他来着。<br>李公甫：汉文，大胡子不行了，快去救他吧。<br>许仙：啊？可是我娘子也受了伤，娘子我这就替你医治。<br>白素贞：不用，我还能挨几个时辰，大胡子快撑不住了，他中了毒，定要你亲手治他。<br>许仙：不行不行，娘子，你现在伤得这么重，要救先救你，我顾不了那么许多了。<br>小青：许仙，你还是先听姐姐的话吧，你去救大胡子，他是为了救姐姐才有性命之忧的，万一有个闪失，姐姐定不能好过。<br>白素贞：你去吧，快去呀。<br>许仙：好，娘子，那你千万等我。<br>白素贞：嗯。<br>~<br>许姣容：汉文，他吃你的药已经有一个多时辰了，怎么还不见好啊？<br>许仙：不应该啊，不知道问题出在哪儿。<br>李公甫：坏了，刚才还有点鼻息呢，现在连一点动静都没有了。<br>白素贞：青儿，大胡子再醒不过来，就真的麻烦了，我要过去给他一点真气。<br>小青：不行不行姐姐，你要知道，刚才你自己也受了内伤了，我用功替你疗伤，也不过是缓一时之急，这万一要是破了真气的话，那可就连你自己的命也保不住了。<br>白素贞：你不要忘了，大胡子是为了救我才变成这样的，就算保不住自己，我也要试一试。<br>小青：我看就算要救，也是我来救，姐姐，我的真气虽然不如姐姐的浑厚，可是我毕竟没有内伤啊，让我试试吧。<br>白素贞：也好，不过，你道行尚浅，如果真气不够的话，千万不要逞强，否则自己也有危险。<br>小青：嗯。许仙你靠后些，让我来看看。<br>~<br>白素贞：青儿！不要逞强。青儿，我们一起救他。<br>小青：嗯。<br>许仙：娘子，你要小心，我能帮你什么？<br>白素贞：你要帮我的话，就握紧我的手。<br>许仙：好。<br>许姣容：虽然我不认识大胡子，但是他能为别人牺牲自己，我觉着他一定是个好人，算我一个吧。<br>李公甫：汉文，弟妹，我相信你们一定能把他救活，算我一个。<br>小三：再算上我一个。<br>小青：大胡子，我求求你，你赶快醒过来吧。<br>白素贞：大胡子，你一定要活着。<br>许仙：好大哥，你快醒过来，我们痛痛快快的喝一杯。<br>小青：姐姐，我快撑不住了。<br>白素贞：撑不住也要撑。<br>~<br>连翘：还赖在那儿干什么？这回你可得意了，我来了，你再不起来，信不信我一剑杀了你。以前是说走就走，现在是不肯正眼看我，大胡子，大胡子，爹！</p>
</blockquote>
<h3 id="第二十六集"><a href="#第二十六集" class="headerlink" title="第二十六集"></a>第二十六集</h3><blockquote>
<p>连翘：大胡子，大胡子，爹！<br>八两：臭丫头，你知道吗？这一声爹，我等的太久了。<br>连翘：你骗我，原来你已经醒了。<br>八两：丫头别走啊。<br>小青：姐姐，姐姐，姐姐。<br>~<br>八两：丫头，你别走，你留下。<br>连翘：我也对你说过这句话，你留下了吗？<br>八两：你娘总担心有朝一日我被仇家所杀，所以从她嫁给我那天起，就没有一夜合过眼，她总是死死地攥着我的手，一直到天亮。<br>连翘：你以为你走了以后，我娘就睡得着吗？她一样不能合眼，她一样怕你被仇家杀了，她一样攥着我的手直到天亮。<br>八两：是啊，我对不起你娘，和你啊。<br>~<br>小青：姐姐，你撑着点，我这就替你讨百家撑门碳，救你的命啊。<br>许仙：小青，你替我照顾娘子吧，要去也是我去，娘子，你等我。<br>~<br>八两：可是你知道吗，爹是要干大事啊。<br>连翘：惩恶扬善斩妖除魔都是大事，娶妻生子就是小事一桩？你舍小爱换大爱，是天地间头号大英雄。<br>八两：我不是什么大英雄，我是天地间头号的大笨蛋，我以为求道就要消除私心杂念，其实最大的私心杂念就是求道啊。<br>连翘：怎么？你后悔了吗？想回头了吗？<br>八两：是，我后悔了，我要回头，丫头。<br>连翘：有些事，就不应该做错，做错了，就别指望再回头。<br>八两：丫头！<br>~<br>妇人：许大夫。<br>许仙：王家婶子，我想替我娘子讨几块撑门碳，就你放在门口的那些，去年没有用过的就行。<br>妇人：不行，许大夫，不是我舍不得那几块碳，实在是你娘子是妖，要是我给了你，违背天意，会遭老天报应的。<br>许仙：王家婶子，你这是什么话，我娘子是人不是妖。<br>妇人：你就别再隐瞒了许大夫，月老祠前，你娘子与那连翘一战，就什么都清楚了，你娘子是妖，千年的蛇妖啊，说说心都打颤，你走吧，以后别再来了。<br>许仙：王家婶子我求求你了，我娘子是人是妖，我还不知道吗？现在人命关天，你就行行好，舍我几块碳吧。<br>妇人：你这个怎么这么愚钝呀？被蛇妖迷成这样，你去街口看一下，金山寺的法海和尚正在招贴通告，让大家降妖除魔呢。<br>许仙：钱塘县宝和堂许仙之妻，乃千年蛇妖，若不镇伏，天谴再至，必殃及百姓。<br>群众甲：妖，真是有妖，千年蛇妖。<br>群众乙：什么妖啊。<br>许仙：你干什么？<br>十天：你干什么撕我师傅告示啊？<br>许仙：谁说我娘子是妖？一派胡言，简直是一派胡言。<br>十天：你要是再撕我师傅告示，我可就要对你不客气了啊。<br>许仙：对我不客气？你尽管来啊，你小小年纪，污人清白，还有你的师傅，这是写的什么东西？说我娘子是妖，让他出来见我。<br>法海：阿弥陀佛。<br>许仙：你这个和尚，不好好念经，一而再，再而三的说我娘子是妖，你是何居心？你给我听好，白素贞是我娘子，她不是妖。<br>法海：是吗？恐怕你娘子现形月老祠之后，只有你一个人相信她是人吧？<br>许仙：你这个疯僧，你说的都是疯话。<br>法海：那你呢？许施主，你是梦人，讲的是梦话，梦喜则笑，梦悲则哭，你什么时候才肯醒来，看个清楚呢？<br>许仙：我不用看，我有心，我心里清楚，我告诉你和尚，你贴一张，我撕一张，我就不信，以我许仙之力，救不了我娘子。各位街坊，我许仙在这里给大家跪下了，我娘子身患重症，需要百家的撑门碳方能救治，望大家念在平日我娘子医病救人的份上，舍我几块陈碳吧，如若我娘子他日病愈的话，我定登门拜谢，行尽三拜九叩之礼。<br>法海：许大夫痴迷不悟，自有贫僧来劝他，你们还是尽快散去吧，回到家里念经拜佛，不出三日，便是妖孽的死期。<br>许仙：众位街坊你们别走，不要听和尚挑拨，只是几块碳而已，你们别走，救我娘子。<br>法海：十天，我们也该回去了，回去沐浴净钵，三日后便可来收妖。<br>许仙：我娘子是人不是妖，和尚不会得逞的。娘子。<br>管家：许大夫！<br>许仙：我若讨不来陈碳的话……<br>管家：哎呀，许大夫！<br>许仙：情愿在这里跪死。<br>管家：许大夫你就别在这儿求碳了，宝和堂出大事了。<br>许仙：我娘子……<br>管家：你就别问了，快跟我回去吧，出大事了。<br>~<br>管家：许大夫！<br>许仙：让开，让开。<br>管家：你们干什么？不能进去，不能进去，不能乱来。<br>许仙：你们干什么？出去，出去。<br>街坊：许大夫，咱们大伙来，是想问个清楚，连翘姑娘说你娘子是妖，那金山寺的和尚也说你娘子是妖，我们想问个明白，你娘子到底是人还是妖？<br>管家：你们，你们……<br>许仙：我娘子当然是人，难道她对你们的好，你们都忘了吗？<br>街坊：你们别听他的，若他娘子是妖的话，他一定包庇着不肯说，咱们别管他了，冲进去再说。<br>管家：不能乱来，不能乱来。<br>许仙：你们要干什么？要进药铺抢人不成？我可以告诉你们，街坊我可以不作，药铺我可以不开，但是我绝不会把我娘子交到你们手上，不然的话，先打死我。<br>管家：你们听我说，我家的夫人是妖，你们有何证据吗？那和尚一向与我们宝和堂过不去，再说了，我家夫人在月老祠现形，难道不是他用的障眼法吗？<br>许仙：你们干什么？停下，干什么？干什么你们这是？<br>街坊甲：我们去问问她，连翘姑娘！<br>街坊乙：过去问问，过去问问，连翘姑娘！<br>~<br>街坊：连翘姑娘，你在月老祠前说的话当不当真啊？那白素贞是不是真的是妖啊？可是她好好的，这么美的一个人，怎么会是妖呢？怎么是妖呢？算了，算了，我们不问了，走了，走了。算了，走吧，不问了。<br>连翘：人都走了，我一句话也没说过，你还不起来吗？<br>许仙：我请你高抬贵手放过我娘子。<br>连翘：许仙，你上次给我跪下，是求我放过你，这次，你又给我跪下，让我放过你娘子，你做男人，也太卑贱了些吧？你到底要我做什么？<br>许仙：你只管告诉他们，我娘子不是妖，今天所发生的一切，只不过是一场误会而已，如果你肯的话，你要我做什么都可以。<br>连翘：真的？做什么都可以？好，那我要让你休了你娘子呢？刚才还信誓旦旦的说什么都可以为我做，只有这件事情难住你了吧？<br>许仙：好，只要你答应我，不再帮着那和尚对付我娘子，并向街坊澄清我娘子不是妖，休书也可以写。<br>连翘：你在干什么？你难道真的要写休书吗？你对你娘子的海誓山盟，对你娘子的情深意切，都不算数了吗？<br>许仙：我突然明白一件事，以前，我以为若爱一个人，一定要和她在一起，握着她的手，我便安心了，但是今天，我突然明白了，要爱一个人，还要为她而战，保全她的健康，拥护她的名誉，所以，一纸休书算得了什么？别说是写休书了，只要我娘子好好的，你能够还她清白，我就算娶你又如何？<br>连翘：娶我？<br>许仙：从今天起，我要对你好，就像我对我娘子那样，一分一毫都不会差。<br>连翘：不可能。<br>许仙：你不试怎么知道？<br>连翘：这世上，你对你娘子的好，不可能有重样。<br>许仙：那我们就试试，三年，五年还是十年？<br>连翘：你说话当真？<br>许仙：只要你能够还我娘子清白。<br>连翘：好，我不要那么久，我只要跟你三天的恩爱，三天一过，我自断这只箫，并走遍钱塘县，证明你娘子是人。<br>~<br>小青：姐姐，你起来做什么？你伤得那么重，还是床上躺着吧。<br>白素贞：没事。<br>小青：来。<br>白素贞：我已经好很多了，哪还需要躺啊？你看见相公了吗？相公他去哪了？<br>小青：他去挨家挨户帮你讨撑门碳去了。<br>白素贞：什么？这怎么行啊？他一介书生，现在又做了宝和堂的大夫，怎么能像乞丐一样挨家挨户去讨呢？我要去找他回来。<br>小青：姐姐，你是不是真的，真的不要命了？许仙替你讨救命的撑门碳也是他应该的，谁让他耳根子那么软，引你去月老祠又与连翘一战的？<br>白素贞：不是，我刚才听到街上吵吵闹闹的，真是很怕相公出事啊。<br>小青：他都是大人了，哪里会出什么事？放心吧。<br>白素贞：你要不想帮我找，我自己撑着去吧。<br>小青：好了好了，我去就是了好不好？<br>~<br>许姣容、李公甫：什么？你要休妻？<br>许仙：是的，我要休妻。<br>许姣容：弟弟呀，你知不知道，你在说些什么呢？<br>许仙：我说过了，我要休妻。<br>许姣容：汉文啊，别人在街上发疯，也就够了，你不能跟着疯啊，人家说两句你就当真，汉文啊汉文，平时我是这么教你的吗？气死我了。<br>小青：啊？<br>白素贞：你要休了我？<br>小青：你说什么？我果然没说错，男人都是靠不住的，许仙，你往日对我姐姐甜言蜜语，今天不过阿猫阿狗说了些不中听的话，你就信以为真了？说什么，说什么海誓山盟，情比金坚，都是你们男人说出来伤女人心的吗？我真替姐姐不值啊，许仙，我今天不杀你，难消我心头之恨。姐姐，姐姐。<br>白素贞：要杀他也轮不到你，你不要管，但是相公，告诉我为什么？<br>许仙：我不想一辈子都背着别人说我娘子是妖精的骂名，抬不起头来做人，所以，所以我要休妻。<br>小青：你！<br>白素贞：你也认为我是妖吗？我是离不开你的，不管你如何决定，又或是看上谁家的姑娘，因为我白素贞，我早就认定自己是你的女人，之前是，现在是，永远都是。<br>许仙：娘子，我决心已定，容你三日，把道理想清。<br>小青：许仙！许仙！姐姐。姐姐。<br>~<br>许仙：傻丫头，你高兴点好不好？我们要像情侣一样出来逛街，我说过了，要对你好的一分不差，你若先违约的话，那我们说的可就都不算数了。<br>连翘：嗯。<br>许仙：我们去哪里？<br>连翘：跟我来。<br>~<br>许仙：你这是干什么？<br>连翘：到这儿来还能干什么，当然是试情啊，今天我们相爱，明天我们就成亲，后天我们便是夫妻，要在这三天里面做完所有的事情，时间还真不够，当初你怎么对你娘子的，如今便怎么对我。<br>许仙：我们的约定还算数吗？<br>连翘：当然。许仙！<br>许仙：这是为什么？<br>连翘：怎么可能要你真跳呢？就像这三天一样，装装样子罢了，不过要装呢，也要用心，看来你是真心实意地想演这出戏，好吧，那我就成全你，我们回家吧。<br>许仙：姐姐。<br>许姣容：连翘姑娘，我有几句话想跟汉文讲。<br>~<br>许姣容：要不是我让管家打听你的行踪，真没想到你竟然和别的女人在一起，汉文，你让我这个当姐姐的真是难过，弟妹现在是生死攸关，你，你现在却……<br>许仙：姐姐。<br>许姣容：你最好把话给我说清楚。<br>许仙：姐姐，我这样做，正是为了救我娘子。<br>许姣容：你说什么？<br>许仙：众人都说我娘子是妖，投鼠忌器，连一块小小的陈碳都不肯施舍于我，姐姐，我只有三天的时间，要想让那些街坊明白我的心意，舍碳于我，谈何容易，娘子命在旦夕，我却束手无策，娘子平日对我的好，许仙我哪敢有丝毫的忘记，那日宝和堂抢人，让我看透了世态炎凉，也坚定了我的想法，要救娘子，就先要还她清白，可是凭我口舌之力，哪里能说清道明，所以我才出此下策，想了休妻这个办法，所以……<br>许姣容：所以你要休妻，与那连翘姑娘相好，若是连翘姑娘肯替弟妹说话的话，你就可以求到救命的陈碳了。<br>许仙：姐姐，我只是一个无用的书生，到头来，我也只有这一个方法可循了。<br>许姣容：我的弟弟呀，你的这番苦心，为什么不让你娘子知道呢？<br>许仙：不不，姐姐，你千万不要把我的想法告诉我娘子，我深知素贞的为人，她要是知道我为了救她，去讨好别的女人，她是万万不肯依的，当务之急，不是我的清白，而是我娘子的性命。<br>许姣容：老天爷不公啊，这么好的媳妇去哪儿找啊？你们这么恩爱的夫妻，惹着谁了。<br>~<br>街坊：交出那个蛇妖来，把她送到金山寺正法，若再故意推托，我们就一把火烧了你们宝和堂，对不对？<br>李公甫：哎哎，别闹了，别闹了，大家都是街坊，我家没有妖精，你们还是回去吧，诸位，诸位，拜托了，拜托了，回去吧，回去吧，乡亲们，乡亲们，回去吧。你可回来了，他们非要把我们弟妹交出去，要不然，一把火烧了宝和堂。<br>许姣容：谁说我弟妹是妖啊？我们凭什么把自己家的媳妇交给你们？我可告诉你们，想进宝和堂的，就得先过我许姣容这一关，公甫，到屋子给我拿张凳子出来，打今儿起，我就坐在这儿，想进去的，就先踩着我的胸口进去。<br>~<br>小青：姐姐。<br>许姣容：弟妹，你，你这是干什么？<br>白素贞：姐姐，我的好姐姐，素贞之过，何用你来替你承担呢？<br>许姣容：弟妹，你不要这么说，你何过之有呢？再说我们都是一家人呐，难道不该有难同当吗？你快起来。<br>小青：我看哪，咱们这个家里，不是每个人都愿意和我姐姐有难同当的。<br>许姣容：青儿，你是说汉文吗？<br>小青：还能说谁呀？这旁人说了两句，他就要休妻，我姐姐到底犯了多大的罪过。<br>许姣容：弟妹，汉文不是那样的人，你相信我，汉文这样做，一定有他的缘故。<br>白素贞：我以前常听人家说起情到浓时情自薄这一句话，我一直不懂它到底什么意思，如今我明白了，我对相公的好近乎献媚，也许让他窒息，晚上想吃什么，夜里睡得好不好，一碗汤吹凉了，才端到他的手上，一件衣裳做了拆，拆了做，也许，我在这个地方，待得太久了一些。<br>许姣容：弟妹，你听姐姐一句，你可别胡思乱想，作出傻事来，你再等汉文三日，那时候说不定他就想通了，回心转意了，真的，到时候，若是他还要负你，我这个当姐姐的决不饶他。<br>小青：不用你动手，我只等三日，三日之后若他负了我姐姐，我就一剑杀了他，再带我姐姐回去。<br>~<br>许仙：我们无父无母，先拜月老，接着，拜天地，最后，我们夫妻对拜。<br>连翘：傻小子，你到底知道多少？<br>许仙：你说什么？<br>连翘：你知道我说什么，有关你娘子的一切，你说过，天谴之后，你想起了很多。<br>许仙：我没有。<br>连翘：你骗人，你一定知道了什么，若你真的认为她是人的话，你大可不必这么怕我，怕我的凤凰令，今天你这样对我百依百顺，是因为你一定知道了她是蛇，所以才来苦苦求我，今天你什么都肯做，只是想掩住我的口，这样才能救她的命。<br>许仙：你胡说。<br>连翘：是你在胡说，你明明知道，却装做一副什么都不知道的样子。<br>许仙：你不是要我像对我娘子那样对你吗？从现在开始，我要一样一样做给你看，我们今天只是拜了天地，还有很多事情没有做，我要对你好，这是我们之间的承诺，但是，你不要忘了你答应过我的事情，就是有关于我娘子的那些谣言，永远不要提起。对了，我带你去看星星。<br>连翘：够了，不要再自欺欺人了，这算什么，什么拜堂，什么看星星，全都是假的，三天马上就要过去了，我不想再自己骗自己了。<br>许仙：三天时间还没有到，我要对你好，你有什么不满意的，你想要什么，我一定做给你。<br>连翘：我什么都不要，就算我用凤凰令赢了白素贞又怎么样，还不是一样输给你的虚情假意，许仙，我真的明白了，你是真的不喜欢我，这种事情勉强不来的，你和白素贞，才是天生的一对。<br>许仙：哎，你不能走，还没有到三天，我一定要对你好，我们有约定的，我对你好，你替我娘子澄清事实真相。<br>连翘：真相只有一个，就是你的娘子是妖，许仙，你到底在怕什么？就象你不喜欢我一样，这就是事实，我不是一样面对了吗？如果你真的爱她，管她是人还是妖，这是你的休书，不是出自你的真心，我替你毁了它，忘记这些事，回去面对你娘子吧。<br>许仙：不不，我娘子不是妖，你这样说一定是因为我对你不够好，我们要把约定继续下去，你不是要我对你好？好，我就真的对你好。<br>~<br>白素贞：我想我在嫉妒。<br>小青：嫉妒是什么？<br>白素贞：那是人的一种感情。<br>小青：人的感情？姐姐，姐姐你说嫉妒是人的感情，难道，你又有了人的感情吗？刚才我看见他们那样，我真是气不过，姐姐，你难道就无动于衷吗？<br>白素贞：青儿，我们来人间多久了？<br>小青：快，快一年了吧？姐姐，你到底在想什么？你要是气那个臭小子负你的话，我去杀了他给你解气，要不，我们就索性不要理他了，我们一起走，你的眼泪就差两滴了，我可以找一处清静的所在，助姐姐成仙啊。<br>白素贞：我想，我们真的该回去了。<br>~<br>连翘：够了，三日已到，你做了你该做的，我也要去做我该做的了。<br>许仙：连翘！<br>连翘：你放心，傻小子，我终于死心了，是你让我死了心，从此，我不再找你娘子的麻烦了，我会替你娘子讨来百家碳，救她的性命。<br>~<br>李公甫：你看这，这可怎么好哇？<br>许仙：姐姐，我娘子呢？我替她讨来百家陈碳了，我娘子呢？<br>许姣容：你娘子，她走了。<br>许仙：走了？<br>~<br>小青：姐姐，不是说要走了吗？怎么又来这个地方了？<br>百姓：不得了啊，不得了啊，蝗虫来了，快跑啊，好大的蝗虫，好多呀。<br>小青：姐姐，这个节气哪来的蝗虫呀？八成是他们做梦还没醒呢。<br>百姓：快跑啊，蝗虫来了，好大的蝗虫啊。<br>小青：姐姐……<br>~<br>十天：啊！<br>~<br>许仙：老人家，有没有看到我娘子？<br>月老：你的娘子？我这里每天来来往往都是人，不是张三的娘子，就是李四的娘子，你的娘子？我知道你是谁呀。<br>许仙：老人家，你把我忘了？我就是上次那个追遍钱塘县，追到你的面摊，才追到我娘子的那个人，然后我们要了一碗面，我娘子吃面，我喝汤。<br>月老：原来是你呀，不是我说你，你千辛万苦追上的娘子，你不好好地看着她，怎么就轻而易举的把她丢了呢？<br>许仙：娘子，哎，娘子，我可找到你了，你怎么不说话？难道你还在生我的气吗？一切都是我不好，你听我解释好吗？<br>小青：好了，许仙，你要说的那些，我们都知道了，方才那个连翘跑来跟姐姐说了一马车那么多的话，虽然我听不懂，但也知道你是为了救我姐姐才出此下策的，还算你有良心，要不，我和姐姐早就出城门了，还在这儿等你做什么？姐姐。<br>许仙：可是娘子为什么还是不讲话？我……<br>小青：法海？<br>法海：天有异像，蛇妖产子，天地不容，这飞蝗，这血水，这黑雪，都是对你业障的报应。<br>许仙：娘子，他说这话什么意思啊？<br>白素贞：和尚说的没有错，相公，你我相识以来，你对素贞的痴情痴意，我无以回报，相公，如今我有了你的骨肉了，这回，我是真的不能走了。<br>~<br>十天：师妹！师妹！<br>连翘：我跟你说过多少遍了，不要叫我师妹，就算以前是过，现在也不是了。<br>十天：师傅让我来问你，你难道真的忘了当日的信誓旦旦，忘了你那两个仇人了吗？你当真忘记了？<br>连翘：臭小子，你最好离我远点，我烦透你了，更烦你师傅。<br>十天：我师傅说了，白素贞即将产子，法力将逐渐消失，你若再吹一次箫，使用你的……<br>连翘：那箫我扔了。<br>十天：什么？你把箫给扔了？<br>连翘：怎么？我的东西，我想扔就扔，还要问你啊。<br>十天：你真是气死我了，我的眼睛，你的箫，是师傅战胜白素贞的必备之物，如今，你把那个箫给扔了，我师傅将如何战胜白素贞？<br>连翘：你师傅如何战胜关我什么事？你知不知道，月老祠前一战，几乎让我失去了最心爱的亲人，你师傅只是在利用我，达到自己的目的而已，至于对我的伤害，他却不闻不问，这样的师傅，不拜也罢。大胡子说的没错，做师傅的不仅要教会徒弟武功，还要教她怎么做人，这样看来，你师傅还真失败。<br>十天：要不是我师傅，那许仙怎么和你相好三日？又怎么会令白素贞主动离开？这不是你日想夜盼的吗？<br>连翘：相好三日？这三日是我这辈子最漫长的三日，这三日的点点滴滴，只会让我更加清楚的知道，许仙是多么爱他的娘子，至于我得到的，不过是一个男人虚情假意的三天而已，至于白素贞的离开，我一点也不快乐，我甚至有些难过，我突然明白许仙为什么不跟他娘子争辩，因为他真的不需要争辩，他的心一直都在那儿，根本没有动摇过。不懂了吧？也难怪，像你师傅这种人，怎么会教你这些呢？回去告诉你师傅，我不会再被他利用了，还有，奉劝他一句，死了这条心吧，不管白素贞是人是妖，他都不可能让她和许仙分开，因为这就是情，他永远都不会懂。<br>十天：哼！<br>丫头：小铃铛，回来呀铃铛。铃铛，回来。小铃铛，看你还往哪儿跑？回去让爹好好教训你。<br>连翘：这铃铛是谁的？谁教你的法术？你怎么会法术呢？快告诉我。<br>丫头：这是……，白娘娘！<br>连翘：是你教她法术吗？<br>白素贞：我的法力越来越弱了，怎么能教小孩子呢？<br>连翘：那是……？<br>许仙：娘子，你也真是的，你怎么一个人跑出来了？不在家里好好躺着，万一动了胎气，你想急死我呀你？<br>白素贞：你别紧张，我不过是闻到梅子味，嘴里馋得很，就顺着味儿走过来了。<br>许仙：你想吃梅子，跟我说，我去买它三大坛。<br>白素贞：生一个孩子，要三大坛梅子做什么？<br>许仙：谁说只生一个？要生就生个七个八个的。<br>白素贞：别说七个八个，就是肚里这个，已经闹得我这几日又是头昏，又是恶心了，你不是说要给朋友去送药吗？怎么还不去呀？<br>许仙：我是你相公，自然娘子最大了，那我要先陪你去买梅子嘛。<br>白素贞：不行，你是大夫，病人最大，你去送药吧。<br>许仙：当然要先买梅子了。<br>白素贞：先去送药。<br>连翘：交给我吧。<br>许仙：连翘。<br>连翘：不错，还知道我叫什么，我以为，你根本就没看见我呢。<br>白素贞：那就麻烦你了。<br>许仙：那麻烦你了。走吧。<br>~<br>连翘：怎么是你呀？<br>丫头：什么你啊你的，人家没有名字吗？这么大的人了，说话还这么难听，要是让我爹听到，一定好好骂你一顿。<br>连翘：好，那你叫什么名字啊？<br>丫头：我叫丫头。<br>连翘：丫头，我爹以前也叫我丫头，他还说女孩子没名字呀，好养活。这是你的铃铛吗？<br>丫头：你干嘛把我的铃铛吓成这个样子？<br>连翘：我爹也有一个跟这一样的铃铛，还把它当宝贝呢。<br>八两：丫头，你臭丫头跑这儿来干什么？<br>连翘：大胡子！你怎么把胡子剃光了呢？<br>八两：丫头，不是让你找一个大哥哥和漂亮姐姐拿药吗？你跑这儿来干什么呀？<br>连翘：大胡子，你病了吗？你为什么要拿药啊？你上次受的伤好点了吗？还疼不疼？有没有留下什么病症？有没有看过大夫？大夫怎么说的？<br>八两：丫头，这个姐姐好生奇怪，我认识她吗？<br>丫头：爹，你好像不认识这个姐姐。<br>连翘：爹？大胡子，你什么时候又做人家爹了？<br>八两：我，我什么时候又做人家爹了？没有啊，我一直都是这臭丫头的爹啊。我们父女两个无论走到哪里，都没有分开过呀，你看，我教她法术，教她捕蛇，教她玩这小铃铛，最重要的是，教她怎么做一个问心无愧的好人，是不是丫头？<br>连翘：难道你不是我爹？我也不是你丫头？她才是你丫头？这一切究竟是怎么回事？你为什么要刮胡子？你为什么要装作不认识我？<br>八两：姑娘，咱们好像的确不认识啊。<br>丫头：你干嘛欺负我爹？我爹不能想很多事情，他一想以前的事情，头疼病就又犯了，这不，昨天就又犯了，请许哥哥和白娘娘来给看，只不过，这是我们最后一次吃他们的药了，我们要永远的离开这里了。爹我们快走吧，我们往哪儿走啊？<br>八两：往西走啊，爹一直往西走，从来没回过头，只不过爹的脑子不好使，好像跟谁有一个什么约定，一个往东，一个往西，永不回头，谁呢？<br>丫头：爹你不要再想了，再想的话，你的头疼病又犯了。<br>八两：好，爹就不想了，只要每天跟着我的臭丫头在一起，爹就已经很开心了，咱们去它的鬼约定，好，走。<br>许仙：大胡子自从上次受伤之后，便得了失魂症，所有以前的事情，便都不记得了。<br>白素贞：也不能这么说，他还记得你小时候的一些事情，只是记忆，停留在与你分别的那一刻，好像与你分开，是他最不愿意记起的事情。</p>
</blockquote>
<h3 id="第二十七集"><a href="#第二十七集" class="headerlink" title="第二十七集"></a>第二十七集</h3><blockquote>
<p>许仙：大胡子自从上次受伤之后，便得了失魂症，所有以前的事情，便都不记得了。<br>白素贞：也不能这么说，他还记得你小时候的一些事情，只是记忆，停留在与你分别的那一刻，好像与你分开，是他最不愿意记起的事情。<br>连翘：可这个小女孩呢？怎么那么像我小时候？<br>白素贞：大概是个孤女吧，没有人知道她从哪里来，也不知道大胡子是如何发现了她，总之，他们现在在一起了。<br>~<br>丫头：爹，你给我做的箫呢？<br>八两：刚才不是给你了吗？<br>丫头：刚才还在身上的，怎么一转眼就不见了？<br>八两：算了算了，不见就不见了，爹再给臭丫头做一只。<br>丫头：不行不行，那是爹亲手给做的东西，怎么能随便丢呢？在这儿呢。<br>八两：那还不谢谢大姐姐？<br>丫头：谢谢大姐姐。<br>连翘：丫头，你是个好姑娘，记住姐姐一句话，永远都不要离开你爹，因为你爹他是个好人，好好照顾他。<br>丫头：大姐姐，你怎么哭了？是不是想你爹了？你爹呢？<br>连翘：我爹被我气跑了，我不是个好丫头，不懂珍惜放在眼前的幸福，丫头，和你爹走吧，记住，永远都不要离开他，啊？<br>八两：好了，丫头，跟姐姐说再见吧。<br>丫头：姐姐再见。<br>连翘：嗯。<br>八两：来。臭丫头，来，爹抱着走。<br>白素贞：连翘姑娘，为什么而哭呢？<br>连翘：你看他的背影，他老了，不是吗？<br>白素贞：你应该高兴才对，至少他们父女俩再也不会分开了。<br>~<br>白素贞：连翘姑娘，上次一战，我输了，我曾经说过，如果我输了……<br>连翘：你根本就没有输，输的人是我，其实那一次，是我们四个人在作战，你选了你相公，我选了法海，从一开始我就输了，你相公对你情深意重，而法海，不过是空有一副身子，却没有心、没有情爱的怪物，拜这样的人为师，我已经输得很惨了，大胡子才真的算我师傅，他教会我，什么叫恶，什么叫善。<br>白素贞：听你这么说，我就安心了。<br>连翘：只怕明白的太晚了。<br>白素贞：以前的事情，你就让它过去吧，倒是……<br>连翘：他？算了吧，你不是也说了，那是过去的事了吗？其实很多事情要真的过去了，才会明白发生了什么，我喜欢过他，仅此而已。<br>白素贞：那，那个老实人呢？<br>连翘：在人间，做女人的规矩，是从一而终的，现在想起来，好像爱上李贵，不过是为了遇到傻小子，但是放下傻小子，可不是为了爱上那个老实人，你放心吧，我这次要在跟定一个男人之前，好好想清楚。<br>白素贞：那我们先走了，你自己保重啊。<br>连翘：你们也要小心。许仙。<br>许仙：什么？<br>连翘：我想告诉你，你娘子她不是妖，她叫白素贞，是我见过天下最好的女人。<br>许仙：走吧。<br>~<br>白素贞：相公，这天怎么越变越热了呐？<br>许仙：可不是？快要到端午节了。<br>白素贞：端午节？<br>许仙：啊，娘子，你怎么脸色这么苍白？是不是哪里不舒服？<br>白素贞：噢，没有，我看我是真的乏了，休息休息就好了。<br>许仙：那我们赶快进去吧。<br>~<br>白素贞：青儿。<br>李公甫：小青这姑娘，可真够懒的，大中午吃饭，也睡觉。<br>小青：困。<br>白素贞：青儿，这丫头越发懒散了，我先扶青儿回房间。<br>许仙：娘子，你也不舒服啊？<br>白素贞：天气太热，又带着身子，有些体乏。<br>许仙：那，那我陪你吧娘子？<br>白素贞：不用了，你陪姐姐姐夫吃饭吧，我去去就来。<br>许仙：不知怎么搞的，我老觉得我娘子最近有些奇怪。<br>许姣容：这有什么奇怪的呀，怀孕的女人就是这样，亏了你还是个大夫。<br>许仙：我是大夫啊，我医术再高明，到了我娘子这里，就全乱了手脚，我担心嘛。<br>许姣容：汉文呐，知道疼媳妇就好，别跟你姐夫似的，连我有了身孕呐，都还不知道呢。<br>李公甫：啊？你有身孕了？我怎么不知道？这是真的？<br>许仙：是啊，姐姐，你有孩子了？<br>许姣容：上次你说什么来的，我恶心想吐，你还说什么，贪嘴，吃多了想吐吧。<br>李公甫：噢，哎，你真的有身孕了？<br>许姣容：汉文，看你姐夫粗不粗，还不相信呢，难不成，我用这种事骗你？<br>许仙：太好了，等我儿子生下来，就有一块玩儿的了。<br>李公甫：对对对对，太好了，今天大喜的日子，我买酒去。<br>许仙：姐姐，你多吃点菜。<br>~<br>小青：姐姐，我真的很害怕，端午可真不算是一个小劫，万一，万一你动了胎气，要是迷糊的话，难以控制，我们就前功尽弃了。你想想，在端午之节，问魔道众生，哪个敢在人间出现？你这样做，根本就是挺身与天地抗衡，姐姐呀，如果一个不小心，我们现出原形怎么办？好好想想，我这也是为你好啊。<br>白素贞：我想，我有一千年的道行，应该还能顶得住，哦，要不这样吧，要不你自己回西湖底下避一下吧。<br>小青：姐姐，你根本不了解我，我跟在你身前，跟在你身后，我小青寸步不离开姐姐，胜过这世上万般好事，更胜过这西湖千年的岁月，我只要你平安。<br>白素贞：青儿，姐姐懂你，也知道其中利害，可是我已经势如骑虎，既然孤注，只有一掷，过了这一关，就什么都不怕了。<br>小青：那好吧，那我们就都留下来。<br>~<br>法海：阿弥陀佛。<br>李公甫：大师有何指教？<br>法海：贫僧金山寺和尚法海，因生有慧根，云游四方，替天行道，今路经此地，但见贵府喜气冲天，所以备了点薄礼前来道贺。<br>李公甫：大师真是高人，怎知我娘子和弟妹都怀有身孕之事？还要送我们礼物，那怎么好意思？<br>法海：眼看近在端阳，这是贫僧送给你们的菖蒲符录，十天。<br>李公甫：谢谢大师，这端午节快到了，谁家里不张悬这些避邪除妖的物件呢？谢谢大师了。<br>~<br>小青：真的，果然有东西在动，跟我姐姐的一样。<br>许仙：什么东西啊，那是孩子。<br>小青：还没长大呢，不算是孩子。<br>白素贞：姐姐，我真替你高兴啊。<br>许姣容：高兴，高兴，但愿从今天开始，我们就都是高兴的日子了。<br>李公甫：啊呀，今天出门就碰着喜事了，快来看呐。<br>小青：姐姐，我也要摸摸。<br>许仙：什么好东西？<br>李公甫：哎呀，不仅我娘子和弟妹怀了身孕，就连金山寺的和尚，都给我们送来了贺礼来了，菖蒲符录。<br>许姣容：弟妹快来看啊，好东西，菖蒲符录。<br>小青：菖蒲符录？<br>~<br>心魔：法海，你准备好了吗？<br>法海：准备好了，白素贞不可能有孕，更不能产子，这是天地的大忌，我佛的大忌，孩子一旦落生，便等于承认了白素贞与许仙的情，如今快到端阳，时机已到，我誓收白素贞。<br>心魔：你终于想明白了，你摒弃了身上最后的一点人情，我们终将在一处。<br>~<br>法海：十天，是你吗？十天，师傅好像能看见你了，虽然只是一点影子。<br>十天：师傅，这是什么药？<br>法海：这是草药，你从哪儿得来的？<br>十天：从你的包袱里，我帮你洗衣服的时候发现的，还有这些药方，这就是我每日必喝的汤药了，可是师傅，我究竟得了什么病？<br>法海：我不是跟你说过了吗？你体质弱，从来没有喝过你娘的奶水，所以，我给你煮了这些草药，不过是为了能让你强身健体。<br>十天：为了我强身健体？师傅，为什么我十天的功夫，长大了十岁，就再也没有长过了？和我一样年纪的孩子，他们身体也壮了，胳膊也粗了，连鞋都顶破了好几双，为什么只有我，一点都没有变过？<br>法海：你在怀疑什么？你在怀疑师傅吗？<br>十天：这张药方，是那个镜子给你的是不是？他总是给你东西对不对？以前你一直在它面前自言自语，就是这个药方，让我再也没法长大。<br>法海：胡说，你从哪得来这种想法？<br>十天：小青曾经跟我说过，只可惜当时我没有相信她的话，不过现在我亲眼看到了这张药方，上面明明白白的写着我的生辰，写着药效，你还敢骗我吗？小青说的没错，你不让我长大，就是怕我的天眼消失，你，你只不过是利用我而已。<br>法海：荒谬！你给我跪下！你竟敢轻信一个妖的话，而怀疑师傅，你就跪在这儿，给我好好的思过，我不让你起来，你便不能起来，否则的话，你休想再做我的徒弟。<br>~<br>小青：姐姐，难道你真的决定要走了吗？<br>白素贞：是啊，但是我要和相公一起走。<br>小青：那有什么用啊，端阳一到，无论身处何处，许仙他一定要过节的，到时候熏香割艾，再加上一杯雄黄酒，姐姐啊，到时候现形了怎么办？<br>白素贞：所以呀，我们就要找一个没有端午节，没有熏香割艾，更没有雄黄酒的地方。<br>小青：那？半步多？<br>白素贞：也只有那儿了。<br>小青：可是，姐姐你为什么突然决定要走呢？难道是那张菖蒲符录？<br>白素贞：是法海。<br>小青：果然是他。<br>白素贞：他从半步多追我们到人间，他追了一路，现在我感到，他终于下决心要除我们了，他的那张符录不过是他的战书，他要借端阳之节逼我们现形，离间我们夫妻的感情，再将我们正法。<br>小青：这个和尚，我今天一定要杀了他。<br>白素贞：就凭你吗？他法力了得，如今再加上有天时助他，就连我也不是他的对手了，当今之下，我们只有回一趟半步多，到了那儿，就没有人间的这些牵绊，就由不得他了。<br>小青：好是好，可是，我们这一走，只怕许仙会怀疑的。<br>白素贞：这倒不怕，相公一向很疼我的，我只要对他说，我想念家乡了，要回家乡看一看，他一定随我同去的。<br>小青：可是就算许仙愿意同你去，那法海五月初五找上门来的时候，却见不到你，难道他想不出姐姐你去了何处吗？<br>白素贞：这……<br>小青：好，姐姐，你放心，这事交给我了，你和许仙只管上路，我自然知道到哪儿去找你们。<br>白素贞：好。<br>~<br>许姣容：弟妹，非去不可吗？<br>白素贞：姐姐，我们只去几天而已，过了端午节我们就回来了。<br>许姣容：汉文，那你可要好好照顾你媳妇啊。<br>许仙：放心吧姐姐，我会照顾好娘子的。<br>李公甫：好啦，他们又不是不回来，快让他们上路吧。<br>许姣容：早去早回啊。<br>白素贞：嗯，您放心吧，我们一定会回来的，这毕竟是我们的家嘛，我们去了啊。<br>李公甫：慢走啊。<br>~<br>小青：奇怪，怎么找了半天，没见到那和尚的影子啊。这什么鬼地方，好冷啊。十天？<br>~<br>胖掌柜：白姑娘，客栈里已经给你留了两间上房，一会儿青儿姑娘过来，我会把她带过来的。<br>白素贞：多谢您了，胖掌柜。相公，相公你怎么了？脸色怎么不好看？<br>许仙：没什么，走了一天的路，我可能有点累了。对了娘子，这里到底是什么地方？我怎么从来没有听人说起过？<br>白素贞：这里是半步多，来这儿的大都是拜于玄门之下的人物，都懂一两样法术，所以我们刚才才能穿墙而入，我也是早年拜于梨山老母的脚下，才得知这个地方。<br>许仙：难怪我记得大胡子带我来过这里，他也是懂法术之人啊。<br>白素贞：相公，我们赶紧进去吧。<br>许仙：好，娘子。<br>~<br>许仙：娘子，这里还真是奇怪，怎么不见阳光呢？<br>白素贞：这里没有白天，也没有黑夜。<br>许仙：那如何知道年月？岂不是到了端午，也无法知道了？<br>白素贞：相公，只要我们每天在一起，过不过端午，还不都一样？<br>许仙：当然不同了，这里一点过节的气氛都没有，在我们家乡那里过端午节，很是隆重，满街的都是锣鼓声，还有赛龙舟和散粽子的人群，那日的场面非常的热闹，娘子你一定没见过。<br>白素贞：再热闹我也不希罕，我带你去一个好地方，来。<br>~<br>许仙：娘子，这是什么地方？<br>白素贞：很多事情，都是从这里开始的。<br>许仙：这话什么意思？娘子，这是……<br>白素贞：相公，你看这像什么？<br>许仙：像，像星星。<br>白素贞：对，像星星。当初我站在这里，心高气傲，一心想做大事，可如今站在这儿，两个人变成三个人了，可是我的心却变小了，心里面只能容下相公和孩子两个人。相公，你可不可以答应我一件事？<br>许仙：你说。<br>白素贞：如果你我二人不能善始善终，不论是谁要把我们拆散，你都不要求他，不要认输。<br>许仙：娘子你说的什么话，什么叫不能善始善终？什么叫被人拆散？<br>白素贞：啊，相公你不要急嘛，我只是说万一。<br>许仙：娘子，没有万一，没人能使我们分开。<br>白素贞：如果，是天要拆散我们呢？<br>许仙：天也不能拆散我们。<br>白素贞：我要的就是你这句话，有了你这句话，我就什么都值了。<br>~<br>小青：姐姐！姐姐！<br>白素贞：青儿，你回来了。<br>小青：姐姐，你跟我回房里一下，我有事情要跟你说。<br>白素贞：怎么了？<br>小青：你不要问了，过来便是了，事不宜迟，快点，姐姐。<br>许仙：娘子！神神秘秘的，搞什么鬼呀。<br>~<br>小青：姐姐，你快看看吧，只是晚到了半步，他已经被法海困在心境台上了。<br>白素贞：那和尚实在太过分了，青儿。<br>小青：姐姐。<br>白素贞：不行，他的五脏六腑都被寒气冻伤了，看来，我要逼出我的内丹，让他服下，才能救他一命。<br>小青：不行，姐姐，内丹是用来成仙的，要知道，你若给了他，那……<br>白素贞：顾不了那么多了，现在，先保住他的命要紧，听说昆仑山的灵芝草能治百病，还能起死回生，如果能盗来的话，还回内丹，不是很好吗？<br>小青：姐姐。<br>白素贞：他一会儿就醒了，我去给他熬些汤来。<br>小青：不用了，方才，我已经给他熬好了，你看，一会儿这小子醒了，一定会馋个半死的。<br>白素贞：你的心什么时候变得这么细致了？<br>十天：娘。<br>小青：姐姐，你听到没有？他叫你娘了。<br>白素贞：十天，来，喝一口汤。<br>~<br>十天：请师傅赐十天解药，我想长大，不想永远做小孩。<br>法海：好吧，但是你要答应替师傅做一件事情。<br>十天：什么？<br>法海：明日便是五月初五，端阳佳节，午时三刻，阳光至盛，蛇精就算道行再深，也是难宁，所以她一定会另选地方避难，到时候，你只要按照我所说的，将那有我佛荫的金针，刺于她随身携带的蛇皮七寸之上，便可助我收妖大业。<br>十天：那，我该怎么接近白素贞？<br>法海：你只管继续在这里跪着，到时候你就会知道。<br>~<br>十天：白娘子对我这般好，我这么干，不是对不起她吗？<br>十天：可是，师傅的命令也不敢违抗。<br>十天：啊！果然在这儿。<br>十天：我怎么这么害怕呀？师傅让我做的都是对的吗？这真的是斩妖除魔的大业吗？我怎么却要偷偷摸摸的，倒像是一个贼。不行，我又怀疑师傅了，算了，豁出去了，师傅叫我做的事情，一定没错。<br>~<br>小青：姐姐，法海从半步多到人间，一心想除掉我们，时值端午，对于他来说，正是下手的好时机，他怎么突然之间变得又无声无息起来了？再说他把十天当成眼睛，他从来不肯让徒弟离开他半步，这次姐姐算出十天有难，姐姐。<br>白素贞：他已经知道我们来这儿了。<br>小青：你说什么？那个和尚已经知道我们的行踪了？<br>白素贞：自从你把十天顺利的带过来，我就知道，他已经在暗处留意我们了。<br>~<br>十天：这雄黄该不该倒啊？师傅说的总是对的。<br>~<br>白素贞：相公啊，今天这么热，我的胸口好闷呐。<br>许仙：那是节气所致，娘子你且先坐下，我记得，当日在断桥上，娘子你敬了我三杯酒，今天正逢端午佳节，我要还你三杯。来，娘子。<br>白素贞：相公啊，我有孕在身，喝酒是不好的。<br>许仙：娘子忘了我是大夫吗？只喝三杯，有百益而无一害，况且今天是端午佳节，来，娘子。娘子小喝一口，我先喝为敬。<br>白素贞：既然是端午佳节，应该全家人在一起喝才好啊，我去把十天和小青叫来。<br>许仙：娘子，娘子要热闹，待喝完这三杯酒以后也不迟啊，天下的男人，谁不愿意在端午佳节和自己的女人喝上一杯雄黄酒呢？<br>白素贞：（好吧，既然大局已定，我就赌上一把，或许我能过了此关，从此守得云开见月明了。）啊，来。<br>~<br>小青：你说什么？你跟着法海进来的？<br>连翘：我在城门口，偏巧就看见了行色匆匆的法海，没有看到十天在他身旁，就心生怀疑，跟了上去，谁知道就跟到了这个鬼地方，我想他一定会对白姑娘不利，刚好又听大胡子讲过这个地方，就来碰碰运气，还好遇到你们。<br>小青：奇怪，法海怎么会在这个时候来半步多呢？我知道了，那他一定要害姐姐了，不成，我一定要到街上寻他去，先拖住他再说。<br>连翘：我跟你一块儿去。<br>小青：十天啊，你乖乖的，我们一会儿回来，你怎么了？十天？<br>许仙：啊！<br>青、连翘：许仙？！<br>~<br>白素贞：啊，好难受。<br>小青：姐姐，为什么？为什么会变成这个样子？你为什么现出原形了呢？<br>连翘：雄黄酒！这是雄黄酒！一定是喝了这个酒。<br>小青：那这绣花针呢？这怎么解释？这绣花针是怎么回事啊？为什么姐姐动弹不得，回不了人形？<br>连翘：这不是一般的针，是受了佛荫的针，只有用针的人，才能拔出这针。<br>小青：臭法海，我今天跟你拼了！<br>十天：小青，你不能去。<br>小青：臭小子，你给我让开，不然的话，我连你一起杀。<br>十天：其实，这针不是我师傅插的，是，是我。<br>小青：是你？<br>十天：是师傅的命令，我，我不得不照办。<br>小青：好，你，好，总算是冤有头债有主了，那我先要了你的命，再去找你师傅算账。<br>连翘：小青，不可意气用事，我刚说过了，只有用针的人才能拔出这个针，你若杀了他，怎么救你姐姐？<br>小青：我……，哼！十天呐，你可真可恨，枉我姐姐对你那么好，为了救你，冒着原神尽散的危险，把自己的内丹给你吞了下去，可是你呢，却恩将仇报，这难道是你师傅教你的处世之道吗？<br>十天：原来，是白娘娘的内丹救了我？<br>小青：你给我进来！进来！你看，你说，是救她，还是和你师傅一块儿害她，就看你自己选了。<br>白素贞：啊，好难受。<br>十天：我……<br>小青：选呐！<br>~<br>小青：姐姐，姐姐，你快坐下，你没事吧姐姐？<br>白素贞：青儿，我相公呢？<br>小青：你还提他干什么？要不是他给你喝了雄黄酒，你也不会这样受苦的。<br>白素贞：我只问你，我相公呢？<br>小青：被你吓得跑了吧？跑了也好啊，省得下一个端午啊，又来害你。姐姐。<br>白素贞：不，你快帮我把他找回来。<br>连翘：不必了，他在这儿呢。<br>白素贞：他怎么了？<br>连翘：他被你吓死了。<br>小青：姐姐，还以为只是吓跑了，这没想到，没想到他竟然死了，他真的死了。<br>白素贞：他死了？<br>连翘：这不能怪你，要怪，就怪那个法海。<br>小青：姐姐。<br>白素贞：青儿，替我好好看护相公的肉身。<br>小青：你要去哪儿？姐姐。<br>白素贞：昆仑山，盗灵芝草。我去之后，好好看护他的肉身。<br>小青：姐姐，姐姐。<br>白素贞：红烛燃尽，我若再不回来，替我葬了他。<br>小青：不行！什么叫不回来？你为什么不回来？<br>连翘：怎么样？是要给你师傅送信，还是……<br>十天：我替你护法，你看住许仙，我知道我师傅就要来了。<br>~<br>小青：姐姐。<br>白素贞：青儿，你来做什么？<br>小青：打架惹事都是我的专长，这个时候怎么能少得了我呢？<br>白素贞：好，既然来了，前面就是昆仑山，我们下去。<br>小青：好。<br>~<br>十天：连翘姐姐，你还行吗？<br>连翘：不叫我师妹了？看着点，除妖有什么难，难的是救人。<br>十天：糟了，师傅来了。<br>~<br>白素贞：青儿，那个就是灵芝草。<br>小青：姐姐，倒并没有看到传说中的鹤童和鹿童啊。<br>白素贞：不等了。<br>小青：嘿嘿，太好了。<br>白素贞：就趁这个时候盗吧，现在没有仙童把守，只要得手，就算被发现，我拼上一拼，兴许你还有机会逃走的。<br>小青：好，姐姐，那我们和他们拼了吧。<br>鹿童：大胆妖孽，竟敢来此盗宝。<br>鹤童：还不跪下来，束手就擒。<br>白素贞：二位仙童，素贞不辞跋涉上昆仑山，不过是为了盗草救我夫一命，请二位高抬贵手，让我们取得，也算是二位的功德。<br>鹿童：蛇妖，你嫁与人为妻，已经犯了天规，还有脸来这里盗草，我二人定不饶你。<br>鹤童：若灵芝被你二妖拿去，我二人做这神仙还有何颜面？<br>小青：姐姐，我看不用跟他们说那么多废话了，不如我们现在动手。<br>白素贞：这仙草我势在必得，如果二位这么不通情达理的话，就莫怪我们姐妹无礼了。青儿，快取灵芝草！<br>小青：是，姐姐。姐姐，我得手了。<br>白素贞：快走！<br>小青：不行，姐姐我帮你。<br>南极仙翁：莫开杀戒，莫开杀戒。<br>白素贞：素贞叩见仙翁。<br>小青：谁要跪你这个臭老头，做神仙就神气吗？<br>白素贞：青儿！</p>
</blockquote>
<h3 id="第二十八集"><a href="#第二十八集" class="headerlink" title="第二十八集"></a>第二十八集</h3><blockquote>
<p>白素贞：快走！<br>小青：不行，姐姐我帮你。<br>南极仙翁：莫开杀戒，莫开杀戒。<br>白素贞：素贞叩见仙翁。<br>小青：谁要跪你这个臭老头，做神仙就神气吗？<br>白素贞：青儿！<br>小青：难道神仙就可以不讲理，胡乱杀人啊？<br>南极仙翁：青蛇果然顽劣，连我这老神仙也敢骂。<br>白素贞：仙翁恕罪，我们姐妹俩实在是救人心切啊。<br>南极仙翁：不用说了，我是老神仙嘛，当然知道你们为何而来，而且我还算得出，你们是拿着这灵芝草走的呢。<br>白素贞：这么说，老神仙是肯成全我们了？<br>南极仙翁：我也为难呐，是救人为上呢？还是守规矩更好？这……<br>白素贞：你若能赠我灵芝草，就是让素贞万死也不辞啊。<br>南极仙翁：白蛇还真是多情啊，你放心，我不要你的命，我要你的另一件东西。<br>白素贞：什么？<br>南极仙翁：我要你在人间收集的那七滴眼泪。<br>~<br>十天：连翘姐姐，你怎么了？<br>连翘：都什么时辰了，白姑娘怎么还不回来？许仙，难道真要我亲手把你葬了吗？<br>十天：啊！师傅！<br>~<br>白素贞：青儿，把装眼泪的葫芦拿来。<br>小青：我不给。<br>白素贞：给我。<br>小青：这眼泪是姐姐成仙的关键，我们好不容易才收齐了七滴，就差一滴就功德圆满了。姐姐，你绝对不要昏了头，就为了一个男人，误了大事好不好？<br>白素贞：什么是大事，我心里清楚，给我。<br>小青：我把这七滴眼泪，看得比我自己的命还重要，姐姐你别怪我，我不依。你果然出剑了，你要杀我？<br>白素贞：不是杀你，是逼你，我没有时间了。<br>小青：姐姐，你就为了许仙这么一个男人，你连姐妹的情份都可以不要，连神仙都可以不做，姐姐，你这样值不值得啊？<br>白素贞：值不值得，轮不到我考虑。<br>南极仙翁：你也不问问我，要眼泪有何用啊？<br>白素贞：不用问，我只想救我的相公，别说是眼泪，就算要我的命，我一样毫不犹豫的给你。现在，可以把灵芝草给我了吧？<br>南极仙翁：哈哈哈。<br>白素贞：仙翁你？<br>南极仙翁：我在试你呐，早就听说人间有情，没想到你这白蛇妖到了人间，也寻到了真情了，快去吧，救你的相公要紧啊。<br>白素贞：多谢仙翁。<br>~<br>法海：阿弥陀佛，我果然没有看错，妖孽就是妖孽，这蛇妖到底还是害死人了。<br>连翘：你很得意吧，臭法海，你终于等到这一天了，是你害死许仙的，不是白素贞。<br>法海：十天，过来，给师傅当眼睛。十天！<br>连翘：不要过去，他真的疯了，除了杀人，还会什么？<br>十天：我师傅没有杀人，他只是一心想除妖。<br>连翘：除妖？谁？白素贞吗？可是，可是十天，只这一日，你也看到了白娘娘的为人，她哪点像妖？<br>十天：师傅，白娘娘今天为了救我，连自己的性命都不要，求你，求你放过她们吧。<br>法海：放？这个字好轻巧啊，我不懂。<br>连翘：起来，十天，死都不要跪他，臭法海，要杀就连我们一起杀了吧。<br>十天：啊，许仙的原神要散了。<br>连翘：在哪儿呢？<br>十天：在屋顶上。又到窗户了。<br>连翘：那现在呢？现在在哪儿啊？<br>十天：在，在我师傅手里。<br>~<br>小青：连翘，你跪在这儿干什么？<br>连翘：白姑娘，我对不起你，我辜负了你们的嘱托，不如，你杀死我吧。<br>白素贞：我相公死了？<br>连翘：他的原神被法海拘走了。<br>小青：我们白费功夫，盗什么仙草啊，现在还是让那个臭和尚得逞了，姐姐。<br>白素贞：那他的肉身呢？<br>连翘：我，太怕他会死，所以，我把许仙的身子拱手相送，恳求那和尚网开一面，救他一命。<br>小青：啊？我说你，你凭什么拱手相送啊？他又不是你相公，你安的什么好心你？那和尚就算救了许仙又如何？还不是要引我姐姐去金山寺？到时候，两败俱伤，你渔翁得利，你好卑鄙！<br>白素贞：青儿！<br>小青：姐姐，你干嘛？这个女人她害得你没了相公，你干嘛还要护着她？<br>白素贞：我不怪你，若我是你，也一样如此，我现在要去金山寺，去救我相公。青儿，我们走。<br>连翘：白姑娘不能去。<br>白素贞：为什么？<br>连翘：法海说，如果想要回你相公，你就要一步三叩头，跪上金山寺。<br>~<br>小青：姐姐说，请用灵芝仙草救她相公的性命。姐姐说，请用灵芝仙草救她相公性命！<br>十天：师傅，白蛇她说，请用灵芝仙草救她相公性命。<br>白素贞：青儿！站住！<br>小青：姐姐，你这是为何？难道我们上这儿来，就是为了跪他不成？<br>白素贞：如果跪他，能让他大发慈悲，救我相公，跪又如何？<br>小青：你可真糊涂啊，他要救早救了，他根本就是诚心和我们过不去，想要看我们笑话，你这样的跪他，他不知道怎么偷着乐呢，等着他发慈悲，你就别想了，还是打进去，把那些和尚杀得片甲不留，就算救不了许仙，那也值了。<br>白素贞：我是来救许仙的，如果不能救他，就算搭上多少条性命，也是枉费。<br>小青：许仙许仙许仙，姐姐，你除了许仙，你还有别的什么话可以说的了吗？姐姐啊，你简直是爱得发狂，昏了头了，如今连这和尚你也肯跪，我看不起你！<br>白素贞：青儿，你不懂。<br>小青：什么不懂，我怎么不懂？我懂你是我姐姐，我懂得义气二字怎么写，你要跪就跪吧，我是万万不能的，妹妹今天就替你去杀了那个和尚。<br>白素贞：青儿！<br>小青：你，你又来这套，谁都不叫我杀吗？<br>白素贞：别让我为难，我们不是为了逞一时之气，我们今天上山，救许仙为大。<br>小青：许仙为大？那我是什么呀？<br>白素贞：青儿。<br>小青：姐姐。<br>白素贞：我今天不仅跪他，我还要跪你，求求你，放了我和许仙，别再用剑伤了和气，我要活的许仙，不要死了的，妹妹，我不求你明了，只求你放过我们，如果你看不起我的所作所为，那就下山吧，我绝无二话。<br>小青：姐姐，你……，你凭什么替天行道，你如今拆散人家夫妻，又是行的什么道，要不是姐姐拦着我，一定要把你们金山寺打个稀巴烂。<br>法海：毁了我的金山寺，许仙还是活不了，到时候，你姐姐恐怕恨的还是你。<br>小青：姐姐，我们走，姐姐。<br>白素贞：我们夫妻恩爱，请师傅放过我们吧。<br>法海：妖孽，你怎么就不知道反悔呢？他是人，怎么能和你在一起？若你离开他，佛自会让他康复，日后就在我的后院中，修心养性，岁月无惊，你放心去吧。<br>小青：姐姐，你听到了吗？你在这里低声下气，人家却在院子里修身养性，我真不明白，你这样做，到底是为了什么呀？<br>白素贞：因为，因为，我怀孕了，我是一个母亲了，再过几个月，我的孩子就会出生了，他长得一定很像我相公，我们会给他取名字，叫他读书认字，然后，看着他一天天的长大，他会叫我一声娘，叫相公一声爹，他一定很淘气，对，他还爬树，翻墙，就像你一样到外面去给我惹麻烦，但有的时候他也很乖，乖乖的躺在我的怀里，在灯下听我给他讲故事。青儿，我现在真是，骑虎难下了。<br>小青：姐姐，姐姐。姐姐，我向来不知道眼泪是什么，可是我想，如果我要可以流眼泪，那么现在就有一滴眼泪要为你而流，既然如此，那就让小青跟你一起跪吧，谁让我们是姐妹呢？<br>白素贞：师傅，我们姐妹再次，求你用灵芝仙草，救我相公一命。<br>法海：哈哈哈哈，……，十天，去把那灵芝仙草给我取过来<br>~<br>许仙：不，我娘子不是妖，我娘子不是妖。蛇，蛇，蛇，有蛇！<br>十天：许仙，你没事吧？<br>许仙：十天，你在这儿，我娘子呢？快告诉我娘子有蛇，快逃，快叫她逃。<br>十天：你娘子她不是蛇，她不是蛇。是有一条蛇没错，不过被你娘子一剑刺死了。对对对，是被你娘子一剑给刺死了。<br>许仙：蛇被我娘子杀了，我现在在哪里？我在哪里呀？<br>十天：你现在被我师傅捉了来，现在，你娘子还跪在门外，苦苦求我师傅放你呢。<br>许仙：这个疯僧，我娘子就是妖又怎么样？我要跟他拼了，我跟他拼了！<br>十天：许仙，你身体还没好，再躺一会儿吧。<br>~<br>法海：你们再跪下去也没有用，还是回去吧。<br>白素贞：师傅，你为何出尔反尔？你要的人是我，不是许仙。<br>法海：多说无益，我意已决，我劝你还是了却红尘，回头是岸，尽快走吧。<br>白素贞：不，师傅，我知道自己错了，我不该贪恋红尘俗世的生活，不该妄想人间的儿女情长，如果这一切都可以重来的话，我绝对不会再犯错误，可是现在，出家人以慈悲为怀，看在我已经有身孕的份上，师傅就高抬贵手放我们一次吧。<br>法海：重来？阿弥陀佛，如果世上的事情都可以重来的话，你我今日就不会在此相对了，你身为得道的蛇精，入人世兴风作浪已是罪过，竟然还与凡人成婚生儿育女，更是罪上加罪，本来今天就应该将你收了去，不过我突然想明白一件事情，你闹出种种事端都皆一个情字，只这一个字，便熏神染骨，误尽苍生，白素贞，我不仅要收你，更要救许仙，我要他心服口服。<br>白素贞：你不要我，你要许仙？你，你这算是什么勾当？<br>法海：不要再纠缠了！你若再不走，我就真不客气了。<br>小青：法海，对你客气你当是便宜，赶快放人，不然我就冲进你破庙，荡平金山寺。<br>白素贞：青儿，我们走。<br>小青：走？为什么？姐姐，姐姐。<br>十天：师傅，许仙醒了。<br>法海：阿弥陀佛。<br>~<br>小青：你为什么不说话？你看看你现在的样子，你还是你吗？你原来是敢作敢为、快意恩仇的白素贞，现在，现在你却跪倒在臭法海脚下，当初把我压在西湖底下的白素贞呢？那个白素贞去哪儿了？<br>白素贞：那个白素贞现在不是依然站在这里吗？<br>小青：什么？<br>白素贞：你没看见那么多和尚护住金山寺，他们摆的是大手阵法，凭你我功力很难攻进去，更何况我有孕在身，想要救人，就要想出一个万全之策，这么冲进去也不是办法。看来，我是避不开这场腥风血雨了。孩子，为了救你爹出来，娘只有孤注一掷了。<br>小青：姐姐，那我们什么时候动手啊？<br>白素贞：就现在，青儿，我一刻也等不及了。<br>小青：好。<br>~<br>许仙：娘子，不管你是人是妖，我都和你一起，我要定你了。<br>~<br>和尚：妖孽，师傅早就料到你们贼心不死还会再来，果不其然，妖就是妖，本性难移。<br>小青：我们走的时候又没有说不回来了，你们在这里苦巴巴的等着，蚊子叮虫子咬的，得意什么？<br>白素贞：法海也太小瞧我们了，就凭你们几个，想要拦住我们？<br>和尚：拦着你们？错了，师傅他慈悲为怀，今天，我可要收服你们这一对妖孽。<br>小青：就凭你们？自不量力。姐姐，他们人多，这样斗下去不是办法。<br>白素贞：寺中和尚都在这儿了，后山门一定空虚，你在这里拖住他们，我去救相公。<br>小青：你放心，你放心去吧，这里交给我了。<br>~<br>法海：阿弥陀佛，白素贞，贫僧念在你有身孕的份上，已经放了你一次，你为何还要再来？<br>白素贞：正因为我怀有许仙的骨肉，才更要救他出来，我不能让我们的孩子一出世，连父亲的面都见不到。<br>法海：你这又是何苦，人妖殊途，你与许仙是不可能有结果的，贫僧奉劝你，还是放下执着心的好。<br>白素贞：有没有结果又不着你操心，你一而再，再而三地想拆散我们，你又何尝放下了执着心呐？<br>法海：你说什么？<br>白素贞：我说什么你心里清楚，我和许仙是真心相爱，此情天地可鉴，你口口声声说自己是得道之人，可对世间之情你又懂多少呢？<br>法海：我是不懂，我也不需要懂，一世只要能懂得我佛就足矣。你懂得，可是真的吗？<br>白素贞：什么真的假的，别再废话了，你若一意孤行还要阻拦于我，我也只能全力，与你拼死一搏了。<br>法海：阿弥陀佛，为什么逼我？<br>白素贞：什么？<br>法海：逼我收了你。<br>白素贞：不是我小看你，你有这个本事吗？<br>法海：阿弥陀佛，这是你自寻绝路。白素贞，没想到你怀着身孕还如此了得，看来今日我是无力收服你。<br>白素贞：打不过就是打不过，还找这么多说辞干嘛？<br>法海：虽然我暂时无法收服你，但有这佛光护法，你是断然也进不来的，想带走许仙，痴心妄想！<br>白素贞：我知道你的佛光厉害，不过就凭你的道行，怕也撑不了多久，我是有耐心的，可以慢慢等，等你撑不住了，我一样带走我的相公，荡平你的金山寺。<br>~<br>和尚：师傅，两个妖精一前一后围住山门，现在怎么办啊？师傅，师傅怎么办？<br>法海：你们不做功课，都聚在这里干什么？诵经去。<br>和尚：是，师傅。<br>法海：十天。<br>十天：师傅。<br>法海：将我的禅杖拿来。<br>十天：师傅。<br>法海：十天，为师要出去片刻，你先回去吧。十天，你跟着师傅有多长时间了？<br>十天：有……，我也不记得了。<br>法海：你可后悔，跟我进寺？<br>十天：没有，师傅，跟着你学了很多道理。<br>法海：学了什么？<br>十天：我学了，我……<br>法海：院子中的落叶多了，你去把大殿给清扫干净。<br>十天：是。<br>法海：十天，你只管在殿里扫地，无论发生什么事情，不许到殿外去，更不许偷看我和你的师兄们与那蛇妖斗法，等我收了那两条蛇妖，你就下山去吧。<br>十天：师傅。<br>~<br>法海：阿弥陀佛。<br>鹤童：大师，今天怎么有空，不知有何贵干？<br>法海：贫僧是无事不登三宝殿，来这里自然是有事相求。<br>鹤童：哦？大师莫非遇到了什么为难的事情了？<br>~<br>小青：姐姐，那群和尚被我打散了，你这里怎么样？<br>白素贞：法海躲进了寺里。走！鹤仙？<br>鹤童：不错，正是我。<br>小青：大笨鸟，到底要怎样？<br>鹤童：怎样？我今天就要收服你们这两个妖孽，你看怎样。<br>南极仙翁：莫开杀戒，莫开杀戒。<br>鹤童：仙翁，您怎么来了？<br>南极仙翁：你能来的地方我不能来吗？<br>鹤童：不是。<br>南极仙翁：我刚上了趟茅厕的工夫，你就出来打架。<br>鹤童：没有。<br>南极仙翁：还说没有，都打成这样，几百里以外我都听到了动静，怎么？打架很有意思是不是？替人强出头很过瘾是吧？<br>鹤童：仙翁，我错了。<br>南极仙翁：亏你还是修炼了这么多年的得道之人，火气还这么大。<br>法海：阿弥陀佛，仙翁，这件事情是贫僧不好，是贫僧想借鹤仙的法力收服这两个妖孽。<br>南极仙翁：什么收服妖孽？打架就是打架，还找那么多借口，你是不是出家人哪？<br>法海：当然。<br>南极仙翁：出家人也这么大火气？<br>法海：降妖除魔是我等修行人的本分，这些妖孽在人间作祟，人人得而诛之，仙翁刚才说的话，倒像是在帮着这两个蛇精找说辞。<br>南极仙翁：我可没帮什么人，你这话说岔了，这白素贞，身怀有孕，怀的还是文曲星托世，你伤她，就是伤了仙骨，你要不要高抬贵手那是你的事，与我无关，我只是找回我的徒弟，免得他得罪了文曲星的仙骨。好了好了，什么都别说了，我这就带着鹤仙回去。<br>白素贞：仙翁，仙翁有菩萨心肠，素贞斗胆请仙翁帮我救出相公吧。<br>南极仙翁：和尚，得饶人处且饶人，放过他们吧。<br>法海：白素贞，贫僧今天看在仙翁的份上，暂且放你们一马，望你们好自为之。<br>白素贞：等等，和尚，你要是不放我的相公，我便不依。<br>小青：和尚，我告诉你，就算你今天放了我们，改日我们还是要到寺里去找你的。<br>~<br>十天：师傅。<br>法海：许仙，这里可好？可还住的安稳？对了，不必挂念家里，家里有的，我这里都有，青罄，红鱼，清风，明月，你还要哪样你就说吧。<br>许仙：我要我娘子。<br>法海：你娘子？死到临头，你还认她做你的娘子，许仙，你痴迷不悟，早晚是身败名裂的下场，我与你有缘，才要救你脱离苦海，你却如此不肯领情，你只看到了色，除了佛能救你，你已经无药可救了。许仙，你随我入佛门吧，没错的，给自己一条出路，也给白蛇一条退路，若你依我，我便饶了她，好好想想，明天，给我一个答复。<br>~<br>白素贞：青儿，你知道明天会有场殊死之战吗？<br>小青：我知道，那又怎么样？<br>白素贞：也许，我们能救出相公，也许，我们只能把自己的白骨葬在那儿了。<br>小青：那又怎么样？姐姐，不过就是打一场架，小青我并不怕死。<br>白素贞：可是我怕。<br>小青：你怕？不可能。<br>白素贞：我为什么不怕？我不但怕死，我还怕血，我还怕法海知道我身上有伤，更怕让另一个知道。<br>小青：另一个？你是说许仙？你放心吧，明天小青一定会跟着姐姐，把那个许仙抢回来。<br>~<br>十天：师傅。<br>法海：十天，师傅要进殿入定片刻，你替为师守着，无论发生任何事情，任何人都不得入内。<br>十天：是，师傅。<br>法海：阿弥陀佛，弟子法海为降妖除魔，今日要祭出随身的袈裟，佛法无边，愿我佛助我法力，铲除妖孽。<br>十天：铲除？<br>~<br>十天：许大哥，许大哥！<br>许仙：怎么了？十天。<br>十天：我师傅有一件很厉害的袈裟，他现在要去收白娘娘。<br>许仙：什么？我娘子怎么样了？<br>十天：我和你一样担心，不如放了你。你怎么了？<br>许仙：不，我不能去。<br>十天：为什么？<br>许仙：说到底，我是法海的诱饵，你师傅跟我说过，如果我肯留下来的话，他就会放了我娘子，我娘子现在怀有身孕，她根本敌不过法海的，十天，你去跟我娘子说，让她不要再管我了，走得越远越好。<br>十天：那你呢？<br>许仙：你不要管我，快去啊。让她走得越远越好！<br>~<br>法海：白素贞。<br>白素贞：看在我身怀有孕的份上，把我相公还我。<br>小青：姐姐，废话已经太多了，我们硬闯。<br>~<br>许仙：大慈大悲的观世音菩萨，保佑我娘子逢凶化吉，大慈大悲的观世音菩萨，保佑我娘子逢凶化吉。<br>法海（回音）：你还认她做你的娘子，许仙，随我入佛门，给自己一条出路，也给那白蛇一条退路<br>~<br>白、小青：十天！<br>十天：我的眼睛！<br>小青：十天！十天，怎么了？<br>白素贞：十天，你的眼睛怎么了？<br>十天：我的眼睛，眼睛好疼。<br>白素贞：怎么了？<br>十天：疼。<br>和尚：师傅，十天的眼睛怎么了？<br>法海：他的眼睛并无大碍，数日后便能复明，不过他以一己之力抗拒法力，佛祖已将他的慧眼收走了，从今以后你我能看见的，他也能看见，你我看不见的，他也看不见，他只是一个普普通通的孩子。<br>小青：法海！你怎么连一个小孩子你都不放过呀你？<br>法海：是他不该与佛法相抗！<br>白素贞：你太狠毒了！<br>许仙：住手！我有话要讲。<br>白素贞：相公。<br>许仙：你一个女人家，跑这里来干什么？<br>白素贞：相公，我……<br>许仙：你来干什么？还不赶紧走，快走啊。<br>白素贞：你叫我走？<br>许仙：对，叫你走，走得越远越好，最好再也别回来了，走啊！<br>白素贞：好，要走我们一起走，我们再也不回来了。<br>许仙：你到底明不明白？我叫你走，法海要的人是我，他嫉妒我，他见不得我们恩爱，他当和尚当疯了，我留下，大不了出家，豁出去把头剃了做个和尚，头发早晚有长出来的一天，到时候，我们依旧做我们的恩爱夫妻，你若留下，我便成了他的诱饵，引你上钩，这样的事情，我是断然不肯做的，你快走吧。<br>白素贞：不，相公，法海他要不起你，你是我的。<br>许仙：娘子，我求你了，看在孩子的份上，你就成全我吧，法海要的人是我，我不会有事的，你好了，我便安心了。<br>白素贞：青儿，把十天送下山，照顾好他。<br>小青：不行姐姐，大敌当前，我若一个人走，岂不是成了薄情寡义之人？<br>白素贞：傻丫头，我们不会分开的，快去。<br>小青：那好，那你要答应我，姐姐，无论如何一定要等我回来。</p>
</blockquote>
<h3 id="第二十九集"><a href="#第二十九集" class="headerlink" title="第二十九集"></a>第二十九集</h3><blockquote>
<p>白素贞：青儿，把十天送下山，照顾好他。<br>小青：不行姐姐，大敌当前，我若一个人走，岂不是成了薄情寡义之人？<br>白素贞：傻丫头，我们不会分开的，快去。<br>小青：那好，那你要答应我，姐姐，无论如何一定要等我回来，等我回来一起跟他斗法，白素贞你答应我。走！<br>管家：许夫人，许夫人，我来晚了。<br>白素贞：管家？<br>管家：许夫人，妖要对抗天，无人敢来，恐怕只有我这个没用的老头了。<br>白素贞：一炷香后，我要抢回我夫，老神仙愿意帮我，我白素贞欠你一个人情。<br>管家：你不提起，我还真忘了我是个神仙呢，白姑娘，我助你一臂之力。<br>~<br>和尚：快呀，快跟上，快呀。在那儿，许仙，别让他跑了。把他抓起来，别动！<br>许仙：你们要干什么？<br>~<br>白素贞：生死有命，事在人为，我不相信光明正大的爱情，敌不过那和尚的私心妄欲，天地间众神灵，有善心的，请助我夺回夫君！<br>~<br>和尚：快走，水来了，快走！<br>~<br>小青：快走，十天。十天，怎么样了？<br>十天：疼啊。<br>小青：嘘，别说话。<br>~<br>和尚：快走，快走！<br>法海：慌什么慌？<br>和尚：不，不是，水，水涨进来了，眼看就要漫进寺里，师傅，还是收拾一下，快走吧。<br>法海：阿弥陀佛，看看你们成了什么样子，金山寺有我佛法力护持，她白素贞只是一只小小的蛇妖，怎能与我佛相抗？她就算有天大的本事，也别想淹了这金山寺。<br>和尚：佛祖保佑，佛祖保佑，佛祖保佑。<br>法海：阿弥陀佛。<br>管家：许夫人，那和尚做法将金山寺升起来了，我们就算有再多的水，也奈何不了他呀。<br>白素贞：法海，你把金山寺升起一尺，我就把水漫过一丈，看我们到底谁斗得过谁。<br>管家：许夫人，怎么了？你的肚子，肚子怎么了？<br>白素贞：孩子受妖法影响，正在快速长大，可能就快生了，我没有那么多的时间了，我要在孩子出生之前，救回相公。<br>~<br>连翘：小青，十天，你们怎么在这里呀？<br>小青：那你呢？怎么你也在这儿啊？<br>连翘：普渡大仙坐着仙船去找帮手了，我怕你们会出事，便想拣条小路过来找你们，可到了这儿，才发现上金山寺的路全都不见了，这到底怎么回事啊？<br>小青：这事一时半会儿说不清楚，你来得正好，十天刚好受了伤，我找不到人托付，来，连翘，你帮我照顾十天，我要走了。<br>连翘：你去哪儿？<br>小青：姐姐现在金山寺拼命，我回去帮她。<br>连翘：小青，那你要小心，还有要是真找不回许仙，你替我带一句话给白素贞，你就替我告诉她，没有那个男人其实没什么了不起，我不是也一样可以活得很好吗？<br>小青：你不是我姐姐，到了这个时候，她要的不光是她相公许仙，而是她肚子里面那个孩子的爹。<br>~<br>白素贞：相公，是相公在叫我，法海，法海要给他剃度。<br>~<br>许仙：你要干什么？这是什么？娘子？<br>法海：是，这镜子照见你的心，我要你看清你的娘子，恐怕你要求着我来给你剃度。许仙，我来问你，五月初五端阳佳节，你为何惊吓过度，昏死过去？<br>许仙：因为有蛇入室，张口血盆大口，幸亏我娘子及时出手，救我性命。<br>法海：这样的说辞，你可曾怀疑？<br>许仙：是你徒弟告诉我的，我为什么要怀疑？<br>法海：那好，除了五月初五，你可曾记得其他的什么古怪？<br>许仙：没有，我有贤妻持家有道，药铺生意蒸蒸日上，我们夫妻恩爱，传为佳话。<br>法海：许仙，那我再问你，你娘子可美？<br>许仙：美。<br>法海：这就是了。<br>许仙：难道美也有错吗？<br>法海：如若不美，如何惑以美色诱惑于你？要你一生的精血。<br>许仙：我娘子从未做过半点伤害我之事，即便她是妖，她对我这般好，我也无话可说。<br>法海：你不怕，为何吓丢了性命？<br>许仙：一次当然怕，两次就未必，三次就可以视若无睹，慢慢的，我只会记得她对我的好，就可以忘记她是妖了。<br>法海：那好，为何不敢抬头，看那镜中的影像？你还是怕。随我剃度吧，你我二人师徒相称，女人是惊扰人心的浊物，你我二人可将她们踩在脚下。<br>许仙：和尚，我不是怕她，我是怕身边没有她，我要定我娘子了！<br>法海：不可能，我的心境如何会碎呢？<br>许仙：和尚，我跟你拼了！<br>法海：痴迷不悟，剃不剃度，由不得你了。<br>许仙：你这个和尚好心狠，你不去救你的徒弟，干什么一定抓着我不放。<br>法海：他们心中若有佛，佛自会救他们。<br>~<br>管家：许夫人，照这样下去，我看孩子用不了几个时辰就要生了，弄不好，会两败俱伤的，夫人。夫人！<br>~<br>法海：这人执迷不悟，我要救他，请罗汉先封住他的眼耳口鼻，让他话不出口，音不入耳，封他的五音，众弟子护法！<br>白素贞：法海，你出来！法海：阿弥陀佛。白素贞，你的胆子也太大了些吧？这哪里是你该来的地方。<br>白素贞：到底是放不放人？你要是再不放人，我就淹了你的金山寺。<br>法海：你要是有本事，就继续将水升高，将我和这金山寺一并淹了，寺在人在，寺无人无。<br>白素贞：好一个寺在人在，寺无人无，好，我就成全了你。<br>白素贞：相公，相公，你在说什么？<br>白素贞：我知道了，我听懂了你的心，你叫我不要再做法了，你叫我放了金山寺这些无辜的僧众，相公，你的心太软了，你真是让我进退两难。法海，你明知我夫心善，你也明知我不会拂逆他的任何要求，但是许仙我要定了，我要带他下山。<br>小青：姐姐，你为什么不等我？<br>~<br>管家：小青姑娘！小青：嘘，你能不能小声点啊？姐姐刚才疼了好大一阵子，现在才刚刚睡一会儿，你这么大声干嘛？<br>管家：以前这么漂亮的女人，如今躺在这荒山野地，哎呀，简直看不出是那绝色的白素贞了。<br>小青：这一切都要怪那两个男人，法海是第一，许仙就是第二，若是她不爱上那个许仙，也就惹不上那个和尚，说不定，我姐姐都已经成仙了。<br>~<br>连翘：小青姑娘！小青！<br>小青：连翘，十天，你们不是下山了吗？怎么又回来了？<br>连翘：我们找到或许能克制那和尚办法了。<br>小青：什么办法？<br>十天：我们准备去找南海观音菩萨。<br>~<br>小青：观音菩萨？这，这么大的神仙，能请得动吗？<br>连翘：请不动也要试一试，我们这一去，千里迢迢，不知道什么时候才能回来，你们一定要万分小心，能躲则躲，千万不要与那和尚硬拼。<br>小青：连翘，十天，你们两个一直都是我姐姐的敌人，如今却又主动要替姐姐找救星，我替姐姐，谢谢你们了。<br>连翘：没时间客套了，但愿一切都还来得及。十天，准备好了吗？<br>~<br>十天：小人参精，白娘娘也曾救过你一命，若你知恩图报的话，请将通天的道路指明。<br>小青：管家，他们真的去了？你说两个凡人，竟然也能上天啊。<br>管家：小青姑娘，只要心诚，没有办不成的事啊，但愿他们这一趟能找到观音菩萨，或许你姐姐就真的有救了。<br>白素贞：青儿。<br>~<br>小青：姐姐，姐姐你要干嘛？<br>白素贞：青儿，带我去断桥。<br>小青：你说什么？去断桥干嘛？<br>白素贞：那是我和相公相遇的地方，如今我们失散了，若是他能逃出来，他自会去那儿寻我，这是我们心知肚明的事，我要去断桥。<br>~<br>小青：姐姐，你知不知道，他被法海缚着，根本就不能脱身的，再说他被你的真身已经吓晕了，也许他根本就巴不得，巴不得留在那寺里避难呢，你又何苦如此？<br>~<br>白素贞：不，青儿，我可以没有相公，但是我们的孩子，不能让他就这样没有父亲，带我去断桥，我求求你了。<br>小青：姐姐。<br>~<br>法海：不要乱，不要乱，坐下来，打坐，念金刚经。可笑啊，所谓修行修行，大家都是修行了十几年、二十几年的僧人了，竟然连生死安危都看不破，还说什么一心向佛，四大皆空，偌大个金山寺，抵得住白蛇的千军万马，却抵不住你们心中的风吹草动。去带许仙来！去带许仙来！<br>和尚：是。走！<br>法海：你笑什么？<br>许仙：看你这个样子，我便知道我娘子已经平安走了。<br>法海：你还在，只要你在，你娘子就会再来，她来一次我打一次，她早晚是个死。<br>许仙：不，她不会来的，因为我会死，我死了，你就再也没有钳制我娘子的把柄了，输的人是你。<br>法海：我不会输，给他剃度！<br>许仙：法海，我与佛无缘，若老天也认为我不该出家的话，你的剃刀再快，也赶不上我的头发长得快。<br>法海：剃！<br>和尚：啊！<br>~<br>管家：啊，啊，哎呀，这是什么声音，刺的我头疼。<br>小青：法海，我们走了他还不放过我们，念的什么经啊，经不像经，倒像我们的妖咒，蛊惑人心。<br>管家：许夫人！<br>小青：姐姐！<br>管家：许夫人。<br>小青：你没事吧？<br>管家：许夫人，许夫人，到了，到了。<br>白素贞：我不行了，我相公呢？我的相公。<br>管家：许夫人，静静。<br>小青：姐姐。<br>管家：到了。<br>小青：姐姐。<br>管家：到了。<br>小青：你没事吧？<br>管家：前面就是断桥啊。<br>~<br>许仙：法海，我看你不用再念了，那根本不是金刚经，这里到处是邪气，到处都是跪着的行尸走肉，我问你，是我娘子迷惑众生，还是你迷惑众生？到底是我娘子是妖，还是你是妖？<br>法海：你娘子亵渎佛法，我决不会饶过你。<br>和尚：师傅，你看得见了。<br>法海：对，我是能看见了，我是能看见了，感谢佛祖成全。佛祖，白素贞违犯天条，我不收她，就长跪于雷峰塔下，永不起来。<br>许仙：金佛滴泪？难道世上又有妖魔出世？难道，法海他成了魔？<br>~<br>小青：姐姐，断桥到了，你看。<br>~<br>许仙：佛祖，我娘子待产，求你让我们夫妻团聚。佛祖，我娘子待产，求你让我们夫妻团聚。佛祖，我娘子待产，求你让我们夫妻团聚。我明白了，我全都明白了，我娘子不是妖，你才是妖，法海。<br>~<br>小青：姐姐，你没事吧？慢点，慢点，姐姐，姐姐。<br>白素贞：相公，这是我们的断桥，我怕我等不了那么久了，你快来呀。我怕，我真的撑不了多久了。<br>~<br>许仙：和尚，我要走了，我要去找我娘子了，我告诉你，不管我娘子是人是妖，我都要定她了。<br>~<br>许仙：法海！你尽管来吧，我不会怕你的！<br>南极仙翁：许仙，怎么了？找不到下山的路了吗？<br>~<br>小青：姐姐，眼看太阳就要下山了，我想，那许仙他不会来了。<br>白素贞：不，他会来的，我们在这儿接着等他，他一定会来的。<br>小青：姐姐，你看。喂，你怎么也来凑热闹？<br>南极仙翁：这里山清水秀的，你们能来，我就不能来吗？<br>小青：没人说你不能来，不过，我可把丑话说在前面，如果你想要替那和尚来当说客，我可不饶你。<br>南极仙翁：你能把我怎么样？<br>小青：我就把你的胡子扯下来。<br>白素贞：青儿。<br>南极仙翁：哈哈哈。<br>白素贞：老神仙不要怪罪，妹妹说话就是这样直来直去，她的心却是很好的。<br>南极仙翁：有话就说，倒像是我的徒弟。<br>小青：谁要做你的徒弟啊？我这辈子，有我姐姐教我，就足够了。<br>南极仙翁：可是，你姐姐快教不了你了。<br>小青：你说什么？再说一遍。<br>白素贞：仙翁，你这话的意思是……<br>南极仙翁：你的如意郎君就要回来了，难道你还有时间教她武功吗？<br>白素贞：如意郎君？<br>南极仙翁：是啊，刚才我路过金山寺，随手捡了一样宝贝，作为见面礼送给你们，也不知道你们是要，还是不要？<br>白素贞：相公？<br>许仙：娘子，我回来了。<br>南极仙翁：怎么样？见面礼还可心吗？小青，你就好好想一想，我在南山下着棋，等着你来拜师呢。<br>小青：你这个没用的东西，你现在还回来干什么？当和尚当得不痛快了？还是没有酒喝没有肉吃？还是没你娘子给你洗衣做饭，没人给你暖被窝儿了？难道你就不怕姐姐再把你吓死吗？<br>许仙：青儿，你听我说。<br>小青：我不想听你说，你这个无用的男人，要不是因为你，我姐姐现在就不用挺着大肚子，站到桥头吹凉风，谁家的男人会让待产的妻子在这里受罪，只有你，都是你这个东西，才让我姐姐遭此不幸，我恨我自己，为什么当初没有一剑杀了你了事，既然你今天回来了，我索性替姐姐做了断。<br>白素贞：青儿！<br>许仙：小青，我知道一切都是因我而起，我是个没用的男人，我不能保护你和娘子，还连累你们救我，受了那么多委屈，我对不起你们。<br>小青：许仙，你不要再假装自己什么都不知道了，就算端阳那一回你还糊涂，那么今天的水漫金山，你大概知道一二了吧，你回来是什么意思？难道为了拆穿我们是蛇吗？还是，你根本就是替那个和尚引路，来收我姐姐，否则，你如何轻易逃脱，说呀，不如我一剑杀了你，以后图个清静。<br>许仙：小青，难道你当真以为我不知道你们是什么吗？<br>白素贞：你什么时候知道的？<br>许仙：娘子，娘子，什么时候我已经不记得了，也许，从第一次见到你，我就开始怀疑了。<br>白素贞：为什么？<br>许仙：你太美，又对我太好，人世间怎么会有如此毫无要求的爱情？这根本不是人的感情。<br>白素贞：既然知道，为什么你还会要我？<br>许仙：因为你的毫无要求，比人的爱情更可贵，你为我牺牲太多，我许仙何德何能，能有你这样的娘子。<br>小青：姐姐，你真让我失望透顶，想不到你危在旦夕了，心里还是真真正正地牵挂他，可见你心里是没有别人了，你完了，你变成了一个真真正正的女人，你抛掉了一切，换得了他对你的忠心，你大概一直就怕这个吧？现在你可以放心了，他不在乎你是异类了，那么，你就是守得云开见月明，从此地老天荒去了，你不会再成仙了，即便你找到了最后一滴眼泪，那么你也注定成不了仙了，那我还跟着你何用？成仙的路上我可以助你，但是你要走一条凡人的路，那我就变成了多余的。<br>白素贞：不，青儿，在我心里你们都是一样的，你也替姐姐想想，他是你的姐夫，我的相公，我怎么能不要他呢？<br>小青：你只顾着你的感受，你有没有想过我的感受？没想到，我和你出生入死多少次，三百年前如此，三百年后，还是如此，只是遇到了他，就一切都变了，姐姐，我为你披肝沥胆，到现在，竟抵不过一个许仙，为什么姐姐？我现在终于明白了，你为什么要我永远不要做人了，原来做人是这么心痛的一件事情。<br>白素贞：青儿，到了这个时候，我实在没有别的办法，你不要怪我。<br>小青：怪你？我怎么敢呢？你没有办法，我却有一个，那就是我走，成全你们俩，只是我提醒你，白素贞，你不要太天真了，以为生了他的孩子，他就会跟你在一起生活，不过你听好了，他永远都会记得你是个蛇妖。<br>许仙：青儿，我知道你恨我，我求你不要走，我娘子可以没有我许仙，但是不能没有你，我求你了，不要走。娘子。<br>白素贞：青儿，他说得没错，你们两个无论谁走了，只剩下我独个儿活着，都将变得无趣，我现在跪你，是感念你对我的这份情意，你说得没错，留下是平凡，走了就海阔天空，青儿，你走吧。<br>许仙：娘子。<br>小青：姐姐。<br>许仙：娘子，你没事吧？娘子，你怎么了？娘子。<br>白素贞：我，我好像，好像要生了。<br>许仙：娘子，你没事吧？娘子。<br>白素贞：青儿。<br>小青：姐姐，姐姐我不走了，我真的不走了，你现在这个样子，就算你赶我，我也不走了。<br>~<br>许仙：娘子怎么样了？<br>小青：许仙，船摇得太厉害了，姐姐在里面疼得要命啊，怎么办呢？<br>许仙：那我把船稳住，你快进去，别让她疼起来把嘴唇咬破。<br>管家：快点，快点。<br>~<br>管家：哎，哎，许仙，让我来，让我来。哎哟，都磨破了，换我来吧，换我来吧。<br>许仙：没关系没关系，管家，你休息吧。<br>小青：不好了不好了，有一个红彤彤的东西出来了，他是那个，软软的，嫩嫩的，他一出来，姐姐便晕过去了。<br>许仙：什么？<br>管家：哎哟，那个红红的软软的，那是你的外甥。<br>小青：啊？<br>管家：是不是？哎哟，公子。<br>~<br>小青：他长的还真好，五分像姐姐，五分像姐夫。<br>白素贞：他有眼泪，他不是异类，他是人啊。这下我就安心了，太好了。<br>许仙：是啊。<br>小青：管家，这小家伙他哭得声音还真大，我只是看他的样子，我心就软了。<br>许仙：娘子，他这么小，怎么哭得这么大声？<br>白素贞：也许在我肚子里待得太久，一出来，就扯着脖子喊呢，恨不得让天下的人都能听见。<br>许仙：好，那就哭吧，让天下的人都听见。<br>管家：总算一切都过去了，许夫人，如今这许大夫和孩子都平安了，你也可以把心放下了。<br>白素贞：我现在什么也不怕了，我有两个男人保护我，一个是我的相公，一个是我的儿子。相公，我想回家。<br>许仙：好。<br>~<br>和尚：师傅，我们要走了，来向您辞行。师傅，这是香火灯油的账簿，这是藏经阁的钥匙，还有这个，是寺中善捐的功德簿，所有东西都在这儿了，我放这儿了。师傅，您多保重，师傅多保重。<br>法海：你是佛，怎可悲哀？<br>~<br>法海：老住持，别扫了，寺中的弟子都走了，你还扫院子干什么呢？赶紧回去收拾一下吧，想一想投奔哪里的亲戚去吧。<br>老住持：我六岁来到这里，今年九十六岁，正好是九十年，从来就没有离开过金山寺，这么多年，我只知道做一天和尚撞一天钟，扫一天院子念一天经，我已经习惯了这里的生活，哪里还有什么亲戚家人，金山寺就是我的家。<br>法海：阿弥陀佛，出家人哪来的家？老住持，你刚才的神情，分明跟那大殿的佛一模一样，那是何意？<br>老住持：那是替你难过，金山寺不该大开杀戒，我们这些人到这里来，只是图个清静，你却引来血雨腥风，让我们连个和尚也做不成。<br>法海：住持，你在怪我收妖？<br>老住持：和尚有和尚的本事，你凭什么管人家的闲事？那许仙如何掠得？<br>法海：他妻是妖。<br>老住持：那是他的事，与你何干？<br>法海：他是人，怎么可以降格与那妖孽双栖双宿？<br>老住持：你说白素贞是妖，那我问你，什么是妖？<br>法海：妖就是妖。<br>老住持：那我要说你是妖呢？</p>
</blockquote>
<h3 id="第三十集"><a href="#第三十集" class="headerlink" title="第三十集"></a>第三十集</h3><blockquote>
<p>法海：妖就是妖。<br>老住持：那我要说你是妖呢？<br>法海：法海一心向佛，怎么可能是妖？<br>老住持：那金山寺一战，你可是得到佛祖的相助？<br>法海：法海心中有佛，我就是佛。<br>老住持：你不是佛，我佛慈悲，从不乱杀无辜，金佛滴泪，便是妖魔出世，许仙说的没错，你已成魔。<br>法海：你，你敢！<br>老住持：阿弥陀佛，所谓人与妖，只一线之隔，找到真情的人，成人入世，绝情绝爱的人，离世成魔。<br>法海：我不是魔！我不是魔！不是魔！我是佛！你别念了，别念了，我心烦，我不是魔，我不是魔，我不是魔，我不是魔！白素贞，你的死期到了，你的死期到了！<br>~<br>许仙：真没想到，姐姐竟和我娘子同一天生下孩子，真是太巧了。<br>李公甫：弟弟，这下可好了，你娘子和你儿子都平安了，也终于在一起了，来，这杯酒姐夫敬你们两个，希望你们从今后能平平安安的过日子。<br>白素贞：谢谢姐夫。对了，这杯酒我要敬姐姐姐夫，这些日子以来，我也给你们带来了不少的麻烦，我真的是过意不去，这杯酒就算我和汉文敬你们的。<br>许姣容：弟妹你太客气了，我们是一家人呢。<br>李公甫：来来来，喝。<br>小青：姐姐，你也少喝一点酒，不然对身体不好，啊？<br>白素贞：来，这杯，小青我也敬你。<br>小青：敬我？<br>白素贞：这杯你应该受的，这是我跟相公还有孩子一同敬你的。<br>小青：姐姐，你说你，敬我做什么？我也不会说什么话，算了，我喝了便是了。<br>许仙：你看，小青脸红了。<br>李公甫：是有点红。<br>小青：啊呀，我如今都懂得什么是情了，自然会脸红了嘛，姐姐，你光顾着孩子，也不管管你相公。<br>~<br>小青：姐姐，救星回来了。<br>白素贞：连翘！<br>~<br>白素贞：菩萨的点化之恩，我永世难忘，只可惜这次，我不能随她的愿了，来，连翘，喝碗汤。<br>连翘：白姑娘，我敬重你的为人，更羡慕你对许仙的死心塌地，可是，你是斗不过天的，那法海借着天理，一定要来收你的，之前你有文曲星保护，才容你回来产子，如今仙骨下凡，你也劫数难逃了，不如，你走吧。<br>许姣容：弟妹，你走吧，出去避一避，现在保命要紧啊。<br>李公甫：是啊，大不了等那和尚老了，糊涂了，到时候你再回来。<br>连翘：一定得走啊。<br>十天：白娘娘，你赶紧走吧。<br>白素贞：相公。<br>许仙：娘子，我想你走。<br>白素贞：相公。<br>许仙：娘子，我求你了，你快走吧，走是上策。<br>白素贞：相公，我……，相公，我知道你是为我好，我自然知道走是上策，可是，自从来到人间，一路上风风雨雨，一直走到了今天，我已经有了七滴眼泪，再找到一滴，我就能成仙了，我能千年万年的活着，所以，走是上策，可是，我偏偏选择了下策，相公，我要留下来，守着你和孩子，守着咱们这个家，至于那法海，既然去日无多，就让他来吧，我白素贞若有半点怕他，那就让我死无葬身之地。<br>许仙：娘子。<br>白素贞：相公，你成全我吧，让我做一个真正的女人吧。<br>~<br>许仙：娘子，娘子！娘子，娘子！<br>白素贞：你醒了，宝宝还在睡觉呢，来，拿着。<br>许仙：你早上一起来去哪里了？找不见你人，吓得我半死。<br>白素贞：急什么，我去找姐姐学针线了，想做几件衣裳。<br>许仙：你可真是天下最心急的母亲，孩子还不过百日，着什么急做衣服，以后有的是时间啊。<br>白素贞：我心急得很呢，恨不得呀，把他从小到大的衣裳都赶紧做起来。<br>许仙：娘子，告诉我，我能为你做些什么？有时我真觉得自己是个无用的男人，除了爱你，便一无是处。<br>白素贞：相公，你不是，你是世上最善良最痴情的男人，痴情是一个男人最大的本事，我看上你呀，真是顶高明的一件事了。<br>许仙：娘子，你是这世上最笨的女人，我是最痴的男人，你我在一处，还真般配。<br>白素贞：是啊。相公，你要依我一件事。<br>许仙：你说。<br>白素贞：如果万不得已，我必须走，我走之后，你要好好的活着。<br>许仙：娘子，这太难了。<br>白素贞：答应我，你若不答应我，我不安心啊。<br>许仙：好，我答应你，我活着，守着你的身也好，骨也好，反正要在一处的。<br>~<br>白素贞：不哭了，不哭不哭。<br>（许仙：娘子，我去药铺有急事，日落后尽早返回，外面在下雨，出门别忘了带伞。）<br>小青：姐姐，外面整条街都是木鱼声，啊？这是怎么回事啊？<br>白素贞：是那个和尚，不用理会，由他去吧。青儿，跟我来。<br>~<br>白素贞：青儿，你不是一直都想跟我比剑吗？那就来吧，今天，姐姐就奉陪到底。<br>小青：姐姐，你干什么？怎么平白无故的，想起来要比剑啊？<br>白素贞：没什么，只是想起第一次见你的时候，你想跟我斗法，当时我想，你真是个不知天高地厚的小青蛇。<br>小青：姐姐，我知道错了，我甘心情愿地做你妹妹，其实我早就知道，我是永远也赢不了姐姐的，真的。<br>白素贞：我一事无成，有什么资格做你的姐姐。<br>小青：姐姐。<br>白素贞：你随我来到人间，采集仙根，本想一同做快活的神仙，可是现在我非但没有帮你，却为了自己的儿女私情误你终身，我……<br>小青：不是的，姐姐，你不要那么想，姐姐，你是那么的好，那么的美，人间的女子哪个能比你更好？你和许仙，真的很般配，如同天造地设一般。姐姐，你这是干什么？说话呀你，这是干什么？<br>白素贞：这就是我白素贞的千年功力，难道不是你一直想要的吗？姐姐现在成全你，如果再不给你，恐怕以后就没有机会了。<br>小青：姐姐，你这是干什么，施舍吗？你根本就没有问过我想不想要，我虽然羡慕你有千年的道行，却从来没有想过，要把它夺为己有，这样的不劳而获，没有意思，姐姐，你放开我，放开我啊，不要！我不要！<br>白素贞：青儿，你看，到了最后，还是你赢了。<br>小青：你逼我的，姐姐，我也不想这样啊，我真的不明白，你为什么把功力传给我？难道你不想活了？法海来了怎么办？你准备跪在地上磕头求饶吗？你到底要怎么样？你告诉我，让妹妹我安心啊。<br>白素贞：我只是想和妖这个字来个了断，这些功力，是姐姐诚心诚意给你的。<br>小青：了断？你认为把功力传给我，就算是个了断？姐姐，你凭什么来决定我该得什么，又不该得什么？姐姐你太自私了，你未免也太自私了吧。<br>白素贞：是，我是自私，你说对了，我替你找到了一条生路，就像我强迫我的相公不死一样，你是我的妹妹，你必须按照我说的去做，成仙去吧，青儿，这是我们收集的七滴眼泪，还差一滴，便可以成仙了，姐姐现在就把它给你，离开这里，永远不要再回来。<br>小青：姐姐，你赶我走？这礼物太重了，我收不起。<br>白素贞：你听我说，青儿，安心收着，你只管离开这儿，永远不要重蹈我的覆辙。<br>小青：姐姐，青儿从三百年前就给你惹事，这次，愿意听你话了，我这就走，只是眼泪我不要，我不是白素贞，我既不想做神仙，也不想嫁与凡人为妻，我更不想明白眼泪的奥妙，我只想做一条简简单单的小青蛇。姐姐，南极仙翁当日曾许诺收我为徒，我现在就去找他拜师学艺，等我学成，我先杀死那法海，姐姐你信我，小青活一日，便有姐姐一日，我已决定，你不必再说了，现在就请姐姐你往高处站着，受我小青三个响头。<br>~<br>十天：白娘娘，你看，这鞋多合脚啊。<br>白素贞：是呀，等白娘娘有时间，再给你做一双。<br>十天：不吃师傅的草药，几天的工夫，就把草鞋撑破了。<br>白素贞：怎么样？现在长大了，长大是什么感觉呀？<br>十天：很累，有很多事情要想。<br>白素贞：你看你，年纪不大的人，心事倒还是挺多的啊。<br>十天：哎，对了，小青姐姐去哪儿了？<br>白素贞：她啊，她去拜师学艺去了。<br>十天：我想去找她。<br>白素贞：可是十天啊，拜师学艺是件很艰苦的事情，你真的想好了吗？<br>十天：想好了。<br>白素贞：好吧，你要真心想去找小青，我就让管家用船送你一程。<br>十天：白娘娘，我走了以后，你做事要小心啊。<br>白素贞：好，你放心吧。<br>连翘：十天，不是跟你说过了吗？白娘娘这些天有很多事情要做，不要来烦她。为什么要小青走？<br>白素贞：她一直在我的身边，重复我的生活也够了，不若放手，让她独自去闯荡，或许，比跟着我来的更精彩。<br>连翘：那，小青走了，我能帮什么忙吗？<br>白素贞：连翘，眼看孩子就要过百天了，那法海必定会来擒我的，不如你今天就跟我们一家人在一起，吃个团圆饭吧。<br>连翘：好啊。<br>~<br>白素贞：跟娘说说话喽，对吧？看看，看看你爹。<br>许仙：娘子，这么晚了，这孩子怎么还不睡啊？<br>白素贞：是啊，也不知道为什么，他今天特别爱笑，直瞪着大眼睛。<br>许仙：要不这样吧，我哄孩子睡觉，你先休息吧。<br>白素贞：不要了，你先睡吧，你累了一天了，明天还要早起问诊呢。<br>许仙：管家又给我安排问诊了？可明天孩子过百日，不行，我看推掉算了。<br>白素贞：你看你，是张伯，他老毛病又犯了，在家疼了几天，这几天越发严重了，我都替你答应了，你好歹过去看看，没事的，明天早去早回，不会耽误事的，对不对？<br>许仙：娘子，可是明天我想和你们在一起。<br>白素贞：相公，救人刻不容缓啊。<br>许仙：那好，娘子，你放心，我明天去去便回。<br>白素贞：睡觉喽。<br>~<br>李公甫：菜来了。<br>白素贞：真好，怎么这么热闹啊？<br>许姣容：弟妹啊，今天是两个孩子百日喜酒，这怎么汉文到现在还不见啊？<br>白素贞：刚才有个街坊病重，我看时间还早，就让他过去看一看。<br>许姣容：街坊病重？再重也没有老婆孩子重啊。<br>白素贞：姐姐，相公他这么做，也是想给我们母子俩多积些功德嘛。<br>许姣容：弟妹，不是我说你，可是你们现在，现在……，这孩子平时不爱哭的，今天怎么哭的这么厉害啊？<br>管家：白姑娘，白姑娘！<br>白素贞：管家，我不是让你去送十天了吗？<br>管家：哎呀。<br>~<br>许仙：怎么会心疼的这么厉害？<br>~<br>白素贞：你说什么？观音菩萨让我，让我走？<br>管家：哎呀，白姑娘，你还不相信我吗？我是渡人的神仙呀，观音大士她亲口对我讲，那法海已经成魔，你即便跑到天涯海角，都难逃他的金钵呀，但是观音菩萨念你对许仙的一片痴情，又已有七滴眼泪的功德，所以命我来渡你去南海暂避啊。<br>白素贞：暂避？<br>管家：是啊，观音大士的确是这样讲的呀，我想，她也不想拆散你们这么恩爱的夫妻吧。<br>许姣容：弟妹，有观音大士相助，你和汉文这对夫妻是做定了。<br>李公甫：是啊，只是暂避，又不是永远的不回来，弟妹，去吧。<br>连翘：是啊白姑娘，躲一时能换你们今后的好日子，别犹豫了，今天就算绑，我也要把你绑走。<br>管家：是啊，白姑娘，我的船就在外边，那个法海他就要来了，再不走就来不及了。<br>连翘：白姑娘。<br>李公甫：快走吧。<br>许姣容：走吧。<br>白素贞：连翘，我们曾经是敌人，为了同一个男人作战，正因为如此，我了解你的为人，今天我有一事相求。<br>连翘：白姑娘，有什么事你跟我说就好了，你这是做什么？<br>白素贞：求你替我照顾儿子。<br>连翘：为什么是我？<br>白素贞：你是一个好姑娘，一个女人若是可以那么忠心地爱我的相公，也一定会爱我的孩子。<br>连翘：好，我依你。<br>白素贞：谢谢。<br>许姣容：弟妹，快走吧。<br>管家：快点吧。<br>李公甫：是啊，走吧。<br>许姣容：快走吧。<br>连翘：来。<br>李公甫：哎呀，弟妹快走吧。<br>管家：管不了了，再不走，就来不及了。<br>李公甫：快走吧，快走，快走吧。<br>白素贞：不，我的孩子在哭呢。<br>李公甫：快走吧，来不及了。<br>白素贞：他在哭。<br>李公甫：快走吧。<br>白素贞：我还没有跟相公交代呢。<br>许姣容：走吧。<br>李公甫：快走吧。<br>连翘：孩子有我。<br>白素贞：姐姐，跟我相公说，让他等我。<br>~<br>许仙：我娘子……娘子！娘子！<br>~<br>白素贞：啊，我的孩子在哭，我听到我的孩子在哭。相公，是我的相公！<br>管家：哎呀，白姑娘，你别犯傻了，保命要紧呐，家里人会跟他说清楚的。<br>白素贞：不是，我只是想跟他说一声，这一去不知道何时才能回来，无论如何你让我下去跟他说句话。<br>~<br>许仙：娘子，你在哪儿啊？法海来了，你快跑吧。<br>~<br>白素贞：我只想叮嘱他一声，他这个人呆得很，下雨了，也不知道要带伞，管家，我求求你了。<br>管家：傻丫头，这都什么时候了，你还顾什么男女私情啊，上了我这条船，都巴不得永不回头，你倒好，如何叫我掉头呢？<br>白素贞：普渡大仙，管家，我求求你，谁说想要成仙来着？三百年前的白素贞，她现在已经死了，现在跪在你面前的，只是个平凡的女人，她是许仙的妻子，她不要做蛇妖，也不要做什么神仙，她只是一个离不开相公和孩子的女人，她太软弱，她要回家。<br>管家：渡人成仙这么多年，回头的，却只有你一个。<br>~<br>白素贞：相公，相公，你等一等啊，相公！我是素贞呐，你的娘子，相公！相公，相公，我回来找你了，你听不到我在叫你吗？相公。<br>许仙：娘子别相信他，他是坏人。<br>白素贞：法海，你如今又来这一套，你先用我的样子骗了我相公，如今又用我相公的样子来骗我，你好卑鄙！<br>许仙：娘子。<br>白素贞：相公，你站稳些，不要流泪，法海他以为他赢了，没有，赢的是我们，我们有的，他这辈子都无法懂，我想成仙，却做了人，他想成佛，却成了魔。我的好相公，在半步多初次相逢，我是蛇妖，你是书生，你救了我一命，我还你一生。<br>许仙：怎么就到了今天？这难道是天意，娘子？不，娘子，你不能走。你真的要走吗？是要出趟远门吗？<br>白素贞：一趟远门。<br>许仙：娘子可记得带伞？<br>白素贞：出门太忙，忘带了。<br>许仙：娘子，我这里有把伞，虽然有些破旧，将就用还好。<br>白素贞：法海，你不用收我，我自愿走进雷峰塔。许仙会老，会死，我会守在雷峰塔里，陪着他老，看着他死，我走之后，你一定要活着。<br>天上人间<br>来来去去<br>不害怕在一起怕的是分离<br>爱是天堂<br>不爱是地狱<br>爱恨总会让人刻骨铭记<br>谁又能轻易抹去<br>我爱上你痛在心里<br>爱上你就是爱上伤心的一千年的相依<br>我爱上你<br>无药可医<br>不顾一切爱上你<br>就算不能在一起心也永远相惜不分离<br>许仙：娘子，你流泪了，你爱我一生，这滴眼泪，因爱而成。法海，八滴眼泪，是生老病死，爱恨别离，听过人间有情这句话吗？人间真的有情，你却没有。啊！<br>~<br>法海：阿弥陀佛，白素贞，从今以后，你不得擅自离开雷峰塔，你只能在此渡过余生，除非雷峰塔倒，西湖水干，雷峰塔百步之内，非出家人不得擅入。<br>~<br>小沙弥：施主，你找谁？<br>许仙：我想出家。<br>小沙弥：你要出家？你不是有一个蛇妖娘子的许仙吧？<br>许仙：正是我。<br>小沙弥：施主你干什么？不是我不要你进来，而是住持吩咐过我们，不要放你进来，也不要让你出家。<br>许仙：你一定听错了，是他要我出家的，现在我人来了，他怎么却变了卦？<br>小沙弥：你还是走吧。施主，你干什么？<br>许仙：你放心，我不是要死，我娘子走的时候，曾经说过，她走的那日我要活，我只想出家。<br>小沙弥：你，你疯了不成？你干嘛？<br>许仙：告诉他，我要出家。<br>小沙弥：师傅，许仙疯了，师傅，许仙疯了。<br>~<br>法海：阿弥陀佛。<br>香客：多谢住持讲经说法。<br>法海：许仙，你留下来，贫僧有话要跟你说。许仙。<br>许仙：师傅，你忘了，我有法号的。<br>法海：你可以离开这儿了，你尘缘未了，不适合留在这儿。<br>许仙：师傅，你怕了，你怕了，法海，可是，还不够怕，我要你更怕。<br>法海：我怕什么？<br>许仙：你不光怕，你现在还在愤怒。<br>法海：我没有。<br>许仙：你有，你不光愤怒，你还恨我。<br>法海：我说了，我不恨你。<br>许仙：你有，你恨我，法海，你不但恨我，你还恨我娘子，你才是天底下最不应该出家的和尚，你满心是恐惧，满心是愤怒，满心是恨，还说什么四大皆空，我才是应该做和尚，我现在什么也不怕，不怕死，不怕你，也不怕离开我娘子，我心里也没有恨，也没有爱，我的爱跟着你那钵，已进了雷峰，所以我才是真正的四大皆空，我才适合做和尚。<br>法海：你到底想怎样？<br>许仙：请师傅让我去雷峰扫塔。<br>法海：我若是不依呢？<br>许仙：师傅曾说过，雷峰百步，非出家人不得擅入，我现在已是出家人，为何不能去？所以，请师傅让我去雷峰扫塔。<br>法海：原来你出家就是为了这个？真是笑话，我说了我不依。<br>许仙：请师傅让我去雷峰扫塔。今日说三次，师傅不依，我明日再说六次，我明日说六次，师傅还是不依，我后日说九次，一直说到我哑。<br>~<br>许仙：娘子，我来了，我来为你扫塔，你若是知道，可否应我？<br>许仙：娘子，你知道要下雨了，是想为我遮雨吗？娘子，我为你扫塔，从今以后，你在塔里，我在塔外，我没有违背我的誓言，我会一生一世对你好。<br>~<br>七百多年后雷峰塔轰然倒塌……<br>（全剧终）</p>
</blockquote>
]]></content>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
  <entry>
    <title>《白蛇传》观后感</title>
    <url>/2022/04/25/%E3%80%8A%E7%99%BD%E8%9B%87%E4%BC%A0%E3%80%8B%E8%A7%82%E5%90%8E%E6%84%9F/</url>
    <content><![CDATA[<p><img src="%E7%99%BD%E8%9B%87%E4%BC%A0.webp" alt="白蛇传"><br>总感觉自己跟这个人物有缘，而且本身也很喜欢白素贞和许仙的故事。看了看自己的博客，发现上次看新白娘子传奇时间是在2019年5月份，记得那时学校还在举办运动会，而我在寝室打开电脑看着这部剧。时间转瞬，来到了2022年四月份，被哔哩哔哩动画动画里的白蛇传镜头吸引了过去，依稀记得自己小时候在电视上看过这部，但是不完整，于是就补了一下。<br>这部白蛇传挺值得回忆的，在这里写一篇观后感，希望把自己看过的、所想的都记下来，而不是看过就忘记。感兴趣的话，就往下看看吧~~<br>快速导航：<br><a href="#%E7%AE%80%E4%BB%8B">简介</a> | <a href="#%E5%89%A7%E6%83%85%E6%80%BB%E7%BB%93">剧情总结</a> | <a href="#%E5%8D%8A%E6%AD%A5%E5%A4%9A">半步多</a> | <a href="#%E5%85%AB%E6%BB%B4%E7%9C%BC%E6%B3%AA">八滴眼泪</a> | <a href="#%E5%86%8D%E6%AC%A1%E7%9B%B8%E9%81%87">再次相遇</a> | <a href="#%E7%BB%93%E5%B1%80">结局</a> | <a href="#%E6%9C%80%E5%90%8E">最后</a></p>
<h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>《白蛇传》是中国中央电视台在2004年5月至9月间拍摄的一部基于民间传说“白蛇传”。该剧由吴家骀执导，冯媛、蒋媛担任编剧，李功达担任制片人，刘涛、潘粤明、陈紫函、刘小锋、刘希媛、谢宁主演的30集情感题材电视连续剧。<br>这部剧集保留了民间传说《白蛇传》中大部分基本人物和重要情节元素，但是更多的是对整个故事进行重新创作，故事围绕着人间的各种情感展开，其中着重描写了许仙（潘粤明饰）和白素贞（刘涛饰）的爱情。</p>
<h2 id="剧情总结"><a href="#剧情总结" class="headerlink" title="剧情总结"></a>剧情总结</h2><p>说起白蛇传，第一个想到的就是台湾播放的的92版新白娘子传奇，感觉算是白蛇传故事里讲的最全的一个，故事有始有终，几乎没给观众留有悬念，唯一有点悬念的可能就是不知道结局是悲剧还是喜剧吧。这次看的白蛇传，我想给这部剧分为两个部分：半步多、八滴眼泪。半步多的剧情是构建在许仙知道白素贞是蛇妖的基础上讲述的，许仙一直不想承认白素贞是蛇妖，而白素贞则是不想承认对许仙有情。八滴眼泪另起新意，解释了白素贞再次遇到许仙的起因，在这八滴眼泪的剧情中，白素贞承认对许仙有情，而许仙因为被无情槌阵击中的原因，忘记了曾经心爱的白素贞，但初次见面就一见钟情。</p>
<h3 id="半步多"><a href="#半步多" class="headerlink" title="半步多"></a>半步多</h3><p>央视版白蛇传是在92版新白娘子传奇的基础上二次创作，半步多就是追加的新设定。白素贞与许仙的相遇不再是报恩，而是源于半步多的偶然。依然是白素贞想要成仙受到观音点化，别出心裁的是，本作是观音找的白素贞，并赐予内丹，让其寻得仙剑：白乙剑。</p>
<blockquote>
<p>华阳真人：你果然厉害，剑是你的了<br>白素贞：多谢真人成全<br>华阳真人：本该如此，起来吧你的白乙剑是姐姐，这青虹剑是妹妹，姐妹同心，如今姐姐要走，妹妹哪有不追的道理<br>观音：这样就周全了，仙丹服了，仙剑也寻着了，我也该点化你了俗话说，一诺重千斤，你可有诺于人，未曾兑现<br>白素贞：啊，弟子知道了，当年我镇那青蛇在西湖之下，曾对她说过，莲花满湖之日，必是她出世之时<br>观音：莲花满湖？三百年，会不会太久？<br>白素贞：只要能成仙，就算让白素贞再等上一千年，就算等得雷峰塔倒，西湖水干，我也会等下去<br>观音：只要三百年，到时候，你了结了一切俗事，就来半步多客栈等我，我自然会点化你成仙<br>白素贞：半步多？<br>观音：嗯</p>
</blockquote>
<p>三百年后，前往宝芝堂学徒的书生许仙，在洛水镇遇到大胡子刀客八两。两人跟随法海误入人妖仙三界之间的“半步多”，与急于积累功德成仙的白素贞、小青姐妹和捉妖和尚法海不期而遇。<br>白素贞和小青因在洛水镇行雨闯下大祸，失去了得道成仙的机会，观音只好让其再回魔道另作打算。许仙和大胡子看到白素贞和小青施法离开，大胡子便施法跟了上去，因法力不精，落入水中，被船家普渡大仙所救，而此船正式白素贞和小青准备乘坐去往魔道之船，因缘巧合之下，四人在魔道正式相遇。<br>白素贞和许仙第一次交谈（看画心得）</p>
<blockquote>
<p>白素贞：这是小女子初到钱塘时，路过雷峰宝刹，一位画匠师傅给我画的画，公子刚才摇头可是哪里有不妥啊？<br>许仙：我方才看到这幅画，只是有一个问题想不清楚，这么美的景色，怎么反倒让姑娘你落落寡欢呢？<br>白素贞：是啊，人们都说钱塘美，只有蓬莱瀛州这些神仙圣地可比，到了这么美的地方，我却一直想着自己的夙愿，不免有些忧伤罢了<br>许仙：我明白了<br>白素贞：你明白？你连我的夙愿是什么都不知道，你怎么会明白呢？</p>
</blockquote>
<p>吃饭时，许仙因看到白青二人不会使用筷子，讲起了筷子的心得，饭局不欢而散。<br>饭后，许仙来到白素贞窗外，对屋内的白素贞道歉</p>
<blockquote>
<p>许仙：白姑娘，不知道你休息了没有？我只是，只是<br>小青：又来了<br>许仙：我，不知道该怎么跟姑娘你说，我是特地来跟姑娘道歉的，就是，就是我，我今天，今天做了一件傻事，就是，就是刚才在吃饭的时候，那双筷子的事，那双筷子的事，有点傻我道歉的话也说完了，我也安心了，那白姑娘我现在就先回去了，对，我现在回去了<br>小青：姐姐，我真的搞不懂这些男人，你说，先是故意找你的麻烦，现在呢又跟你赔礼道歉，真是的<br>白素贞：不过这书生倒不像我以前见过的那些男子，一个个装腔作势，心里想的一样，说出来的又一个样子</p>
</blockquote>
<p>这里关于许白的对话，都挺好的，摘抄几段</p>
<blockquote>
<p>白素贞：你干什么？<br>许仙：我刚才在花园里散步<br>白素贞：三更半夜的，在花园里散什么步？<br>许仙：我，我看，看月亮<br>白素贞：看月亮？<br>许仙：我，看<br>白素贞：你们家乡的规矩，离姑娘说话这么近的吗？<br>许仙：造次，造次，刚才得罪姑娘了姑娘的手怎么冷得像冰啊？<br>白素贞：我从小生了一种怪病，身子奇冷，看过很多郎中，都没有什么用月亮就这么好看吗？<br>许仙：月亮当然好看，可是有关月亮的故事我却不太喜欢<br>白素贞：又有故事？你的故事还真多呢<br>许仙：姑娘，你知道嫦娥的故事吗？<br>白素贞：嫦娥有什么不好吗？她求得仙丹，飞上天宫，做了神仙啊<br>许仙：不对不对，虽然嫦娥飞天做了神仙，但是她形单影只，只能一个人留在广寒宫和玉兔为伴，如果她当初留在后羿身边的话，现在一定是男耕女织，生了一大堆的孩子，逍遥自在，快乐无比<br>白素贞：我倒不这么觉得，让那倾国倾城的嫦娥，一个人守在破茅屋里等着后羿回来，洗衣做饭，纺线织布，日子周而复始，不比泡了十年的米还乏味吗？<br>许仙：姑娘错了，泡了十几年的米一定会酿出一坛好酒，酒香四溢，泡得越久就……，姑娘，既然体寒，你为什么还要光着脚呢？<br>白素贞：我刚才出来急了，所以忘记了<br>许仙：姑娘在这里等着，我替姑娘回去把鞋取回来，夜路不好走，小心把脚划伤，姑娘你别动，你千万等我回来</p>
</blockquote>
<p>这段描写中，白素贞认为嫦娥的故事很好，因为这正是自己一直想要的，只是此时的白素贞还不理解情为何物。<br><img src="%E7%99%BD%E8%9B%87%E4%BC%A02.png" alt="白蛇传2"><br>白素贞和小青为救许仙和大胡子两人与魔君拼命，白素贞受伤，被许仙看到，许仙在此时流下了两滴眼泪，这两滴眼泪救了白素贞一命。这是一种侧面描写吧，许仙很关心白素贞。<br>半步多客栈，小青戏弄法海，许仙过去道歉，法海告诉许仙白素贞是千年蛇妖，还给了他观音图。</p>
<blockquote>
<p>小青：那和尚恐怕告诉你我们两个是妖吧<br>许仙：没有，和尚没有说你们是千年蛇妖<br>白素贞：说了就说了，公子何必替他掩饰<br>许仙：姑娘你误会我了，其实我怎么会觉得你是妖呢，我要是心里真觉得你是妖，就让我天打雷劈</p>
</blockquote>
<p>结果还真就打雷了，白素贞因此生气。</p>
<blockquote>
<p>白素贞：公子要真相信我们姐妹是妖的话，大可不必跟着我们，吃完这顿饭之后，我们各奔东西好了<br>许仙：好，好，好，我承认，那个和尚确实跟我说你们是蛇妖，可是我的心里，却真的没有这么想过啊<br>白素贞：哼！<br>许仙：你哼是什么意思<br>白素贞：前后矛盾，还说心里没鬼<br>许仙：哼！<br>白素贞：你哼什么<br>许仙：难怪姐夫说女人都是无理取闹，要不是怕你不高兴，我怎么会说谎呢？要不是怕你不高兴，还不是因为我……<br>白素贞：你，你什么<br>小青：大胡子，他们两个在干什么呢<br>八两：男人和女人吵架没见过？<br>小青：见过，但是我们那儿吵架可不是这么吵的<br>八两：小青姑娘，那你们那儿是怎么吵的？<br>小青：我们那儿啊，吵架都是真刀真枪的比划<br>八两：还是你们那儿吵架好，不像我们这儿，整天两个人吵来吵去的分不清谁对谁错，哼，无聊得很<br>白素贞：你干什么<br>许仙：那和尚说你体寒如冰，是千年蛇妖，不如你让我替你诊断，然后对症下药，病治好了，那和尚就不会乱讲话了<br>白素贞：你要是信我，又何必在乎别人说什么，所谓治病，不过想证明给别人看，又有什么意思。小青，我们走<br>许仙：大胡子，我们分开走比较干净，省得她们看着碍眼<br>~<br>许仙：小青姑娘，来，来<br>小青：你来这里干嘛？<br>许仙：你姐姐还在生我的气？<br>小青：生你的气？你以为你是谁啊？想当初我犯了大错，你看姐姐她也不过只是笑了一笑，你一个凡夫俗子，想让她为你生气，你呀，别臭美了<br>许仙：我知道是我不好，那和尚欺负你们，我还跟他说话，也难怪你姐姐不高兴，不过，你放心，我现在已经有办法让那个和尚低头认错，只要过了今晚，一切就都好了，以后再也不会有人说白姑娘是妖了<br>小青：你说什么今晚？今晚会怎么样？姐姐<br>白素贞：你有话对我说？<br>许仙：我，我没有<br>白素贞：青儿，把这伞还给公子<br>小青：噢<br>白素贞：连嚼舌根人的吐沫都挡不住，怎么能挡得住风雨呢？我们只能送到这里了，接下来的路还很长，许公子就多加小心吧，其实和尚说的没有错，这世上迷惑人的东西太多，千万别被表面东西诱惑，书生你是好人，只可惜耳根子太软，总以为这世上的人都可以相信，这世上的一切都要用善心相对，书生保重吧，自求多福</p>
</blockquote>
<p>阴差阳错，许仙抄了观音心经，观音图也挂于白素贞床前，助了法海收妖。白素贞被观音童子打伤，许仙为救白素贞，承认了自己不想承认的事实：</p>
<blockquote>
<p>老酒仙：到了，这就是我的老朋友，他是天下所有铁树中最老的一棵，人称铁树仙人老朋友，出来见个面吧，我这次要出个远门，未准再能回来了<br>铁树仙人：臭老头，说话不算数，我是不会为凡人开花结果的。你，你还带着两个后生来烦我<br>老酒仙：只此一次，决没有下回了。这老头倔得很，要想让他为你们开花，你就得做一件事情让他动情，后生，常言说得好，眼为情苗，心为欲种，想要这老铁树拔苗开花，就盯着他的眼睛，说一些让他动心的话<br>八两：兄弟，他刚才说盯着谁的眼睛？什么，说，说什么呢？说什么呀？<br>许仙：说什么都行，说你自己的心事，说你身边的亲人，只要能让他动心就行<br>铁树仙人：好了好了，后生，哪儿来的回哪儿去吧，不要罗嗦浪费时间了，我决不会为你们动心开花的，回去吧<br>许仙：就一个时辰了，怎么才能打动他呢？<br>八两：兄弟，你别着急铁树仙人，那你就听听我这个，我这个从来没向别人讲过十年前，我在江南一带，也是一个有名的捕快，娶了亲，生了个女娃娃，我这一生视恶如仇，总以为跟着师傅斩妖除魔才是正道，甚至为了我手里这把大刀，抛妻舍子，师傅曾经跟我说过，只要走上这条路的刀客，是不能有感情的<br>铁树仙人：罗嗦了半天，你终于说完了？<br>许仙：我无意冒犯老人家，可是大胡子讲了这么多的心事，句句发自肺腑，动之以情，你又何苦作贱他呢？<br>铁树仙人：你这个后生好生的无理，竟敢对我大喊大叫，我在世上看多了世间的男男女女的生死离别，哪一次不是惊天动地、痛不欲生，像他这样的男人，不知道珍惜自己的妻子儿女，等到失去了，才在这儿假惺惺的做态，有什么意思<br>许仙：我不允许你羞辱我的朋友，他的痛苦你又没有感受过，你只是一棵铁树，你又怎么了解世间男女的感情呢？<br>铁树仙人：臭小子，你说我不懂感情，我若不懂感情，这世间就没人懂感情了<br>许仙：既然你懂，你为什么还死守着这棵枯树不肯开花，你知不知道你只要一开花，就能救多少的性命，能让多少爱人重新在一起<br>铁树仙人：你也承认，我这千年的铁树花能成全你们这些微不足道的男女私情了？你看看你多自私，为了救自己的女人，硬逼着一个老头子，破了千年的规矩，为你们开花<br>许仙：她不是我的女人<br>铁树仙人：那她是谁？是谁？<br>许仙：别逼我，我不想说<br>铁树仙人：是谁？<br>许仙：白素贞，一个蛇妖，千年蛇妖<br>八两：兄弟，你是什么时候知道的？<br>许仙：见她第一面，我就知道了你们都以为我呆，千方百计地瞒着我，其实我心里早就有数了<br>铁树仙人：很久很久以前，有棵铁树妖爱上了一个人间女子，很快他们就成亲生子，可是有一天来了一个神仙，点化了铁树妖，告诉他只要再开一次花就能成仙得道，铁树妖一心成仙，可是又舍不得自己的娇妻爱子，他是左右为难，彻夜难眠哪，他的娘子看着自己的相公如此的痛苦，索性抱着儿子投了湖，从此以后，铁树妖守着自己的妻儿的墓，永不开花<br>许仙：铁树仙人，你为什么会动情呢？<br>铁树仙人：傻小子，这要问你呀，要不是你，我也不会想起那么久远的事情，我与其死守着妻儿的墓不放，还不如做件好事成全你的心把花拿去吧</p>
</blockquote>
<p>这段关于铁树妖其实写的挺好的，又是一段悲惨凄凉的故事。</p>
<blockquote>
<p>小青：姐姐，我真的不明白，你光想着别人，怎么不替自己打算？要是你把仙丹给了别人，那你不是就，不就成不了仙了吗？<br>白素贞：你以为有了仙丹就能成仙吗？<br>小青：可是，起码，起码还有希望嘛<br>白素贞：一个五百岁的老人，为了救我抛下自己的性命不要，一个千年的树仙，为了救我舍下自己的妻儿不顾，而我一个蛇妖，成不成仙又算什么呢？我已经决定了，只要能救他们出去，陪上命我也认了</p>
</blockquote>
<p>在许仙救了白素贞后，白素贞想要成仙的欲望不再那么追求了，这就是放下吧。<br>法海在半步多客栈大开杀戒，白素贞与法海斗嘴：</p>
<blockquote>
<p>法海：青蛇，还不跪下来受死<br>小青：臭和尚，你想收了我？那好啊，只是麻烦你，先问问我姐姐答不答应<br>许仙：白姑娘<br>白素贞：和尚，再好的性子，也禁不起你这般耍呀<br>法海：怎么可能呢？你怎么能逃过观音童子的玉佛珠？你受了玉佛珠的穿心之苦，一天一夜，早该精气尽散，元神尽灭了<br>白素贞：想必是你师傅觉得你太笨了，留了张假观音图给你，真可怜，这么大个子，还被师傅骗<br>法海：师傅不会骗我的，许施主只要彻夜抄那观音心经，那童子就会显灵来收你的<br>白素贞：心经是给有心的人读的，你连心都没有，还读哪门子心经？<br>法海：不可能！一定是那许仙少抄了一节，哪节呢？不可能，我法海不可能收不了你，佛祖更不会骗我<br>白素贞：法海，你没错，只是佛祖忘了告诉你，我虽然是妖，却受过观音菩萨点化，离正果只差一步你不分善恶，收妖无度，这巴掌算我替佛祖赏你的</p>
</blockquote>
<p>这场比试中，白素贞的白乙剑断了。<br><img src="%E7%99%BD%E8%9B%87%E4%BC%A03.png" alt="白蛇传3"><br>这段拍摄的很讽刺，法海因急于收妖，误认一个五岁小孩是妖，想要收了他，小孩对着法海的金钵笑着，结果法海失败了，小孩确实是人。</p>
<blockquote>
<p>法海：不，不可能的，我的法眼不会骗我的<br>小豆子：大和尚，你真的搞错了，我娘虽然是妖，可是我爹却是个人，我是我娘十月怀胎所生，我真的是人<br>法海：啊！<br>许仙：他，他<br>小青：他被收了法眼<br>白素贞：违背天意，就要受到处罚，这和尚一意孤行，这是必然的下场</p>
</blockquote>
<p>无情槌阵，许仙的再次表白：</p>
<blockquote>
<p>许仙：这是什么地方？<br>白素贞：这是你们必须经过的地方，无情槌阵<br>许仙：无情槌？<br>白素贞：这些孩子手里拿的就是无情槌，凡是进过半步多的人，回到人间就必须忘了这里的所听所见，这无情槌打在头上，你自然就会忘了这几天发生的一切<br>许仙：也忘了姑娘吗？<br>白素贞：也忘了我<br>许仙：有没有什么办法可以，可是我想<br>白素贞：你必须忘了我们<br>许仙：可是我们是朋友，忘记朋友是不义，我不能做不义之人<br>白素贞：哪有你这样的朋友？你们读书人不是常说君子之交淡如水吗？可是我跟你做了不到几天的朋友，已经落得家不能归，连命都差点赔上的地步，我看你这个朋友不做也罢<br>许仙：白姑娘，我既然害得你无处安身，那你不如跟我一起走，我虽然是个没大用处的男人，但是至少我读过几年书，只要我在宝芝堂好好干活，我就一定能养活你和小青姑娘<br>白素贞：你养活我和小青？我是你什么人啊？为什么要你养活？<br>许仙：我娶了你，你不就是我娘子了？<br>白素贞：你娶我？你可知道我……<br>许仙：我知道<br>白素贞：你真的知道？<br>许仙：我知道。</p>
</blockquote>
<p>分别前的最后一顿饭，鲤鱼精一家三口向白姑娘一行人道谢：</p>
<blockquote>
<p>小豆子：爹，你瞧，就是他们，就是这些大哥哥大姐姐救了我和娘亲<br>俞七郎：各位，多谢救命之恩多谢多谢，多谢救命之恩啊<br>白素贞：快起来，快起来，这也没什么，你娘子和我们本是同类，哪有见死不救的道理？只是你留他们孤儿寡母在这里独居，总不是办法呀<br>鲤鱼精：白姑娘请放心，这次相公来了，就再不走了，我们决定一起在这半步多住下，求一个安身之地<br>白素贞：你不打算回魔道了？<br>鲤鱼精：我不回去了，那里曾经是我的家，可是现在没有相公和儿子，又算哪门子的家呢？<br>八两：这位大哥呢？也不回人间了？<br>俞七郎：不回了，比起失去妻儿的痛苦，回不回家，做不做人，又算得了什么各位，告辞了，告辞，孩子，我们走</p>
</blockquote>
<p>但是最后，鲤鱼精一家三口没有履行自己当时的承诺，他们再次来到人间，并被法海强行拆散，俞七郎因怨恨法海，留下了一滴白素贞成仙所需要的眼泪。<br>因听了鲤鱼精一家三口的话，许仙也想留在半步多，想要偷偷烧掉登船符，结果被小青发现，许仙也在这时说出了自己想要的生活：</p>
<blockquote>
<p>许仙：那个鲤鱼精的相公说得没错，比起失去自己真心喜欢的人，回不回家做不做人又算得了什么。我已经想好了，我打算留下来，我虽然没有什么本事，但是还好我读过几本书，采采草药，教教私塾，替人代写几封书信，至少还可以养家糊口，如果攒了钱，我要给你姐姐盖一间和你们魔道一模一样的房子，再开间药铺，白天给人家看病，晚上，烧一壶小酒，做几个小菜，再剥几个莲蓬，仰起头还能看见满天的星星<br>白素贞：没有什么星星没有星星，这半步多的天上怎么会有星星呢？一到了晚上，这里就是漆黑一片，那些星光，早就被魔道圣君给吸光了什么星星，那大概是只有你们人间才有的玩意儿吧，我们这些做妖的，也不会稀罕看天上那些神仙住的宫殿，星星，那不过是些会发光的石头罢了<br>许仙：我，我为什么不能留下来？就像那鲤鱼精的相公一样<br>白素贞：你怎么到现在还不明白？我们跟他们不一样，他们为了在一起，一个永世不能为人，一个千年不可做妖<br>许仙：我，我宁愿永世不能为人<br>白素贞：你要不要做人是你的事，但我不要，我要的是得道成仙，千年修炼的苦楚，你这辈子都没有经历过，我历尽艰辛，才得到观音菩萨所赠的仙丹，还有华阳真人亲手铸造的白乙剑，我只求有朝一日可以脱离魔道，早日修成正果。可是为了救你们两个误入魔道的人，仙丹没了，仙剑也断了，我还被玉佛珠穿心，几乎丢了性命，我付出了那么多，只是为了一个书生和大胡子能够早日回到人间去，娶妻生子，过着本属于你们人的生活可是现在，你却告诉我，你要留下来，你到底明不明白，我不要跟你剥什么莲蓬，看什么星星，我只希望能够尽快把你们送回去，然后再找一个地方，好好修炼，重新来过，希望有朝一日能再感动菩萨，来助我成仙</p>
</blockquote>
<p>这也算是白素贞对许仙的明确拒绝了吧。百科上说初次在半步多的相遇，说只是当时身为蛇妖的白素贞，还不能理解情为何物，我不赞同。</p>
<blockquote>
<p>八两：兄弟，赶紧睡吧，明天什么都忘了<br>许仙：白姑娘，你没有见过星星，怎么知道自己不要那样的日子哪<br>八两：走吧<br>许仙：白姑娘，你多少给我一个机会，和我一起看完星星你再做决定也不迟啊<br>小青：傻小子，你又在说什么梦话呀，姐姐不是跟你说了吗，这里星光早就被魔道圣君给吸干了，半步多呀是没有星星的<br>许仙：白姑娘，你要相信我，今天晚上在芦苇荡，我会让你看到满天的星星<br>八两：二位姑娘别见怪啊，我这兄弟是个痴人，走吧，走吧兄弟，走吧<br>许仙：大胡子你别拽着我，白姑娘，今天夜里三更天，在芦苇荡等我，你一定要来啊<br>小青：姐姐，那个书呆子八成是疯了，你不会真的三更半夜去芦苇荡吧？<br>白素贞：自然不会去，连我都做不到，他一个凡人</p>
</blockquote>
<p>白素贞跟书呆子一样，也疯了，真的三更半夜去了芦苇荡。</p>
<p><img src="%E7%99%BD%E8%9B%87%E4%BC%A04.png" alt="白蛇传4"><img src="%E7%99%BD%E8%9B%87%E4%BC%A05.png"></p>
<blockquote>
<p>白素贞：许仙，许公子，我真是跟他一起发疯了，三更天跑到这种地方来<br>许仙：白姑娘请留步<br>白素贞：许公子，你躲在里面干什么？<br>许仙：姑娘别过来，姑娘只站在那里就好，只要一会儿的功夫，我保证姑娘可以看见人间夜里的美景，满天的星星<br>白素贞：许公子，公子你去哪里啊？公子要是再不出来我就回去了，你三更半夜骗我出来，还要我傻站着让你这样打趣。我真的回去了。你是怎么做到的？<br>许仙：白姑娘，你看到了吗？<br>白素贞：我看到了<br>许仙：那就好，虽然不是很像星星，但是我已经尽力了白姑娘，白姑娘你还在吗？<br>白素贞：我还在<br>许仙：你喜欢吗？我还是不能留下来吗？我还是要走对不对？我要是走了，就要经过那无情槌阵，经过那里，就会把以前的事情都给忘了，对不对？忘了的意思就是说，即便以后我在街上和姑娘你擦肩而过，也只能形同陌路，还是，我们以后再也无法见面白姑娘，白姑娘<br>白素贞：明天一早就要上路了，我就不送你们了，多多保重吧该说的，我刚才在园子里都已经说过了，我必须送你们走，这是我修炼的一部分，观音大士说过，我必须多做善事，才能弥补我的过错，才能重新得到成仙的机会。今晚的星星很美，谢谢你<br>许仙：白姑娘不用再说了，许仙已经明白了，白姑娘赶快回去吧，天冷，小心受了风寒<br>白素贞：那公子你呢？<br>许仙：我，我还想一个人再待一会白姑娘<br>白素贞：什么？<br>许仙：希望姑娘不要忘了我的名字<br>白素贞：怎么会呢？许配的许，神仙的仙</p>
</blockquote>
<p>白素贞重情重义，许配的许，神仙的仙牢牢地记在她的心里。<br>半步多分别时，白素贞最后的倔强：</p>
<blockquote>
<p>白素贞：青儿，现在什么时辰了？<br>小青：按说，书生和大胡子已经上路了<br>白素贞：怎么会这么快呢？<br>小青：怎么没有啊？恐怕现在应该到了无情槌阵了，不知那书生头上挨了几槌子了，本来就已经呆得厉害了，这要再敲上两下，会不会真的变成傻子啊。姐姐，你干嘛去啊？<br>白素贞：天热得很，我去找把扇子扇扇风<br>小青：可是，扇子在你手上啊<br>白素贞：真的？我没太在意<br>小青：喂，姐姐，你又要去哪儿啊？<br>白素贞：书生的伞忘带了，我给他送过去<br>小青：姐姐，人家都已经上路了，你还送哪门子伞哪再说了，那把伞那么破，就算真的给人家，谁会稀罕它呀<br>白素贞：再破也是自己的东西，掉了怪可惜的，还是给他送过去吧<br>小青：姐姐，你何必为这把伞白跑一趟，你别忘了，他们会路过那个无情槌阵，这无情槌阵一过，他们知道我们是谁啊，更别说这把破伞了，对不对？<br>白素贞：哎呀，你看，天快要下雨了，这伞我还是送过去吧<br>小青：姐姐，你说什么呢，你看清楚了，现在外面晴天白日的，怎么会下雨呢？姐姐还是进屋歇着吧，好吗？<br>白素贞：可是我，我<br>小青：姐姐，你到底怎么了？<br>白素贞：我，我这是怎么了？</p>
</blockquote>
<p>说真的，如果不是小青阻止，白素贞真的会与许仙见面，很要可能承诺会在人间再次相见。</p>
<blockquote>
<p>许仙：小青姑娘，小官，麻烦停一下小青姑娘，小青姑娘，白姑娘呢？<br>小青：许仙，姐姐让我把这个交给你呀，接着<br>许仙：小青姑娘，白姑娘有没有什么话留给我？<br>小青：有，你听好了，姐姐要我告诉你，她说，一路上<br>许仙：什么？你大声点，我听不见<br>小青：许仙，你听好了，姐姐说你一路上可千万不要回头，不管谁叫你，都不要回头，只要不回头，就不会被无情槌打中了，记住了<br>许仙：小青姑娘，什么回头？我真的听不见，你大声点好不好？<br>小青：许仙，你到底听见没有啊，油纸包里的东西，被姐姐施了法术，姐姐说，在危难之时，只要把伞撑开，便可救你们一命，听见了没有？管他听清楚没有，反正我已经把姐姐的话都带到了，不管了，我走了</p>
</blockquote>
<p>这里小青明显有些不负责任，姐姐让带话，也不管对方听没听清楚，反正话是带到了。<br>无情槌阵，许仙和大胡子顺利到了最后下船，期间大胡子都提前祝贺许仙，让许仙提前筹备喜事啦<br>就在去往人间时<br><img src="%E7%99%BD%E8%9B%87%E4%BC%A06.png" alt="白蛇传6"><br>法海变作白素贞骗许仙回头，并使他忘了“半步多”的一切，忘了心中所爱白素贞。<br><strong>到此，半步多的故事就算结束了。</strong>央视版白蛇传总共用了六集来描写半步多的故事，接下来就是八滴眼泪的剧情了。</p>
<h3 id="八滴眼泪"><a href="#八滴眼泪" class="headerlink" title="八滴眼泪"></a>八滴眼泪</h3><blockquote>
<p>观音：白素贞，此时此刻，你听到了什么？<br>白素贞：我，我不知道，我只是感觉他们都在说话，都在讲自己的故事，这是我以前从来没有过的感觉，我<br>观音：想到了什么？<br>白素贞：我想，我想，哭？<br>小青：姐姐，你胡说什么，我们是妖，妖是不会哭的<br>白素贞：难道，难道菩萨所说的要我找魔道和天庭都不会拥有的至情至善的宝贝，就是凡人的眼泪？可是凡人的眼泪，又有什么了不起呢？他们的眼泪怎么会成为天上诸神的仙根呢？<br>观音：这就是成仙的秘密了，如果我现在就跟你说明白，你还悟的什么道，成的什么仙<br>白素贞：菩萨的意思是，我还有成仙的机会？可是我的仙丹给别人了<br>观音：你为了救人，坏了那仙丹的灵性，不过，这枚仙丹我倒是可以替你补上<br>白素贞：可，可我的仙剑也断了<br>观音：是啊，这次是为了……<br>小青：姐姐是为了救我，要不是那和尚在半步多大开杀戒，姐姐她怎么舍得把那仙剑弄断呢？<br>观音：剑断了，倒是也可以重铸<br>小青：姐姐，你听见了没有，菩萨说了，仙丹可以再给你，剑断了可以重铸，那姐姐你有希望成仙了<br>白素贞：是呀，菩萨这么说我就放心了<br>小青：这是什么？<br>观音：拿好这个葫芦，装满人间的八滴眼泪，到那个时候，你自然就能得道成仙了<br>白素贞：人，不是经常流泪的吗？我想要收集人的眼泪，并不会很难，素贞感谢观音菩萨的指点，请观音菩萨静候佳音<br>观音：只怕你把这事情看得太轻了，所谓成事在天，败事由人，难道如今这浅显的道理还不清楚吗？<br>白素贞：菩萨的意思是……<br>观音：天机不可泄露，你们去吧</p>
</blockquote>
<p>装满人间的八滴眼泪，到那个时候，你自然就能得道成仙了。这是菩萨给白素贞的承诺，故事最后，八滴眼泪收齐了，但是白素贞自愿走进了雷峰塔。</p>
<blockquote>
<p>白素贞：菩萨？<br>小青：姐姐，你怎么了？做梦了？<br>白素贞：是个奇怪的梦<br>小青：是吗？我也是，奇怪的很<br>白、小青：南海滴泪宫？<br>白素贞：你也梦到了？<br>小青：嗯姐姐，你看你手里<br>白素贞：葫芦？有什么事吗？<br>胖掌柜：白姑娘，今天天还没亮，有位妇人在柜上给您存了一样东西，说是一定要亲自交到姑娘的手上，给<br>白素贞：她是怎么说的？<br>胖掌柜：她说，她说这件宝贝已经送给姑娘一次了，希望这次不要辜负了她的一番情意<br>白素贞：谢谢您了<br>胖掌柜：不用不用<br>小青：姐姐<br>白素贞：拿着菩萨果然没有食言<br>小青：姐姐，现在我们该怎么办哪？<br>白素贞：去做人</p>
</blockquote>
<p>八滴眼泪的故事由此开始。<br>过度篇福来客栈中，白素贞用手帕给许仙包了银子，这个手帕不知有没有什么深意。<br><img src="%E7%99%BD%E8%9B%87%E4%BC%A07.png" alt="白蛇传7"><br>白素贞来到人间做人，服装设计风格变了，制作组很用心。</p>
<h3 id="再次相遇"><a href="#再次相遇" class="headerlink" title="再次相遇"></a>再次相遇</h3><blockquote>
<p>小青：姐姐，外面下雨了，你过来看哪<br>白素贞：哎呀，真的下雨了，还好我们刚才把普渡大仙的梦卷都读完了，不然被雨一淋，连梦里都要淋的落汤鸡了这人间，竟这般美呀<br>小青：好漂亮<br>白素贞：前面就是清波门了，我们不如在那儿安顿下来，然后，然后……<br>小青：你在看什么哪，姐姐许仙？姐姐，那站在桥头的不是许仙吗？<br>白素贞：可不是他吗？许配的许，神仙的仙</p>
</blockquote>
<p><img src="%E7%99%BD%E8%9B%87%E4%BC%A08.png" alt="白蛇传8"><br>白素贞在船上再次看到了许仙，心情应该很激动吧，许配的许，神仙的仙。只可惜，此时的许仙被那无情槌当头一棒，打得什么都忘了。</p>
<p>许仙和白素贞在船上相见，许仙对白素贞一见钟情。<br><img src="%E7%99%BD%E8%9B%87%E4%BC%A09.png"><img src="%E7%99%BD%E8%9B%87%E4%BC%A010.png"></p>
<blockquote>
<p>小青：姐姐，没那么简单就要你认输了，让我来再好好试试他<br>白素贞：不要胡来<br>小青：公子，你看，外面的风和雨真的下得很大<br>许仙：是啊，无缘无故的就下起雨来了<br>小青：如果风雨下得太大的话，下个不停可是要成灾<br>许仙：但愿不会，否则的话百姓就该遭殃了<br>小青：要是风大雨大无处去，又被老船夫捡到船上，那说不定会到了本来不该去的地方<br>许仙：姑娘说不该去的地方是哪儿？<br>小青：这位公子是否听说过一间客栈，名叫半步多？<br>许仙：我是个穷书生，没有多少银子，我一路上只借柴房落脚，住不起客栈的<br>小青：公子你看，那边那个和尚，你看到了吗？<br>许仙：想必那是下山化缘的僧人，忘记带伞，僧袍都淋湿了姑娘你饿了？<br>小青：你真快气死我了，我让你忘记，我让你忘记，我让你忘记，我槌死你<br>许仙：姑娘，你这是为何呀？<br>白素贞：公子不用惊慌，我妹妹赶蚊子呢<br>许仙：赶蚊子？<br>白素贞：青儿！公子请坐你呀<br>小青：姐姐，那天我明明跟他说得很清楚的，他怎么就那么笨呢？到头来还是被那个槌子给打中了<br>白素贞：他只是个凡人，难道不真指望他能躲过老天的安排？<br>小青：既然姐姐已经知道结果了，那干什么还要费心地教他过那个无情槌阵的决窍呢？<br>白素贞：我不知道，也许是他们凡人的生死离别，让我一时不适应吧<br>小青：那他呢？姐姐打算如何？<br>白素贞：我的打算里，可没有他，一次短暂的重逢而已，只可惜相见竟成陌路</p>
</blockquote>
<p>期间白素贞表情也很到位，充满着期待，只可惜，许仙是真的把半步多的事情忘得一干二净了。</p>
<blockquote>
<p>小青：没事，别担心，看我的。公子，公子可是读书之人？<br>许仙：倒是读了几本，算不上精通<br>小青：那既然是读书之人，想必知书达理，我看哪，倒不见得<br>许仙：姑娘这是何意？<br>小青：刚才我们看公子险些被雨淋着，所以呢才邀请公子一同搭船，要是读书人，自该通报名姓，也算礼数，谁知公子只管冷着脸，连个谢字都没有，岂不是个不通情理的呆子？<br>许仙：小生初来乍到，有失礼数之处还请姑娘见谅小生姓许名仙，许配的许，神仙的仙，苏州人士，自幼父母双亡，投靠姐姐姐夫，现在被姐姐举荐到钱塘县宝芝堂做学徒，谁知路上遇到这场急雨，若非两位姑娘便船相载，实是狼狈，小生先在这里谢了<br>管家：小青，人家公子说了一萝筐的话，怎么不听听他有什么要问咱们姑娘的？这也是礼啊<br>小青：那这位公子，可还有什么话要问一下我们家姑娘的？<br>许仙：我，我该问什么？<br>小青：你连自己想问什么都不知道，你简直是呆到家了你<br>管家：小青姑娘，这雨下得还真是冷啊，先回去吧，你看看，衣服都湿了，赶快回去吧小青姑娘，赶快回去吧，太冷了<br>小青：哎呀，管家<br>管家：快进来，换件衣服，来来<br>小青：我不冷啊<br>许仙：请问姑娘，尊姓大名？<br>白素贞：我姓白，名叫素贞<br>许仙：白素贞？<br>白素贞：公子想起了什么吗？<br>许仙：没，我只是觉得它是个好名字<br>白素贞：我本是四川人，我爹做为楚州指挥，双亲早亡，且葬于雷峰塔下，快到清明了，带了妹妹，前来上坟，所以经过这里，没想到遇到了公子<br>小青：管家，你说姐姐为什么把她的身世编得这般离奇？<br>管家：这世上，一旦男人对女人说了谎，就是要分开的前兆啊，但是一旦女人对男人说了谎，必要生出剪不断理还乱的一段纠葛<br>小青：这么复杂吗？</p>
</blockquote>
<h3 id="结局"><a href="#结局" class="headerlink" title="结局"></a>结局</h3><p>结局前的最后相逢</p>
<blockquote>
<p>白素贞：相公，相公，你等一等啊，相公！我是素贞呐，你的娘子，相公！相公，相公，我回来找你了，你听不到我在叫你吗？相公。<br>许仙：娘子别相信他，他是坏人。<br>白素贞：法海，你如今又来这一套，你先用我的样子骗了我相公，如今又用我相公的样子来骗我，你好卑鄙！<br>许仙：娘子。<br>白素贞：相公，你站稳些，不要流泪，法海他以为他赢了，没有，赢的是我们，我们有的，他这辈子都无法懂，我想成仙，却做了人，他想成佛，却成了魔。我的好相公，在半步多初次相逢，我是蛇妖，你是书生，你救了我一命，我还你一生。<br>许仙：怎么就到了今天？这难道是天意，娘子？不，娘子，你不能走。你真的要走吗？是要出趟远门吗？<br>白素贞：一趟远门。<br>许仙：娘子可记得带伞？<br>白素贞：出门太忙，忘带了。<br>许仙：娘子，我这里有把伞，虽然有些破旧，将就用还好。<br>白素贞：法海，你不用收我，我自愿走进雷峰塔。许仙会老，会死，我会守在雷峰塔里，陪着他老，看着他死，我走之后，你一定要活着。<br>许仙：娘子，你流泪了，你爱我一生，这滴眼泪，因爱而成。法海，八滴眼泪，是生老病死，爱恨别离，听过人间有情这句话吗？人间真的有情，你却没有。啊！<br>法海：阿弥陀佛，白素贞，从今以后，你不得擅自离开雷峰塔，你只能在此渡过余生，除非雷峰塔倒，西湖水干，雷峰塔百步之内，非出家人不得擅入。</p>
</blockquote>
<p>白素贞流下了第八滴眼泪<br><img src="%E7%99%BD%E8%9B%87%E4%BC%A011.png" alt="白蛇传11"></p>
<p>许仙出家，请求扫塔：</p>
<blockquote>
<p>小沙弥：施主，你找谁？<br>许仙：我想出家。<br>小沙弥：你要出家？你不是有一个蛇妖娘子的许仙吧？<br>许仙：正是我。<br>小沙弥：施主你干什么？不是我不要你进来，而是住持吩咐过我们，不要放你进来，也不要让你出家。<br>许仙：你一定听错了，是他要我出家的，现在我人来了，他怎么却变了卦？<br>小沙弥：你还是走吧。施主，你干什么？<br>许仙：你放心，我不是要死，我娘子走的时候，曾经说过，她走的那日我要活，我只想出家。<br>小沙弥：你，你疯了不成？你干嘛？<br>许仙：告诉他，我要出家。<br>小沙弥：师傅，许仙疯了，师傅，许仙疯了。<br>~<br>法海：许仙，你留下来，贫僧有话要跟你说。许仙。<br>许仙：师傅，你忘了，我有法号的。<br>法海：你可以离开这儿了，你尘缘未了，不适合留在这儿。<br>许仙：师傅，你怕了，你怕了，法海，可是，还不够怕，我要你更怕。<br>法海：我怕什么？<br>许仙：你不光怕，你现在还在愤怒。<br>法海：我没有。<br>许仙：你有，你不光愤怒，你还恨我。<br>法海：我说了，我不恨你。<br>许仙：你有，你恨我，法海，你不但恨我，你还恨我娘子，你才是天底下最不应该出家的和尚，你满心是恐惧，满心是愤怒，满心是恨，还说什么四大皆空，我才是应该做和尚，我现在什么也不怕，不怕死，不怕你，也不怕离开我娘子，我心里也没有恨，也没有爱，我的爱跟着你那钵，已进了雷峰，所以我才是真正的四大皆空，我才适合做和尚。<br>法海：你到底想怎样？<br>许仙：请师傅让我去雷峰扫塔。<br>法海：我若是不依呢？<br>许仙：师傅曾说过，雷峰百步，非出家人不得擅入，我现在已是出家人，为何不能去？所以，请师傅让我去雷峰扫塔。<br>法海：原来你出家就是为了这个？真是笑话，我说了我不依。<br>许仙：请师傅让我去雷峰扫塔。今日说三次，师傅不依，我明日再说六次，我明日说六次，师傅还是不依，我后日说九次，一直说到我哑。</p>
</blockquote>
<p>扫塔：</p>
<blockquote>
<p>许仙：娘子，我来了，我来为你扫塔，你若是知道，可否应我？<br>许仙：娘子，你知道要下雨了，是想为我遮雨吗？娘子，我为你扫塔，从今以后，你在塔里，我在塔外，我没有违背我的誓言，我会一生一世对你好。</p>
</blockquote>
<p><img src="%E7%99%BD%E8%9B%87%E4%BC%A012.png" alt="白蛇传12"></p>
<p>结局：<br>七百多年后雷峰塔轰然倒塌……</p>
<h3 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h3><p>央视版的白蛇传，编剧很有创新，一开始便让许仙知道白素贞是妖，一切都是在许仙知道白素贞是妖的基础上发生的，只不过最开始两人的向往不同。<br>关于白素贞服装的设计，剧组很用心，不同时期的白素贞拥有着不同的服装，妆容也会发生相应变化，用心啦。<br>结局仿佛有些仓促，很多事情没有交代清楚，也给观众留下了悬念：七百多年后雷峰塔轰然倒塌，白素贞究竟如何？<br>本剧的设定，妖是不会留下眼泪的，白素贞自愿走进雷峰塔时，留下了成仙用的第八滴眼泪。观音菩萨曾经说过：装满人间的八滴眼泪，到那个时候，你自然就能得道成仙了。第八滴眼泪，白素贞所流，集齐八滴眼泪自然就能成仙，但是白素贞选择了进塔，七百多年后雷峰塔又轰然倒塌，倒塌之后呢，肯定是成仙啦（我猜的）！<br>这版许仙，很多观众评论说表情坚定，白素贞放弃成仙嫁给这版的许仙最值。也是，许仙的演技很到位，许仙和白素贞的只羡鸳鸯不羡仙有着不一样的坚定。<br>法海在这版白蛇传中，添加了心魔设定，黑化得有些严重了。<br>在维基百科上查询这版白蛇传的百科，介绍中说该剧原本有48集，后删减为30集。可能因为档期的原因，并且央视对电视剧有着很明确的时长要求，该剧确实被删减了，在片尾曲的视频中可以很明显的看出来，有的镜头在剧中是没有的。感觉应该是在正式上映前，由于不可控因素，导致删减，片尾曲的镜头都没来得及重新制作。但是从48集删减到30集，这得删除多少内容啊，感觉可信度不是很高，应该删除的都是些中间的片段，部分片段声音与口型对不上也是情有可原的，因为被删减了。关于结局的仓促，编剧应该就是这么写的。<br>最后，给大家分享一下片头曲和片尾曲，感兴趣的可以听一下，好啦，本篇文章到此结束了，原本想写一篇观后感的，结果变成了自己感兴趣的剧情回顾~~<br>片头曲：爱在人间 - 满文军<br>片尾曲：今生你作伴 - 陈慧琳</p>
<div id="aplayer-page"></div>
<link rel="stylesheet" type="text/css" href="https://unpkg.com/aplayer@1.10.1/dist/APlayer.min.css">
<script src="https://unpkg.com/aplayer@1.10.1/dist/APlayer.min.js"></script>
<style>#aplayer-page li:before{display: none}</style>
<script>
const ap_page = new APlayer({
container: document.getElementById('aplayer-page'),
fixed: false,
autoplay: false,
theme: '#b7daff',
loop: 'none',
order: 'list',
preload: 'none',
volume: 0.7,
lrcType: 3,
listFolded: false,
lrcType: 3,
audio: [
{
name: '爱在人间',
artist: '满文军',
url: '爱在人间 - 满文军.mp3',
cover: 'https://imgessl.kugou.com/stdmusic/20150719/20150719073437111904.jpg',
lrc: '爱在人间 - 满文军.lrc'
},
{
name: '今生你作伴',
artist: '陈慧琳',
url: '今生你作伴 - 陈慧琳.mp3',
cover: 'http://p2.music.126.net/igS94En9Er-3EjZBdds0Jw==/109951163067910066.jpg',
lrc: '今生你作伴 - 陈慧琳.lrc'
}]
});
</script>]]></content>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
  <entry>
    <title>如何取消 始终信任来自“某某公司”的软件 ？</title>
    <url>/2022/04/19/%E5%A6%82%E4%BD%95%E5%8F%96%E6%B6%88-%E5%A7%8B%E7%BB%88%E4%BF%A1%E4%BB%BB%E6%9D%A5%E8%87%AA%E2%80%9C%E6%9F%90%E6%9F%90%E5%85%AC%E5%8F%B8%E2%80%9D%E7%9A%84%E8%BD%AF%E4%BB%B6-%EF%BC%9F/</url>
    <content><![CDATA[<p><img src="https://filestore.community.support.microsoft.com/api/images/ca955869-d6ad-4764-904e-01575936a5f5"><br>弄加速器的时候不小心点到了安装，并勾选有 始终信任 的选项，请问可以去哪里设置取消信任？</p>
<span id="more"></span>
<p>这个问题早在2016年便有人在微软社区进行提问了，里面有提供解决办法：</p>
<blockquote>
<p>开始（WIN+R）-&gt;运行mmc<br>文件-&gt;添加/删除管理单元<br>                  -&gt;添加<br>                  -&gt;选择证书,完成关闭<br>                  -&gt;确定<br>                  -&gt;受信任的发布者-证书<br>依次找到软件开发商的证书，删除<br>微软的社区这是怎么了?一大堆答非所问的垃圾~</p>
</blockquote>
<p>来自微软社区：<a href="https://answers.microsoft.com/zh-hans/windows/forum/windows_10-other_settings-winpc/%E5%A6%82%E4%BD%95%E5%8F%96%E6%B6%88/3f9ad906-f2a0-4c4d-bdd7-70bac0b649b8">如何取消 始终信任来自“某某公司”的软件 ？</a></p>
<p>虽然已经有可靠的解决方法，感觉太复杂，就是删除一下证书，不需要如此麻烦：<br>1.win10、win11在任务栏搜索框搜索<code>certmgr.msc</code>或<code>管理计算机证书</code>，其他系统可在运行窗口中输入<code>certmgr.msc</code>，进入管理计算机证书<br>2.依次选择》证书-本地计算机》受信任的发布者》证书》找到对应的证书，删除即可。<br>删除证书后，重新安装此驱动，便会再次出现弹窗提示。</p>
]]></content>
      <tags>
        <tag>教程</tag>
      </tags>
  </entry>
  <entry>
    <title>开发经验</title>
    <url>/2022/02/07/%E5%BC%80%E5%8F%91%E7%BB%8F%E9%AA%8C/</url>
    <content><![CDATA[<h2 id="开发项目中，关于数据库建表的的限制。"><a href="#开发项目中，关于数据库建表的的限制。" class="headerlink" title="开发项目中，关于数据库建表的的限制。"></a>开发项目中，关于数据库建表的的限制。</h2><p>我们用的数据库是微软的Azure Synapse Analytics 中专用 SQL 池。前段时间，建了一个有500多个字段的表，头一次遇到这么多字段的表。建表文写好后，在数据库中执行，报错了。只记住了一个关键字：8060。</p>
<span id="more"></span>
<p>网上查了一些资料，好像挺多数据库都有这个限制：该值大于允许的最大值 8060。<br>CSDN上解释说：</p>
<blockquote>
<p>当表中具有可变长度列(如 nvarchar 或 varbinary)时,所有列的总最大长度之和不能大于 8,060 字节。如果每一行中数据的总长度不超过 8,060 字节,就仍可以向表中插入行。解决办法,把较大长度的列改类型为text或者ntext.</p>
</blockquote>
<p>这个方法也确实有效，把部分的char型字段改成varchar，问题得到解决。</p>
<blockquote>
<p>关于Azure Synapse Analytics 中专用 SQL 池的容量限制<br>每行的字节数，定义的大小：8060 字节</p>
</blockquote>
<p>微软官方文档这样说道</p>
<blockquote>
<p>每行字节数的计算方式同于使用页面压缩的 SQL Server。 与 SQL Server 一样，支持行溢出存储，这样可以将可变长度列脱行推送。 对可变长度行进行拖行推送时，只将 24 字节的根存储在主记录中。 有关详细信息，请参阅超过 8 KB 的行溢出数据。</p>
</blockquote>
<p>微软文档：<a href="https://learn.microsoft.com/zh-cn/azure/synapse-analytics/sql-data-warehouse/sql-data-warehouse-service-capacity-limits">https://learn.microsoft.com/zh-cn/azure/synapse-analytics/sql-data-warehouse/sql-data-warehouse-service-capacity-limits</a></p>
<h2 id="Azure数据工厂pipeline中复制数据活动加载文件数据到Azure-Synapse-Analytics"><a href="#Azure数据工厂pipeline中复制数据活动加载文件数据到Azure-Synapse-Analytics" class="headerlink" title="Azure数据工厂pipeline中复制数据活动加载文件数据到Azure Synapse Analytics"></a>Azure数据工厂pipeline中复制数据活动加载文件数据到Azure Synapse Analytics</h2><p>这也是一个很奇怪的现象，也是那个500多个项目的表，前面刚解决完建表失败，后面用pipeline加载文件数据到表里又失败了。pipeline使用的是Polybase将文件数据加载到Azure Synapse Analytics 中专用 SQL 池。pipeline报错说是超过所允许的大小，关键字是more than limit。<br>尝试了很多方法，什么数据满位啊，未满位，全空等情况，也没找出具体原因。最后无意中用了一个varchar字段尝试，发现varchar字段没有char字段占位多，这个我只能说是在Polybase将文件数据加载到Azure Synapse Analytics 中专用 SQL 池的情况下。因为我在网上查询的资料一致说明定义相同长度的varchar和char，varchar占位多。<br>解决方法就是建表时将绝大部分的char型字段改为varchar<del>，就很离谱，并且没有查到相关资料。</del><br>Polybase引擎使用外部表的模式插入数据，也就是说，当使用Polybase引擎加载数据时，会建一个与目标表结构相同的外部表，执行insert into 目标表 select from 外部表语句。由于上述每行的字节数定义的大小8060的限制，执行select外部表时，外部表也会有此限制，数据溢出时，每个varchar项目会占用8060中的24字节。select外部表的数据超过8060，数据则会加载失败，insert语句直接失败。</p>
<h2 id="Azure数据工厂pipeline中复制数据活动加载文件数据到数据库时数据集所选用的区切方式"><a href="#Azure数据工厂pipeline中复制数据活动加载文件数据到数据库时数据集所选用的区切方式" class="headerlink" title="Azure数据工厂pipeline中复制数据活动加载文件数据到数据库时数据集所选用的区切方式"></a>Azure数据工厂pipeline中复制数据活动加载文件数据到数据库时数据集所选用的区切方式</h2><p>这也应该算是经验之谈吧。经验多了，自然就会考虑到这个问题。<br>将文件加载到数据库中，选择的区切字符一定要是唯一的，并且是文件里面没有的字符，如果文件数据里面有区切字符，pipeline的复制数据活动做区切数据时就会出现问题，结果就是文件数据无法加载到数据库中。</p>
<h2 id="Azure数据工厂pipeline的trigger"><a href="#Azure数据工厂pipeline的trigger" class="headerlink" title="Azure数据工厂pipeline的trigger"></a>Azure数据工厂pipeline的trigger</h2><p>在pipeline中创建trigger，选择存储事件时，一定要确认零字节 Blob 是否触发管道运行的需求。<br>如果勾选零字节 Blob不触发管道运行时，当你把符合条件的文件放置监视的路径上，但是大小是零字节，那么pipeline所绑定的trigger是不会触发pipeline的。</p>
]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
  <entry>
    <title>浏览器多用户使用</title>
    <url>/2022/02/07/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%A4%9A%E7%94%A8%E6%88%B7%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<h2 id="Windows远程桌面多个用户如何同时使用Edge浏览器"><a href="#Windows远程桌面多个用户如何同时使用Edge浏览器" class="headerlink" title="Windows远程桌面多个用户如何同时使用Edge浏览器?"></a>Windows远程桌面多个用户如何同时使用Edge浏览器?</h2><p>这个问题源自于edge浏览器。现在的Windows服务器版本大多都内置Edge浏览器，当多个用户(使用同一个用户名)同时远程桌面连接到Windows Server，其中一个用户打开了Edge浏览器，那么另一个用户下就无法打开Edge浏览器了。</p>
<span id="more"></span>
<p>网上查询到了添加用户配置文件的方法，这个方法并不适用于当多个用户(使用同一个用户名)同时远程桌面连接到Windows Server的前提。</p>
<h3 id="复制桌面上Edge浏览器的快捷方式"><a href="#复制桌面上Edge浏览器的快捷方式" class="headerlink" title="复制桌面上Edge浏览器的快捷方式"></a>复制桌面上Edge浏览器的快捷方式</h3><p>找到桌面上edge浏览器的快捷方式，选中复制。将复制好的快捷方式粘贴到自己需要的位置，右键粘贴后的快捷方式，选择属性-&gt;快捷方式，找到目标。</p>
<h3 id="修改快捷方式的目标"><a href="#修改快捷方式的目标" class="headerlink" title="修改快捷方式的目标"></a>修改快捷方式的目标</h3><p>在目标中增加启动参数：<code> --user-data-dir=&quot;C:\MyEdge&quot;</code>，注意开头有空格。点确定按钮应用设置。完整的目标路径如下所示：<br><code>&quot;C:\Program Files (x86)\Microsoft\Edge\Application\msedge.exe&quot;  --user-data-dir=&quot;C:\MyEdge&quot;</code><br>注：C:\MyEdge表示你的Edge浏览器的数据文件存放位置，可以设置为任何有效的文件夹路径，如果此文件夹不存在，Edge浏览器会自动创建。<br>打开增加启动参数的Edge浏览器快捷方式，就可以成功能地打开Edge浏览器，并且C:\MyEdge路径下已经生成文件。</p>
<h2 id="Windows远程桌面多个用户如何同时使用Chrome浏览器"><a href="#Windows远程桌面多个用户如何同时使用Chrome浏览器" class="headerlink" title="Windows远程桌面多个用户如何同时使用Chrome浏览器?"></a>Windows远程桌面多个用户如何同时使用Chrome浏览器?</h2><p>众所周知，目前的Microsoft Edge浏览器使用的就是Chrome浏览器所用的内核，所以方法是一样的。这里就不过多介绍。<br>详情参考：百度经验【<a href="https://jingyan.baidu.com/article/574c52197854bf6c8d9dc107.html">Windows远程桌面多个用户如何同时使用Chrome?</a>】</p>
<h2 id="Windows远程桌面多个用户如何同时使用Firefox浏览器"><a href="#Windows远程桌面多个用户如何同时使用Firefox浏览器" class="headerlink" title="Windows远程桌面多个用户如何同时使用Firefox浏览器?"></a>Windows远程桌面多个用户如何同时使用Firefox浏览器?</h2><p>Firefox浏览器相比Edge浏览器简单了些，只需要对快捷方式添加启动参数即可。这个方法叫做设置多用户配置文件，适用于当多个用户(使用同一个用户名)同时远程桌面连接到Windows Server的前提。</p>
<h3 id="修改快捷方式的目标-1"><a href="#修改快捷方式的目标-1" class="headerlink" title="修改快捷方式的目标"></a>修改快捷方式的目标</h3><p>找到桌面上Firefox浏览器的快捷方式，右键选择属性-&gt;快捷方式，找到目标。<br>在目标中添加启动参数：<code> -no-remote -profilemanager</code>，注意里面的空格。点确定按钮应用设置。完整的目标路径如下所示：<br><code>&quot;D:\Program Files\Mozilla Firefox\firefox.exe&quot;  -no-remote -profilemanager</code><br>打开增加启动参数的Firefox浏览器快捷方式，就会弹出Firefox浏览器的选择用户配置文件，接下来我们就可以根据自己的需求创建配置文件、重命名配置文件以及删除配置文件。<br>详情参考：百度经验【<a href="https://jingyan.baidu.com/article/b87fe19e61c78e5219356861.html">火狐浏览器如何设置多用户配置文件</a>】</p>
]]></content>
      <tags>
        <tag>教程</tag>
      </tags>
  </entry>
  <entry>
    <title>Windows11安卓子系统(Windows Subsystem for Android)安装及使用教程</title>
    <url>/2021/10/24/Windows11%E5%AE%89%E5%8D%93%E5%AD%90%E7%B3%BB%E7%BB%9F-Windows-Subsystem-for-Android-%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/</url>
    <content><![CDATA[<p>随着Windows11上Android™应用程序的第一个预览版现已提供给美国Beta频道的Windows内部人员，windows11发布会上所说的安卓子系统来啦。<br>因为第一个预览版只在beta渠道测试，并且只有美国地区，所以想在中国大陆地区快速体验只能寻找其他方法。<br>本篇文章将给大家讲解一下如何本地安装<strong>Windows Subsystem for Android™</strong>应用以及在安卓子系统上安卓我们所熟悉的apk文件。</p>
<span id="more"></span>
<p>废话不多说，直接走起</p>
<h2 id="前提"><a href="#前提" class="headerlink" title="前提"></a>前提</h2><p>1.你的电脑必须是Windows 11版本（Build 22000.xxx series builds）<br>2.电脑的CPU需要开启虚拟化功能，参看任务管理器》详细信息》性能》CPU》虚拟化是否显示已启用，如果不是已启用，你可能需要在主板BIOS中手动开启<br>3.你的电脑需要开启<strong>虚拟机平台</strong>可选功能</p>
<h2 id="下载Windows-Subsystem-for-Android™应用程序离线包"><a href="#下载Windows-Subsystem-for-Android™应用程序离线包" class="headerlink" title="下载Windows Subsystem for Android™应用程序离线包"></a>下载Windows Subsystem for Android™应用程序离线包</h2><p>因为微软测试区域只限美国地区，并且需要为beta渠道才能体验，所以我们通过对微软应用商店抓包的方式，下载应用程序的安装文件，本地安装。<br>1.浏览器访问<a href="https://store.rg-adguard.net/">https://store.rg-adguard.net/</a><br>2.在输入框输入<code>https://www.microsoft.com/store/productId/9P3395VX91NR</code>，选择Slow渠道，点击对号即可对网址进行抓包（网站进不去的话，可能是服务器崩溃，多试几次即可）<br><img src="1.jpg" alt="1.jpg"><br>3.点击抓包后，页面划至最下方，找到文件大小最大的文件（1.21GB），点击进行下载<br><img src="2.jpg" alt="2.jpg"></p>
<h2 id="安装Windows-Subsystem-for-Android™应用程序离线包"><a href="#安装Windows-Subsystem-for-Android™应用程序离线包" class="headerlink" title="安装Windows Subsystem for Android™应用程序离线包"></a>安装Windows Subsystem for Android™应用程序离线包</h2><p>下载后的文件双击安装<br><img src="3.jpg" alt="3.jpg"><br>你会发现无法安装<br><img src="4.jpg" alt="4.jpg"><br>这时，我们点击开始菜单右键，选择【Windows 终端 (管理员) 】，用管理员身份启动powershell，通过命令行方式安装<br><img src="5.jpg" alt="5.jpg"><br>先找到我们下载的安装包，右键【复制文件地址】<br><img src="6.jpg" alt="6.jpg"><br>在powershell里输入</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">add-Appxpackage </span><br></pre></td></tr></table></figure>
<p>并在<code>add-Appxpackage </code>之后粘贴我们刚刚复制的文件地址（ctrl+v），回车即可安装<br><img src="7.jpg" alt="7.jpg"><br><img src="8.jpg" alt="8.jpg"><br>如果部署失败，提示依赖的框架不存在，则在抓包网页中下载对应的插件双击安装即可。<br>等待进度条走完，点击开始菜单，在推荐的项目里便可以看见我们安装的安卓子系统应用啦<br><img src="9.jpg" alt="9.jpg"><br>补充：对于powershell窗口删除历史命令记录的问题，可以在窗口中输入</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Remove-Item (Get-PSReadlineOption).HistorySavePath</span><br></pre></td></tr></table></figure>
<p>重新打开powershell窗口，上下键的命令历史记录便被清除掉啦，给有需要的人~~</p>
<h2 id="Windows-Subsystem-for-Android™应用程序的使用"><a href="#Windows-Subsystem-for-Android™应用程序的使用" class="headerlink" title="Windows Subsystem for Android™应用程序的使用"></a>Windows Subsystem for Android™应用程序的使用</h2><p>上文说到，安卓子系统目前只在美国地区测试，而且微软目前只开放在亚马逊商店下载指定的app，这并不是我们想要的，所以我们这里需要adb工具安装apk文件<br>打开刚刚安装成功的绿色图标，进入到设置页面<br><img src="10.jpg" alt="10.jpg"></p>
<h3 id="点击文件，启动安卓子系统"><a href="#点击文件，启动安卓子系统" class="headerlink" title="点击文件，启动安卓子系统"></a>点击文件，启动安卓子系统</h3><p><img src="11.jpg" alt="11.jpg"><br>如果出现提示启用虚拟机平台，请在设置》应用》可选功能》相关设置》更多 Windows功能》勾选虚拟机平台，系统会自动安装，需要重启<br><img src="12.jpg" alt="12.jpg"></p>
<h3 id="打开开发人员模式"><a href="#打开开发人员模式" class="headerlink" title="打开开发人员模式"></a>打开开发人员模式</h3><p>保持子系统开启，在设置页面，将开发人员模式打开（跟安卓手机一个道理）<br><img src="13.jpg" alt="13.jpg"></p>
<h3 id="下载adb程序"><a href="#下载adb程序" class="headerlink" title="下载adb程序"></a>下载adb程序</h3><p>如果连接失效，可以在浏览器搜索adb，下载相关程序<br><a href="https://wws.lanzoui.com/iJL9fvl8oti">蓝奏云链接</a><br>将下载的文件解压，进入到adb文件夹，打开cmd，cd到adb文件夹<br><img src="14.jpg" alt="14.jpg"><br>输入</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">adb version</span><br></pre></td></tr></table></figure>
<p><img src="15.jpg" alt="15.jpg"><br>确认adb是否成功显示版本</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">adb connect 127.0.0.1:58526</span><br></pre></td></tr></table></figure>
<p>确认连接的地址是否为开发人员模式里显示的地址<br><img src="16.jpg" alt="16.jpg"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">adb devices</span><br></pre></td></tr></table></figure>
<p>确认是否连接成功<br><img src="17.jpg" alt="17.jpg"></p>
<h3 id="通过adb安装本地apk文件"><a href="#通过adb安装本地apk文件" class="headerlink" title="通过adb安装本地apk文件"></a>通过adb安装本地apk文件</h3><p>在浏览器下载好apk文件，右键【复制文件地址】<br>继续在cmd窗口输入</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">adb install </span><br></pre></td></tr></table></figure>
<p>并在<code>adb install </code>之后粘贴我们刚刚复制的文件地址（ctrl+v），回车即可安装<br>这里以酷安为例<br><img src="18.jpg" alt="18.jpg"><br>安装成功后，打开开始菜单，即可在推荐的项目里看到刚刚安装的应用<br><img src="19.jpg" alt="19.jpg"></p>
<h2 id="VirtWifi-的连接受限"><a href="#VirtWifi-的连接受限" class="headerlink" title="VirtWifi 的连接受限"></a>VirtWifi 的连接受限</h2><p>打开安卓子系统，Window11通知会提示安卓子系统VirtWifi 的连接受限（无法访问互联网），这是因为原生安卓的网络检测机制，详情可以自行搜索：Captive Portal。其实这是一个可忽略的问题，但是部分应用会通过此机制判断是否可以访问互联网，进而导致应用无法联网。这里简单提供一下解决办法，打开ADB调试，在cmd窗口输入以下两条命令，更换检测地址。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">adb shell settings put global captive_portal_http_url http://connect.rom.miui.com/generate_204</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">adb shell settings put global captive_portal_https_url https://connect.rom.miui.com/generate_204</span><br></pre></td></tr></table></figure>
<p>安卓系统的默认检测地址是谷歌，手动切换为小米。重启安卓子系统后，连接受限的提示不再出现。</p>
<p>更改后，我想要恢复需要怎么做？<br>两种方法：<br>1.将安卓子系统重置<br>2.删除手动更改的检测地址，ADB命令如下</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">adb shell settings delete global captive_portal_http_url</span><br><span class="line">adb shell settings delete global captive_portal_https_url</span><br></pre></td></tr></table></figure>
<h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>因为安卓子系统默认安装在C盘，如果空间不够的话，可以将安卓子系统移动到其他盘符<br>设置》应用》应用和功能》找到Windows Subsystem for Android™，将其移动到其他盘符即可<br>补充：将子系统移动到非系统盘后，重启电脑可能会出现问题，提示：无法打开应用，因为它处于脱机状态。可能缺少存储设备，或者存储设备已断开连接。<br>电脑重启后，不在系统盘的uwp应用，如果处于脱机状态，则需要等待大约55分钟（我的电脑是这样），才会在脱机状态中解除。可以尝试少重启电脑，关机再开机可能是因为勾选了快速启动，并没有发现此影响。</p>
<p>目前测试发现，安卓子系统无法读取电脑文件，电脑文件也无法直接放入子系统中，可以通过文件传输实现，请自行寻找攻略（可以在酷安app里面寻找）。<br>这里推荐在酷安中搜索 Material Files(质感文件) 安装，里面自带ftp服务，很方便。<br>遇到的问题：<br>部分应用无法打开，有的打开无法使用，无法联网可尝试手动更换联网检测地址，鼠标滚轮易触发点击事件。</p>
<p>Windows Subsystem for Android™与Windows11高度集成，系统自带输入法可以直接在模拟器里使用，总体来说功能还是很强大的。<br>好啦，本篇文章到此结束，感谢大家的阅读~~</p>
]]></content>
      <tags>
        <tag>教程</tag>
      </tags>
  </entry>
  <entry>
    <title>向您介绍Kiwi Browser浏览器</title>
    <url>/2021/09/19/%E5%90%91%E6%82%A8%E4%BB%8B%E7%BB%8DKiwi-Browser%E6%B5%8F%E8%A7%88%E5%99%A8/</url>
    <content><![CDATA[<p>众所周知，手机端分为两大平台：苹果和安卓。本篇文章向您介绍安卓阵营中的一款不错的浏览器：【Kiwi Browser】。</p>
<span id="more"></span>
<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>想必热衷于寻找手机端支持插件扩展浏览器的朋友们，都听说过Kiwi Browser浏览器吧。<br>如果你经常使用手机端的chrome或者edge浏览器，迁移到此浏览器的学习成本会很低。<br>Kiwi Browser浏览器基于Chromium开源项目开发，支持浏览器插件。手机端支持插件的浏览器少之又少，火狐算是其中之一，但是不知从哪版开始，把支持插件的功能改了，几乎把之前版本所支持的插件都砍了，说是会慢慢加回来。但是截止目前，所支持的插件屈指可数，只能用四个字来形容：未来可期。</p>
<h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h2><p>Kiwi Browser浏览器是国外的一款开源项目，截止目前，我所知道的各大安卓手机应用商店，均没有上架此浏览器。所以说，想要下载此浏览器，可能需要一些特殊手段。如果你有上网工具，推荐访问<a href="https://apkcombo.com/zh">https://apkcombo.com/zh</a>，这是一个可以直接在网页上下载Google Play商店应用的网站。<br>如果没有上网工具，可以尝试在酷安中搜索，会有很多的朋友在酷安里面分享浏览器的下载链接。</p>
<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><p>打开此浏览器，你可能会发现莫名其妙的启动广告（取决于自己使用的设备）。Kiwi Browser浏览器没有任何启动广告。</p>
<h3 id="莫名其妙的启动广告？"><a href="#莫名其妙的启动广告？" class="headerlink" title="莫名其妙的启动广告？"></a>莫名其妙的启动广告？</h3><p>上文所说，Kiwi Browser浏览器没有任何启动广告，这句话毋庸置疑，国外大佬的开源项目，不会在里面植入任何广告的。那么广告是怎么来的呢？<br>这里简单说明一下，我用的是小米手机，如果你用的手机跟我一个牌子，那么此方法可能会适用你。<br>在我的设备上，启动广告来源于一个名叫【智能服务】的应用程序，此程序为小米广告服务。打开Kiwi Browser，智能服务会在应用程序上层显示广告，让用户误以为是应用程序启动广告。</p>
<h4 id="关闭方法"><a href="#关闭方法" class="headerlink" title="关闭方法"></a>关闭方法</h4><p>手机系统MIUI12.5，设置》隐私保护》保护隐私》特殊权限设置》显示在其他应用的上层》更多》显示系统程序》找到【智能服务】》允许显示在其他应用的上层，关闭<br>关闭小米智能服务允许显示在其他应用的上层，再次打开Kiwi Browser，你会发现启动广告消失。</p>
<h3 id="无法添加搜索引擎？"><a href="#无法添加搜索引擎？" class="headerlink" title="无法添加搜索引擎？"></a>无法添加搜索引擎？</h3><p>Kiwi Browser默认是没有中文搜索引擎的，而且也没有手动添加搜索引擎的选项。<br>Kiwi Browser提供了一种神奇的方法：<br>在地址栏中输入搜索引擎的地址，访问后，在搜索引擎中搜索内容，再访问浏览器搜索引擎页面，你会发现刚刚使用的搜索引擎出现在可选列表中，通过此方法即可添加自己想要的搜索引擎。</p>
<h2 id="强大的插件支持"><a href="#强大的插件支持" class="headerlink" title="强大的插件支持"></a>强大的插件支持</h2><p>插件其实算是使用的一部分，但是我想把它单独拿出来，好好说一说。<br>Kiwi Browser支持在谷歌网上应用商店直接安装插件，安装步骤与电脑端谷歌浏览器一样。<br>众所周知，中国大陆地区是无法访问谷歌服务的。<br>无法访问谷歌服务，也就意味着不能安装插件，那么这么强大的插件支持岂不是变得一无是处了？当然不是。<br>不知大家还记不记得微软现在一直在推广的基于Chromium开源项目开发的Microsoft Edge浏览器？从新内核的edge浏览器发布后，这种只能从谷歌网上应用商店安装浏览器插件的僵局似乎被打破了。没错，微软为edge浏览器专门开发了自己的网上应用商店，微软在中国大陆（大中华地区）发展良好，中国大陆访问没有任何问题，而且页面做的跟谷歌极其相似，网站截止目前仍属于beta版。微软网上应用商店的插件量与与谷歌网上应用商店的插件量不相上下，某些插件可能比谷歌网上应用商店还要多。这里有不少中国开发者的功劳。</p>
<h3 id="Microsoft-Edge-加载项"><a href="#Microsoft-Edge-加载项" class="headerlink" title="Microsoft Edge 加载项"></a>Microsoft Edge 加载项</h3><p>网站：<a href="https://microsoftedge.microsoft.com/">Microsoft Edge 加载项</a><br>顾名思义，就是【Microsoft Edge】的网上应用商店，为什么是这个名字，其实我也不知道，因为截止到目前，网站的title标签就是这么写的。<br>Microsoft Edge 加载项，是微软专门为基于Chromium内核的edge浏览器开发的插件商店，从最初的测试版到现在的beta版。在PC端egde浏览器上，网站使用体验与谷歌没有差异（感觉就是复制过来的）。</p>
<h3 id="通过Microsoft-Edge-加载项安装插件"><a href="#通过Microsoft-Edge-加载项安装插件" class="headerlink" title="通过Microsoft Edge 加载项安装插件"></a>通过Microsoft Edge 加载项安装插件</h3><p>上文说到，微软的插件商店与谷歌无异，那么这是否就意味着支持从谷歌插件商店安装插件的浏览器也可以从微软插件商店安装插件？答案当然是肯定的。<br>目前PC版本的edge浏览器，已经在扩展程序中添加谷歌网上应用商店的访问链接，支持从谷歌插件商店直接安装插件，但是会提示不安全警告。因为谷歌服务在中国大陆地区无法访问的原因，Microsoft Edge 加载项受到国内用户的一致欢迎，部分开发者仿佛已经放弃谷歌网上应用商店，只在Microsoft Edge 加载项上发布插件。<br>回到标题，如何在Kiwi Browser上使用Microsoft Edge 加载项安装插件？<br>使用Kiwi浏览器访问微软插件商店，网址如下：<br><a href="https://microsoftedge.microsoft.com/">https://microsoftedge.microsoft.com/</a></p>
<div><img width=50% src ="edge浏览器.jpg"/><img width=50% src ="kiwi浏览器.jpg"/></div>

<p>左图为不支持安装插件的浏览器打开网站的画面（edge浏览器）<br>右图为kiwi浏览器打开网站的画面<br>可以清晰看到，不支持安装插件的浏览器，插件图标下方获取为灰色不可点击状态，kiwi浏览器显示的则是Get CRX(Hold and tap Download Link)。<br>点击Get CRX(Hold and tap Download Link)，kiwi浏览器会弹出一个窗口，随即窗口消失，浏览器没有任何变化，插件并没有安装。这可能就是kiwi浏览器还没有对接微软插件商店，或者是微软没有向其他浏览器提供接口，所以不能像谷歌插件商店那样直接在网站上安装插件。但是微软自家的edge浏览器，早早就开放了直接在谷歌插件商店安装应用，但是这对于中国大陆地区似乎并没有什么意义。也可能是因为edge是基于Chromium开发，不支持在谷歌插件商店安装插件的话，显得不是很好。</p>
<h4 id="插件安装步骤"><a href="#插件安装步骤" class="headerlink" title="插件安装步骤"></a>插件安装步骤</h4><p>既然不能在网站直接安装插件，那我们就下载插件后手动安装（开发者模式）。<br>长按插件下方的Get CRX(Hold and tap Download Link)，浏览器会弹出一个多功能窗口，选择下载链接，之后浏览器会直接下载插件的crx文件，之后在扩展程序中，打开开发者模式，手动添加刚刚下载的crx文件安装插件，操作方法跟pc端一致。</p>
<h2 id="插件的使用"><a href="#插件的使用" class="headerlink" title="插件的使用"></a>插件的使用</h2><p>由于安装的插件多数都是基于PC平台开发，所以在手机上使用可能会不生效，这里推荐结合桌面版网站功能使用（浏览器右上角多功能菜单）。</p>
<h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>本篇文章到这里就结束了。kiwi浏览器结合微软edge浏览器插件商店使用，可以在手机上使用PC浏览器才能使用的插件，这一点体验非常好，并且绝大部分插件都支持在kiwi浏览器上安装。充分发挥手机端浏览器的使用体验，尝试在手机端做一些PC端浏览器能做到的功能吧！</p>
]]></content>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
  <entry>
    <title>跳过硬件检测安装Windows 11</title>
    <url>/2021/09/05/%E8%B7%B3%E8%BF%87%E7%A1%AC%E4%BB%B6%E6%A3%80%E6%B5%8B%E5%AE%89%E8%A3%85Windows-11/</url>
    <content><![CDATA[<blockquote>
<p>这台电脑无法运行 Windows 11？<br>此版本的 Windows 不支持该处理器？</p>
</blockquote>
<span id="more"></span>
<p>如何绕过硬件检测安装Windows 11操作系统？<br>如果通过官方镜像文件安装Windows 11，答案很简单：删除<code>appraiserres.dll</code>文件运行安装程序，删除后提示缺少文件，可尝试替换，请自行上网搜索方法<br>截至目前，官方发布的Windows 11镜像文件，跳过硬件检测，使不满足最低硬件要求的设备安装此系统，均可使用此方法。</p>
<ol>
<li>下载官方镜像文件（.iso）解压到指定文件夹。</li>
<li>打开解压后的文件夹，点击【sources】文件夹 。</li>
<li>选择【appraiserres.dll】文件并将其删除。</li>
<li>再次打开解压后的文件夹，运行【setup.exe】（Windows 11安装程序）即可。</li>
<li>安装程序提示缺少文件，请尝试替换文件。</li>
</ol>
]]></content>
      <tags>
        <tag>教程</tag>
      </tags>
  </entry>
  <entry>
    <title>大学的四年生活</title>
    <url>/2021/06/12/%E5%A4%A7%E5%AD%A6%E7%9A%84%E5%9B%9B%E5%B9%B4%E7%94%9F%E6%B4%BB/</url>
    <content><![CDATA[<p>转眼大学四年时光就要过完了，还有不到一个月，就要离开这个陪伴自己四年的大学校园，感慨很多。</p>
<span id="more"></span>
<p>记得我是在今年一月份入的职，因为疫情原因，过年没有回家。四月中旬还是四月初，具体何时记不清了，在一次公司聚餐的机会，跟我们项目负责人说了五月份请假的事，四月的最后一天，坐火车回家。<br>五月的第一天便到了家里，在家里上山采了几次野菜，很是开心。五一的五天假期让我足足过了七天，五月七号回的学校。五一假期虽然下了几天雨，但是和妈妈在一起过得很开心。爸爸在我回家之前在家住了几天。<br>五月份，应该是最忙碌的一个月了。回到学校，很快就到了论文期中检查，花了几天时间，把论文改了改，交了上去。记不清当时老师怎么说的，结果就是不合格。老师给我安排了一个研究生院的学长，协助我修改论文。准却地说，我的论文返工了，学长帮我写了建模部分，我则完成结论和开头部分。我的论文主要就是参照一篇英文论文来写。说是参照，实际上就是翻译了一下，把里面的部分内容直接拿过来用。这个论文改了很多次，之前花钱找人写的直接否了，钱也是白花了，代写论文的那个人真不咋地。但也不能说完全白花，最起码给我之后重写论文提供了思路。<br>我的室友王贺宇，是我们论文小组里面最有可能获得优秀的一位。开学前辞去了上学期所找的工作，回到学校一心一意写论文，顺道准备再找一份中意的工作，结果不尽人意。论文直到答辩前也没达到老师心中的标准，写的内容一直被老师否，改了很多次，一直改到答辩之前。到了答辩之后，老师还让他改，真不容易。<br>今年学院搬家，听说我们学院所在的第三教学楼要改成寝室楼，不知信息真假。截止到今天，学院确实搬家了。我们在五月二十六日答辩，我们组没有优秀的。<br>答辩后论文归档，花了一天时间。期间还有练车，时间很紧。驾驶证的科三考试，也是一拖再拖，直到六月五日才进行了考试。计划是在五月份完成，硬是挤到了六月初。还好皇天不负有心人，考试通过了。充分利用两次考试的机会，完成了考试。<br>六月八日，那天是周二，周一参加科四考试，驾驶证到手了，八号回的公司。看来今年甚至之后的很长时间，都要继续在这个公司发展了。<br>期间还是偶尔回回寝室，跟室友聊聊天，打打游戏。我的上铺是么浩辰，跟我一班的有郭旭和张一帆，我们是六人寝室，其余两人是王贺宇和苏国服。贺宇经常跟我一起去食堂吃饭，这真的让我很开心，大一到大三的室友，没有几个去食堂吃饭的，几乎都是我自己一个人去，或者找别的寝室的人一起去。<br>再过几天就不能回来继续住了，虽然没有什么留恋，但是有些不舍。<br>现在寝室还剩五个人，准确来说这学期一直都是五个人。张一帆一直在隔壁寝室545住，只有答辩那几天才回来住，现在也不在学校了，不知领毕业证时还回不回来。苏国服跟我一样，在长春找了一份工作，一直能干到毕业，他家是广西的。郭旭在星火一对一上班，周六周日挺忙的，中考结束后应该会休息一段时间吧，他教的是初中化学。王贺宇和么浩辰在继续找工作，但是不是很好找，看来要等到七月份了。<br>愿自己在未来的道路上一帆风顺，哈哈，我可能想多了。</p>
]]></content>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
  <entry>
    <title>用js实现购物车功能</title>
    <url>/2021/02/12/%E7%94%A8js%E5%AE%9E%E7%8E%B0%E8%B4%AD%E7%89%A9%E8%BD%A6%E5%8A%9F%E8%83%BD/</url>
    <content><![CDATA[<p>用js简单实现了一下前端的购物车功能，在这里记录一下</p>
<span id="more"></span>
<p>基本要求：<br>添加商品部分：<br>1.商品名称2-8个字<br>2.库存数量不能为负数<br>3.商品单价不能为负数<br>4.表单数据要做空值验证<br>商品列表部分：<br>1.商品列表默认为空，在表单中添加商品信息，将商品加入商品列表<br>2.购物车列表默认为空，点击加入购物车，将商品信息加入<br>3.商品及购物车列表实现隔行变色功能<br>4.点击添加购物车及删除操作时要有确认提示<br>我的购物车部分：<br>1.点击购物车删除按钮删除整行数据<br>2.点击全选，全部选中，并统计合计金额<br>3.点击反选，实现反选功能，并统计金额<br>4.点击数量增减按钮，数量随之变化，小计及总计随之变化</p>
<p>以下是效果图<br><img src="https://i.loli.net/2021/02/12/komAxKjf4hq8LdZ.png" alt="购物车"></p>
<p>源码：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>购物车<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span> <span class="attr">href</span>=<span class="string">&quot;css/index.css&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">            <span class="selector-class">.left</span>,<span class="selector-class">.right</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">width</span>: <span class="number">45%</span>;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">            <span class="selector-class">.left</span>,<span class="selector-class">.right</span>,<span class="selector-class">.shopCarList</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">border</span>: <span class="number">1px</span> solid black;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">margin</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">            <span class="selector-class">.float-left</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">            <span class="selector-class">.clear-both</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">clear</span>: both;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">            <span class="selector-class">.bottom</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">padding-top</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">            <span class="selector-class">.shopCarList</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">width</span>: <span class="number">65%</span>;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">margin</span>: <span class="number">0</span> auto;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">            <span class="selector-class">.text-align</span>,<span class="selector-tag">th</span>,<span class="selector-tag">td</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">            <span class="selector-class">.text-right</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">text-align</span>: right;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">padding</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">            <span class="selector-class">.left</span> <span class="selector-tag">div</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">margin</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">            <span class="selector-class">.left</span> <span class="selector-class">.wrong</span>,<span class="selector-class">.left</span> <span class="selector-class">.null</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">display</span>: none;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">            <span class="selector-tag">table</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">border-spacing</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">border-collapse</span>: collapse;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">margin</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">            <span class="selector-class">.right</span> <span class="selector-tag">table</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">width</span>: <span class="number">90%</span>;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">            <span class="selector-class">.bottom</span> <span class="selector-tag">table</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">width</span>: <span class="number">96%</span>;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">            <span class="selector-tag">th</span>,<span class="selector-tag">td</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">border</span>: <span class="number">#ccc</span> <span class="number">1px</span> solid;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">            <span class="selector-tag">tbody</span> <span class="selector-tag">tr</span><span class="selector-pseudo">:nth-child</span>(even)&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">background</span>: <span class="number">#cccccc70</span>;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">            <span class="selector-tag">button</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">cursor</span>: pointer;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">background</span>: <span class="number">#2196f3</span>;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">border-width</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">height</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">width</span>: <span class="number">80px</span>;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">line-height</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">color</span>: white;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">            <span class="selector-class">.button</span>,<span class="selector-class">.backbutton</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">background</span>: white;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">border</span>: <span class="number">1px</span> solid black;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">color</span>: black;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">            <span class="selector-class">.button</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">width</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">height</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">line-height</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">            <span class="selector-tag">input</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">height</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left float-left text-align&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">span</span>&gt;</span>商品编号：<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;goodinfo&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">oninput</span>=<span class="string">&quot;value=value.replace(/[^\d]/g,&#x27;&#x27;)&quot;</span> <span class="attr">onblur</span>=<span class="string">&#x27;isNull(this)&#x27;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入商品编号&quot;</span>/&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;wrong&quot;</span>&gt;</span>商品编号不能为空<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">span</span>&gt;</span>商品名称：<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;goodname&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">maxlength</span>=<span class="string">&quot;8&quot;</span> <span class="attr">onblur</span>=<span class="string">&#x27;isNull(this)&#x27;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入商品名称&quot;</span>/&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;wrong&quot;</span>&gt;</span>商品名称不能为空<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">span</span>&gt;</span>库存数量：<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;goodnum&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">oninput</span>=<span class="string">&quot;value=value.replace(/[^\d]/g,&#x27;&#x27;)&quot;</span> <span class="attr">onblur</span>=<span class="string">&#x27;isNull(this)&#x27;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入库存数量&quot;</span>/&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;wrong&quot;</span>&gt;</span>商品数量不能为空<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">span</span>&gt;</span>商品单价：<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;goodprice&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">oninput</span>=<span class="string">&quot;value=value.replace(/[^\d]/g,&#x27;&#x27;)&quot;</span> <span class="attr">onblur</span>=<span class="string">&#x27;isNull(this)&#x27;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入商品单价&quot;</span>/&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;wrong&quot;</span>&gt;</span>商品单价不能为空<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;save&quot;</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span>&gt;</span>添加商品<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right float-left&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">th</span>&gt;</span>序号<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">th</span>&gt;</span>商品编号<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">th</span>&gt;</span>商品名称<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">th</span>&gt;</span>商品单价<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">th</span>&gt;</span>库存数量<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">th</span>&gt;</span>操作<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tbody</span> <span class="attr">id</span>=<span class="string">&quot;goodList&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bottom clear-both&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;text-align&quot;</span>&gt;</span>我的购物车<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;shopCarList&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">th</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;allChecked()&quot;</span>&gt;</span>全选<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">th</span>&gt;</span>序号<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">th</span>&gt;</span>商品编号<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">th</span>&gt;</span>商品名称<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">th</span>&gt;</span>价格<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">th</span>&gt;</span>数量<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">th</span>&gt;</span>小计<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">th</span>&gt;</span>操作<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">tbody</span> <span class="attr">id</span>=<span class="string">&quot;shopList&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">tfoot</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;backChecked()&quot;</span> <span class="attr">class</span>=<span class="string">&quot;backbutton&quot;</span>&gt;</span>反选<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">&quot;7&quot;</span>&gt;</span>总计: ￥<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;sumPrice&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">tfoot</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;text-right&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;total()&quot;</span>&gt;</span>去结算<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//判断是否为空</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">function</span> <span class="title function_">isNull</span>(<span class="params">para</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> value=para.<span class="property">value</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (value==<span class="string">&quot;&quot;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">var</span> name=para.<span class="property">parentNode</span>.<span class="property">children</span>[<span class="number">0</span>].<span class="property">innerText</span>.<span class="title function_">substring</span>(<span class="number">0</span>,<span class="number">4</span>);</span></span><br><span class="line"><span class="language-javascript">                    para.<span class="property">parentNode</span>.<span class="property">children</span>[<span class="number">3</span>].<span class="property">innerHTML</span>=name+<span class="string">&#x27;不能为空&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">                    para.<span class="property">parentNode</span>.<span class="property">children</span>[<span class="number">3</span>].<span class="property">style</span>.<span class="property">display</span>=<span class="string">&quot;block&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                    para.<span class="property">parentNode</span>.<span class="property">children</span>[<span class="number">3</span>].<span class="property">style</span>.<span class="property">display</span>=<span class="string">&quot;none&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//添加商品</span></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;save&quot;</span>).<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//商品编号</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> goodinfo=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;goodinfo&quot;</span>).<span class="property">value</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//商品名称</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> goodname=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;goodname&quot;</span>).<span class="property">value</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//商品数量</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> goodnum=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;goodnum&quot;</span>).<span class="property">value</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//商品价格</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> goodprice=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;goodprice&quot;</span>).<span class="property">value</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span>(goodinfo==<span class="string">&quot;&quot;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;goodinfo&quot;</span>).<span class="property">parentNode</span>.<span class="property">children</span>[<span class="number">3</span>].<span class="property">style</span>.<span class="property">display</span>=<span class="string">&quot;block&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span>(goodname==<span class="string">&#x27;&#x27;</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;goodname&quot;</span>).<span class="property">parentNode</span>.<span class="property">children</span>[<span class="number">3</span>].<span class="property">style</span>.<span class="property">display</span>=<span class="string">&quot;block&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>(goodname.<span class="property">length</span>&lt;<span class="number">2</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;goodname&quot;</span>).<span class="property">parentNode</span>.<span class="property">children</span>[<span class="number">3</span>].<span class="property">innerText</span>=<span class="string">&quot;商品名称2-8个字&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;goodname&quot;</span>).<span class="property">parentNode</span>.<span class="property">children</span>[<span class="number">3</span>].<span class="property">style</span>.<span class="property">display</span>=<span class="string">&quot;block&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span>(goodnum==<span class="string">&quot;&quot;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;goodnum&quot;</span>).<span class="property">parentNode</span>.<span class="property">children</span>[<span class="number">3</span>].<span class="property">style</span>.<span class="property">display</span>=<span class="string">&quot;block&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span>(goodprice==<span class="string">&quot;&quot;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;goodprice&quot;</span>).<span class="property">parentNode</span>.<span class="property">children</span>[<span class="number">3</span>].<span class="property">style</span>.<span class="property">display</span>=<span class="string">&quot;block&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>(goodprice==<span class="number">0</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;goodprice&quot;</span>).<span class="property">parentNode</span>.<span class="property">children</span>[<span class="number">3</span>].<span class="property">innerText</span>=<span class="string">&quot;请输入正确的价格&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;goodprice&quot;</span>).<span class="property">parentNode</span>.<span class="property">children</span>[<span class="number">3</span>].<span class="property">style</span>.<span class="property">display</span>=<span class="string">&quot;block&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//获取已添加商品的编号</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> $ginfo=<span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;#goodList .ginfo&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//遍历</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">function</span> <span class="title function_">getSameGinfo</span>(<span class="params">value</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">var</span> num=<span class="number">0</span>;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;$ginfo.<span class="property">length</span>;i++)&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">if</span>($ginfo[i].<span class="property">innerText</span>==value)&#123;</span></span><br><span class="line"><span class="language-javascript">                            num=i+<span class="number">1</span>;</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">break</span>;</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125; </span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> num;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//判断添加的商品是否存在</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span>(<span class="title function_">getSameGinfo</span>(goodinfo))&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//获取存在的商品所在位置</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">var</span> num=<span class="title function_">getSameGinfo</span>(goodinfo)-<span class="number">1</span>;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">var</span> gocar_goodnum=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;gc_goodnum&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span>(gocar_goodnum)&#123;</span></span><br><span class="line"><span class="language-javascript">                        gocar_goodnum.<span class="property">innerText</span>=goodnum;</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//修改名称</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;#goodList .gname&#x27;</span>)[num].<span class="property">innerHTML</span>=<span class="string">&quot;&lt;span class=&#x27;gname&#x27;&gt;&quot;</span>+goodname+<span class="string">&quot;&lt;/span&gt;&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//价格</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;#goodList .gprice&#x27;</span>)[num].<span class="property">innerHTML</span>=<span class="string">&quot;&lt;span class=&#x27;gprice&#x27;&gt;&quot;</span>+<span class="string">&#x27;￥ &#x27;</span>+goodprice+<span class="string">&quot;&lt;/span&gt;&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//库存</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;#goodList .gnum&#x27;</span>)[num].<span class="property">innerHTML</span>=<span class="string">&quot;&lt;span class=&#x27;gnum&#x27;&gt;&quot;</span>+goodnum+<span class="string">&quot;&lt;/span&gt;&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//符合以上要求,执行插入</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">var</span> tr=<span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;tr&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//tr行共6列</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">var</span> td1=<span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;td&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">var</span> td2=<span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;td&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">var</span> td3=<span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;td&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">var</span> td4=<span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;td&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">var</span> td5=<span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;td&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">var</span> td6=<span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;td&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                    td2.<span class="property">innerHTML</span>=<span class="string">&quot;&lt;span class=&#x27;ginfo&#x27;&gt;&quot;</span>+goodinfo+<span class="string">&quot;&lt;/span&gt;&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                    td3.<span class="property">innerHTML</span>=<span class="string">&quot;&lt;span class=&#x27;gname&#x27;&gt;&quot;</span>+goodname+<span class="string">&quot;&lt;/span&gt;&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                    td4.<span class="property">innerHTML</span>=<span class="string">&quot;&lt;span class=&#x27;gprice&#x27;&gt;&quot;</span>+<span class="string">&#x27;￥ &#x27;</span>+goodprice+<span class="string">&quot;&lt;/span&gt;&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                    td5.<span class="property">innerHTML</span>=<span class="string">&quot;&lt;span class=&#x27;gnum&#x27;&gt;&quot;</span>+goodnum+<span class="string">&quot;&lt;/span&gt;&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                    td6.<span class="property">innerHTML</span>=<span class="string">&quot;&lt;button type=&#x27;button&#x27; onclick=&#x27;addToCar(this)&#x27;&gt;加入购物车&lt;/button&gt;&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//获取当前行数</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">var</span> trcount=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;goodList&quot;</span>).<span class="property">rows</span>.<span class="property">length</span>;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//计算行号</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span>(trcount==<span class="number">0</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                        td1.<span class="property">innerText</span>=<span class="number">1</span>;</span></span><br><span class="line"><span class="language-javascript">                    &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                        td1.<span class="property">innerText</span>=trcount+<span class="number">1</span>;</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//将列加入到行中</span></span></span><br><span class="line"><span class="language-javascript">                    tr.<span class="title function_">appendChild</span>(td1);</span></span><br><span class="line"><span class="language-javascript">                    tr.<span class="title function_">appendChild</span>(td2);</span></span><br><span class="line"><span class="language-javascript">                    tr.<span class="title function_">appendChild</span>(td3);</span></span><br><span class="line"><span class="language-javascript">                    tr.<span class="title function_">appendChild</span>(td4);</span></span><br><span class="line"><span class="language-javascript">                    tr.<span class="title function_">appendChild</span>(td5);</span></span><br><span class="line"><span class="language-javascript">                    tr.<span class="title function_">appendChild</span>(td6);</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//将行加入到列表中</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;goodList&quot;</span>).<span class="title function_">appendChild</span>(tr);</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//添加购物车</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">function</span> <span class="title function_">addToCar</span>(<span class="params">info</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> flag=<span class="title function_">confirm</span>(<span class="string">&#x27;确认加入购物车?&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span>(flag)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//编号</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">var</span> goodinfo=info.<span class="property">parentNode</span>.<span class="property">parentNode</span>.<span class="property">children</span>[<span class="number">1</span>].<span class="property">innerText</span>;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//名称</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">var</span> goodname=info.<span class="property">parentNode</span>.<span class="property">parentNode</span>.<span class="property">children</span>[<span class="number">2</span>].<span class="property">innerText</span>;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//价格</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">var</span> goodprice=info.<span class="property">parentNode</span>.<span class="property">parentNode</span>.<span class="property">children</span>[<span class="number">3</span>].<span class="property">innerText</span>.<span class="title function_">substr</span>(<span class="number">2</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//库存</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">var</span> goodnum=info.<span class="property">parentNode</span>.<span class="property">parentNode</span>.<span class="property">children</span>[<span class="number">4</span>].<span class="property">innerText</span>;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//添加购物车函数</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">function</span> <span class="title function_">add</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="comment">//将信息加入到购物车</span></span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">var</span> tr=<span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;tr&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                        <span class="comment">//创建td</span></span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">var</span> td1=<span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;td&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">var</span> td2=<span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;td&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">var</span> td3=<span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;td&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">var</span> td4=<span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;td&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">var</span> td5=<span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;td&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">var</span> td6=<span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;td&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">var</span> td7=<span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;td&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">var</span> td8=<span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;td&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                        <span class="comment">//td赋值</span></span></span><br><span class="line"><span class="language-javascript">                        td1.<span class="property">innerHTML</span>=<span class="string">&quot;&lt;input type=&#x27;checkbox&#x27; class=&#x27;checkbox&#x27; onclick=&#x27;checkOnclick(this)&#x27;/&gt;&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                        td3.<span class="property">innerText</span>=goodinfo;</span></span><br><span class="line"><span class="language-javascript">                        td4.<span class="property">innerText</span>=goodname;</span></span><br><span class="line"><span class="language-javascript">                        td5.<span class="property">innerText</span>=<span class="string">&quot;￥ &quot;</span> + goodprice;</span></span><br><span class="line"><span class="language-javascript">                        td6.<span class="property">innerHTML</span>=<span class="string">&quot;&lt;button type=&#x27;button&#x27; class=&#x27;button&#x27; onclick=&#x27;cutCount(this)&#x27;&gt;-&lt;/button&gt;&lt;span&gt;1&lt;/span&gt;&lt;button type=&#x27;button&#x27; class=&#x27;button&#x27; onclick=&#x27;addCount(this)&#x27;&gt;+&lt;/button&gt;&quot;</span>+<span class="string">&quot;&lt;span id=&#x27;gc_goodnum&#x27; style=&#x27;display:none&#x27;&gt;&quot;</span>+goodnum+<span class="string">&quot;&lt;/span&gt;&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                        td7.<span class="property">innerText</span>=<span class="string">&quot;￥ &quot;</span> + goodprice;</span></span><br><span class="line"><span class="language-javascript">                        td8.<span class="property">innerHTML</span>=<span class="string">&quot;&lt;button type=&#x27;button&#x27; onclick=&#x27;del(this)&#x27;&gt;删除&lt;/button&gt;&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                        <span class="comment">//获取当前行数</span></span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">var</span> trcount=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;shopList&quot;</span>).<span class="property">rows</span>.<span class="property">length</span>;</span></span><br><span class="line"><span class="language-javascript">                        <span class="comment">//计算序号</span></span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">if</span>(trcount==<span class="number">0</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                            td2.<span class="property">innerText</span>=<span class="number">1</span>;</span></span><br><span class="line"><span class="language-javascript">                        &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                            td2.<span class="property">innerText</span>=trcount+<span class="number">1</span>;</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                        <span class="comment">//将创建的列加入到行中</span></span></span><br><span class="line"><span class="language-javascript">                        tr.<span class="title function_">appendChild</span>(td1);</span></span><br><span class="line"><span class="language-javascript">                        tr.<span class="title function_">appendChild</span>(td2);</span></span><br><span class="line"><span class="language-javascript">                        tr.<span class="title function_">appendChild</span>(td3);</span></span><br><span class="line"><span class="language-javascript">                        tr.<span class="title function_">appendChild</span>(td4);</span></span><br><span class="line"><span class="language-javascript">                        tr.<span class="title function_">appendChild</span>(td5);</span></span><br><span class="line"><span class="language-javascript">                        tr.<span class="title function_">appendChild</span>(td6);</span></span><br><span class="line"><span class="language-javascript">                        tr.<span class="title function_">appendChild</span>(td7);</span></span><br><span class="line"><span class="language-javascript">                        tr.<span class="title function_">appendChild</span>(td8);</span></span><br><span class="line"><span class="language-javascript">                        <span class="comment">//将创建的行加入到列表中</span></span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;shopList&quot;</span>).<span class="title function_">appendChild</span>(tr);</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//编号是否存在</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">var</span> trrows=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;shopList&quot;</span>).<span class="property">rows</span>;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span>(trrows.<span class="property">length</span>!=<span class="number">0</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">var</span> num=<span class="number">0</span>;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;trrows.<span class="property">length</span>;i++) &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">var</span> value=trrows[i].<span class="property">children</span>[<span class="number">2</span>].<span class="property">innerText</span>;</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">if</span> (goodinfo==value) &#123;</span></span><br><span class="line"><span class="language-javascript">                                num=<span class="number">1</span>;</span></span><br><span class="line"><span class="language-javascript">                                <span class="comment">//获取当前商品数量</span></span></span><br><span class="line"><span class="language-javascript">                                <span class="keyword">var</span> count=<span class="built_in">parseInt</span>(trrows[i].<span class="property">children</span>[<span class="number">5</span>].<span class="property">children</span>[<span class="number">1</span>].<span class="property">innerText</span>);</span></span><br><span class="line"><span class="language-javascript">                                <span class="comment">//判断当前商品数量与库存大小</span></span></span><br><span class="line"><span class="language-javascript">                                <span class="keyword">if</span>(<span class="built_in">parseInt</span>(goodnum)&gt;count)&#123;</span></span><br><span class="line"><span class="language-javascript">                                    <span class="comment">//修改数量,在原有基础加1</span></span></span><br><span class="line"><span class="language-javascript">                                    trrows[i].<span class="property">children</span>[<span class="number">5</span>].<span class="property">children</span>[<span class="number">1</span>].<span class="property">innerText</span>=++count;</span></span><br><span class="line"><span class="language-javascript">                                    <span class="comment">//商品单价</span></span></span><br><span class="line"><span class="language-javascript">                                    <span class="keyword">var</span> goodprice=trrows[i].<span class="property">children</span>[<span class="number">4</span>].<span class="property">innerText</span>.<span class="title function_">substr</span>(<span class="number">2</span>);</span></span><br><span class="line"><span class="language-javascript">                                    <span class="comment">//计算小计</span></span></span><br><span class="line"><span class="language-javascript">                                    <span class="keyword">var</span> smallPrice=goodprice * count;</span></span><br><span class="line"><span class="language-javascript">                                    <span class="comment">//赋值到指定节点</span></span></span><br><span class="line"><span class="language-javascript">                                    trrows[i].<span class="property">children</span>[<span class="number">6</span>].<span class="property">innerText</span>=<span class="string">&quot;￥ &quot;</span> + smallPrice;</span></span><br><span class="line"><span class="language-javascript">                                &#125;</span></span><br><span class="line"><span class="language-javascript">                                <span class="keyword">break</span>;</span></span><br><span class="line"><span class="language-javascript">                            &#125;</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                        <span class="comment">//编号不存在</span></span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">if</span> (num==<span class="number">0</span>)<span class="title function_">add</span>();</span></span><br><span class="line"><span class="language-javascript">                    &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="title function_">add</span>();</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//cutCount 数量减少</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">function</span> <span class="title function_">cutCount</span>(<span class="params">num</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//获取当前数量</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> count=<span class="built_in">parseInt</span>(num.<span class="property">nextSibling</span>.<span class="property">innerText</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (count&gt;<span class="number">1</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    num.<span class="property">nextSibling</span>.<span class="property">innerText</span>=--count;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//重新获取商品数量</span></span></span><br><span class="line"><span class="language-javascript">                    count=num.<span class="property">nextSibling</span>.<span class="property">innerText</span>;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//获取价格</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">var</span> goodprice=num.<span class="property">parentNode</span>.<span class="property">previousSibling</span>.<span class="property">innerText</span>.<span class="title function_">substr</span>(<span class="number">2</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//计算小计</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">var</span> smallTotla=count*goodprice;</span></span><br><span class="line"><span class="language-javascript">                    num.<span class="property">parentNode</span>.<span class="property">nextSibling</span>.<span class="property">innerText</span>=<span class="string">&quot;￥ &quot;</span>+smallTotla;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//计算总计</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">getTotal</span>();</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//addCount 数量添加</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">function</span> <span class="title function_">addCount</span>(<span class="params">num</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> count=<span class="built_in">parseInt</span>(num.<span class="property">previousSibling</span>.<span class="property">innerText</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span>(count&lt;<span class="built_in">parseInt</span>(num.<span class="property">nextSibling</span>.<span class="property">innerText</span>))&#123;</span></span><br><span class="line"><span class="language-javascript">                    num.<span class="property">previousSibling</span>.<span class="property">innerText</span>=++count;</span></span><br><span class="line"><span class="language-javascript">                    count=num.<span class="property">previousSibling</span>.<span class="property">innerText</span>;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">var</span> goodprice=num.<span class="property">parentNode</span>.<span class="property">previousSibling</span>.<span class="property">innerText</span>.<span class="title function_">substr</span>(<span class="number">2</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">var</span> smallTotla=count*goodprice;</span></span><br><span class="line"><span class="language-javascript">                    num.<span class="property">parentNode</span>.<span class="property">nextSibling</span>.<span class="property">innerText</span>=<span class="string">&quot;￥ &quot;</span>+smallTotla;</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">getTotal</span>();</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//checkbox 事件</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">function</span> <span class="title function_">checkOnclick</span>(<span class="params">para</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">getTotal</span>();</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//总计计算</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">function</span> <span class="title function_">getTotal</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                totalAmount=<span class="number">0</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> checkbox=<span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;input[type=&#x27;checkbox&#x27;][class=&#x27;checkbox&#x27;]:checked&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                checkbox.<span class="title function_">forEach</span>(<span class="keyword">function</span>(<span class="params">ele</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//找到小计节点,累加</span></span></span><br><span class="line"><span class="language-javascript">                    totalAmount+=<span class="built_in">parseInt</span>((ele.<span class="property">parentNode</span>.<span class="property">nextSibling</span>.<span class="property">nextSibling</span>.<span class="property">nextSibling</span>.<span class="property">nextSibling</span>.<span class="property">nextSibling</span>.<span class="property">nextSibling</span>.<span class="property">innerText</span>.<span class="title function_">substr</span>(<span class="number">2</span>)));</span></span><br><span class="line"><span class="language-javascript">                &#125;)</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//赋值结果给总计</span></span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;sumPrice&#x27;</span>).<span class="property">innerText</span>=totalAmount;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//allChecked 全选</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">function</span> <span class="title function_">allChecked</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//获取全部行节点</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> trrows=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;shopList&quot;</span>).<span class="property">rows</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;trrows.<span class="property">length</span>;i++) &#123;</span></span><br><span class="line"><span class="language-javascript">                    trrows[i].<span class="property">children</span>[<span class="number">0</span>].<span class="property">children</span>[<span class="number">0</span>].<span class="property">checked</span>=<span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//计算总计</span></span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">getTotal</span>();</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//backChecked 反选</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">function</span> <span class="title function_">backChecked</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> trrows=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;shopList&quot;</span>).<span class="property">rows</span>;    </span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;trrows.<span class="property">length</span>;i++) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span>(trrows[i].<span class="property">children</span>[<span class="number">0</span>].<span class="property">children</span>[<span class="number">0</span>].<span class="property">checked</span>==<span class="literal">true</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                        trrows[i].<span class="property">children</span>[<span class="number">0</span>].<span class="property">children</span>[<span class="number">0</span>].<span class="property">checked</span>=<span class="literal">false</span>;            </span></span><br><span class="line"><span class="language-javascript">                    &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                        trrows[i].<span class="property">children</span>[<span class="number">0</span>].<span class="property">children</span>[<span class="number">0</span>].<span class="property">checked</span>=<span class="literal">true</span>;    </span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">getTotal</span>();</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//del 删除</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">function</span> <span class="title function_">del</span>(<span class="params">para</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> flag=<span class="title function_">confirm</span>(<span class="string">&#x27;确认删除此商品?&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span>(flag)&#123;</span></span><br><span class="line"><span class="language-javascript">                    para.<span class="property">parentNode</span>.<span class="property">parentNode</span>.<span class="title function_">remove</span>();</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//商品重新排序</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">var</span> checkbox=<span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;input[type=&#x27;checkbox&#x27;][class=&#x27;checkbox&#x27;]&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;checkbox.<span class="property">length</span>;i++)&#123;</span></span><br><span class="line"><span class="language-javascript">                        checkbox[i].<span class="property">parentNode</span>.<span class="property">nextSibling</span>.<span class="property">innerText</span>=i+<span class="number">1</span>;</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">getTotal</span>();</span></span><br><span class="line"><span class="language-javascript">                &#125; </span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//total 结算</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">function</span> <span class="title function_">total</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//alter显示总计</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> $sumPrice=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;sumPrice&#x27;</span>).<span class="property">innerText</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span>($sumPrice!=<span class="string">&#x27;&#x27;</span>&amp;&amp;$sumPrice!=<span class="number">0</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">alert</span>(<span class="string">&#x27;总计金额为: &#x27;</span>+$sumPrice)</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>大部分功能已经实现，可以根据自己需要进行添加修改。本篇文章就记录到这里啦。</p>
]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>用js原生实现jquery的部分方法（笔记）</title>
    <url>/2021/01/17/%E7%94%A8js%E5%8E%9F%E7%94%9F%E5%AE%9E%E7%8E%B0jquery%E7%9A%84%E9%83%A8%E5%88%86%E6%96%B9%E6%B3%95%EF%BC%88%E7%AC%94%E8%AE%B0%EF%BC%89/</url>
    <content><![CDATA[<p>在这里记录一下自己用原生js实现jquery的部分方法，算是jquery转js吧<br>持续更新</p>
<span id="more"></span>
<ol>
<li><code>$(&quot;.code&quot;).on(&quot;click&quot;,&quot;#js-btn-copy&quot;,function()&#123;&#125;)</code><br>标题实现对class的子元素绑定click事件，原生js实现<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> copyButton=<span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;.code #js-btn-copy&quot;</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> copyButton)&#123;</span><br><span class="line">    copyButton[i].<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params">button</span>)&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
如果想把onclick绑定的函数单独定义一个方法为button()，则<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">button</span>(<span class="params"></span>)&#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> copyButton=<span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;.code #js-btn-copy&quot;</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> copyButton)&#123;</span><br><span class="line">    copyButton[i].<span class="property">onclick</span>=button;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<code>copyButton[i].onclick=button;</code>这里等于的是button而不是button()，如果直接在html标签里面添加onclick事件，是<code>onclick=&quot;button()&quot;</code>。</li>
<li><code>$(ele).html(value)</code><br>js实现：<code>ele.innerHTML=value</code></li>
<li><code>$(ele).mouseout(function()&#123;&#125;)</code><br>js：<code>ele.onmouseout=function()&#123;&#125;</code><br>对应的，jq的<code>$(ele).mouseover(function()&#123;&#125;)</code>也是这样实现</li>
<li><code>$(&#39;.toc-child&#39;).hide();</code><br>这个可以用js封装函数实现<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">tocChild</span>(<span class="params">key,value</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> $toc_child=<span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;toc-child&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;$toc_child.<span class="property">length</span>;i++)&#123;</span><br><span class="line">      $toc_child[i].<span class="property">style</span>.<span class="property">cssText</span>=key+<span class="string">&quot;:&quot;</span>+value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">tocChild</span>(<span class="string">&quot;display&quot;</span>,<span class="string">&quot;none&quot;</span>)</span><br></pre></td></tr></table></figure></li>
<li><code>$(name).offset()</code><br>获取offset，js有name.offsetTop和name.offsetLeft方法<br>分享一个获取元素绝对位置的方法<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getElementTop</span>(<span class="params">element</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> actualTop=element.<span class="property">offsetTop</span>;</span><br><span class="line">    <span class="keyword">var</span> current=element.<span class="property">offsetParent</span>;</span><br><span class="line">    <span class="keyword">while</span>(current!==<span class="literal">null</span>)&#123;</span><br><span class="line">      actualTop+=current.<span class="property">offsetTop</span>;</span><br><span class="line">      current=current.<span class="property">offsetParent</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> actualTop;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
jquery中有一个position()方法，这个还没有整清楚如何实现，所以主题中目录优化部分还是没有去除jquery</li>
<li><code>$(&#39;body,html&#39;).animate(&#123;scrollTop: scrollOffset.top-50&#125;,1000);</code><br>题目是jq封装的一个锚点跳转方法，也就是页面平滑滚动，这里分享一个js封装的方法，功能大致相同<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 页面平滑滚动</span></span><br><span class="line"><span class="keyword">var</span> timer=<span class="literal">null</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">slideTo</span>(<span class="params">targetPageY,element</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(timer)&#123;</span><br><span class="line">      <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">    &#125;</span><br><span class="line">    timer=<span class="built_in">setInterval</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="comment">//当前高度</span></span><br><span class="line">        <span class="keyword">var</span> scrollY=element.<span class="property">scrollTop</span>;</span><br><span class="line">        <span class="comment">//剩余距离</span></span><br><span class="line">        <span class="keyword">var</span> distance=targetPageY&gt;scrollY?targetPageY-<span class="attr">scrollY</span>:scrollY-targetPageY;</span><br><span class="line">        <span class="comment">//每时每刻速度</span></span><br><span class="line">        <span class="keyword">var</span> speed=<span class="title class_">Math</span>.<span class="title function_">ceil</span>(distance/<span class="number">10</span>);</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">parseInt</span>(targetPageY)==<span class="built_in">parseInt</span>(scrollY))&#123;</span><br><span class="line">        <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        element.<span class="property">scrollTop</span>=targetPageY&gt;scrollY?scrollY+<span class="attr">speed</span>:scrollY-speed;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,<span class="number">10</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
传入两个参数targetPageY,element，其中：<br>targetPageY：滚动位置<br>element：滚动条所在容器<br>支持向上向下滚动，速度调节speed</li>
<li><code>$(ele).scrollTop();</code><br>js：<code>var eleTop =ele.scrollTop;</code></li>
<li><code>$(window).scroll(function() &#123;&#125;)</code><br>题目是滚动监听，js实现：<code>window.addEventListener(&#39;scroll&#39;, (e) =&gt; &#123;&#125;)</code><br>jq很多监听之类的函数，都可以通过js的addEventListener实现</li>
<li><code>$(window).load(function() &#123;&#125;);</code><br>同上，添加addEventListener，即：<code>window.addEventListener(&quot;load&quot;,function()&#123;&#125;)</code><br><code>window.addEventListener(&quot;load&quot;,function()&#123;&#125;)</code>不同于<code>window.onload=function()&#123;&#125;</code><br><code>window.onload=function()&#123;&#125;</code>只能执行一次，通常不建议使用。</li>
<li>jquery中ready方法<br>js的addEventListener中有一个DOMContentLoaded，实现ready方法，用法同上<br><code>window.addEventListener(&quot;DOMContentLoaded&quot;,function()&#123;&#125;)</code></li>
<li>jquery中ajax方法<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">$.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">  <span class="attr">url</span>: path,</span><br><span class="line">  <span class="attr">dataType</span>: <span class="string">&quot;xml&quot;</span>,</span><br><span class="line">  <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">xmlResponse</span>) &#123;</span><br><span class="line">      <span class="comment">// get the contents from search data</span></span><br><span class="line">      <span class="keyword">var</span> datas = $(<span class="string">&quot;entry&quot;</span>, xmlResponse).<span class="title function_">map</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">          <span class="keyword">return</span> &#123;</span><br><span class="line">              <span class="attr">title</span>: $(<span class="string">&quot;title&quot;</span>, <span class="variable language_">this</span>).<span class="title function_">text</span>(),</span><br><span class="line">              <span class="attr">content</span>: $(<span class="string">&quot;content&quot;</span>, <span class="variable language_">this</span>).<span class="title function_">text</span>(),</span><br><span class="line">              <span class="attr">url</span>: $(<span class="string">&quot;url&quot;</span>, <span class="variable language_">this</span>).<span class="title function_">text</span>()</span><br><span class="line">          &#125;;</span><br><span class="line">      &#125;).<span class="title function_">get</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
原生js中提供了fetch方法<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">fetch</span>(path)</span><br><span class="line">.<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> response.<span class="title function_">text</span>())</span><br><span class="line">.<span class="title function_">then</span>(<span class="function"><span class="params">str</span> =&gt;</span> <span class="keyword">new</span> <span class="variable language_">window</span>.<span class="title class_">DOMParser</span>().<span class="title function_">parseFromString</span>(str, <span class="string">&#x27;text/xml&#x27;</span>))</span><br><span class="line">.<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> datas = [...data.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;entry&#x27;</span>)].<span class="title function_">map</span>(<span class="keyword">function</span> (<span class="params">item</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">title</span>: item.<span class="title function_">querySelector</span>(<span class="string">&#x27;title&#x27;</span>).<span class="property">textContent</span>,</span><br><span class="line">            <span class="attr">content</span>: item.<span class="title function_">querySelector</span>(<span class="string">&#x27;content&#x27;</span>).<span class="property">textContent</span>,</span><br><span class="line">            <span class="attr">url</span>: item.<span class="title function_">querySelector</span>(<span class="string">&#x27;url&#x27;</span>).<span class="property">textContent</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
<li>js中querySelector()与querySelectorAll()方法<ul>
<li>querySelector() 方法返回文档中匹配指定 CSS 选择器的一个元素。用法与$()获取元素相同，但是只返回一个元素。<br>实例<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//获取文档中 id=&quot;demo&quot; 的元素：</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#demo&quot;</span>);</span><br></pre></td></tr></table></figure>
document可以更换为已经获取的元素<br>实例<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//获取文档中 id=&#x27;header&#x27;的元素</span></span><br><span class="line"><span class="keyword">var</span> $header=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;header&#x27;</span>);</span><br><span class="line"><span class="comment">//在获取的id=&#x27;header&#x27;元素中获取class=&quot;example&quot; 的第一个元素:</span></span><br><span class="line"><span class="keyword">var</span> $example=$header.<span class="title function_">querySelector</span>(<span class="string">&quot;.example&quot;</span>);</span><br></pre></td></tr></table></figure>
确保$header已经获取到元素，否则控制台报错：<br><code>Cannot read property &#39;querySelector&#39; of undefined</code><br>如果不确定$header是否获取到元素，防止控制台报错，建议直接使用<br><code>document.querySelector(&quot;#header .example&quot;)</code></li>
<li>querySelectorAll() 方法返回文档中匹配指定 CSS 选择器的所有元素，返回 NodeList 对象。<br>简言之，querySelectorAll() 方法返回的是一个数组，使用时需要对其遍历，遍历方法参考1。<br>querySelectorAll() 方法与getElementsByClassName() 方法返回的数据均为数组，不同在于querySelectorAll()支持jquery选择器，与querySelector()使用方法相同<br>实例<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//获取文档中 id=&quot;demo&quot; 的元素：</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;#demo&quot;</span>)[<span class="number">0</span>];</span><br></pre></td></tr></table></figure>
document可以更换为已经获取的元素，需要注意的点与querySelector() 方法相同。</li>
</ul>
</li>
</ol>
<p><del>最后，截至目前，本主题只剩1个功能还需要jquery，这个有点难度。</del><br>13. <code>$(name).position().top</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getPositionTop</span>(<span class="params">element</span>)&#123;</span><br><span class="line">    <span class="comment">// 相对于窗口的位置</span></span><br><span class="line">    <span class="keyword">const</span> activeTop = element.<span class="title function_">getBoundingClientRect</span>().<span class="property">top</span>;</span><br><span class="line">    <span class="comment">// 最近祖先元素相对于窗口的位置</span></span><br><span class="line">    <span class="keyword">const</span> activeParentTop = element.<span class="property">offsetParent</span>.<span class="title function_">getBoundingClientRect</span>().<span class="property">top</span>;</span><br><span class="line">    <span class="keyword">return</span> activeTop-activeParentTop;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>貌似可以使用<code>offsetTop</code>来替换<code>getBoundingClientRect().top</code>，可以自行尝试是否满足自己的需求</p>
]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>关于jquery的一点思考</title>
    <url>/2020/12/08/%E5%85%B3%E4%BA%8Ejquery%E7%9A%84%E4%B8%80%E7%82%B9%E6%80%9D%E8%80%83/</url>
    <content><![CDATA[<p>不知不觉已经到了2020年，距离jquery第一个版本（2006年）面世已经14年。</p>
<span id="more"></span>
<blockquote>
<p>2006年，jQuery的第一个版本的面世，凭借着简洁、灵活的编程风格受到了开发者的喜爱。而它本身是一个 JavaScript 框架，它的设计的宗旨是“write Less，Do More”，即倡导写更少的代码，做更多的事情。它封装了 JavaScript 常用的功能代码，提供一种简便的 JavaScript 设计模式，优化 HTML 文档操作、事件处理、动画设计和 Ajax 交互。</p>
</blockquote>
<p>2018年，GitHub改版并放弃了 jQuery ！Github 前端团队的 Mislav Marohnić 在 Twitter 发布了一则消息，表明在 GitHub 网站重构过程中放弃了 jQuery，没有再次使用其他任何框架去代替它，而是使用了原生的 JS，具体实现：</p>
<ul>
<li>使用 querySelectorAll 来查询 DOM 节点；</li>
<li>使用 fetch 来代替 ajax；</li>
<li>事件处理使用了事件代理；</li>
<li>使用 DOM 标准化写了 polyfill；</li>
<li>使用了自定义元素。</li>
</ul>
<p>去jquery化是不是从这时开始，我不知道，但是这对于GitHub来说，绝对是一件可以载入公司史册的大事。</p>
<p>前段时间，浏览了 hexo-theme-butterfly主题 ，发现最近作者正在为自己开发的主题去jquery，加上之前也听过去jquery的相关信息，引发了自己的一些思考。</p>
<p>关于yilia主题</p>
<p>虽然yilia主题的开发者已经不再更新yilia主题，但是自始至终作者也没有使用jquery。自己给yilia主题第一次加上jquery时，是添加全局搜索功能。自从引入了jquery，感觉自己已经依赖上了jquery，很多可以用原生js实现的代码，直接使用jquery实现。直到看到 hexo-theme-butterfly主题 作者正在去jquery，让我的想法发生了改变。回想起yilia主题，发现自己是否已经抛弃yilia主题开发者明确说明不兼容IE浏览器的初衷，难道不再使用jquery，转而投身到原生js已经是大势所趋？<br>可能有的人不会这么认为，可以说，我在写这篇文章前，还不这么认为。<br>种种迹象可能已经明确表明，随着时间的流逝，原生js方法对浏览器的兼容性已经不再是问题，新的原生js方法可以完美替代jquery所提供的方法。就像github改版不再使用jquery所说的那样，原生js已经可以实现jquery所实现的功能，不再依赖jquery。</p>
<p>思考</p>
<p>去jquery，是不是应该开始进行？<br>对于yilia主题，里面后加的功能，可以用原生js实现的功能，不会再用jquery实现。随着自己知识的积累，早晚要把jquery移出去。<br>jquery使用方便，相信不久的将来，原生js也会很方便。</p>
<p>参考文献<br><a href="https://blog.csdn.net/csdnnews/article/details/82783675">GitHub：为什么我们最终选择放弃了 jQuery</a></p>
<p>最后</p>
<p>进行了一段时间，目前主题依然依赖jquery的功能有：<br>1.本地全局搜索<br>2.目录优化<br>3.代码块复制</p>
<p>加油！<br><strong>20220828更新：主题已经移除jquery</strong></p>
]]></content>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
  <entry>
    <title>在hexo中对文章md文件分类</title>
    <url>/2020/12/06/%E5%9C%A8hexo%E4%B8%AD%E5%AF%B9%E6%96%87%E7%AB%A0md%E6%96%87%E4%BB%B6%E5%88%86%E7%B1%BB/</url>
    <content><![CDATA[<blockquote>
<p>Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 Markdown（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。</p>
</blockquote>
<p>前言</p>
<p>随着博客建立的文章越来越多，你会发现在<code>_posts</code>文件夹下生成的md文件会变得非常多，查找起来会不太方便，这里简单介绍一个对md文件按年分类的方法。</p>
<span id="more"></span>
<p>最初的实现方法是在 <a href="https://www.githang.com/2018/12/22/hexo-new-post-path/">浩码农的博客</a> 发现的，感兴趣的可以点进去看看。<br>搜索引擎搜索关键字：如何在Hexo中对文章md文件分类</p>
<p>前提</p>
<p>这个方法没有 浩码农的博客 的复杂，只需要更改一个位置即可：</p>
<p>我目前的hexo版本为5.2.0，不同版本的hexo配置文件可能不同，请读者知悉。<br>打开hexo配置文件<code>_config.yml</code>（非主题配置文件）<br>修改默认的 <code>new_post_name</code> 赋值，修改完成后记得保存，重启服务进行预览。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">new_post_name: :year/:title.md</span><br></pre></td></tr></table></figure>
<p>即在<code>:title.md</code>前添加<code>:year/</code>，实现每次创建新文章时，md文件存储到对应的年份文件夹中。</p>
<p>可能是hexo版本问题，修改完此字段，预览博客，没有发现文章html文件的链接发生改变，并没有发现 <a href="https://www.githang.com/2018/12/22/hexo-new-post-path/">浩码农的博客</a> 所说的bug，所以只需要修改这一处即可。</p>
<p>最后</p>
<p>新建的文章会按年份进行分类存放，但是之前的文章怎么办？这里我也没有什么解决方法，可以参看 <a href="https://www.githang.com/2018/12/22/hexo-new-post-path/">浩码农的博客</a> 所说的方法，当然，要是没看懂的话（比如我自己），那就只有自己手动移动啦。</p>
<p>虽然很早就有想对md文件分类的想法，但是一直没有去查找相关方法，在此对 <a href="https://www.githang.com/2018/12/22/hexo-new-post-path/">浩码农的博客</a> 分享的方法表示感谢。<br>其实相关分类的方法在hexo官方文档是有介绍的，对hexo感兴趣的话，建议大家去看看官方文档，多了解些知识哈。</p>
<p>友情链接：<br><a href="https://hexo.io/zh-cn/docs/">hexo官方文档</a></p>
]]></content>
      <tags>
        <tag>博客</tag>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>关闭2345好压广告弹窗方法</title>
    <url>/2020/11/22/%E5%85%B3%E9%97%AD2345%E5%A5%BD%E5%8E%8B%E5%B9%BF%E5%91%8A%E5%BC%B9%E7%AA%97%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<p>想必用过2345好压软件的都被软件自身的广告弹窗困扰过吧。2345好压，一款承诺永久免费的软件。因为免费的原因，所以添加了一些广告，这里简单提供一下关闭2345好压广告弹窗的方法。<span id="more"></span></p>
<p>经过我的多次测试发现，电脑是否联网直接影响安装2345好压后的后台程序。联网状态下安装2345好压后，观察任务管理器会发现相关程序在运行： <strong>2345好压核心服务</strong> 。<br>通过观察任务管理器，发现此程序长时间的后台运行，可能会调用 <strong>2345好压核心服务</strong> 。再过一段时间，电脑可能就会弹出莫名其妙的2345好压弹窗广告。并且有一个弹窗直接来自于2345好压安装根目录下的 <strong>HaoZipTool.exe</strong> 。<br>如果电脑在断网的情况下安装2345好压软件后，任务管理器里并没有2345好压软件相关程序。</p>
<p><strong>解决方法</strong>（就是删除两个文件）<br>安装完成2345好压软件后：<br>到2345好压安装目录下 <strong>Protect文件夹</strong> 下，将 <strong>HaozipSvc.exe</strong> 删除，如果提示被占用，到任务管理器中结束相关程序（2345好压核心服务）。<br>到2345好压安装根目录下，找到文件 <strong>HaoZipTool.exe</strong> ，删除文件。<br>其余文件不用改动。</p>
<p>建议在电脑断网情况下安装2345好压并删除这两个文件。删除后，2345相关广告不再弹出，并且不会影响到好压功能的使用（本人测试有效）。</p>
<hr>
<p>补充：<br>如果电脑桌面弹出莫名奇妙的弹窗广告，不要慌，请打开任务管理器，找到相关程序，打开文件所在位置，确认没用的情况下，任务管理器中结束对应程序，观看弹窗是否消失，弹窗消失后并将文件资源管理器中所对应的程序文件删除即可（谨慎操作）。</p>
]]></content>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
  <entry>
    <title>笔记本电脑麦克风无法使用的简单解决办法</title>
    <url>/2020/11/18/%E7%AC%94%E8%AE%B0%E6%9C%AC%E7%94%B5%E8%84%91%E9%BA%A6%E5%85%8B%E9%A3%8E%E6%97%A0%E6%B3%95%E4%BD%BF%E7%94%A8%E7%9A%84%E7%AE%80%E5%8D%95%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/</url>
    <content><![CDATA[<p>室友跟我说笔记本电脑麦克风不能用了，我去看了看，在麦克风疑难解答里，默认设备里面显示无插座信息，让我一致以为电脑的麦克风坏了。插上耳机，再次测试，耳机的麦克风也不能使用，这可难倒我了，我都推荐室友去电脑店修理一下，最后才发现是系统设置问题，差点让室友多走了弯路。在这里记录和分享一下，自己以后遇到相同问题少走弯路。<span id="more"></span><br>电脑麦克风无法使用的原因：<br>1.设置问题<br>2.设备问题</p>
<p>先来说一下设置问题，这个很重要。win10系统，依次点击 <strong>设置》隐私》应用权限》麦克风</strong> ，里面找到 <strong>允许应用访问你的麦克风</strong> ，确认打开此选项。里面还有一个 <strong>允许桌面应用访问你的麦克风</strong> ，这个跟上面那个有一点区别。<br>如果没有打开 <strong>允许应用访问你的麦克风</strong> 此选项，<strong>设置》系统》声音》输入》测试麦克风</strong> 里面，麦克风是用不了的。室友的那个电脑，戴尔牌子，疑难解答里面，显示默认设备无插座信息，我的联想电脑，即使禁用麦克风，疑难解答里默认设备也是能检测出设备的存在，这可能就是主板问题了。但是疑难解答下一步，疑难解答并不会跟你说设置里已禁用应用访问你的麦克风，而是显示没有发现问题，这个系统逻辑，有点没搞懂。</p>
<p>设备问题，这个也有很多种情况。比如系统会检测不到麦克风的存在，可能直接没有麦克风这个选项。<br>如何确认电脑是否识别出麦克风： <strong>设置》系统》关于》相关设置》设备管理器</strong> ，打开，在里面找到 <strong>音频输入和输出</strong> ，看里面是否有 <strong>麦克风阵列</strong> ，有的话表明系统已识别出麦克风设备。<br>如果系统识别出麦克风设备，设置问题也正常，但是麦克风依然不能使用，这应该是麦克风坏了，这种情况可能需要更换麦克风设备。</p>
]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>教程</tag>
      </tags>
  </entry>
  <entry>
    <title>js实现页面刷新后滚动条不改变位置</title>
    <url>/2020/11/13/js%E5%AE%9E%E7%8E%B0%E9%A1%B5%E9%9D%A2%E5%88%B7%E6%96%B0%E5%90%8E%E6%BB%9A%E5%8A%A8%E6%9D%A1%E4%B8%8D%E6%94%B9%E5%8F%98%E4%BD%8D%E7%BD%AE/</url>
    <content><![CDATA[<p>最近浏览原神米游社，发现页面重新进入后页面浏览位置没有改变，上网查询了一些资料，在自己博客主题上实现了这个功能，在此分享一下</p>
<span id="more"></span>
<p>在网上查询的资料中得知，此功能可以通过js实现，在页面关闭或刷新时，调用window.onbeforeunload函数将当前页面滚动条的滚动高度存储在当前页面的cookie中，页面载入时，读取当前页面cookie中存储的滚动条高度，跳转到对应的位置，以下是源码<br><strong>20220528更新：添加判断记录位置是否为0</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">onbeforeunload</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> scrollPos;    </span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="variable language_">window</span>.<span class="property">pageYOffset</span> != <span class="string">&#x27;undefined&#x27;</span>) &#123;</span><br><span class="line">        scrollPos = <span class="variable language_">window</span>.<span class="property">pageYOffset</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="variable language_">document</span>.<span class="property">compatMode</span> != <span class="string">&#x27;undefined&#x27;</span> &amp;&amp;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">compatMode</span> != <span class="string">&#x27;BackCompat&#x27;</span>) &#123;</span><br><span class="line">        scrollPos = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="variable language_">document</span>.<span class="property">body</span> != <span class="string">&#x27;undefined&#x27;</span>) &#123;</span><br><span class="line">        scrollPos = <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollTop</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">cookie</span>=<span class="string">&quot;scrollTop=&quot;</span>+scrollPos; <span class="comment">//存储滚动条位置到cookies中</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>)</span><br><span class="line">&#123; </span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="property">cookie</span>.<span class="title function_">match</span>(<span class="regexp">/scrollTop=([^;]+)(;|$)/</span>)!=<span class="literal">null</span>)&#123;</span><br><span class="line">        <span class="keyword">var</span> arr=<span class="variable language_">document</span>.<span class="property">cookie</span>.<span class="title function_">match</span>(<span class="regexp">/scrollTop=([^;]+)(;|$)/</span>); <span class="comment">//cookies中不为空，则读取滚动条位置</span></span><br><span class="line">        <span class="comment">// 大于0时跳转至上次记录位置</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">parseInt</span>(arr[<span class="number">1</span>]) &gt; <span class="number">0</span>)&#123;</span><br><span class="line">          <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span>=<span class="built_in">parseInt</span>(arr[<span class="number">1</span>]);</span><br><span class="line">          <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollTop</span>=<span class="built_in">parseInt</span>(arr[<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>由于yilia主题的特殊性（pc页面滚动时window.pageYOffset，document.documentElement.scrollTop，document.body.scrollTop均为0），在这里附上自己适配yilia主题的代码。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">记录文章页面当前位置</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">if</span>(yiliaConfig.<span class="property">isPost</span>&amp;&amp;yiliaConfig.<span class="property">scrollPos</span>)&#123;</span><br><span class="line">  <span class="comment">//在即将离开当前页面（刷新或关闭）时触发</span></span><br><span class="line">  <span class="variable language_">window</span>.<span class="property">onbeforeunload</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> scrollPos=$(<span class="string">&#x27;#container&#x27;</span>).<span class="title function_">scrollTop</span>() || <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span> || <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollTop</span>;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">cookie</span>=<span class="string">&quot;scrollTop=&quot;</span>+scrollPos; <span class="comment">//存储滚动条位置到cookies中</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//在离在开网页时（点击链接，刷新页面，关闭浏览器等）触发</span></span><br><span class="line">  <span class="variable language_">window</span>.<span class="property">onpagehide</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> scrollPos=$(<span class="string">&#x27;#container&#x27;</span>).<span class="title function_">scrollTop</span>() || <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span> || <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollTop</span>;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">cookie</span>=<span class="string">&quot;scrollTop=&quot;</span>+scrollPos; <span class="comment">//存储滚动条位置到cookies中</span></span><br><span class="line">  &#125;</span><br><span class="line">  $(<span class="variable language_">document</span>).<span class="title function_">ready</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;<span class="comment">//建议使用：$(window).on(&#x27;load&#x27;,function()&#123;...&#125;)</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="property">cookie</span>.<span class="title function_">match</span>(<span class="regexp">/scrollTop=([^;]+)(;|$)/</span>)!=<span class="literal">null</span>)&#123;</span><br><span class="line">      <span class="keyword">var</span> arr=<span class="variable language_">document</span>.<span class="property">cookie</span>.<span class="title function_">match</span>(<span class="regexp">/scrollTop=([^;]+)(;|$)/</span>); <span class="comment">//cookies中不为空，则读取滚动条位置</span></span><br><span class="line">      <span class="comment">// 大于0时跳转至上次记录位置</span></span><br><span class="line">      <span class="keyword">if</span>(<span class="built_in">parseInt</span>(arr[<span class="number">1</span>]) &gt; <span class="number">0</span>)&#123;</span><br><span class="line">        $(<span class="string">&#x27;#container&#x27;</span>).<span class="title function_">scrollTop</span>(<span class="built_in">parseInt</span>(arr[<span class="number">1</span>]));</span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span>=<span class="built_in">parseInt</span>(arr[<span class="number">1</span>]);</span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollTop</span>=<span class="built_in">parseInt</span>(arr[<span class="number">1</span>]);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>其中，yiliaConfig.isPost判断当前页面是否为文章页，yiliaConfig.scrollPos为自添加属性，判断是否开启此功能。<br>因为window.onpagehide在mobile端浏览器存在不被触发的情况，所以添加window.onpagehide事件，解决大部分情况，事件区别可自行到相关网站查询。</p>
<p>补充：$(document).ready(function(){…})函数可以简写为$(function{…})，此方法在dom结构加载完毕后执行，如果页面中有一些加载较慢的资源（如图片），不建议使用此方法，会使页面在还没有显示完整时跳转，导致出现问题。<br>这里说一个js原生方法：window.onload，此方法是在页面全部加载完毕后执行，但是只能执行一次，如果多次使用，后面会覆盖前面，不推荐使用。<br>既然不推荐使用，就换一个方法，用jq实现window.onload方法：$(window).on(‘load’,function(){…})，此方法与window.onload方法功能一致，但是没有只能实现一次的限制，可多次使用，不会覆盖。<br>网站上查询的资料里此方法多半写成：$(window).load(function(){…})，这仿佛是jq较早版本支持的方法，新版本已不能使用。</p>
]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>2019-2020学年总结</title>
    <url>/2020/11/06/2019-2020%E5%AD%A6%E5%B9%B4%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<h2 id="大三学年总结"><a href="#大三学年总结" class="headerlink" title="大三学年总结"></a>大三学年总结</h2><h2 id="学院：理学院-班级：信息17402"><a href="#学院：理学院-班级：信息17402" class="headerlink" title="学院：理学院 班级：信息17402"></a>学院：理学院 班级：信息17402</h2><p><strong>姓名：</strong>&emsp;&emsp;<strong>性别：</strong>&emsp;&emsp;<strong>年龄：</strong>&emsp;&emsp;<strong>职务：</strong></p>
<h3 id="个人总结"><a href="#个人总结" class="headerlink" title="个人总结"></a>个人总结</h3><p>&emsp;&emsp;不知不觉中大学生活已经过了一年，离大二结束的时候已经过了很久。疫情原因，大三的下学期，我们没有返校，开学后，突如其来的大四校园生活让自己有点不知所措。回顾刚刚过去的大三的一年感觉很忙碌，收获很丰富，思想上，学习上，人际交流上有了新的提高，有了自己的想法。大三是大学里面的一个过渡时期，从开始单纯的想着学习的问题，到开始考虑自己未来的问题。大三经历的很多事情，使我开始思考，这也许对我以后对事情的指导都是有帮助的。大三这一年里，学习了很多的专业课，虽然没有取得非常好的成绩，但是自己用功了。不管在学习、生活还是思想上我都以一个认真的态度去面对。大三仅仅是一个个过渡期，经过大三知识的积累和心理的成熟，我相信大四的路我会走好。</p>
<hr>
<p><strong>2020年11月6日</strong></p>
]]></content>
      <tags>
        <tag>大学</tag>
      </tags>
  </entry>
  <entry>
    <title>大型数据库应用复习</title>
    <url>/2020/06/19/%E5%A4%A7%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8%E5%A4%8D%E4%B9%A0/</url>
    <content><![CDATA[<h2 id="大型数据库应用基础知识点"><a href="#大型数据库应用基础知识点" class="headerlink" title="大型数据库应用基础知识点"></a>大型数据库应用基础知识点</h2><p>1.数据库系统分为客户-服务器模式 (C/S) 和三层客户-服务器 (B/S) 模式。<br>2.基于Web的数据库应用采用三层客户-服务器模式( B/S)，第一层为浏览器，第二层为Web服务器，第三层为数据库服务器 。<br>3.模型(Model)是现实世界特征的模拟和抽象，数据模型(Data Model)是一种模型，它能实现对现实世界数据特征的抽象。<span id="more"></span><br>4.现实世界中的客观事物及其联系，按计算机系统的观点对数据进行建模，在机器世界中用逻辑模型(Logic Model)来描述，主要的逻辑模型有层次模型、网状模型和关系模型。<br>5.数据模型(Data Model)是现实世界数据特征的抽象，一般由数据结构、数据操作、数据完整性约束三部分组成。<br>6.数据模型是现实世界的模拟，它是按计算机的观点对数据建立模型，包含数据结构、数据操作和数据完整性三要素，数据模型有层次模型、网状模型、关系模型。<br>7.关系模型建立在严格的数学概念基础上，数据结构简单清晰，用户易懂易用，关系数据库是目前应用最为广泛、最为重要的一种数学模型。<br>8.选择(Selection)指选出满足给定条件的记录，它是从行的角度进行的单目运算，运算对象是一个表，运算结果形成一个新表。<br>9.投影(Projection)是选择表中满足条件的列，它是从列的角度进行的单目运算。<br>10.数据库系统的标准结构是三级模式结构，它包括外模式、模式和内模式 。<br>11.外模式(External Schema)又称子模式或用户模式，位于三级模式的最外层，对应于用户级，它是某个或某几个用户所看到的数据视图，是与某一应用有关的数据的逻辑表示。<br>12.模式(Schema)又称概念模式，也称逻辑模式，位于三级模式的中间层，对应于概念级，它是由数据库设计者综合所有用户的数据，按照统一观点构造的全局逻辑结构，是所有用户的公共数据视图(全局视图)。一个数据库只有一个模式，它是由模式描述语言(模式DDL)来描述和定义的。<br>13.内模式(Internal Schema)又称存储模式，位于三级模式的底层，对应于物理级，它是数据物理结构和存储方式的描述，是数据在数据库内部的表示方式。一个数据库只有一个内模式,它是由内模式描述语言(内模式DDL)来描述和定义的。<br>14.为了能够在内部实现这三个抽象层次的联系和转换，数据库管理系统在这三级模式之间提供了两级映象：外模式/模式映象，模式/内模式映象。<br>15.概念设计阶段的目标是形成整体数据库的概念结构，它独立于数据库逻辑结构和具体的DBMS，描述概念结构的工具是E-R模型。<br>16.实体之间的联系，可分为一对一的联系、一对多的联系、多对多的联系。<br>17.Oracle数据库的体系结构包括逻辑结构、物理结构和总体结构，其中，逻辑结构为Oracle引入的结构，物理结构为操作系统所拥有的结构。<br>18.表空间(TableSpace)是Oracle数据库中数据的逻辑组织单位，通过表空间来组织数据库中的数据，数据库逻辑上由一个或多个表空间组成，表空间物理上是由一个或多个数据文件组成<br>19.表空间划分为若干段，段由若干个盘区组成，盘区由连续分配的相邻数据块组成 。<br>20.每一个Oracle数据库都有一个或多个数据文件，每一个数据文件只能属于一个表空间，数据文件一旦加入到表空间，就不能从这个表空间中移走，也不能和其它表空间发生联系。<br>日志文件(Log File)用于记录对数据库进行的修改操作和事务操作，文件后缀名为”.LOG”。<br>21.控制文件(Control File)用于记录和维护整个数据库的全局物理结构，它是一个二进制文件，文件后缀名为”.CTL”。<br>22.表空间是存储数据文件的容器，表空间由数据文件组成，数据库的所有系统数据和用户数据都必须放在数据文件中。每一个数据库创建时，系统会默认地为它创建一个SYSTEM表空间<br>23.</p>
<table>
<thead>
<tr>
<th align="center">SQL语言的功能</th>
<th align="center">动词</th>
</tr>
</thead>
<tbody><tr>
<td align="center">数据定义</td>
<td align="center">CREATE,ALTER,DROP</td>
</tr>
<tr>
<td align="center">数据操纵</td>
<td align="center">INSERT,UPDATE,DELETE</td>
</tr>
<tr>
<td align="center">数据查询</td>
<td align="center">SELECT</td>
</tr>
<tr>
<td align="center">数据控制</td>
<td align="center">GRANT,REVOKE</td>
</tr>
</tbody></table>
<p>24.数据操纵语言（Data Manipulation Language, DML）<br>用于对数据库中的数据进行插入、修改、删除等操作，DML包括INSERT、UPDATE、DELETE等语句。<br>25.数据定义语言（Data Definition Language, DDL）<br>用于定义数据库对象，对数据库、数据库中的表、视图等数据库对象进行建立和删除,DDL包括CREATE、ALTER、DROP等语句。<br>26.数据查询语言（Data Query Language, DQL）<br>用于对数据库中的数据进行查询操作，例如用 SELECT语句进行查询操作。<br>27.数据控制语言（Data Control Language, DCL）<br>用于控制用户对数据库的操作权限，DCL包括GRANT、REVOKE等语句。<br>28.为了改变查询结果中显示的列标题，可以在列名后使用AS &lt;列别名&gt;。<br>29.使用SELECT子句对列进行查询时，可以对数字类型的列进行计算<br>30.逻辑运算符包括.AND(与)、OR(或)、 NOT(非)，NOT、AND和OR的使用是有优先级的，三者之中，NOT优先级最高，AND次之，OR优先级最低。<br>31.当有多个表达式时,   先处理算术运算、关系运算,   接着才处理逻辑运算符。<br>32.BETWEEN、NOT BETWEEN、IN是用于指定范围的三个关键字，用于查找字段值在（或不在）指定范围的行。<br>33.模式匹配使用LIKE谓词，LIKE谓词用于指出一个字符串是否与指定的字符串相匹配，其运算对象可以是char、varchar2和date类型的数据，返回逻辑值TRUE或FALSE。<br>34.COUNT函数用于计算组中满足条件的行数或总行数。<br>35.MAX函数用于求出一组数据的最大值，MIN函数用于求出一组数据的最小值，这两个函数都可以适用于任意类型数据。<br>36.GROUP BY子句用于指定需要分组的列。<br>37.SUM函数用于求出一组数据的总和，AVG函数用于求出一组数据的平均值，这两个函数只能针对数值类型的数据。<br>38.HAVING子句用于对分组按指定条件进一步进行筛选，过滤出满足指定条件的分组。</p>
<p>39.在连接谓词表示形式中，连接条件由比较运算符在WHERE子句中给出，将这种表示形式称为连接谓词表示形式，连接谓词又称为连接条件。<br>40.经常用到的连接有等值连接、自然连接和自连接等<br>41.在以JOIN关键字指定连接的表示方式中,在FROM子句中用JOIN关键字指定连接的多个表的表名,用ON子句指定连接条件。<br>42.内连接按照ON所指定的连接条件合并两个表，返回满足条件的行。内连接是系统默认的，可省略INNER关键字。<br>43.集合查询将两个或多个SQL语句的查询结果集合并起来，利用集合进行查询处理以完成特定的任务，使用四个集合操作符(Set Operator) UNION、UNION ALL、INTERSECT和MINUS，将两个或多个SQL查询语句结合成一个单独SQL查询语句。<br>44.在构成复合查询的各个单独的查询中，列数和列的顺序必须匹配，数据类型必须兼容。<br>45.UNION语句将第一个查询中的所有行与第二个查询的所有行相加，消除重复行并且返回结果。<br>46.UNION ALL语句与标准的UNION语句工作方式基本相同，唯一不同的是UNION ALL不会从列表中滤除重复行。<br>47.INTERSECT操作会获取两个查询，对值进行汇总，并且返回同时存在于两个结果集中的行。只由第一个查询、或者第二个查询返回的那些行不包含在结果集中。<br>48.MINUS集合操作会返回所有从第一个查询中有但是第二个查询中没有的那些行。<br>49.在IN子查询中，首先执行括号内的子查询，再执行父查询，子查询的结果作为父查询的查询条件。<br>50.关键字ALL、SOME和ANY用于对比较运算的限制，ALL指定表达式要与子查询结果集中每个值都进行比较，当表达式与子查询结果集中每个值都满足比较关系时，才返回TRUE，否则返回FALSE；SOME和ANY指定表达式要只与子查询结果集中某个值满足比较关系时，就返回TRUE，否则返回FALSE。<br>51.在EXISTS子查询中，EXISTS谓词只用于测试子查询是否返回行，若子查询返回一个或多个行，则EXISTS返回TRUE，否则返回FALSE，如果为NOT EXISTS，其返回值与EXIST相反。<br>52.</p>
<table>
<thead>
<tr>
<th align="left">运算符</th>
<th align="left">含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">IN</td>
<td align="left">与子查询返回结果中任何一个值相等</td>
</tr>
<tr>
<td align="left">NOT IN</td>
<td align="left">与子查询返回结果中任何一个结果都不相等</td>
</tr>
<tr>
<td align="left">&gt;ANY</td>
<td align="left">比子查询返回结果中某一个值大</td>
</tr>
<tr>
<td align="left">=ANY</td>
<td align="left">与子查询返回结果中某一个值相等</td>
</tr>
<tr>
<td align="left">&lt;ANY</td>
<td align="left">比子查询返回结果中某一个值小</td>
</tr>
<tr>
<td align="left">&gt;ALL</td>
<td align="left">比子查询返回结果中所有值都大</td>
</tr>
<tr>
<td align="left">&lt;ALL</td>
<td align="left">比子查询返回结果中任何一个值都小</td>
</tr>
<tr>
<td align="left">EXISTS</td>
<td align="left">子查询至少返回一行时条件为TRUE</td>
</tr>
<tr>
<td align="left">NOT EXISTS</td>
<td align="left">子查询不返回任何一行时条件为TRUE</td>
</tr>
</tbody></table>
<p>53.视图(View)通过SELECT查询语句定义，它是从一个或多个表(或视图)导出的，用来导出视图的表称为基表(Base Table)，导出的视图称为虚表。在数据库中，只存储视图的定义，不存放视图对应的数据，这些数据仍然存放在原来的基表中。<br>54.视图可以由一个基表中选取的某些行和列组成，也可以由多个表中满足一定条件的数据组成，视图就像是基表的窗口，它反映了一个或多个基表的局部数据。<br>55.视图(View)的优点：<br>★ 方便用户的查询和处理，简化数据操作。<br>★ 简化用户的权限管理，增加安全性。<br>★ 方便数据共享。<br>★ 屏蔽数据库的复杂性。<br>★ 可以重新组织数据。<br>56.更新视图是指通过试图进行插入、删除和修改数据，由于视图是不存储数据的虚表，对视图的更新最终转化为对基表的更新。通过更新视图数据可更新基表的数据，但只有满足条件的视图才能更新。<br>57.数据完整性一般包括域完整性、实体完整性、参照完整性，用户定义完整性<br>58.域完整性指列数据输入的有效性，又称列完整性，通过CHECK约束、DEFAULT约束、NOT NULL约束、数据类型和规则等实现域完整性。<br>59.实体完整性要求表中有一个主键，其值不能为空且能唯一地标识对应的记录，又称为行完整性，通过PRIMARY KEY约束、UNIQUE约束、索引或 IDENTITY 属性等实现数据的实体完整性。<br>60.参照完整性保证主表中的数据与从表中数据的一致性，又称为引用完整性，参照完整性确保键值在所有表中一致，通过定义主键(PRIMARY KEY)与外键(FOREIGN KEY)之间的对应关系实现参照完整性。<br>61.如果定义了两个表之间的参照完整性，则要求：<br>● 从表不能引用不存在的键值。<br>● 如果主表中的键值更改了，那么在整个数据库中，对从表中该键值的所有引用要进行一致的更改。<br>● 如果要删除主表中的某一记录，应先删除从表中与该记录匹配的相关记录。<br>62.总括起来， Oracle数据库中的数据完整性包括域完整性、实体完整性、参照完整性，和实现上述完整性的约束，其中：<br>● CHECK约束，检查约束，实现域完整性。<br>● NOT NULL约束，非空约束，实现域完整性。<br>● PRIMARY KEY约束，主键约束，实现实体完整性。<br>● UNIQUE KEY约束，唯一性约束，实现实体完整性。<br>● FOREIGN KEY约束，外键约束，实现参照完整性。<br>63.通过PRIMARY KEY约束定义主键，一个表只能有一个PRIMARY KEY约束，且PRIMARY KEY约束不能取空值，Oracle为主键自动创建唯一性索引，实现数据的唯一性。<br>64.通过UNIQUE约束定义唯一性约束，为了保证一个表非主键列不输入重复值，应在该列定义UNIQUE约束。<br>65.PRIMARY KEY约束与UNIQUE约束主要区别如下：<br>● 一个表只能创建一个PRIMARY KEY约束，但可创建多个UNIQUE约束。<br>● PRIMARY KEY约束的列值不允许为NULL，UNIQUE约束的列值可取NULL。<br>● 创建PRIMARY KEY约束时，系统自动创建聚集索引，创建UNIQUE约束时，系统自动创建非聚集索引。PRIMARY KEY约束与UNIQUE约束都不允许对应列存在重复值<br>66.常量(Constant)的值在定义时被指定，不能改变，常量的使用格式取决于值的数据类型。<br>67.变量(Variable)和常量都用于存储数据，但变量的值可以根据程序运行的需要随时改变，而常量的值在程序运行中是不能改变的。<br>68.%TYPE属性提供了变量和数据库列的数据类型，在声明一个包含数据库值的变量时非常有用。<br>69.%ROWTYPE属性声明描述表的行数据的记录。<br>70.PL/SQL的基本逻辑结构包括顺序结构、条件结构和循环结构。<br>71.PL/SQL不是普通的程序语言，而是面向过程语言和SQL语言的结合，可使用SELECT-INTO语句将SQL语言查询结果存入变量。<br>72.简单CASE语句设定一个变量的值，然后顺序比较WHEN关键字后给定值，如果遇到第1个相等的给定值，则执行THEN关键字后的赋值语句，并结束CASE语句。<br>73.搜索CASE语句在WHEN关键字后设置布尔表达式，选择第一个为TRUE的布尔表达式，执行THEN关键字后的语句，并结束CASE语句。<br>74.循环结构的功能是重复执行循环体中的语句，直至满足退出条件退出循环，下面分别介绍LOOP-EXIT-END循环、LOOP-EXIT-WHEN-END循环、WHILE-LOOP-END循环和FOR-IN-LOOP-END循环。<br>75.&lt;循环体&gt;中包含需要重复执行的语句，IF后条件表达式值为TRUE，执行EXIT退出循环；否则继续循环，直到满足条件表达式的条件退出循环。<br>76.异常是在Oracle数据库中运行时出现的错误，使语句不能正常运行，并可能造成更大的错误甚至整个系统崩溃。<br>77.异常处理代码在EXCEPTION部分实现，当遇到预先定义的错误时，错误被相应的WHEN-THEN语句捕捉，THEN后的语句代码将执行，对错误进行处理。<br>78.用户可以通过自定义异常来处理错误的发生，调用异常处理需要使用RAISE语句。<br>79.在Oracle中，创建用户定义函数使用CREATE FUNCTION语句。<br>80.参数类型：参数类型有IN、OUT、IN OUT三种模式，默认为IN模式。<br>■ IN模式：表示传递给IN模式的形参，只能将实参的值传递给形参，对应IN模式的实参可以是常量或变量。<br>■ OUT模式：表示OUT模式的形参将在函数中被赋值，可以将形参的值传给实参，对应OUT模式的实参必须是变量。<br>■ IN OUT模式：IN OUT模式的形参既可以传值也可以被赋值，对应IN OUT模式的实参必须是变量。<br>81.游标包括显式游标(Explicit Cursor)和隐式游标(Implicit Cursor)，显式游标的操作要遵循声明游标、打开游标、读取数据和关闭游标等步骤，而使用隐式游标不需执行以上步骤，只需让PL/SQL处理游标并简单地编写SELECT语句。<br>82.存储过程是一种命名PL/SQL程序块，它将一些相关的SQL语句，流程控制语句组合在一起，用于执行某些特定的操作或者任务。将经常需要执行的特定的操作写成过程，通过过程名，就可以多次调用过程，从而实现程序的模块化设计，这种方式提高了程序的效率，节省了用户的时间。<br>83.存储过程具有以下特点：<br>● 存储过程在服务器端运行，执行速度快。<br>● 存储过程增强了数据库的安全性。<br>● 存储过程允许模块化程序设计。<br>● 存储过程可以提高系统性能。<br>84.自定义函数和存储过程区别</p>
<table>
<thead>
<tr>
<th align="center">存储过程</th>
<th align="center">函数</th>
</tr>
</thead>
<tbody><tr>
<td align="center">实现在数据库中完成某种特定的操作和任务</td>
<td align="center">通常是对数据的操作（选择或计算）</td>
</tr>
<tr>
<td align="center">声明用PROCEDURE</td>
<td align="center">声明用FUNCTION</td>
</tr>
<tr>
<td align="center">声明时用不需要描述返回值类型</td>
<td align="center">声明时用需要描述返回值类型，要用return语句</td>
</tr>
<tr>
<td align="center">作为一个独立PL/SQL语句执行</td>
<td align="center">不能独立执行，必须作为表达式的一部分调用，或用select语句</td>
</tr>
<tr>
<td align="center">通过out、in out可以有零个或多个返回值，没有return语句</td>
<td align="center">通过return语句只有一个返回值，也可通过out带回返回值</td>
</tr>
</tbody></table>
<p>85.触发器是一种特殊的存储过程，与表的关系密切，其特殊性主要体现在不需要用户调用，而是在对特定表（或列）进行特定类型的数据修改时激发。<br>86.触发器与存储过程的差别如下：<br>● 触发器是自动执行，而存储过程需要显式调用才能执行。<br>● 触发器是建立在表或视图之上的，而存储过程是建立在数据库之上的。<br>87.触发器用于实现数据库的完整性，触发器具有以下优点：<br>● 可以提供比CHECK 约束、FOREIGN KEY约束更灵活、更复杂、更强大的约束。<br>● 可对数据库中的相关表实现级联更改。<br>● 可以评估数据修改前后表的状态，并根据该差异采取措施。<br>● 强制表的修改要合乎业务规则。<br>88.Oracle的触发器有三类：DML 触发器、INSTEAD OF触发器、系统触发器。<br>89.DML 触发器是当发生数据操纵语言 (DML) 事件时要执行的操作。DML 触发器用于在数据被修改时强制执行业务规则，以及扩展 CHECK 约束、FOREIGN KEY约束的完整性检查逻辑。<br>90.由于DML语句可能作用于多行，因此触发器的PL/SQL语句可能为作用的每一行运行一次，这样的触发器称为行级触发器(row-level trigger)；也可能为所有行只运行一次，这样的触发器称为语句级触发器(statement-level trigger)。如果未使用FOR EACH ROW子句，指定为语句级触发器，触发器激活后只执行一次。如果使用FOR EACH ROW子句，指定为行级触发器，触发器将针对每一行执行一次。WHEN子句用于指定触发条件。<br>91.在行级触发器执行过程中，PL/SQL语句可以访问受触发器语句影响的每行的列值。“:OLD.列名”表示变化前的值，“:NEW.列名”表示变化后的值。<br>92.创建DML 触发器的语法结构包括触发器定义和触发体两部分。触发器定义包含指定触发器名称、指定触发时间、指定触发事件、指定触发对象、指定触发级别等。触发体由PL/SQL语句块组成，它是触发器的执行部分。<br>93.INSTEAD OF触发器(替代触发器)，一般用于对视图的DML触发。当视图由多个基表连接而成，则该视图不允许进行INSERT、UPDATE和DELETE等 DML操作。在视图上编写INSTEAD OF触发器后，INSTEAD OF触发器只执行触发体中的PL/SQL语句，而不执行DML语句，这样就可以通过在INSTEAD OF触发器中编写适当的代码，进行对组成视图的各个基表的操作。<br>94.Oracle提供的系统触发器可以被数据定义语句DDL事件或数据库系统事件触发。<br>95.Oracle数据库系统采用用户、角色、权限、概要文件、审计等安全管理策略来实行数据的安全性。<br>96.户是数据库的使用者和管理者，用户管理是Oracle数据库安全管理的核心和基础。每个连接到数据库的用户都必须是系统的合法用户，用户要使用Oracle的系统资源，必须拥有相应的权限。<br>97.权限是预先定义好的执行某种SQL语句或访问其他用户模式对象的能力。权限分为系统权限和数据库对象权限两类。<br>98.系统权限是指在系统级控制数据库的存取和使用的机制，即执行某种SQL语句的能力。例如，启动、停止数据库，修改数据库参数，连接到数据库，以及创建、删除、更改模式对象（如表、视图、过程等）等权限。<br>99.对象权限是指在对象级控制数据库的存取和使用的机制，即访问其他用户模式对象的能力。例如，用户可以存取哪个用户模式中的哪个对象，能对该对象进行查询、插入、更新操作等。<br>100.系统权限的授予使用GRANT语句。<br>101.用WITH ADMIN OPTION，则允许被授予者进一步为其他用户或角色授予权限，此即系统权限的传递性。<br>102.数据库管理员或者具有向其他用户授权的用户可以使用REVOKE语句将已经授予的系统权限收回。<br>103.Oracle对象有下列9种权限。<br>（1）SELECT：读取表、视图、序列中的行。<br>（2）UPDATE：更新表、视图和序列中的行。<br>（3）DELETE：删除表、视图中的数据。<br>（4）INSERT：向表和视图中插入数据。<br>（5）EXECUTE：执行类型、函数、包和过程。<br>（6）READ：读取数据字典中的数据。<br>（7）INDEX：生成索引。<br>（8）REFERENCES：生成外键。<br>（9）ALTER：修改表、序列、同义词中的结构。<br>104.角色(Role)是一组权限，可以授予用户和其它角色，也可以从用户和其它角色中收回。<br>105.角色、用户及权限是一组有密切关系的对象，既然角色是一组权限的集合，那么他被授予某个用户时才能有意义。<br>106.角色所对应的权限集合中可以包含系统权限和对象权限。角色可以授予另外一个角色，但需要避免将角色授予它本身，也不能循环授予。<br>107.DBA可以为数据库用户组创建用户自定义的角色，赋予一般的权限需要。<br>108.当角色被建立后，没有任何权限，可以使用GRANT语句给角色授予权限，同时可以使用REVOKE语句取消角色的权限。<br>109.使用SET ROLE语句为数据库用户的会话设置角色的启用和禁用。</p>
<h2 id="查询例题"><a href="#查询例题" class="headerlink" title="查询例题"></a>查询例题</h2><p>在course表中查询没有任课教师的课程名称</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> cname <span class="keyword">from</span> course</span><br><span class="line"><span class="keyword">where</span> tno <span class="keyword">is</span> <span class="keyword">null</span></span><br></pre></td></tr></table></figure>
<p>在score表中统计平均成绩在80以上的学生的平均分和课程数</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> sno,<span class="built_in">avg</span>(grade) ,<span class="built_in">count</span>(<span class="operator">*</span>)</span><br><span class="line">  <span class="keyword">from</span> score</span><br><span class="line">  <span class="keyword">group</span> <span class="keyword">by</span> sno</span><br><span class="line">  <span class="keyword">having</span> <span class="built_in">avg</span>(grade)<span class="operator">&gt;=</span><span class="number">80</span></span><br></pre></td></tr></table></figure>
<p>在score表中统计每门课程的人数和平均分</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> cno,<span class="built_in">count</span>(<span class="operator">*</span>),<span class="built_in">avg</span>(grade) </span><br><span class="line">  <span class="keyword">from</span> score</span><br><span class="line">  <span class="keyword">group</span> <span class="keyword">by</span> cno</span><br></pre></td></tr></table></figure>
<p>在teacher表中统计各职称的人数</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> title,<span class="built_in">count</span>(<span class="operator">*</span>) </span><br><span class="line">  <span class="keyword">from</span> teacher</span><br><span class="line">  <span class="keyword">group</span> <span class="keyword">by</span> title</span><br></pre></td></tr></table></figure>
<p>查询计算机专业学生的最高、最低和平均学分</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">max</span>(tc),<span class="built_in">min</span>(tc),<span class="built_in">avg</span>(tc)</span><br><span class="line"> <span class="keyword">from</span> student</span><br><span class="line"> <span class="keyword">where</span> speciality<span class="operator">=</span><span class="string">&#x27;计算机&#x27;</span></span><br></pre></td></tr></table></figure>
<p>查询计算机专业及选修了英语的学生</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> sno, sname, ssex</span><br><span class="line">  <span class="keyword">FROM</span> student</span><br><span class="line">  <span class="keyword">WHERE</span> speciality<span class="operator">=</span><span class="string">&#x27;计算机&#x27;</span></span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span> a.sno, a.sname, a.ssex </span><br><span class="line">  <span class="keyword">FROM</span> student a, score b,course c</span><br><span class="line">  <span class="keyword">WHERE</span> a.sno<span class="operator">=</span>b.sno <span class="keyword">AND</span> b.cno<span class="operator">=</span> c.cno <span class="keyword">and</span> c.cname<span class="operator">=</span><span class="string">&#x27;英语&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>查找选修了8001课程且为计算机专业学生的姓名课程名称及成绩（用JION关键字实现连接）</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> a.sname <span class="keyword">AS</span> 姓名, b.cname <span class="keyword">AS</span> 课程名, c.grade <span class="keyword">AS</span> 成绩</span><br><span class="line">  <span class="keyword">FROM</span> student a <span class="keyword">join</span> score c <span class="keyword">on</span> a.sno<span class="operator">=</span>c.sno <span class="keyword">join</span> course b <span class="keyword">on</span> b.cno<span class="operator">=</span>c.cno</span><br><span class="line">  <span class="keyword">WHERE</span> a.speciality<span class="operator">=</span><span class="string">&#x27;计算机&#x27;</span><span class="keyword">and</span> b.cno<span class="operator">=</span><span class="string">&#x27;8001&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>查询既选修了英语又选修了数据库系统的学生的学号、姓名、出生日期和专业</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> a.sno <span class="keyword">AS</span> 学号, a.sname <span class="keyword">AS</span> 姓名, a.sbirthday <span class="keyword">AS</span> 出生日期, a.speciality <span class="keyword">AS</span> 专业</span><br><span class="line">  <span class="keyword">FROM</span> student a, course b, score c</span><br><span class="line">  <span class="keyword">WHERE</span> a.sno<span class="operator">=</span>c.sno <span class="keyword">AND</span> b.cno<span class="operator">=</span>c.cno <span class="keyword">AND</span> b.cname<span class="operator">=</span><span class="string">&#x27;英语&#x27;</span></span><br><span class="line"><span class="keyword">INTERSECT</span> </span><br><span class="line"><span class="keyword">SELECT</span> a.sno <span class="keyword">AS</span> 学号, a.sname <span class="keyword">AS</span> 姓名, a.sbirthday <span class="keyword">AS</span> 出生日期, a.speciality <span class="keyword">AS</span> 专业</span><br><span class="line">  <span class="keyword">FROM</span> student a, course b, score c</span><br><span class="line">  <span class="keyword">WHERE</span> a.sno<span class="operator">=</span>c.sno <span class="keyword">AND</span> b.cno<span class="operator">=</span>c.cno <span class="keyword">AND</span> b.cname<span class="operator">=</span><span class="string">&#x27;数据库系统&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>查询既选修了’1201’又未选修’1004’的学生的学号、姓名、出生日期和专业。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> a.sno <span class="keyword">AS</span> 学号, a.sname <span class="keyword">AS</span> 姓名, a.sbirthday <span class="keyword">AS</span> 出生日期, a.speciality <span class="keyword">AS</span> 专业</span><br><span class="line">  <span class="keyword">FROM</span> student a,  score c</span><br><span class="line">  <span class="keyword">WHERE</span> a.sno<span class="operator">=</span>c.sno <span class="keyword">AND</span> b.cno<span class="operator">=</span><span class="string">&#x27;1201&#x27;</span></span><br><span class="line">MINUS</span><br><span class="line"><span class="keyword">SELECT</span> a.sno <span class="keyword">AS</span> 学号, a.sname <span class="keyword">AS</span> 姓名, a.sbirthday <span class="keyword">AS</span> 出生日期, a.speciality <span class="keyword">AS</span> 专业</span><br><span class="line"> <span class="keyword">FROM</span> student a,  score c</span><br><span class="line">  <span class="keyword">WHERE</span> a.sno<span class="operator">=</span>c.sno <span class="keyword">AND</span> b.cno<span class="operator">=</span><span class="string">&#x27;1004&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>查询了选修英语的学生的姓名和成绩</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> a.sname, c.grade </span><br><span class="line"><span class="keyword">from</span> student a,course b,score C</span><br><span class="line"><span class="keyword">where</span> a.sno<span class="operator">=</span>c.sno <span class="keyword">and</span> b.cno<span class="operator">=</span>c.cno <span class="keyword">and</span> b.cname<span class="operator">=</span><span class="string">&#x27;英语&#x27;</span></span><br></pre></td></tr></table></figure>
<p>选修了高等数学且成绩在80分以上的学生的情况</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> a.<span class="operator">*</span></span><br><span class="line"><span class="keyword">from</span> student a,course b,score C</span><br><span class="line"><span class="keyword">where</span> a.sno<span class="operator">=</span>c.sno <span class="keyword">and</span> b.cno<span class="operator">=</span>c.cno <span class="keyword">and</span> b.cname<span class="operator">=</span><span class="string">&#x27;高等数学&#x27;</span>　<span class="keyword">and</span> c.grade<span class="operator">&gt;=</span><span class="number">80</span></span><br></pre></td></tr></table></figure>
<p>查询数字电路任课教师的姓名和性别</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> d.tname, d.tsex </span><br><span class="line"><span class="keyword">from</span> course b, teacher d</span><br><span class="line"><span class="keyword">where</span> b.tno<span class="operator">=</span> d.tno <span class="keyword">and</span> b.cname<span class="operator">=</span><span class="string">&#x27;数字电路&#x27;</span></span><br></pre></td></tr></table></figure>
<p>查询选修计算机学院教师讲授课程的学生姓名和成绩</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> a.sname,c.grade</span><br><span class="line"><span class="keyword">from</span> student a,course b,score C，teacher d</span><br><span class="line"><span class="keyword">where</span> a.sno<span class="operator">=</span>c.sno <span class="keyword">and</span> b.cno<span class="operator">=</span>c.cno <span class="keyword">and</span>　b.tno<span class="operator">=</span> d.tno <span class="keyword">and</span> d.school<span class="operator">=</span><span class="string">&#x27;计算机学院&#x27;</span></span><br></pre></td></tr></table></figure>
<p>查询选修了通信学院教师每门课程的平均成绩</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> b.cno,   <span class="built_in">avg</span>(c.grade)</span><br><span class="line"><span class="keyword">from</span> course b,score C，teacher d</span><br><span class="line"><span class="keyword">where</span>  b.cno<span class="operator">=</span>c.cno <span class="keyword">and</span>　b.tno<span class="operator">=</span> d.tno <span class="keyword">and</span> d.school<span class="operator">=</span><span class="string">&#x27;通信学院&#x27;</span></span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> b.cno</span><br></pre></td></tr></table></figure>
<p>查询student表中女生学分在50以上的学生学号、姓名、专业</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> sno,sname, speciality </span><br><span class="line"><span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">where</span> ssex<span class="operator">=</span><span class="string">&#x27;女&#x27;</span><span class="keyword">and</span> tc<span class="operator">&gt;</span><span class="number">50</span></span><br></pre></td></tr></table></figure>
<p>在course表中学分是4的课程编号和课程名称</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> cno,cname</span><br><span class="line"><span class="keyword">FROM</span> course</span><br><span class="line"><span class="keyword">where</span> credit<span class="operator">=</span><span class="number">4</span></span><br></pre></td></tr></table></figure>
<p>在teacher表中职称在副教授以上的教师信息</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> teacher</span><br><span class="line"><span class="keyword">where</span> title <span class="keyword">in</span> (<span class="string">&#x27;副教授&#x27;</span>,<span class="string">&#x27;教授&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p>在score表中查询成绩不在60-70之间的学生信息</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> score</span><br><span class="line"><span class="keyword">where</span> grade <span class="keyword">not</span> <span class="keyword">between</span> <span class="number">60</span> <span class="keyword">and</span> <span class="number">70</span></span><br></pre></td></tr></table></figure>
<p>在score表中统计平均成绩在80以上的学生的平均分和课程数</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> sno,<span class="built_in">avg</span>(grade) ,<span class="built_in">count</span>(<span class="operator">*</span>)</span><br><span class="line">  <span class="keyword">from</span> score</span><br><span class="line">  <span class="keyword">group</span> <span class="keyword">by</span> sno</span><br><span class="line">  <span class="keyword">having</span> <span class="built_in">avg</span>(grade)<span class="operator">&gt;=</span><span class="number">80</span></span><br></pre></td></tr></table></figure>
<p>查询了选修高等数学的学生的姓名和成绩</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> a.sname, c.grade </span><br><span class="line"><span class="keyword">from</span> student a,course b,score C</span><br><span class="line"><span class="keyword">where</span> a.sno<span class="operator">=</span>c.sno <span class="keyword">and</span> b.cno<span class="operator">=</span>c.cno <span class="keyword">and</span> b.cname<span class="operator">=</span><span class="string">&#x27;高等数学&#x27;</span></span><br></pre></td></tr></table></figure>
<p>查询计算机网络任课教师的姓名和性别</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> d.tname, d.tsex </span><br><span class="line"><span class="keyword">from</span> course b, teacher d</span><br><span class="line"><span class="keyword">where</span> b.tno<span class="operator">=</span> d.tno <span class="keyword">and</span> b.cname<span class="operator">=</span><span class="string">&#x27;计算机网络&#x27;</span></span><br></pre></td></tr></table></figure>
<p>用子查询实现,查询数字电路任课教师的姓名和性别</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span>  tname,  tsex </span><br><span class="line"><span class="keyword">from</span>    teacher  </span><br><span class="line"><span class="keyword">where</span>  tno <span class="keyword">in</span>(<span class="keyword">select</span> tno <span class="keyword">from</span> course <span class="keyword">where</span> cname<span class="operator">=</span><span class="string">&#x27;数字电路&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>创建一个只读视图,实现选修了英语且成绩在80分以上的学生的情况</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> replace  <span class="keyword">view</span> view1</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line"><span class="keyword">select</span> a.<span class="operator">*</span></span><br><span class="line"><span class="keyword">from</span> student a,course b,score C</span><br><span class="line"><span class="keyword">where</span> a.sno<span class="operator">=</span>c.sno <span class="keyword">and</span> b.cno<span class="operator">=</span>c.cno <span class="keyword">and</span> b.cname<span class="operator">=</span><span class="string">&#x27;英语&#x27;</span>　<span class="keyword">and</span> c.grade<span class="operator">&gt;=</span><span class="number">80</span></span><br><span class="line"><span class="keyword">with</span> read <span class="keyword">only</span>;</span><br></pre></td></tr></table></figure>
<p>查询通信专业学生的最高、最低和平均学分</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">max</span>(tc),<span class="built_in">min</span>(tc),<span class="built_in">avg</span>(tc)</span><br><span class="line"> <span class="keyword">from</span> student</span><br><span class="line"> <span class="keyword">where</span> speciality<span class="operator">=</span><span class="string">&#x27;通信&#x27;</span></span><br></pre></td></tr></table></figure>
<h2 id="存储过程例题"><a href="#存储过程例题" class="headerlink" title="存储过程例题"></a>存储过程例题</h2><p>创建一个带参数的存储过程 ，查询指定学号学生的总学分,并写出调用过程;把实现该功能的存储过程改写成函数的定义和完整定义形式。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> replace <span class="keyword">procedure</span> spTc(p_sno <span class="keyword">in</span> <span class="type">char</span>)</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line">credit number;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line"><span class="keyword">select</span> tc <span class="keyword">into</span> credit <span class="keyword">from</span> student</span><br><span class="line"><span class="keyword">where</span> sno<span class="operator">=</span>p_sno;</span><br><span class="line">dbms_output.put_line(credit);</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line">credit <span class="keyword">or</span> replace <span class="keyword">function</span> spTcS(p_sno <span class="keyword">in</span> <span class="type">char</span>)</span><br><span class="line"><span class="keyword">return</span> number</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line">credit number;</span><br><span class="line"><span class="keyword">begin</span> </span><br><span class="line"><span class="keyword">select</span> tc <span class="keyword">into</span> credit <span class="keyword">from</span> student</span><br><span class="line"><span class="keyword">where</span> sno<span class="operator">=</span>p_sno;</span><br><span class="line"><span class="keyword">return</span> credit;</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure>
<p>创建一个带输出参数的存储过程spNumber，查找指定专业的学生人数（包含存储过程调用）</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> replace spNumber(p_speciality <span class="keyword">in</span> <span class="type">char</span>,p_num <span class="keyword">out</span> number)</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">into</span> p_num <span class="keyword">from</span> student</span><br><span class="line"><span class="keyword">where</span> speciality<span class="operator">=</span>p_speciality;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line">v_num number;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">spnumber(<span class="string">&#x27;计算机&#x27;</span>,v_num);</span><br><span class="line">dbms_output.put_line(v_num);</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure>
<p>编写函数实现，输入学生的姓名和课程名查询学生的成绩（包含函数调用过程）</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE <span class="keyword">FUNCTION</span> funGrade(p_sname <span class="keyword">IN</span> <span class="type">char</span>,p_cname <span class="keyword">IN</span> <span class="type">char</span>)</span><br><span class="line"><span class="keyword">RETURN</span> number</span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line"><span class="keyword">result</span> number;</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line"><span class="keyword">select</span> grade <span class="keyword">INTO</span> <span class="keyword">result</span></span><br><span class="line"><span class="keyword">from</span> student a,course b,score c</span><br><span class="line"><span class="keyword">where</span> a.sno<span class="operator">=</span>c.sno <span class="keyword">and</span> b.cno<span class="operator">-</span>c.cno <span class="keyword">and</span> sname<span class="operator">=</span>p_sname <span class="keyword">and</span> cname<span class="operator">=</span>p_cname;</span><br><span class="line"><span class="keyword">RETURN</span>(<span class="keyword">result</span>);</span><br><span class="line"><span class="keyword">END</span> funGrade;</span><br><span class="line"><span class="keyword">DECLARE</span></span><br><span class="line">v_gd number;</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">v_gd:<span class="operator">=</span>funGrade(<span class="string">&#x27;小明&#x27;</span>;<span class="string">&#x27;英语&#x27;</span>);</span><br><span class="line">DBMS_OUTPUT.PUT_LINE(<span class="string">&#x27;小明的英语成绩是: &#x27;</span><span class="operator">||</span>v_gd);</span><br><span class="line"><span class="keyword">END</span>;</span><br></pre></td></tr></table></figure>
<p>创建一个存储过程spNumberAvg，输入学号后，将该生所选课程数和平均分存人输出参数内（包含存储过程调用 ）。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE <span class="keyword">PROCEDURE</span> spNumberAvg(p_sno <span class="keyword">IN</span> <span class="type">CHAR</span>,p_num <span class="keyword">OUT</span> NUMBER,p_avg <span class="keyword">OUT</span> NUMBER)</span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(cno) <span class="keyword">into</span> p_num</span><br><span class="line"><span class="keyword">from</span> score</span><br><span class="line"><span class="keyword">where</span> sno<span class="operator">=</span>p_sno;</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(grade) <span class="keyword">into</span> p_avg</span><br><span class="line"><span class="keyword">from</span> score</span><br><span class="line"><span class="keyword">where</span> sno<span class="operator">=</span>p_sno;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line"><span class="keyword">DECLARE</span></span><br><span class="line">v_num number;</span><br><span class="line">v_avg number;</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">spNumberAvg(<span class="string">&#x27;0111101&#x27;</span>,v_num,v_avg);</span><br><span class="line">DBMS_OUTPUT.PUT_LINE(<span class="string">&#x27;学号0111101的学生的选课数是: &#x27;</span><span class="operator">||</span>v_num<span class="operator">||</span><span class="string">&#x27;, 平均分是: &#x27;</span><span class="operator">||</span>avg);</span><br><span class="line"><span class="keyword">END</span>;</span><br></pre></td></tr></table></figure>
<p>创建一个存储过程spSpecialityCnameAvg,求指定专业和课程的平均分。<br>解：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">(<span class="number">1</span>)</span><br><span class="line">CREAT <span class="keyword">OR</span> REPLACE PROCEDORE spSpecialityCnameAvg(p_spec <span class="keyword">IN</span> student. Speciality<span class="operator">%</span>TYPE, p_cname <span class="keyword">IN</span> course.cname<span class="operator">%</span>TYPE, p_avg <span class="keyword">OUT</span> number )</span><br><span class="line">  <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">  <span class="keyword">SELECT</span> AVG（grade）TNTO p_avg</span><br><span class="line"><span class="keyword">FROM</span> student a, course b, score c</span><br><span class="line"><span class="keyword">WHERE</span> a.sno<span class="operator">=</span>c.sno <span class="keyword">AND</span> b.cno<span class="operator">=</span>c.cno <span class="keyword">AND</span> a.Speciality<span class="operator">=</span>p_spec <span class="keyword">AND</span> b.cname<span class="operator">=</span>p_cname;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line">(<span class="number">2</span>)</span><br><span class="line"><span class="keyword">DECLARE</span> </span><br><span class="line">v_avg number(<span class="number">4</span>,<span class="number">2</span>);</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">spSpecialityCnameAvg(‘计算机’，’数据库系统’, v_avg )</span><br><span class="line">  DBMS_OUTPUT.PUT_LINE(‘计算机专业数据库系统的平均分是：’<span class="operator">||</span>v_avg);</span><br><span class="line"><span class="keyword">END</span>;</span><br></pre></td></tr></table></figure>
<p>创建一个存储过程spCnameMax,求指定课程号的课程名和最高分。<br>解：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">（<span class="number">1</span>）</span><br><span class="line">CREAT <span class="keyword">OR</span> REPLACE PROCEDORE spCnameMax(p_cno <span class="keyword">IN</span> course. cno<span class="operator">%</span>TYPE, p_cname <span class="keyword">OUT</span> course.cname<span class="operator">%</span>TYPE, p_max <span class="keyword">OUT</span> number )</span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">  <span class="keyword">SELECT</span> cname TNTO p_cname</span><br><span class="line">     <span class="keyword">FROM</span> course </span><br><span class="line">     <span class="keyword">WHERE</span> cno<span class="operator">=</span>p_cno;</span><br><span class="line">  <span class="keyword">SELECT</span> <span class="built_in">MAX</span>(grade) TNTO p_max</span><br><span class="line">     <span class="keyword">FROM</span> course a, score b</span><br><span class="line">     <span class="keyword">WHERE</span> a.cno<span class="operator">=</span>b.cno <span class="keyword">AND</span> a.cno<span class="operator">=</span>p_cno</span><br><span class="line"> <span class="keyword">END</span>;</span><br><span class="line">(<span class="number">2</span>)</span><br><span class="line"><span class="keyword">DECLARE</span> </span><br><span class="line">v_cnamecourse.cname<span class="operator">%</span>TYPE;</span><br><span class="line">v_max number</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">spCnameMax(‘<span class="number">1012</span>’, v_cname, v_max);</span><br><span class="line">DBMS_OUTPUT.PUT_LINE(‘课程号<span class="number">1012</span>的课程名是:’<span class="operator">||</span>v_cname <span class="operator">||</span>’最高分是:’<span class="operator">||</span>v_max)</span><br><span class="line"><span class="keyword">END</span>;</span><br></pre></td></tr></table></figure>
<p>创建一个存储过程spNameSchoolTitle,求指定教室编号的姓名、学院和职称。<br>解：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">(<span class="number">1</span>)</span><br><span class="line">CREAT <span class="keyword">OR</span> REPLACE PROCEDORE spNameSchoolTitle(p_tno <span class="keyword">IN</span> teacher.tno<span class="operator">%</span>TYPE,p_tname <span class="keyword">OUT</span> teacher.tname<span class="operator">%</span>TYPE,p_school <span class="keyword">OUT</span> teacher.school<span class="operator">%</span>TYPE,p_title <span class="keyword">OUT</span> teacher.title<span class="operator">%</span>TYPE)</span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">  <span class="keyword">SELECT</span> tname <span class="keyword">INTO</span> p_tname</span><br><span class="line">     <span class="keyword">FROM</span> teacher</span><br><span class="line">     <span class="keyword">WHERE</span> tno<span class="operator">=</span>p_tno;</span><br><span class="line">  <span class="keyword">SELECT</span> school <span class="keyword">INTO</span> p_school</span><br><span class="line"><span class="keyword">FROM</span> teacher</span><br><span class="line">     <span class="keyword">WHERE</span> tno<span class="operator">=</span>p_tno;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line">(<span class="number">2</span>)</span><br><span class="line"><span class="keyword">DECLARE</span> </span><br><span class="line">v_tnameteacher.tname<span class="operator">%</span>TYPE;</span><br><span class="line">v_schoolteacher.school<span class="operator">%</span>TYPE;</span><br><span class="line">v_titleteacher.title<span class="operator">%</span>TYPE;</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">spNameSchoolTitle(‘<span class="number">100001</span>’,v_tname,v_school,v_title);</span><br><span class="line">DBMS_OUTPUT.PUT_LINE(‘教师编号<span class="number">100001</span>的教师姓名是：’<span class="operator">||</span>v_tname <span class="operator">||</span>’学院是：’<span class="operator">||</span> v_school<span class="operator">||</span>’职称是:’<span class="operator">||</span>v_title);</span><br><span class="line"><span class="keyword">END</span>;</span><br></pre></td></tr></table></figure>
<h2 id="上机题目"><a href="#上机题目" class="headerlink" title="上机题目"></a>上机题目</h2><h3 id="第一次上机题目"><a href="#第一次上机题目" class="headerlink" title="第一次上机题目"></a>第一次上机题目</h3><p>1、创建商品表（goods），表结构如下：</p>
<table>
<thead>
<tr>
<th align="center">列名</th>
<th align="center">数据类型</th>
<th align="center">允许NULL值</th>
<th align="center">是否主键</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">gid</td>
<td align="center">char(6)</td>
<td align="center"></td>
<td align="center">√</td>
<td align="center">商品号</td>
</tr>
<tr>
<td align="center">gname</td>
<td align="center">char(20)</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">商品名称</td>
</tr>
<tr>
<td align="center">gclass</td>
<td align="center">char(6)</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">商品类型代码</td>
</tr>
<tr>
<td align="center">price</td>
<td align="center">number</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">价格</td>
</tr>
<tr>
<td align="center">stockqt</td>
<td align="center">number</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">库存量</td>
</tr>
<tr>
<td align="center">gnotarr</td>
<td align="center">number</td>
<td align="center">√</td>
<td align="center"></td>
<td align="center">未到货商品数量</td>
</tr>
</tbody></table>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> goods</span><br><span class="line">&#123;</span><br><span class="line">gid <span class="type">char</span>(<span class="number">6</span>) <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">primary</span> key,</span><br><span class="line">gname <span class="type">char</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">gclass <span class="type">char</span>(<span class="number">6</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">price number <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">stockqt number <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">gnotarr number <span class="keyword">null</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>2.在score表的grade列添加CHECK约束，限制grade列的值在0到100之间。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> score</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">constraint</span> ck_grade <span class="keyword">check</span>(grade<span class="operator">&gt;=</span><span class="number">0</span> <span class="keyword">and</span> grade<span class="operator">&lt;=</span><span class="number">100</span>);</span><br></pre></td></tr></table></figure>
<p>3.删除student表的sno列的PRIMARY KEY约束，然后在该列添加PRIMARY KEY约束。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">constraint</span> pk_sno;</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">constraint</span> pk_sno <span class="keyword">primary</span> key(sno);</span><br></pre></td></tr></table></figure>
<p>4.在score表的sno列添加FOREIGN KEY约束，与student表中的主键列创建表间参照关系。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> score</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">constraint</span> fk_sno <span class="keyword">foreign</span> key(sno) <span class="keyword">references</span> student(sno);</span><br></pre></td></tr></table></figure>
<p>5.在course表中tno列创建外键，与teacher表中主键列创建表间参照关系。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> course</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">constraint</span> fk_tno <span class="keyword">foreign</span> key(tno) <span class="keyword">references</span> teacher(tno);</span><br></pre></td></tr></table></figure>
<h3 id="第二次上机题目"><a href="#第二次上机题目" class="headerlink" title="第二次上机题目"></a>第二次上机题目</h3><p>1、查询score表中学号为121004，课程号为1201的学生成绩。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> grade <span class="keyword">as</span> 成绩 <span class="keyword">from</span> sroce <span class="keyword">where</span> sno<span class="operator">=</span>’<span class="number">121004</span>’ <span class="keyword">and</span> cno<span class="operator">=</span>’<span class="number">1201</span>’;</span><br></pre></td></tr></table></figure>
<p>2、列出goods表的商品名称、商品价格和打7折后的商品价格。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> gname <span class="keyword">as</span> 商品名称,price <span class="keyword">as</span> 商品价格,price<span class="operator">*</span><span class="number">0.7</span> <span class="keyword">as</span> 打<span class="number">7</span>折后的商品价格 <span class="keyword">from</span> goods;</span><br></pre></td></tr></table></figure>
<p>3、查询student表中姓周的学生情况。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> sname <span class="keyword">like</span> <span class="string">&#x27;周%&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>4、查询通信专业的最高学分的学生情况。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> a.sno,a.sname,b.cname,<span class="built_in">max</span>(c.grade) <span class="keyword">from</span> student a,course b,score c <span class="keyword">where</span> a.sno<span class="operator">=</span>c.sno <span class="keyword">and</span> b.cno<span class="operator">=</span>c.cno <span class="keyword">and</span> a.speciality<span class="operator">=</span><span class="string">&#x27;通信&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>5.查询1004课程的最高分、最低分和平均成绩。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">max</span>(grade) <span class="keyword">as</span> <span class="number">1004</span>课程最高分,<span class="built_in">min</span>(grade) <span class="keyword">as</span> <span class="number">1004</span>课程最低分,<span class="built_in">avg</span>(grade) <span class="keyword">as</span> <span class="number">1004</span>课程平均成绩 <span class="keyword">from</span> score <span class="keyword">where</span> cno<span class="operator">=</span>’<span class="number">1004</span>’;</span><br></pre></td></tr></table></figure>
<p>6.查询至少有3名学生选修且以4开头的课程号和平均分数。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(grade),cno <span class="keyword">from</span> score <span class="keyword">where</span> cno <span class="keyword">in</span>(</span><br><span class="line"><span class="keyword">select</span> cno <span class="keyword">from</span> score <span class="keyword">where</span> sno <span class="keyword">in</span>(</span><br><span class="line"><span class="keyword">select</span> sno <span class="keyword">from</span> score <span class="keyword">GROUP</span> <span class="keyword">BY</span> sno <span class="keyword">having</span> <span class="built_in">count</span>(<span class="operator">*</span>)<span class="operator">&gt;=</span><span class="number">3</span></span><br><span class="line">) <span class="keyword">and</span> cno <span class="keyword">like</span> <span class="string">&#x27;4%&#x27;</span></span><br><span class="line">) <span class="keyword">GROUP</span> <span class="keyword">BY</span> cno;</span><br></pre></td></tr></table></figure>
<p>7.将计算机专业的学生按出生时间升序排列。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> speciality<span class="operator">=</span>’计算机’ <span class="keyword">order</span> <span class="keyword">by</span> sbirthday; </span><br></pre></td></tr></table></figure>
<p>8.查询各门课程最高分的课程号和分数，并按分数降序排列。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> sno,<span class="built_in">max</span>(grade) <span class="keyword">from</span> score <span class="keyword">group</span> <span class="keyword">by</span> cno <span class="keyword">order</span> <span class="keyword">by</span> <span class="built_in">max</span>(grade) <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure>
<h3 id="第三次上机题目"><a href="#第三次上机题目" class="headerlink" title="第三次上机题目"></a>第三次上机题目</h3><p>1.查找选修了“英语”的学生姓名及成绩。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> a.sname, c.grade </span><br><span class="line"><span class="keyword">from</span> student a,course b,score C</span><br><span class="line"><span class="keyword">where</span> a.sno<span class="operator">=</span>c.sno <span class="keyword">and</span> b.cno<span class="operator">=</span>c.cno <span class="keyword">and</span> b.cname<span class="operator">=</span>’英语’</span><br></pre></td></tr></table></figure>
<p>2.查询选修了“高等数学”且成绩在80分以上的学生情况。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> a.<span class="operator">*</span></span><br><span class="line"><span class="keyword">from</span> student a,course b,score c</span><br><span class="line"><span class="keyword">where</span> a.sno<span class="operator">=</span>c.sno <span class="keyword">and</span> b.cno<span class="operator">=</span>c.cno <span class="keyword">and</span> b.cname<span class="operator">=</span>’高等数学’　<span class="keyword">and</span> c.grade<span class="operator">&gt;=</span><span class="number">80</span></span><br></pre></td></tr></table></figure>
<p>3.查询选修某课程的平均成绩高于85分的教师姓名。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">Select</span> d.tname <span class="keyword">from</span> coures b, score c, teacher d</span><br><span class="line"><span class="keyword">Where</span> b.cno<span class="operator">=</span>c.cno <span class="keyword">and</span> b.tno<span class="operator">=</span>d.tno</span><br><span class="line"><span class="keyword">Having</span> <span class="built_in">avg</span>(c.grade)<span class="operator">&gt;=</span><span class="number">85</span></span><br></pre></td></tr></table></figure>
<p>4.查询既选学过‘1201’号课程，又未选学‘1004’号课程的学生姓名、性别和总学分。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> a.sname <span class="keyword">AS</span> 姓名, a.ssex <span class="keyword">AS</span> 性别, a.tc <span class="keyword">AS</span> 总学分</span><br><span class="line"><span class="keyword">FROM</span> student a, coures b, score c</span><br><span class="line"><span class="keyword">WHERE</span> a.sno<span class="operator">=</span>c.sno <span class="keyword">AND</span> b.cno<span class="operator">=</span>’<span class="number">1201</span>’</span><br><span class="line">MINUS</span><br><span class="line"><span class="keyword">SELECT</span> a.sname <span class="keyword">AS</span> 姓名, a.ssex <span class="keyword">AS</span> 性别, a.tc <span class="keyword">AS</span> 总学分</span><br><span class="line"><span class="keyword">FROM</span> student a, course b,score c</span><br><span class="line"><span class="keyword">WHERE</span> a.sno<span class="operator">=</span>c.sno <span class="keyword">AND</span> b.cno<span class="operator">=</span>’<span class="number">1004</span>’ </span><br></pre></td></tr></table></figure>
<p>5.查询每个专业最高分的课程名和分数。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">Select</span> b.cname, <span class="built_in">max</span>(c.grade)</span><br><span class="line"><span class="keyword">From</span> student a,course b,score c</span><br><span class="line"><span class="keyword">Where</span> a.sno<span class="operator">=</span>c.sno <span class="keyword">and</span> c.cno<span class="operator">=</span>b.cno</span><br><span class="line"><span class="keyword">Group</span> <span class="keyword">by</span> a.speciality</span><br></pre></td></tr></table></figure>
<p>6.查询通信专业的最高分。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">Select</span> <span class="built_in">max</span>(c.grade)</span><br><span class="line"><span class="keyword">From</span> student a,score c</span><br><span class="line"><span class="keyword">Where</span> a.sno<span class="operator">=</span>c.sno <span class="keyword">and</span> a.speciality<span class="operator">=</span>’通信’</span><br></pre></td></tr></table></figure>
<p>7.查询数据库系统课程的任课教师。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">Select</span> d.tname </span><br><span class="line"><span class="keyword">From</span> course b, teacher d</span><br><span class="line"><span class="keyword">Where</span> b.tno<span class="operator">=</span>d.tno <span class="keyword">and</span> b.cname<span class="operator">=</span>’数据库系统’</span><br></pre></td></tr></table></figure>
<p>8.查询成绩高于平均分的成绩记录。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">Select</span> sno,cno,grade, <span class="built_in">avg</span>(grade)</span><br><span class="line"><span class="keyword">From</span> score</span><br><span class="line"><span class="keyword">Having</span> grade<span class="operator">&gt;</span><span class="built_in">avg</span>(grade)</span><br></pre></td></tr></table></figure>
<h3 id="第四次上机题目"><a href="#第四次上机题目" class="headerlink" title="第四次上机题目"></a>第四次上机题目</h3><p>1.创建一个视图vwClassStudentCourseScore,包含学号、姓名、性别、班级、课程号、课程名和成绩等列，班级为201236，并查询视图的所有记录。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">Create</span> <span class="keyword">or</span> replace <span class="keyword">view</span> vwClassStudentCourseScore</span><br><span class="line"><span class="keyword">As</span></span><br><span class="line"><span class="keyword">Select</span> a.sno,a.sname,a.ssex,a.sclass,b.cno,b.cname,c.grade</span><br><span class="line"><span class="keyword">From</span> student a,course b,score c</span><br><span class="line"><span class="keyword">Where</span> a.sno<span class="operator">=</span>c.sno <span class="keyword">and</span> b.cno<span class="operator">=</span>c.cno <span class="keyword">and</span> a.sclass<span class="operator">=</span>’<span class="number">201236</span>’;</span><br><span class="line"><span class="keyword">Select</span> <span class="operator">*</span> <span class="keyword">from</span> vwClassStudentCourseScore;</span><br></pre></td></tr></table></figure>
<p>2.创建一个视图vwCourseScore,包含学生学号、课程名和成绩等列，然后查询该视图的所有记录。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">Create</span> <span class="keyword">or</span> replace <span class="keyword">view</span> vwCourseScore</span><br><span class="line"><span class="keyword">As</span></span><br><span class="line"><span class="keyword">Select</span> c.sno,b.cno,c.grade</span><br><span class="line"><span class="keyword">From</span> course b, score c</span><br><span class="line"><span class="keyword">Where</span> b.cno<span class="operator">=</span>c.cno;</span><br><span class="line"><span class="keyword">Select</span> <span class="operator">*</span> <span class="keyword">from</span> vwCourseScore;</span><br></pre></td></tr></table></figure>
<p>3.创建一个视图vwAvgGradeStudentScore,包含学生学号、姓名和平均分等列，按平均分降序排列，再查询该视图的所有记录。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">Create</span> <span class="keyword">or</span> replace <span class="keyword">view</span> vwAvgGradeStudentScore</span><br><span class="line"><span class="keyword">As</span></span><br><span class="line"><span class="keyword">Select</span> a.sno,a.sname,c.avg_grade</span><br><span class="line"><span class="keyword">From</span> student a,(<span class="keyword">select</span> sno, <span class="built_in">avg</span>(grade) <span class="keyword">as</span> avg_grade <span class="keyword">from</span> score <span class="keyword">Group</span> <span class="keyword">by</span> sno <span class="keyword">ORDER</span> <span class="keyword">by</span> <span class="built_in">avg</span>(grade) <span class="keyword">DESC</span>) c</span><br><span class="line"><span class="keyword">Where</span> a.sno<span class="operator">=</span>c.sno;</span><br><span class="line"><span class="keyword">Select</span> <span class="operator">*</span> <span class="keyword">from</span> vwAvgGradeStudentScore;</span><br></pre></td></tr></table></figure>
<p>4.计算1~100的偶数和。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DECLARE</span></span><br><span class="line">  v_n number:<span class="operator">=</span><span class="number">2</span>;</span><br><span class="line">  v_s number:<span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">  LOOP</span><br><span class="line">v_s:<span class="operator">=</span>v_s<span class="operator">+</span>v_n;</span><br><span class="line">v_n:<span class="operator">=</span>v_n<span class="operator">+</span><span class="number">2</span>;</span><br><span class="line">EXIT <span class="keyword">WHEN</span> v_n<span class="operator">=</span><span class="number">101</span>;</span><br><span class="line">  <span class="keyword">END</span> LOOP;</span><br><span class="line">  DBMS_OUTPUT.PUT_LINE(‘<span class="number">1</span><span class="operator">~</span><span class="number">100</span>的偶数和为：’<span class="operator">||</span>v_s);</span><br><span class="line"><span class="keyword">END</span>;</span><br></pre></td></tr></table></figure>
<p>5.打印1~100各个整数的平方，每10个打印一行。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">DBCLARE</span><br><span class="line">v_ n number :<span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">LOOP</span><br><span class="line">DBMS OUTPUT. PUT(v_ n<span class="operator">*</span>v_ n<span class="operator">||</span>‘’);</span><br><span class="line">IF <span class="built_in">MOD</span>(v_ n,<span class="number">10</span>) <span class="operator">=</span> <span class="number">0</span> <span class="keyword">THEN</span></span><br><span class="line">DBMS_OUTPUT. PUT_LINE(‘’);</span><br><span class="line"><span class="keyword">END</span> IF;</span><br><span class="line">v_ n ;<span class="operator">=</span>v_n<span class="operator">+</span><span class="number">1</span>;</span><br><span class="line">EXIT <span class="keyword">WHEN</span> v_ n<span class="operator">&gt;</span> <span class="number">100</span>;</span><br><span class="line"><span class="keyword">END</span> LOOP;</span><br><span class="line"><span class="keyword">END</span>;</span><br></pre></td></tr></table></figure>
<h3 id="第五次上机题目"><a href="#第五次上机题目" class="headerlink" title="第五次上机题目"></a>第五次上机题目</h3><p>1.查询每个学生的平均分，保留整数，丢弃小数部分。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> sno,trunc(<span class="built_in">avg</span>(grade)) <span class="keyword">from</span> score</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> sno</span><br></pre></td></tr></table></figure>
<p>2.使用用户定义函数查询不同班级的课程平均成绩。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">创建函数：</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE <span class="keyword">FUNCTION</span> funAverage(v_sclass <span class="keyword">IN</span> <span class="type">char</span>,v_cno <span class="keyword">IN</span> <span class="type">char</span>)</span><br><span class="line">  <span class="keyword">RETURN</span> number</span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line">  <span class="keyword">RESULT</span> number;</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">  <span class="keyword">SELECT</span> <span class="built_in">avg</span>(grade) <span class="keyword">INTO</span> <span class="keyword">result</span></span><br><span class="line"><span class="keyword">FROM</span> student a,score b</span><br><span class="line"><span class="keyword">WHERE</span> a.sno<span class="operator">=</span>b.sno <span class="keyword">AND</span> sclass <span class="operator">=</span> v_sclass <span class="keyword">AND</span> cno<span class="operator">=</span>v_cno;</span><br><span class="line"><span class="keyword">RETURN</span>(<span class="keyword">result</span>);</span><br><span class="line"> <span class="keyword">END</span> funAverage;</span><br><span class="line">调用函数</span><br><span class="line"><span class="keyword">DECLARE</span> </span><br><span class="line">v_avg number;</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">v_avg:<span class="operator">=</span>funAverage(‘<span class="number">201205</span>’,’<span class="number">1004</span>’);</span><br><span class="line">  DBMS_OUTPUT.PUT_LINE(’<span class="number">201205</span>班<span class="number">1004</span>课程的平均成绩是:’<span class="operator">||</span>v_avg);</span><br><span class="line"><span class="keyword">END</span>;</span><br></pre></td></tr></table></figure>
<h3 id="第六次上机题目"><a href="#第六次上机题目" class="headerlink" title="第六次上机题目"></a>第六次上机题目</h3><p>1、创建一个存储过程spSpecialityCnameAvg,求指定专业和课程的平均分。<br>解：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">(<span class="number">1</span>)</span><br><span class="line">CREAT <span class="keyword">OR</span> REPLACE PROCEDORE spSpecialityCnameAvg(p_spec <span class="keyword">IN</span> student. Speciality<span class="operator">%</span>TYPE, p_cname <span class="keyword">IN</span> course.cname<span class="operator">%</span>TYPE, p_avg <span class="keyword">OUT</span> number )</span><br><span class="line">  <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">  <span class="keyword">SELECT</span> AVG（grade）TNTO p_avg</span><br><span class="line"><span class="keyword">FROM</span> student a, course b, score c</span><br><span class="line"><span class="keyword">WHERE</span> a.sno<span class="operator">=</span>c.sno <span class="keyword">AND</span> b.cno<span class="operator">=</span>c.cno <span class="keyword">AND</span> a.Speciality<span class="operator">=</span>p_spec <span class="keyword">AND</span> b.cname<span class="operator">=</span>p_cname;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line">(<span class="number">2</span>)</span><br><span class="line"><span class="keyword">DECLARE</span> </span><br><span class="line">v_avg number(<span class="number">4</span>,<span class="number">2</span>);</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">spSpecialityCnameAvg(‘计算机’，’数据库系统’, v_avg )</span><br><span class="line">  DBMS_OUTPUT.PUT_LINE(‘计算机专业数据库系统的平均分是：’<span class="operator">||</span>v_avg);</span><br><span class="line"><span class="keyword">END</span>;</span><br></pre></td></tr></table></figure>
<p>2、创建一个存储过程spCnameMax,求指定课程号的课程名和最高分。<br>解：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">（<span class="number">1</span>）</span><br><span class="line">CREAT <span class="keyword">OR</span> REPLACE PROCEDORE spCnameMax(p_cno <span class="keyword">IN</span> course. cno<span class="operator">%</span>TYPE, p_cname <span class="keyword">OUT</span> course.cname<span class="operator">%</span>TYPE, p_max <span class="keyword">OUT</span> number )</span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">  <span class="keyword">SELECT</span> cname TNTO p_cname</span><br><span class="line">     <span class="keyword">FROM</span> course </span><br><span class="line">     <span class="keyword">WHERE</span> cno<span class="operator">=</span>p_cno;</span><br><span class="line">  <span class="keyword">SELECT</span> <span class="built_in">MAX</span>(grade) TNTO p_max</span><br><span class="line">     <span class="keyword">FROM</span> course a, score b</span><br><span class="line">     <span class="keyword">WHERE</span> a.cno<span class="operator">=</span>b.cno <span class="keyword">AND</span> a.cno<span class="operator">=</span>p_cno</span><br><span class="line"> <span class="keyword">END</span>;</span><br><span class="line">(<span class="number">2</span>)</span><br><span class="line"><span class="keyword">DECLARE</span> </span><br><span class="line">v_cnamecourse.cname<span class="operator">%</span>TYPE;</span><br><span class="line">v_max number</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">spCnameMax(‘<span class="number">1012</span>’, v_cname, v_max);</span><br><span class="line">DBMS_OUTPUT.PUT_LINE(‘课程号<span class="number">1012</span>的课程名是:’<span class="operator">||</span>v_cname <span class="operator">||</span>’最高分是:’<span class="operator">||</span>v_max)</span><br><span class="line"><span class="keyword">END</span>;</span><br></pre></td></tr></table></figure>
<p>3、创建一个存储过程spNameSchoolTitle,求指定教室编号的姓名、学院和职称。<br>解：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">(<span class="number">1</span>)</span><br><span class="line">CREAT <span class="keyword">OR</span> REPLACE PROCEDORE spNameSchoolTitle(p_tno <span class="keyword">IN</span> teacher.tno<span class="operator">%</span>TYPE,p_tname <span class="keyword">OUT</span> teacher.tname<span class="operator">%</span>TYPE,p_school <span class="keyword">OUT</span> teacher.school<span class="operator">%</span>TYPE,p_title <span class="keyword">OUT</span> teacher.title<span class="operator">%</span>TYPE)</span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">  <span class="keyword">SELECT</span> tname <span class="keyword">INTO</span> p_tname</span><br><span class="line">     <span class="keyword">FROM</span> teacher</span><br><span class="line">     <span class="keyword">WHERE</span> tno<span class="operator">=</span>p_tno;</span><br><span class="line">  <span class="keyword">SELECT</span> school <span class="keyword">INTO</span> p_school</span><br><span class="line"><span class="keyword">FROM</span> teacher</span><br><span class="line">     <span class="keyword">WHERE</span> tno<span class="operator">=</span>p_tno;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line">(<span class="number">2</span>)</span><br><span class="line"><span class="keyword">DECLARE</span> </span><br><span class="line">v_tnameteacher.tname<span class="operator">%</span>TYPE;</span><br><span class="line">v_schoolteacher.school<span class="operator">%</span>TYPE;</span><br><span class="line">v_titleteacher.title<span class="operator">%</span>TYPE;</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">spNameSchoolTitle(‘<span class="number">100001</span>’,v_tname,v_school,v_title);</span><br><span class="line">DBMS_OUTPUT.PUT_LINE(‘教师编号<span class="number">100001</span>的教师姓名是：’<span class="operator">||</span>v_tname <span class="operator">||</span>’学院是：’<span class="operator">||</span> v_school<span class="operator">||</span>’职称是:’<span class="operator">||</span>v_title);</span><br><span class="line"><span class="keyword">END</span>;</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>大学</tag>
      </tags>
  </entry>
  <entry>
    <title>jsdelivr加速博客静态资源</title>
    <url>/2020/06/10/jsdelivr%E5%8A%A0%E9%80%9F%E5%8D%9A%E5%AE%A2%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90/</url>
    <content><![CDATA[<p><strong style='color:red'>20220525更新：cdn.jsdelivr.net在中国大陆遭到dns污染，已不推荐继续使用。</strong><br>如果你的博客文件在GitHub托管，请看一下这篇文章<br>通过jsdelivr加速博客静态资源，会使你的博客访问速度加快<br>先来看一看什么是jsdelivr<span id="more"></span></p>
<h2 id="jsdelivr简介"><a href="#jsdelivr简介" class="headerlink" title="jsdelivr简介"></a>jsdelivr简介</h2><p><a href="https://www.jsdelivr.com/">jsdelivr官网</a></p>
<blockquote>
<p>用于开源的免费 CDN<br>快速、可靠和自动化<br>jsDelivr 是一个公开的开源 CDN（内容交付网络），由Dmitriy Akulov 和 Prospect One开发，专注于性能、可靠性和安全性。它免费用于每个人，没有带宽限制。</p>
</blockquote>
<p><a href="https://github.com/jsdelivr/jsdelivr">github开源项目</a></p>
<blockquote>
<p>jsDelivr 与多家中国公司合作，在中国大陆和整个亚洲大陆提供快速可靠的文件交付。我们在中国境内拥有能够显著提高交付速度和延迟的服务器。我们还拥有中国政府颁发的有效的 ICP 许可证，以保护我们免受禁令和缓慢下载。<br>jsDelivr在中国内部工作完美！</p>
</blockquote>
<p><strong>需要注意，通过jsdelivr加速有两个限制: 单文件不能大于20M, 仓库的某版本不能大于50M</strong></p>
<h2 id="为什么要使用jsdelivr？"><a href="#为什么要使用jsdelivr？" class="headerlink" title="为什么要使用jsdelivr？"></a>为什么要使用jsdelivr？</h2><p>众所周知，GitHub的服务器在国外，访问速度很不理想，特别是大于1MB的文件，速度很慢<br>jsdelivr可以加速博客中的静态资源（单文件不能大于20M，足够了），国内加速节点很多，免费</p>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p>网上关于实现jsdelivr加速博客静态资源的文章很多，这里推荐两篇文章：<br><a href="https://blog.clouder.im/hexo/jsdelivr_js/">仅引入 JS 实现博客 CDN 加速</a>，本篇文章参考此方法，在此表示感谢<br><a href="https://m1314.cn/403.html">GitHub + jsDelivr视频切片测试</a></p>
<h2 id="怎么使用"><a href="#怎么使用" class="headerlink" title="怎么使用"></a>怎么使用</h2><p>参看上面参考文献中的文章，这里以yilia主题为例</p>
<h3 id="加速文章页静态资源"><a href="#加速文章页静态资源" class="headerlink" title="加速文章页静态资源"></a>加速文章页静态资源</h3><ul>
<li>在主题<code>yilia\layout\_partial\post</code>文件夹中新建<code>jsdelivr.ejs</code>文件，添加如下内容：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">/* jsdelivr */</span><br><span class="line">var name = &#x27;&lt;%- theme.jsdelivr.name %&gt;&#x27;;</span><br><span class="line">var repository = &#x27;&lt;%- theme.jsdelivr.repository %&gt;&#x27;;</span><br><span class="line">if (&quot;localhost&quot; != document.domain &amp;&amp; yiliaConfig.isPost) &#123;</span><br><span class="line">    for (var key in document.getElementById(&quot;js-content&quot;).getElementsByTagName(&quot;img&quot;)) &#123;</span><br><span class="line">        if (isNaN(key)) break;</span><br><span class="line">        document.getElementById(&quot;js-content&quot;).getElementsByTagName(&quot;img&quot;)[key].src = document.getElementById(&quot;js-content&quot;).getElementsByTagName(&quot;img&quot;)[key].src.replace(document.domain, &quot;cdn.jsdelivr.net/gh/&quot; + name + &quot;/&quot; + repository);</span><br><span class="line">    &#125;</span><br><span class="line">    for (var key in document.getElementById(&quot;js-content&quot;).getElementsByTagName(&quot;audio&quot;)) &#123;</span><br><span class="line">        if (isNaN(key)) break;</span><br><span class="line">        document.getElementById(&quot;js-content&quot;).getElementsByTagName(&quot;audio&quot;)[key].src = document.getElementById(&quot;js-content&quot;).getElementsByTagName(&quot;audio&quot;)[key].src.replace(document.domain, &quot;cdn.jsdelivr.net/gh/&quot; + name + &quot;/&quot; + repository);</span><br><span class="line">    &#125;</span><br><span class="line">    for (var key in document.getElementById(&quot;js-content&quot;).getElementsByTagName(&quot;video&quot;)) &#123;</span><br><span class="line">        if (isNaN(key)) break;</span><br><span class="line">        document.getElementById(&quot;js-content&quot;).getElementsByTagName(&quot;video&quot;)[key].src = document.getElementById(&quot;js-content&quot;).getElementsByTagName(&quot;video&quot;)[key].src.replace(document.domain, &quot;cdn.jsdelivr.net/gh/&quot; + name + &quot;/&quot; + repository);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>此代码实现jsdelivr加速文章中引用本地图片、音乐、视频的资源，即替换img、video、audio标签中的src路径为jsdelivr加速博客静态资源的路径<br>适用于加速相对路径的资源，其他引用的资源不会影响<br><code>name</code>和<code>repository</code>对应的是GitHub的用户名和仓库名，下面有说明<br><code>&quot;localhost&quot; != document.domain</code>判断是否为本地端口，<code>yiliaConfig.isPost</code>判断是否为文章页</p>
<ul>
<li>在<code>yilia\layout\_partial\after-footer.ejs</code>中第一个script标签下添加（<code>&lt;%- partial(&#39;script&#39;) %&gt;</code>上面）：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;% if (theme.jsdelivr.enable)&#123; %&gt;</span><br><span class="line">&lt;%- partial(&#x27;post/jsdelivr&#x27;)%&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure>
<p>通过主题配置文件判断是否开启jsdelivr加速</p>
<ul>
<li>在<code>yilia\layout\_partial\head.ejs</code>中head标签添加（可选）：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;% if (theme.jsdelivr.enable)&#123; %&gt;</span><br><span class="line">&lt;link rel=&quot;preconnect&quot; href=&quot;//cdn.jsdelivr.net&quot;&gt;</span><br><span class="line">&lt;link rel=&quot;dns-prefetch&quot; href=&quot;//cdn.jsdelivr.net&quot;&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>主题配置文件<code>themes\yilia\_config.yml</code>添加jsdelivr配置，控制是否开启：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">jsdelivr:</span><br><span class="line">  enable: false</span><br><span class="line">  name:  #github用户名</span><br><span class="line">  repository:  #仓库名</span><br></pre></td></tr></table></figure>
<p>name为github用户名，repository为仓库名，一般为：xxx.github.io</p>
<h3 id="加速全局搜索的search-xml文件（可选）"><a href="#加速全局搜索的search-xml文件（可选）" class="headerlink" title="加速全局搜索的search.xml文件（可选）"></a>加速全局搜索的search.xml文件（可选）</h3><p>前提：<br>主题用到了插件<code>hexo-generator-searchdb</code>所生成的<code>search.xml</code>文件<br>如果你是yilia主题，参看<a href="https://akbcd.github.io/2019/10/14/yilia%E4%B8%BB%E9%A2%98%E8%BF%9B%E9%98%B6%E9%85%8D%E7%BD%AE/">yilia主题进阶配置</a>中安装全局搜索功能</p>
<p>随着博客文章越来越多，search.xml文件也会越来越大，加载的速度也会越来越慢，这就影响到了体验<br>这里简单提一下如何通过jsdelivr加速主题中需要的search.xml文件<br>还是以yilia主题为例，参看<a href="https://akbcd.github.io/2019/10/14/yilia%E4%B8%BB%E9%A2%98%E8%BF%9B%E9%98%B6%E9%85%8D%E7%BD%AE/">yilia主题进阶配置</a><br>主要就是修改调用<code>searchFunc()</code>函数的方法</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;% if (theme.jsdelivr.enable)&#123; %&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    if (&quot;localhost&quot; != document.domain)&#123;</span><br><span class="line">        $(function () &#123;</span><br><span class="line">            searchFunc(&quot;//cdn.jsdelivr.net/gh/&quot; + &quot;&lt;%- theme.jsdelivr.name %&gt;&quot; + &quot;/&quot; + &quot;&lt;%- theme.jsdelivr.repository %&gt;&quot; +&quot;/&quot; + &quot;search.xml&quot;, &#x27;js-searchInput&#x27;, &#x27;js-searchResult&#x27;);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        $(function () &#123;</span><br><span class="line">            searchFunc(&quot;/&quot; + &quot;search.xml&quot;, &#x27;js-searchInput&#x27;, &#x27;js-searchResult&#x27;);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;% &#125; else &#123; %&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    $(function () &#123;</span><br><span class="line">        searchFunc(&quot;/&quot; + &quot;search.xml&quot;, &#x27;js-searchInput&#x27;, &#x27;js-searchResult&#x27;);</span><br><span class="line">    &#125;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure>
<h3 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h3><p>问：近期更改了jsdelivr加速的文件内容，但是jsdelivr加速的文件内容并没有做出相应的更改，请问应该怎么做？<br>答：其实这是jsdeliver缓存导致的，您可以等待一天之后再次观察是否更改，或者您可以强制刷新缓存，即</p>
<blockquote>
<p>你的 CDN 链接 想手动刷新时 把链接中的<br><code>https://cdn.jsdelivr.net/</code><br>替换成<br><code>https://purge.jsdelivr.net/</code><br>即可实时刷新</p>
</blockquote>
<h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>通过jsdelivr加速博客静态资源，博客访问速度提升不少<br>记得之前引用本地图片需要很长时间才能加载出来，现在很快就加载完成，search.xml文件的加载速度提升不少</p>
<p>如果需要关闭jsdelivr加速，直接修改主题配置文件即可，很方便</p>
<p>这篇文章仅介绍了加速本地部分资源和search.xml文件的方法，其它文件，比如：js、css等文件也可以用相应方法通过jsdelivr加速访问，这里不再进行介绍。</p>
<p>2022年5月4日追记：<br>文章页jsdelivr加速可能出现的错误<br>如果文章页引入的静态资源（视频、音乐、图片），url是已经手动按照jsdelivr加速替换规则替换后的url，在开启jsdelivr加速时，jsdelivr加速会按照写好的替换规则进行替换，替换规则是按照域名替换，替换后的字符串中有替换前的域名，这就导致了重复替换，导致jsdelivr加速出错。<br>解决方法，以img为例，audio和video同理</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">for (var key in document.getElementById(&quot;js-content&quot;).getElementsByTagName(&quot;img&quot;)) &#123;</span><br><span class="line">    if (isNaN(key)) break;</span><br><span class="line">    // 避免重复替换出错，替换前，如果有替换后的字符串，先还原</span><br><span class="line">    document.getElementById(&quot;js-content&quot;).getElementsByTagName(&quot;img&quot;)[key].src = document.getElementById(&quot;js-content&quot;).getElementsByTagName(&quot;img&quot;)[key].src.replace(&quot;cdn.jsdelivr.net/gh/&quot; + name + &quot;/&quot; + repository,document.domain);</span><br><span class="line">    // 还原后，重新替换</span><br><span class="line">    document.getElementById(&quot;js-content&quot;).getElementsByTagName(&quot;img&quot;)[key].src = document.getElementById(&quot;js-content&quot;).getElementsByTagName(&quot;img&quot;)[key].src.replace(document.domain, &quot;cdn.jsdelivr.net/gh/&quot; + name + &quot;/&quot; + repository);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>博客</tag>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>yilia主题目录优化</title>
    <url>/2020/06/08/yilia%E4%B8%BB%E9%A2%98%E7%9B%AE%E5%BD%95%E4%BC%98%E5%8C%96/</url>
    <content><![CDATA[<p>记得之前在<a href="https://akbcd.github.io/2019/06/28/yilia%E4%B8%BB%E9%A2%98%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95%E4%B8%8B/">yilia主题常见问题及解决办法下</a>文章中解决了移动端不显示目录的问题<br>这篇文章分享一下自己优化yilia主题目录的代码，主要体现在以下几个方面：<br>1.通过jquery封装的animate()锚点跳转方法替换主题自带的a标签跳转，解决添加aplayer播放器可能出现的锚点跳转失效问题<br>2.实现浏览器根据当前页面位置实时更新页面url（需手动设置生效）<span id="more"></span><br>3.目录随着页面位置滚动，实现动态目录</p>
<ul>
<li>更新：<ul>
<li>Hexo 5.0.0 Released 可能导致目录锚点跳转失效的解决办法<ul>
<li>近期，更新hexo5.0，发现本篇文章介绍的目录锚点跳转功能已失效，控制台提示<code>Uncaught Error</code>错误，发现依然是url转码导致</li>
<li>解决办法：对<code>toToc()</code>函数中<code>$(this).attr(&#39;href&#39;)</code>修改为<code>decodeURI($(this).attr(&#39;href&#39;))</code>，即添加<code>decodeURI()</code>函数</li>
<li>对<code>currentActive.attr(&#39;href&#39;)</code>添加<code>decodeURI()</code>函数，即<code>decodeURI(currentActive.attr(&#39;href&#39;))</code></li>
</ul>
</li>
<li>动态目录失效<ul>
<li>hexo5.0，对目录a标签href内容添加<code>encodeURI()</code>函数进行编码，使动态目录失效</li>
<li>解决办法：将<code>$(&#39;.toc-link[href=&quot;&#39; + currentId + &#39;&quot;]&#39;)</code>中<code>currentId</code>添加编码函数<code>encodeURI()</code>，即<code>$(&#39;.toc-link[href=&quot;&#39; + encodeURI(currentId) + &#39;&quot;]&#39;)</code><ul>
<li>注意：此方法可能不适用所有hexo版本，取决于hexo是否对目录a标签href内容添加<code>encodeURI()</code>函数进行编码</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>效果参看本博客</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p>参考<a href="https://github.com/jerryc127/hexo-theme-butterfly">hexo-theme-butterfly主题</a>实现动态目录功能，在此表示感谢<br>因为主题目录布局不同，没有在yilia主题目录上实现页面当前位置百分比（你已经读了%）<br>感觉没有必要，因为yilia主题的目录是鼠标悬停显示的，不同于其它主题那样固定在页面的某个位置，显示页面当前所在目录位置很有必要</p>
<h2 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h2><p>此代码基于jquery实现</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">toc目录优化，jq实现锚点跳转</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">// 隐藏子目录</span></span><br><span class="line">$(<span class="string">&#x27;.toc-child&#x27;</span>).<span class="title function_">hide</span>()</span><br><span class="line"><span class="comment">// 目录锚点跳转</span></span><br><span class="line">$(<span class="string">&#x27;.toc-link&#x27;</span>).<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    e.<span class="title function_">preventDefault</span>()</span><br><span class="line">    <span class="title function_">toToc</span>($(<span class="variable language_">this</span>).<span class="title function_">attr</span>(<span class="string">&#x27;href&#x27;</span>))</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">toToc</span> (name) &#123;</span><br><span class="line">  <span class="comment">//pc锚点跳转</span></span><br><span class="line">  <span class="keyword">var</span> scrollPositionTop = $(name).<span class="title function_">position</span>().<span class="property">top</span>+<span class="number">50</span></span><br><span class="line">  $(<span class="string">&#x27;#container&#x27;</span>).<span class="title function_">animate</span>(&#123;</span><br><span class="line">    <span class="attr">scrollTop</span>: scrollPositionTop</span><br><span class="line">  &#125;,<span class="number">1000</span>)</span><br><span class="line">  <span class="comment">//mobile锚点跳转</span></span><br><span class="line">  <span class="keyword">var</span> scrollOffset = $(name).<span class="title function_">offset</span>()</span><br><span class="line">  $(<span class="string">&#x27;body,html&#x27;</span>).<span class="title function_">animate</span>(&#123;</span><br><span class="line">    <span class="attr">scrollTop</span>: scrollOffset.<span class="property">top</span>-<span class="number">50</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 更新锚点url</span></span><br><span class="line"><span class="keyword">var</span> isanchor = yiliaConfig.<span class="property">anchor</span></span><br><span class="line"><span class="keyword">var</span> updateAnchor = <span class="keyword">function</span> (<span class="params">anchor</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">history</span>.<span class="property">replaceState</span> &amp;&amp; anchor !== <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">hash</span>) &#123;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">history</span>.<span class="title function_">replaceState</span>(<span class="literal">undefined</span>, <span class="literal">undefined</span>, anchor)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 显示子目录</span></span><br><span class="line"><span class="keyword">var</span> expandToc = <span class="keyword">function</span> (<span class="params">$item</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> ($item.<span class="title function_">is</span>(<span class="string">&#x27;:visible&#x27;</span>)) &#123;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line">  $item.<span class="title function_">fadeIn</span>(<span class="number">400</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 目录滚动</span></span><br><span class="line"><span class="keyword">var</span> autoScrollToc = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> ($(<span class="string">&#x27;.toc-link&#x27;</span>).<span class="title function_">hasClass</span>(<span class="string">&#x27;active&#x27;</span>)) &#123;</span><br><span class="line">    <span class="keyword">var</span> activePosition = $(<span class="string">&#x27;.active&#x27;</span>).<span class="title function_">position</span>().<span class="property">top</span></span><br><span class="line">    <span class="keyword">var</span> articleScrolltop = $(<span class="string">&#x27;.tooltip-content .toc-article&#x27;</span>).<span class="title function_">scrollTop</span>()</span><br><span class="line">    <span class="keyword">if</span> (activePosition &gt; $(<span class="string">&#x27;.tooltip-content .toc-article&#x27;</span>).<span class="title function_">height</span>()-<span class="number">50</span>) &#123;</span><br><span class="line">      $(<span class="string">&#x27;.tooltip-content .toc-article&#x27;</span>).<span class="title function_">scrollTop</span>(articleScrolltop + <span class="number">150</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (activePosition &lt; <span class="number">50</span>) &#123;</span><br><span class="line">      $(<span class="string">&#x27;.tooltip-content .toc-article&#x27;</span>).<span class="title function_">scrollTop</span>(articleScrolltop - <span class="number">150</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// pc动态目录</span></span><br><span class="line">$(<span class="string">&#x27;#container&#x27;</span>).<span class="title function_">scroll</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> currentTop = $(<span class="variable language_">this</span>).<span class="title function_">scrollTop</span>()</span><br><span class="line">  <span class="title function_">findPcHeadPosition</span>(currentTop)</span><br><span class="line">  <span class="title function_">autoScrollToc</span>()</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// find head position &amp; add active class</span></span><br><span class="line"><span class="comment">// DOM Hierarchy:</span></span><br><span class="line"><span class="comment">// ol.toc &gt; (li.toc-item, ...)</span></span><br><span class="line"><span class="comment">// li.toc-item &gt; (a.toc-link, ol.toc-child &gt; (li.toc-item, ...))</span></span><br><span class="line"><span class="keyword">var</span> findPcHeadPosition = <span class="keyword">function</span> (<span class="params">top</span>) &#123;</span><br><span class="line"><span class="comment">// assume that we are not in the post page if no TOC link be found,</span></span><br><span class="line"><span class="comment">// thus no need to update the status</span></span><br><span class="line">  <span class="keyword">if</span> ($(<span class="string">&#x27;.toc-link&#x27;</span>).<span class="property">length</span> === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> list = $(<span class="string">&#x27;.article-entry&#x27;</span>).<span class="title function_">find</span>(<span class="string">&#x27;h1,h2,h3,h4,h5,h6&#x27;</span>)</span><br><span class="line">  <span class="keyword">var</span> currentId = <span class="string">&#x27;&#x27;</span></span><br><span class="line">  list.<span class="title function_">each</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> head = $(<span class="variable language_">this</span>)</span><br><span class="line">    <span class="keyword">if</span> (top &gt; head.<span class="title function_">position</span>().<span class="property">top</span>) &#123;</span><br><span class="line">      currentId = <span class="string">&#x27;#&#x27;</span> + $(<span class="variable language_">this</span>).<span class="title function_">attr</span>(<span class="string">&#x27;id&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (currentId === <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">    $(<span class="string">&#x27;.toc-link&#x27;</span>).<span class="title function_">removeClass</span>(<span class="string">&#x27;active&#x27;</span>)</span><br><span class="line">    $(<span class="string">&#x27;.toc-child&#x27;</span>).<span class="title function_">hide</span>()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> currentActive = $(<span class="string">&#x27;.toc-link.active&#x27;</span>)</span><br><span class="line">  <span class="keyword">if</span> (currentId &amp;&amp; currentActive.<span class="title function_">attr</span>(<span class="string">&#x27;href&#x27;</span>) !== currentId) &#123;</span><br><span class="line">    <span class="keyword">if</span> (isanchor) <span class="title function_">updateAnchor</span>(currentId)</span><br><span class="line"></span><br><span class="line">    $(<span class="string">&#x27;.toc-link&#x27;</span>).<span class="title function_">removeClass</span>(<span class="string">&#x27;active&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> _this = $(<span class="string">&#x27;.toc-link[href=&quot;&#x27;</span> + currentId + <span class="string">&#x27;&quot;]&#x27;</span>)</span><br><span class="line">    _this.<span class="title function_">addClass</span>(<span class="string">&#x27;active&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> parents = _this.<span class="title function_">parents</span>(<span class="string">&#x27;.toc-child&#x27;</span>)</span><br><span class="line">    <span class="comment">// Returned list is in reverse order of the DOM elements</span></span><br><span class="line">    <span class="comment">// Thus `parents.last()` is the outermost .toc-child container</span></span><br><span class="line">    <span class="comment">// i.e. list of subsections</span></span><br><span class="line">    <span class="keyword">var</span> topLink = (parents.<span class="property">length</span> &gt; <span class="number">0</span>) ? parents.<span class="title function_">last</span>() : _this</span><br><span class="line">    <span class="title function_">expandToc</span>(topLink.<span class="title function_">closest</span>(<span class="string">&#x27;.toc-item&#x27;</span>).<span class="title function_">find</span>(<span class="string">&#x27;.toc-child&#x27;</span>))</span><br><span class="line">    topLink</span><br><span class="line">    <span class="comment">// Find all top-level .toc-item containers, i.e. sections</span></span><br><span class="line">    <span class="comment">// excluding the currently active one</span></span><br><span class="line">    .<span class="title function_">closest</span>(<span class="string">&#x27;.toc-item&#x27;</span>).<span class="title function_">siblings</span>(<span class="string">&#x27;.toc-item&#x27;</span>)</span><br><span class="line">    <span class="comment">// Hide their respective list of subsections</span></span><br><span class="line">    .<span class="title function_">find</span>(<span class="string">&#x27;.toc-child&#x27;</span>).<span class="title function_">hide</span>()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// mobile动态目录</span></span><br><span class="line">$(<span class="variable language_">window</span>).<span class="title function_">scroll</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> currentTop = $(<span class="variable language_">this</span>).<span class="title function_">scrollTop</span>()||<span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span></span><br><span class="line">  <span class="title function_">findMobileHeadPosition</span>(currentTop+<span class="number">50</span>)</span><br><span class="line">  <span class="title function_">autoScrollToc</span>()</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">var</span> findMobileHeadPosition = <span class="keyword">function</span> (<span class="params">top</span>) &#123;</span><br><span class="line"><span class="comment">// assume that we are not in the post page if no TOC link be found,</span></span><br><span class="line"><span class="comment">// thus no need to update the status</span></span><br><span class="line">  <span class="keyword">if</span> ($(<span class="string">&#x27;.toc-link&#x27;</span>).<span class="property">length</span> === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> list = $(<span class="string">&#x27;.article-entry&#x27;</span>).<span class="title function_">find</span>(<span class="string">&#x27;h1,h2,h3,h4,h5,h6&#x27;</span>)</span><br><span class="line">  <span class="keyword">var</span> currentId = <span class="string">&#x27;&#x27;</span></span><br><span class="line">  list.<span class="title function_">each</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> head = $(<span class="variable language_">this</span>)</span><br><span class="line">    <span class="keyword">if</span> (top &gt; head.<span class="title function_">offset</span>().<span class="property">top</span>-<span class="number">25</span>) &#123;</span><br><span class="line">      currentId = <span class="string">&#x27;#&#x27;</span> + $(<span class="variable language_">this</span>).<span class="title function_">attr</span>(<span class="string">&#x27;id&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (currentId === <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">    $(<span class="string">&#x27;.toc-link&#x27;</span>).<span class="title function_">removeClass</span>(<span class="string">&#x27;active&#x27;</span>)</span><br><span class="line">    $(<span class="string">&#x27;.toc-child&#x27;</span>).<span class="title function_">hide</span>()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> currentActive = $(<span class="string">&#x27;.toc-link.active&#x27;</span>)</span><br><span class="line">  <span class="keyword">if</span> (currentId &amp;&amp; currentActive.<span class="title function_">attr</span>(<span class="string">&#x27;href&#x27;</span>) !== currentId) &#123;</span><br><span class="line">    <span class="keyword">if</span> (isanchor) <span class="title function_">updateAnchor</span>(currentId)</span><br><span class="line"></span><br><span class="line">    $(<span class="string">&#x27;.toc-link&#x27;</span>).<span class="title function_">removeClass</span>(<span class="string">&#x27;active&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> _this = $(<span class="string">&#x27;.toc-link[href=&quot;&#x27;</span> + currentId + <span class="string">&#x27;&quot;]&#x27;</span>)</span><br><span class="line">    _this.<span class="title function_">addClass</span>(<span class="string">&#x27;active&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> parents = _this.<span class="title function_">parents</span>(<span class="string">&#x27;.toc-child&#x27;</span>)</span><br><span class="line">    <span class="comment">// Returned list is in reverse order of the DOM elements</span></span><br><span class="line">    <span class="comment">// Thus `parents.last()` is the outermost .toc-child container</span></span><br><span class="line">    <span class="comment">// i.e. list of subsections</span></span><br><span class="line">    <span class="keyword">var</span> topLink = (parents.<span class="property">length</span> &gt; <span class="number">0</span>) ? parents.<span class="title function_">last</span>() : _this</span><br><span class="line">    <span class="title function_">expandToc</span>(topLink.<span class="title function_">closest</span>(<span class="string">&#x27;.toc-item&#x27;</span>).<span class="title function_">find</span>(<span class="string">&#x27;.toc-child&#x27;</span>))</span><br><span class="line">    topLink</span><br><span class="line">    <span class="comment">// Find all top-level .toc-item containers, i.e. sections</span></span><br><span class="line">    <span class="comment">// excluding the currently active one</span></span><br><span class="line">    .<span class="title function_">closest</span>(<span class="string">&#x27;.toc-item&#x27;</span>).<span class="title function_">siblings</span>(<span class="string">&#x27;.toc-item&#x27;</span>)</span><br><span class="line">    <span class="comment">// Hide their respective list of subsections</span></span><br><span class="line">    .<span class="title function_">find</span>(<span class="string">&#x27;.toc-child&#x27;</span>).<span class="title function_">hide</span>()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>以上代码是基于yilia主题优化的，在其他主题使用可能不生效<br>在<code>yilia\layout\_partial\after-footer.ejs</code>文件中的<code>yiliaConfig</code>变量中添加<code>anchor</code>获取主题配置文件中<code>anchor</code>的值</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">anchor: &lt;%=theme.anchor%&gt;</span><br></pre></td></tr></table></figure>
<h2 id="主题配置"><a href="#主题配置" class="headerlink" title="主题配置"></a>主题配置</h2><p>在主题的script.ejs文件中创建一个script标签，将上面的代码粘贴到script标签中即可<br>主题配置文件中（<code>_config.yml</code>）添加如下配置，实现浏览器根据当前页面位置实时更新页面url：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># anchor 目录锚点url</span><br><span class="line"># 当您在文章中滚动时，URL将根据标头ID进行更新。</span><br><span class="line">anchor: true</span><br></pre></td></tr></table></figure>
<p>切记在<code>yiliaConfig</code>变量中添加<code>anchor</code><br>既然实现动态目录，自然要对动态目录添加一些样式，在主题的css文件中添加相应样式：</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 动态目录 */</span></span><br><span class="line"><span class="selector-class">.toc-container</span><span class="selector-class">.tooltip-left</span> <span class="selector-class">.tooltip-east</span> <span class="selector-class">.tooltip-content</span> <span class="selector-class">.active</span> &#123;</span><br><span class="line">    <span class="attribute">font-weight</span>: bold;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>将当前目录加粗，并且显示为红色进行区分，根据自己需要更改</p>
]]></content>
      <tags>
        <tag>博客</tag>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>springMVC</title>
    <url>/2020/05/22/springMVC/</url>
    <content><![CDATA[<p>本篇文章对springMVC进行简单介绍</p>
<span id="more"></span>
<h2 id="spring介绍"><a href="#spring介绍" class="headerlink" title="spring介绍"></a>spring介绍</h2><p>spring是一个开源的控制反转(Inversion of Control ,IoC)和面向切面(AOP)的容器框架.它的主要目的是简化企业开发.</p>
<p>所谓控制反转就是应用本身不负责依赖对象的创建及维护，依赖对象的创建及维护是由外部容器负责的。这样控制权就由应用转移到了外部容器，控制权的转移就是所谓反转。</p>
<p>面向切面，通过预编译方式和运行期动态代理实现程序功能的统一维护的一种技术.利用AOP可以对业务逻辑的各个部分进行隔离，从而使得业务逻辑各部分之间的耦合度降低，提高程序的可重用性，同时提高了开发的效率。</p>
<h2 id="创建工程"><a href="#创建工程" class="headerlink" title="创建工程"></a>创建工程</h2><p>创建工程，引入jar包<br>创建各目录，并创建配置文件<br>SqlConfigMap.xml<br>applicationContext.xml<br>在applicationContext.xml中配置数据源<br>在applicationContext.xml中配置sqlSessionFactory</p>
<h2 id="SqlConfigMap-xml配置"><a href="#SqlConfigMap-xml配置" class="headerlink" title="SqlConfigMap.xml配置"></a>SqlConfigMap.xml配置</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">typeAliases为别名配置，可省略domain的包名</span><br><span class="line">&lt;!--别名配置  --&gt;</span><br><span class="line"> 	&lt;typeAliases&gt;</span><br><span class="line"> 		&lt;package name=&quot;com.aly.domain&quot;/&gt;</span><br><span class="line"> 	&lt;/typeAliases&gt;</span><br><span class="line">mappers中package为扫描配置</span><br><span class="line">&lt;!-- 加载映射文件 --&gt;</span><br><span class="line">  	&lt;mappers&gt;</span><br><span class="line">  		&lt;package name=”com.aly.mapper”/&gt;</span><br><span class="line">  	&lt;/mappers&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;!DOCTYPE configuration </span><br><span class="line">PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot; </span><br><span class="line">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;configuration&gt; </span><br><span class="line">	&lt;settings&gt;</span><br><span class="line">   		&lt;setting name=&quot;lazyLoadingEnabled&quot; value=&quot;true&quot;/&gt;</span><br><span class="line">   		&lt;setting name=&quot;aggressiveLazyLoading&quot; value=&quot;false&quot;/&gt;</span><br><span class="line">   &lt;/settings&gt;</span><br><span class="line">   </span><br><span class="line">  	&lt;!-- 加载映射文件 --&gt;</span><br><span class="line">  	&lt;mappers&gt;</span><br><span class="line">  		&lt;mapper resource=&quot;com/aly/mapper/UserMapper.xml&quot;/&gt;</span><br><span class="line">  		&lt;mapper resource=&quot;com/aly/mapper/OrdersMapper.xml&quot;/&gt;</span><br><span class="line">  		&lt;mapper resource=&quot;com/aly/mapper/OrderdetailMapper.xml&quot;/&gt;</span><br><span class="line">  	&lt;/mappers&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure>

<h2 id="applicationContext-xml配置"><a href="#applicationContext-xml配置" class="headerlink" title="applicationContext.xml配置"></a>applicationContext.xml配置</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class="line">	xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;</span><br><span class="line">	xmlns:context=&quot;http://www.springframework.org/schema/context&quot;</span><br><span class="line">	xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;</span><br><span class="line">	xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans </span><br><span class="line">		http://www.springframework.org/schema/beans/spring-beans-3.2.xsd </span><br><span class="line">		http://www.springframework.org/schema/mvc </span><br><span class="line">		http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd </span><br><span class="line">		http://www.springframework.org/schema/context </span><br><span class="line">		http://www.springframework.org/schema/context/spring-context-3.2.xsd </span><br><span class="line">		http://www.springframework.org/schema/aop </span><br><span class="line">		http://www.springframework.org/schema/aop/spring-aop-3.2.xsd </span><br><span class="line">		http://www.springframework.org/schema/tx </span><br><span class="line">		http://www.springframework.org/schema/tx/spring-tx-3.2.xsd &quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;/beans&gt;</span><br><span class="line"></span><br><span class="line">数据源的配置，需要放在beans里面</span><br><span class="line">destroy-method为是否自动销毁连接</span><br><span class="line">maxActive为最大活跃连接数</span><br><span class="line">maxIdle最大空闲连接数</span><br><span class="line"></span><br><span class="line">&lt;bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot;</span><br><span class="line">		destroy-method=&quot;close&quot;&gt;</span><br><span class="line">			&lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;</span><br><span class="line">			&lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/ssm&quot;/&gt;</span><br><span class="line">			&lt;property name=&quot;username&quot; value=&quot;root&quot;/&gt;</span><br><span class="line">			&lt;property name=&quot;password&quot; value=&quot;&quot;/&gt;</span><br><span class="line">			&lt;!-- 连接活跃最大值（最大连接数） --&gt;</span><br><span class="line">			&lt;property name=&quot;maxActive&quot; value=&quot;10&quot;/&gt;</span><br><span class="line">			&lt;!-- 最大空闲连接数 --&gt;</span><br><span class="line">			&lt;property name=&quot;maxIdle&quot; value=&quot;5&quot;/&gt;</span><br><span class="line">		&lt;/bean&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">配置sqlSessionFactory</span><br><span class="line">交给spring管理的过程为控制反转</span><br><span class="line">配置文件中直接传入参数为依赖注入（控制反转的一种方式）</span><br><span class="line">两个必要参数mybatis核心配置文件和数据源</span><br><span class="line">&lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;</span><br><span class="line">			&lt;property name=&quot;configLocation&quot; value=&quot;SqlMapConfig.xml&quot;/&gt;</span><br><span class="line">			&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;</span><br><span class="line">		&lt;/bean&gt;</span><br></pre></td></tr></table></figure>

<h2 id="整合后mybatis的使用"><a href="#整合后mybatis的使用" class="headerlink" title="整合后mybatis的使用"></a>整合后mybatis的使用</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">原始dao方式</span><br><span class="line">配置mapper映射文件</span><br><span class="line">编写dao接口</span><br><span class="line">编写dao实现类（需要实现SqlSessionDaoSupport类）</span><br><span class="line">配置spring中bean，需要指定sqlSessionFactory</span><br><span class="line">&lt;bean id=&quot;userdao&quot; class=&quot;com.aly.dao.impl.UserDaoImpl&quot;&gt;</span><br><span class="line">			&lt;property name=&quot;sqlSessionFactory&quot; ref=&quot;sqlSessionFactory&quot;/&gt;</span><br><span class="line">		&lt;/bean&gt;</span><br><span class="line"></span><br><span class="line">mapper接口动态代理方式</span><br><span class="line">配置mapper映射文件</span><br><span class="line">编写dao接口</span><br><span class="line">配置spring中bean，需要指定sqlSessionFactory，mapperInterface属性</span><br><span class="line">&lt;bean id=&quot;userMapper&quot; class=&quot;org.mybatis.spring.mapper.MapperFactoryBean&quot;&gt;</span><br><span class="line">			&lt;property name=&quot;mapperInterface&quot; value=&quot;com.aly.mapper.UserMapper&quot;/&gt;</span><br><span class="line">			&lt;property name=&quot;sqlSessionFactory&quot; ref=&quot;sqlSessionFactory&quot;/&gt;</span><br><span class="line">		&lt;/bean&gt;</span><br><span class="line"></span><br><span class="line">ApplicationContext applicationContext = new </span><br><span class="line">				ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);</span><br><span class="line">		</span><br><span class="line">		UserMapper userMapper = (UserMapper)applicationContext.getBean(&quot;userMapper&quot;);</span><br><span class="line"></span><br><span class="line">mapper接口动态代理（扫描方式）</span><br><span class="line">配置mapper映射文件</span><br><span class="line">编写dao接口</span><br><span class="line">配置spring中bean（只需要一次），需要指定basePackage，sqlSessionFactoryBeanName</span><br><span class="line">&lt;bean class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;</span><br><span class="line">			&lt;property name=&quot;basePackage&quot; value=&quot;com.aly.mapper&quot;/&gt;</span><br><span class="line">			&lt;property name=&quot;sqlSessionFactoryBeanName&quot; value=&quot;sqlSessionFactory&quot;/&gt;</span><br><span class="line">		&lt;/bean&gt;</span><br></pre></td></tr></table></figure>

<h2 id="Spring-MVC介绍"><a href="#Spring-MVC介绍" class="headerlink" title="Spring MVC介绍"></a>Spring MVC介绍</h2><p>spring MVC是spring框架的一个模块，spring MVC和spring之间无需通过中间整合层进行整合（spring与mybatis需要mybatis-spring-1.2.2.jar）</p>
<p>spring MVC 框架并不知道使用的视图，所以不会强迫您只使用 JSP 技术。Spring MVC 分离了控制器、模型对象、分派器以及处理程序对象的角色，这种分离让它们更容易进行定制。</p>
<p>它是一个典型的教科书式的mvc构架，而不像struts等都是变种或者不是完全基于mvc系统的框架，对于初学者或者想了解mvc的人来说我觉得 spring是最好的，它的实现就是教科书！第二它和tapestry一样是一个纯正的servlet系统，这也是它和tapestry相比 struts所没有的优势。而且框架本身有代码，看起来容易理解。</p>
<h2 id="工作原理"><a href="#工作原理" class="headerlink" title="工作原理"></a>工作原理</h2><p>用户request请求前端控制器DispatcherServlet</p>
<p>前端控制器通过处理器映射器HandlerMapping查找使哪一个处理器适配器HandlerAdapter（返回一个执行链）</p>
<p>前端控制器通过执行链请求处理器适配器HandlerAdapter</p>
<p>处理器适配器HandlerAdapter执行Handler处理器得到一个ModelAndView</p>
<p>将ModelAndView返回给前端控制器</p>
<p>前端控制器将ModelAndView发给视图解析器View resolver</p>
<p>view resolver解析后会返回一个纯view</p>
<p>将view返回给用户</p>
<h2 id="springmvc配置文件"><a href="#springmvc配置文件" class="headerlink" title="springmvc配置文件"></a>springmvc配置文件</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class="line">	xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; </span><br><span class="line">	xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;</span><br><span class="line">	xmlns:context=&quot;http://www.springframework.org/schema/context&quot;</span><br><span class="line">	xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; </span><br><span class="line">	xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;</span><br><span class="line">	xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans </span><br><span class="line">		http://www.springframework.org/schema/beans/spring-beans-3.2.xsd </span><br><span class="line">		http://www.springframework.org/schema/mvc </span><br><span class="line">		http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd </span><br><span class="line">		http://www.springframework.org/schema/context </span><br><span class="line">		http://www.springframework.org/schema/context/spring-context-3.2.xsd </span><br><span class="line">		http://www.springframework.org/schema/aop </span><br><span class="line">		http://www.springframework.org/schema/aop/spring-aop-3.2.xsd </span><br><span class="line">		http://www.springframework.org/schema/tx </span><br><span class="line">		http://www.springframework.org/schema/tx/spring-tx-3.2.xsd &quot;&gt;</span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure>

<h2 id="配置前端控制器"><a href="#配置前端控制器" class="headerlink" title="配置前端控制器"></a>配置前端控制器</h2><p>该配置信息在web.xml下配置</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;servlet&gt;</span><br><span class="line">		&lt;servlet-name&gt;springmvc&lt;/servlet-name&gt;</span><br><span class="line">		&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;</span><br><span class="line">		&lt;init-param&gt;	</span><br><span class="line">			&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;</span><br><span class="line">			&lt;param-value&gt;classpath:springmvc.xml&lt;/param-value&gt;</span><br><span class="line">		&lt;/init-param&gt;</span><br><span class="line">	&lt;/servlet&gt;</span><br><span class="line">	&lt;servlet-mapping&gt;</span><br><span class="line">		&lt;servlet-name&gt;springmvc&lt;/servlet-name&gt;</span><br><span class="line">		&lt;url-pattern&gt;*.action&lt;/url-pattern&gt;</span><br><span class="line">	&lt;/servlet-mapping&gt;</span><br></pre></td></tr></table></figure>

<h2 id="配置处理器适配器"><a href="#配置处理器适配器" class="headerlink" title="配置处理器适配器"></a>配置处理器适配器</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;bean class=&quot;org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter&quot;/&gt;</span><br><span class="line">通过上面代码，可在springmvc.xml中配置处理器适配器</span><br><span class="line">此适配器能执行实现 Controller接口的Handler。</span><br><span class="line">包在spring-webmvc-3.2.0.RELEASE.jar下</span><br></pre></td></tr></table></figure>

<h2 id="配置处理器映射器"><a href="#配置处理器映射器" class="headerlink" title="配置处理器映射器"></a>配置处理器映射器</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;bean class=&quot;org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping&quot;/&gt;</span><br><span class="line">通过上面代码，可在springmvc.xml中配置处理器映射器</span><br><span class="line">该配置可以将bean的name属性作为url进行查找，需要在配置Handler时指定name属性</span><br><span class="line">包在spring-webmvc-3.2.0.RELEASE.jar下</span><br></pre></td></tr></table></figure>

<h2 id="配置视图解析器"><a href="#配置视图解析器" class="headerlink" title="配置视图解析器"></a>配置视图解析器</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;/&gt;</span><br><span class="line">通过上面代码，可在springmvc.xml中配置视图解析器</span><br><span class="line">该配置可以解析jsp，默认使用jstl标签，需要引入jstl的jar包</span><br><span class="line">包在spring-webmvc-3.2.0.RELEASE.jar下</span><br></pre></td></tr></table></figure>

<h2 id="配置处理器"><a href="#配置处理器" class="headerlink" title="配置处理器"></a>配置处理器</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">编写处理器，必须实现Controller接口</span><br><span class="line">必须实现接口里面handleRequest方法</span><br><span class="line">并指定返回的modelandview</span><br><span class="line">在springmvc中配置处理器，指</span><br><span class="line">定name属性用来访问，class属性</span><br><span class="line">文件位置</span><br><span class="line">&lt;bean name=&quot;/test.action&quot; class=&quot;com.aly.controller.TestController&quot;/&gt;</span><br></pre></td></tr></table></figure>

<h2 id="非注解的处理器映射器"><a href="#非注解的处理器映射器" class="headerlink" title="非注解的处理器映射器"></a>非注解的处理器映射器</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">第一种org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping</span><br><span class="line">第二种org.springframework.web.servlet.handler.SimpleUrlHandlerMapping</span><br><span class="line">多个处理器映射器可以并存，前端控制器判断url能被哪个处理器映射器映射，就让正确的处理器映射器映射。（了解）</span><br><span class="line">处理器映射器</span><br><span class="line">	&lt;bean class=&quot;org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping&quot;/&gt;</span><br><span class="line">		处理器映射器  两个可以同时存在</span><br><span class="line">	&lt;bean class=&quot;org.springframework.web.servlet.handler.SimpleUrlHandlerMapping&quot;&gt;</span><br><span class="line">		&lt;property name=&quot;mappings&quot;&gt;</span><br><span class="line">			&lt;props&gt;</span><br><span class="line">				&lt;prop key=&quot;/test.action&quot;&gt;testCon&lt;/prop&gt;</span><br><span class="line">			&lt;/props&gt;</span><br><span class="line">		&lt;/property&gt;</span><br><span class="line">	&lt;/bean&gt; </span><br></pre></td></tr></table></figure>

<h2 id="非注解的处理器适配器"><a href="#非注解的处理器适配器" class="headerlink" title="非注解的处理器适配器"></a>非注解的处理器适配器</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">第一种org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter要求编写的Handler实现 Controller接口。</span><br><span class="line">第二种org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter要求编写的Handler实现HttpRequestHandler接口。（方法里面实现和servlet一样）</span><br><span class="line"></span><br><span class="line"> 处理器适配器</span><br><span class="line">	&lt;bean class=&quot;org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter&quot;/&gt;</span><br><span class="line"> 处理器适配器</span><br><span class="line">	&lt;bean class=&quot;org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter&quot;/&gt;</span><br></pre></td></tr></table></figure>

<h2 id="注解方式"><a href="#注解方式" class="headerlink" title="注解方式"></a>注解方式</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">在spring3.1之前使用</span><br><span class="line">处理器映射器org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping</span><br><span class="line">处理器适配器org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter</span><br><span class="line"></span><br><span class="line">在spring3.1之后使用</span><br><span class="line">处理器映射器org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping</span><br><span class="line">处理器适配器org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter</span><br><span class="line">可由&lt;mvc:annotation-driven&gt;&lt;/mvc:annotation-driven&gt;代替（实际开发中也是应用此配置）</span><br></pre></td></tr></table></figure>

<h2 id="注解方式handler（处理器）的开发"><a href="#注解方式handler（处理器）的开发" class="headerlink" title="注解方式handler（处理器）的开发"></a>注解方式handler（处理器）的开发</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@Controller//使用Controller标识 它是一个控制器</span><br><span class="line">@RequestMapping(&quot;/test&quot;)//url映射可以与方法名不同（一般相同，规范）</span><br><span class="line"></span><br><span class="line">@Controller</span><br><span class="line">public class Test2Con &#123;</span><br><span class="line">	</span><br><span class="line">	@RequestMapping(&quot;/test.action&quot;)</span><br><span class="line">	public ModelAndView test()&#123;</span><br><span class="line">		ModelAndView mav = new ModelAndView();</span><br><span class="line">		mav.setViewName(&quot;index.jsp&quot;);</span><br><span class="line">		System.out.println(1111);</span><br><span class="line">		return mav;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<h2 id="在spring中加载handler（处理器）"><a href="#在spring中加载handler（处理器）" class="headerlink" title="在spring中加载handler（处理器）"></a>在spring中加载handler（处理器）</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">第一种方式</span><br><span class="line">需要每个都加载一次</span><br><span class="line">&lt;bean class=&quot;com.aly.controller.Test2Con&quot;/&gt;</span><br><span class="line">第二种方式组件扫描（常用方式）</span><br><span class="line">统一加载一次性配置</span><br><span class="line">&lt;!-- 组件扫描方式加载控制器 --&gt;</span><br><span class="line">	&lt;context:component-scan base-package=&quot;com.aly.controller&quot; /&gt;</span><br></pre></td></tr></table></figure>
<p>web工程加载spring配置文件</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">在web.xml文件加入如下代码，启动工程自动加载spring配置文件</span><br><span class="line">&lt;context-param&gt;</span><br><span class="line">		&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;</span><br><span class="line">		&lt;param-value&gt;/WEB-INF/classes/applicationContext.xml&lt;/param-value&gt;</span><br><span class="line">	&lt;/context-param&gt;</span><br><span class="line">	&lt;listener&gt;</span><br><span class="line">		&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;</span><br><span class="line">	&lt;/listener&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;!--加载mapper的，配置在spring配置文件中--&gt;</span><br><span class="line">&lt;bean class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;</span><br><span class="line">		&lt;property name=&quot;basePackage&quot; value=&quot;com.aly.mapper&quot;/&gt;</span><br><span class="line">		&lt;property name=&quot;sqlSessionFactoryBeanName&quot; value=&quot;sqlSessionFactory&quot;/&gt;</span><br><span class="line">	&lt;/bean&gt;</span><br></pre></td></tr></table></figure>

<h2 id="窄化请求路径"><a href="#窄化请求路径" class="headerlink" title="窄化请求路径"></a>窄化请求路径</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@RequestMapping（）不仅可以放在方法上使用，用来确定路径，也可以用作Controller类上，那么访问时需要在方法基础之上再加一层目录，这样的访问方式叫窄化请求路径。</span><br><span class="line">访问路径：http://localhost:8080/test1/test3/test1.action</span><br><span class="line">@Controller</span><br><span class="line">@RequestMapping(&quot;/test3&quot;)</span><br><span class="line">public class Test3Con &#123;</span><br><span class="line">	@Autowired</span><br><span class="line">	UserMapper userMapper;</span><br><span class="line">	@RequestMapping(&quot;/test1.action&quot;)</span><br><span class="line">	public ModelAndView test()&#123;</span><br><span class="line">		ModelAndView mav = new ModelAndView();</span><br><span class="line">		User user = userMapper.selectByPrimaryKey(2);</span><br><span class="line">		//下一步操作等同于request.setAttribute();</span><br><span class="line">		mav.addObject(&quot;user&quot;,user);</span><br><span class="line">		mav.setViewName(&quot;/index.jsp&quot;);</span><br><span class="line">		return mav;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<h2 id="视图解析器配置前缀、后缀"><a href="#视图解析器配置前缀、后缀" class="headerlink" title="视图解析器配置前缀、后缀"></a>视图解析器配置前缀、后缀</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">为了简化jsp跳转url，视图解析器提供了两个参数，可以配置jsp访问url的前缀和后缀。</span><br><span class="line">&lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;</span><br><span class="line">		&lt;!-- 视图前缀 --&gt;</span><br><span class="line">		&lt;property name=&quot;prefix&quot; value=&quot;&quot;/&gt;</span><br><span class="line">		&lt;!-- 视图后缀 --&gt;</span><br><span class="line">		&lt;property name=&quot;suffix&quot; value=&quot;&quot; /&gt;</span><br><span class="line">	&lt;/bean&gt;</span><br><span class="line"></span><br><span class="line">其中，第一个property的name属性为prefix ，规定jsp访问url的前缀，value里面为前缀内容。</span><br><span class="line">第二个property的name属性为suffix，规定jsp访问url的后缀，value里面为后缀内容，一般为.jsp。</span><br></pre></td></tr></table></figure>

<h2 id="Controller里面方法的返回值"><a href="#Controller里面方法的返回值" class="headerlink" title="Controller里面方法的返回值"></a>Controller里面方法的返回值</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">返回ModelAndView，需要在方法结束时，定义ModelAndView，将model和view分别进行设置。</span><br><span class="line">返回String，直接加视图名，需要在方法参数里面定义Model，在视图名前面加redirect:/forward:相当于重定向或转发。</span><br><span class="line">返回viod，需要在方法参数里面加HttpServletRequest或HttpServletResponse，也可一同时存在，相当于以前的servlet用法。</span><br></pre></td></tr></table></figure>

<h2 id="参数绑定"><a href="#参数绑定" class="headerlink" title="参数绑定"></a>参数绑定</h2><p>默认支持的类型<br>HttpServletRequest<br>HttpServletResponse<br>HttpSession<br>简单类型（基本数据类型）通过@RequestParam对简单类型进行绑定。如果不使用@RequestParam，要求request传入参数名称和controller方法的形参名称一致，才能绑定成功。如果使用@RequestParam，不用限制request传入参数名称和controller方法的形参名称一致。<br>domain类绑定参数需要页面中input的name和controller的pojo形参中的属性名称一致，才能将页面中数据绑定到domain对应的属性。（与简单类型互不影响）</p>
<h2 id="字符集过滤器"><a href="#字符集过滤器" class="headerlink" title="字符集过滤器"></a>字符集过滤器</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Spring的字符集过滤通常用于处理项目中的post乱码问题，该过滤器位于org.springframework.web.filter包中，指向类CharacterEncodingFilter。</span><br><span class="line">&lt;filter&gt;</span><br><span class="line">		&lt;filter-name&gt;CharacterEncodingFilter&lt;/filter-name&gt;</span><br><span class="line">		&lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;</span><br><span class="line">		&lt;init-param&gt;</span><br><span class="line">			&lt;param-name&gt;encoding&lt;/param-name&gt;</span><br><span class="line">			&lt;param-value&gt;UTF-8&lt;/param-value&gt;</span><br><span class="line">		&lt;/init-param&gt;</span><br><span class="line">	&lt;/filter&gt;</span><br><span class="line">	&lt;filter-mapping&gt;</span><br><span class="line">		&lt;filter-name&gt;CharacterEncodingFilter&lt;/filter-name&gt;</span><br><span class="line">		&lt;url-pattern&gt;/*&lt;/url-pattern&gt;</span><br><span class="line">	&lt;/filter-mapping&gt;</span><br></pre></td></tr></table></figure>

<h2 id="文件上传"><a href="#文件上传" class="headerlink" title="文件上传"></a>文件上传</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">复制所需jar包到工程lib目录下commons-io-2.3.jar</span><br><span class="line">在spring配置文件中加入如下代码</span><br><span class="line">&lt;bean id=&quot;multipartResolver&quot;</span><br><span class="line">        class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt;</span><br><span class="line">        &lt;!-- 设置编码 --&gt;</span><br><span class="line">        &lt;property name=&quot;defaultEncoding&quot; value=&quot;UTF-8&quot; /&gt;</span><br><span class="line">        &lt;!-- 设置上传文件总大小 --&gt;</span><br><span class="line">        &lt;property name=&quot;maxUploadSize&quot; value=&quot;10240000&quot; /&gt;</span><br><span class="line">        &lt;!-- 设置单个上传文件大小 --&gt;</span><br><span class="line">        &lt;property name=&quot;maxUploadSizePerFile&quot; value=&quot;102400&quot; /&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">创建上传页面</span><br><span class="line">Method必须是post</span><br><span class="line">必须配置enctype的值为multipart/form-data</span><br><span class="line">&lt;form action=&quot;test/upload.action&quot; method=&quot;post&quot;</span><br><span class="line">        enctype=&quot;multipart/form-data&quot;&gt;</span><br><span class="line">        &lt;input type=&quot;file&quot; name=&quot;uploadFile&quot; value=&quot;选择文件&quot; /&gt; </span><br><span class="line">        &lt;input type=&quot;submit&quot;value=&quot;提交&quot; /&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line"></span><br><span class="line">创建上传用的controller</span><br><span class="line">@RequestMapping(&quot;/upload.action&quot;)</span><br><span class="line">	public String upload(Model model,HttpSession session, MultipartFile uploadFile)</span><br><span class="line">            throws Exception &#123;</span><br><span class="line">		</span><br><span class="line">        String originalFilename = uploadFile.getOriginalFilename();</span><br><span class="line">        System.out.println(originalFilename);</span><br><span class="line">        </span><br><span class="line">        String name = originalFilename.substring(originalFilename.lastIndexOf(&quot;.&quot;));</span><br><span class="line">        UUID uuid = UUID.randomUUID();</span><br><span class="line">        String url = session.getServletContext().getRealPath(&quot;/upload/&quot;)+uuid+name;</span><br><span class="line">        System.out.println(uuid+name);</span><br><span class="line">        if (uploadFile.getSize() &gt; 0) &#123;</span><br><span class="line">                File realPath = new File(&quot;d:/&quot;,uuid+name);</span><br><span class="line">                System.out.println(realPath.getPath());</span><br><span class="line">                uploadFile.transferTo(realPath);</span><br><span class="line">            &#125;</span><br><span class="line">        model.addAttribute(&quot;url&quot;,uuid+name);</span><br><span class="line">        return &quot;/index.jsp&quot;;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>springMVC</tag>
      </tags>
  </entry>
  <entry>
    <title>微软新旧Micrpsoft Edge浏览器</title>
    <url>/2020/05/07/%E5%BE%AE%E8%BD%AF%E6%96%B0%E6%97%A7Micrpsoft-Edge%E6%B5%8F%E8%A7%88%E5%99%A8/</url>
    <content><![CDATA[<p>本篇文章介绍一下新版本Edge浏览器相比旧版本Edge浏览器发生了哪些变化<br>新版Edge浏览器下载网址：<a href="https://www.microsoft.com/zh-cn/edge?form=MY01BH&amp;OCID=MY01BH">https://www.microsoft.com/zh-cn/edge?form=MY01BH&amp;OCID=MY01BH</a></p>
<span id="more"></span>
<h1 id="变化"><a href="#变化" class="headerlink" title="变化"></a>变化</h1><h2 id="右上角工具菜单"><a href="#右上角工具菜单" class="headerlink" title="右上角工具菜单"></a>右上角工具菜单</h2><p><img src="%E6%97%A7_%E5%8F%B3%E4%B8%8A.png" alt="旧_右上"><br>旧版本Edge<br><img src="%E6%96%B0_%E5%8F%B3%E4%B8%8A.png" alt="新_右上"><br>新版本Edge</p>
<p>新版较旧版去掉了添加备注功能，添加了集锦功能，去掉了共享此页面图标（移动到设置及其他界面），添加了发送反馈与用户头像（类似chrome）</p>
<h2 id="收藏夹功能"><a href="#收藏夹功能" class="headerlink" title="收藏夹功能"></a>收藏夹功能</h2><div><img width=50% src ="旧_收藏夹.png" alt="旧_收藏夹"/><img width=50% src ="新_收藏夹.png" alt="新_收藏夹"/></div>

<p>左：旧版本Edge<br>右：新版本Edge</p>
<p>新版本添加删除重复的收藏夹</p>
<h2 id="设置及其他功能"><a href="#设置及其他功能" class="headerlink" title="设置及其他功能"></a>设置及其他功能</h2><div><img width=50% src ="旧_设置及其他.png" alt="旧_设置及其他"/><img width=50% src ="新_设置及其他.png" alt="新_设置及其他"/></div>

<p>左：旧版本Edge<br>右：新版本Edge</p>
<p>新版添加了：<br>新建标签页、应用、集锦、共享、关闭浏览器<br>删除：<br>阅读列表、将此页面固定到任务栏<br>修改：<br>朗读此页面修改为大声朗读</p>
<h2 id="设置及其他功能中的收藏夹"><a href="#设置及其他功能中的收藏夹" class="headerlink" title="设置及其他功能中的收藏夹"></a>设置及其他功能中的收藏夹</h2><p><img src="%E6%96%B0_%E6%94%B6%E8%97%8F%E5%A4%B92.png" alt="新_收藏夹2"><br>新版添加了导入功能，并且可以对收藏夹进行相应管理（旧版本在设置中）</p>
<h2 id="旧版的阅读列表与新版的集锦"><a href="#旧版的阅读列表与新版的集锦" class="headerlink" title="旧版的阅读列表与新版的集锦"></a>旧版的阅读列表与新版的集锦</h2><p><img src="%E9%98%85%E8%AF%BB%E5%88%97%E8%A1%A8.png" alt="阅读列表"><br>阅读列表<br><img src="%E9%9B%86%E9%94%A6.png" alt="集锦"><br>集锦</p>
<p>感觉这两个功能有些类似，阅读列表里面有备注功能的实例，新版没有备注功能</p>
<h2 id="历史记录"><a href="#历史记录" class="headerlink" title="历史记录"></a>历史记录</h2><p><img src="%E6%97%A7_%E5%8E%86%E5%8F%B2%E8%AE%B0%E5%BD%95.png" alt="旧_历史记录"><br>旧版本Edge<br><img src="%E6%96%B0_%E5%8E%86%E5%8F%B2%E8%AE%B0%E5%BD%95.png" alt="新_历史记录"><br>新版本Edge</p>
<p>新版本历史记录与chrome类似</p>
<h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h2><p><img src="%E6%97%A7_%E4%B8%8B%E8%BD%BD.png" alt="旧_下载"><br>旧版本Edge<br><img src="%E6%96%B0_%E4%B8%8B%E8%BD%BD.png" alt="新_下载"><br>新版本Edge</p>
<p>新版本与谷歌类似<br>注：新版下载文件默认直接下载，不会出现旧版本Edge下载文件的提示（设置中好像可以更改）</p>
<h2 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h2><p>新版本添加了应用功能，里面有管理应用和将此站点作为应用安装（暂不清楚此功能是做什么用的）</p>
<h2 id="扩展"><a href="#扩展" class="headerlink" title="扩展"></a>扩展</h2><p>新版本中，微软做了与谷歌应用商店类似的网站（微软应用商店）进行安装扩展，且可以安装谷歌应用商店扩展，旧版本是在微软应用商店（UWP）进行安装</p>
<h2 id="大声朗读"><a href="#大声朗读" class="headerlink" title="大声朗读"></a>大声朗读</h2><div><img width=50% src ="旧_朗读.png" alt="旧_朗读"/><img width=50% src ="新_朗读.png" alt="新_朗读"/></div>

<p>左：旧版本Edge<br>右：新版本Edge</p>
<p>旧版本语音助手只有三个，默认为huihui，新版本添加很多，默认为xiaoxiao，比旧版好了许多（旧版有些生硬）</p>
<h2 id="更多工具"><a href="#更多工具" class="headerlink" title="更多工具"></a>更多工具</h2><div><img width=50% src ="旧_更多工具.png" alt="旧_更多工具"/><img width=50% src ="新_更多工具.png" alt="新_更多工具"/></div>

<p>左：旧版本Edge<br>右：新版本Edge</p>
<p>新版本去掉了笔记和ie打开功能，添加保存网页，新版本只能固定到任务栏，旧版本支持固定到“开始”屏幕，新版本添加了任务栏固定向导和浏览器任务管理器（chrome）</p>
<h2 id="开发人员工具"><a href="#开发人员工具" class="headerlink" title="开发人员工具"></a>开发人员工具</h2><p>微软制作的浏览器，开发人员工具语言跟随浏览器语言，这次也不例外。<br>旧版本开发人员工具远远没有chrome的好用，部分功能还会卡死。此次的新版Edge，采用了谷歌开源内核，开发人员工具与chrome几乎一摸一样，而且还是中文，简直就是福利（英语不好的小白）</p>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><h2 id="变化-1"><a href="#变化-1" class="headerlink" title="变化"></a>变化</h2><p>新版本基于谷歌开源Chromium内核开发，里面很多内容都与chrome相似，其实与旧版Edge没什么可比性，但是，微软对新版Edge进行了重制，以使习惯使用旧版Edge浏览器的用户适应新版<br>新版里面的设置功能，与chrome类似，与旧版本没有什么可比性，这里不进行比较<br>以上内容是从直观界面中发现的微小变化（新版对于旧版的还原度很高），可能不是很全。<br>当然，浏览器图标也是发生变化的，并且部分功能所对应的快捷键发生了变化</p>
<h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>2018年12月，微软正式确认，新的Edge浏览器将从EdgeHTML内核迁移为Chromium内核，截至2020年1月15日，新版Edge正式发布，记得当时还没有中文页面，在五月份左右，已经推出了中文下载页面，页面中下载安装，会覆盖之前版本，可以卸载，卸载后会恢复旧版<br>换了内核的Edge，总体来说感觉不错：谷歌有的功能它都有，并且可以随时更新（添加新功能）</p>
]]></content>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
  <entry>
    <title>电脑无法访问GitHub解决办法</title>
    <url>/2020/05/04/%E7%94%B5%E8%84%91%E6%97%A0%E6%B3%95%E8%AE%BF%E9%97%AEGitHub%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/</url>
    <content><![CDATA[<p>家里用的是吉林联通宽带，之前访问GitHub正常，但是从一月份回家开始，电脑便不能访问GitHub了，上网查了一些教程，没有去实践<br>为什们拖了这么久？原因其实很简单，因为手机数据流量可以访问，每次写完博客推送文章都是用电脑连的手机热点去完成，日子着实太苦了，好好的宽带用不了，需要去连手机热点，因为能连上，所以拖了这么久<br>今天闲着没事，忽然想到了GitHub不能连接的问题，照着教程试了一下，成功了<br>先说一下为什么家里的宽带不能访问GitHub原因：宽带对DNS服务器解析GitHub域名的IP进行屏蔽，导致GitHub无法访问（测试发现，解析出来的IP地址，只是家里的宽带无法访问，其它网络可以访问）</p>
<span id="more"></span>
<p>这里推荐两个网站，通过域名查IP<br><a href="https://www.ip138.com/">iP地址查询–手机号码查询归属地 | 邮政编码查询 | iP地址归属地查询 | 身份证号码验证在线查询网</a><br><a href="http://ping.chinaz.com/">多个地点Ping服务器,网站测速 - 站长工具</a></p>
<h2 id="无法访问GitHub的情况"><a href="#无法访问GitHub的情况" class="headerlink" title="无法访问GitHub的情况"></a>无法访问GitHub的情况</h2><p>先来看一下不能访问Github的情况<br>浏览器访问GitHub，提示无法访问此页面<br><img src="https://i.loli.net/2020/05/04/aPd1IgXTAM9CNY4.png" alt="无法访问GitHub"><br>cmd输入ping命令<code>ping github.com</code><br>ping不通<br><img src="https://i.loli.net/2020/05/05/ZJEsOqrxHpvYIce.png" alt="ping"><br><code>52.74.223.119</code>为宽带DNS服务器解析的IP地址<br>通过网站：<a href="https://www.ip138.com/">https://www.ip138.com/</a>，输入域名，查询IP，总共查询到如下几个IP地址<br><img src="https://i.loli.net/2020/05/04/ngwxaV1rGS9sTLZ.png" alt="ip查询"><br>ping一个美国和新加坡的IP，美国的可以ping通，新加坡的不通<br><img src="https://i.loli.net/2020/05/04/EijKwWzVtJH9q25.png"><br>尝试在浏览器中直接访问能ping通的IP，提示此站点不安全，点击继续访问，依然跳到访问GitHub的无法访问此页面<br><img src="https://i.loli.net/2020/05/04/WUnVNQPL42CgIvO.png"></p>
<h2 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h2><p>打开<a href="http://ping.chinaz.com/">http://ping.chinaz.com/</a>，在此网站中ping测试GitHub<br>你会发现在国内的监测点中，响应的IP几乎都是ping不通的<br><img src="https://i.loli.net/2020/05/04/Y96HdLzEtrPK4Jq.png"><br>这里显示最快节点是海外的加拿大</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">加拿大 140.82.114.4 美国 弗吉尼亚州阿什本GitHub公司 13ms 54 不死高防服务器无视DDOS无视CC</span><br></pre></td></tr></table></figure>
<p>cmd中ping测试一下此IP，可以访问<br><img src="https://i.loli.net/2020/05/04/HBTha6x1N9EGktw.png"><br>修改电脑hosts文件<br>定位文件<code>C:\Windows\System32\drivers\etc\hosts</code>（win10系统为例）<br>hosts文件可以通过<code>visual studio code</code>打开，修改后直接<code>ctrl+s</code>保存即可<br>在文件中添加ping测试通过的IP，比如</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">140.82.114.4 github.com</span><br></pre></td></tr></table></figure>
<p>在cmd中ping测试<code>github.com</code>，通过，显示的是自己添加的IP<br><img src="https://i.loli.net/2020/05/04/jeS85g9MvH3zE1n.png"><br>浏览器访问GitHub，已成功访问<br><img src="https://i.loli.net/2020/05/04/VrZGzFAQJWeC2hy.png"></p>
<h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>hosts文件中的IP优先级大于DNS服务器中的IP，访问网站时，系统会先在hosts文件中查找域名所对应的IP，如果没有，才会去请求DNS服务器<br>起初不能访问GitHub，自己以为是大陆将GitHub屏蔽了，但是手机数据流量可以访问，证明了自己的想法是错的<br>通过了几次测试，发现DNS解析出GitHub的IP地址无非就是两个（IP可能不唯一）<br><code>13.250.177.223 [新加坡 Amazon数据中心]</code><br><code>140.82.112.4 [美国 华盛顿州西雅图GitHub]</code><br>家里的宽带屏蔽掉地址是<code>新加坡 Amazon数据中心</code>的IP<br>这里简单提及一下手机连接这种宽带访问GitHub方法：<br>因为手机修改hosts文件费劲，这里推荐修改DNS，测试了很多能访问的DNS服务器，发现台湾的DNS服务器适合家里的这种宽带，解析出的IP地址为美国，其它DNS服务器解析出的IP地址多数为新加坡<br>DNS服务器的地址为：<code>168.95.192.1</code>或<code>168.95.1.1</code><br>修改手机wifi设置，将IP设置为静态，添加上面的DNS即可<br>因为添加了台湾的DNS服务器，GitHub可以访问，但是访问国内的网站速度变慢，这就涉及到了取舍。</p>
<p>用同样的方法，可以寻找一下谷歌搜索域名的IP，尝试ping测试，你会发现都不通过，这种应该是大陆封锁IP导致，即使遇到测试通过的IP，通过修改hosts文件，浏览器还是无法访问，这种情况，多半是需要VPN了</p>
]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>教程</tag>
      </tags>
  </entry>
  <entry>
    <title>eclipse安装与测试</title>
    <url>/2020/04/24/eclipse%E5%AE%89%E8%A3%85%E4%B8%8E%E6%B5%8B%E8%AF%95/</url>
    <content><![CDATA[<p>本篇文章记录eclipse安装方法以及常用的一些配置</p>
<span id="more"></span>
<h2 id="eclipse安装"><a href="#eclipse安装" class="headerlink" title="eclipse安装"></a>eclipse安装</h2><h3 id="下载eclipse"><a href="#下载eclipse" class="headerlink" title="下载eclipse"></a>下载eclipse</h3><p>进入eclipse官网：<a href="https://www.eclipse.org/downloads/packages/">https://www.eclipse.org/downloads/packages/</a><br>注：不同eclipse版本的扩展版本可能不同<br>选择自己所用开发语言的版本，这里以java语言为例，eclipse版本为 2020-03<br>总共有两个java语言版本<strong>Eclipse IDE for Java Developers</strong>和<strong>Eclipse IDE for Enterprise Java Developers (includes Incubating components)</strong><br>如果你需要<strong>java web</strong>开发，选择<strong>Eclipse IDE for Enterprise Java Developers (includes Incubating components)</strong> ，若没有此项，尝试切换eclipse版本。<br>选择<strong>Windows 64-bit</strong>，这里以<strong>Windows10 64位</strong>操作系统安装为例<br>进入下载页面，点击下载，如果没有跳出下载窗口，尝试切换镜像，将镜像地址改为中国镜像</p>
<h3 id="安装eclipse"><a href="#安装eclipse" class="headerlink" title="安装eclipse"></a>安装eclipse</h3><p>下载好的eclipse是zip压缩文件，解压后，点击<code>eclipse.exe</code>，进入到eclipse启动页面<br>因为下载的是带有开发环境的eclipse，不需要安装，简单配置就可以使用了<br>启动页面提示不能运行<br><img src="https://i.loli.net/2020/04/24/K3VICjkMBFa6o9e.png" alt="eclipse报错"><br>这是因为电脑还没有安装java</p>
<h3 id="下载java"><a href="#下载java" class="headerlink" title="下载java"></a>下载java</h3><p>如果你嫌麻烦，直接在浏览器搜索java，进入到java官网下载页面推荐的java版本，文件很小，下载的只是个java下载程序，下载后，打开此程序，java会自动下载，不过多介绍<br>下载完整java程序，看下面内容：（需要登录Oracle账户）<br>进入javase页面：<a href="https://www.oracle.com/java/technologies/javase-downloads.html">https://www.oracle.com/java/technologies/javase-downloads.html</a><br>这里面有java现在应用的所有版本，一般需要的是java7或者java8，这里以下载java8u251为例<br>找到<strong>Java SE 8u251</strong>，选择<strong>Oracle JDK</strong>&gt;<strong>JDK Download</strong>进入下载页面（jdk里面包含jre）<br>选择自己的系统版本，点击后面的下载链接<br><img src="https://i.loli.net/2020/04/24/5DonH4pZYAMm1Kj.png" alt="jdk下载"><br>记得之前不需要登录账户就可以下载，现在需要登录账户了，登录成功自动跳转下载窗口进行下载（文件200多M，包含jre）</p>
<h3 id="安装java"><a href="#安装java" class="headerlink" title="安装java"></a>安装java</h3><p>打开自己下载好的<strong>java jdk</strong>程序，依次下一步，选择安装位置，jdk安装完会弹出jre安装<br>注：这里的jre安装是可以选择安装位置的，但是java更新所安装的jre默认为c盘，而且不会弹出路径选择<br>安装完成后，打开eclipse，eclipse成功打开，选择自己的工作空间，进入eclipse（win10系统下eclipse使用不需要配置环境变量，如果你是cmd，需要配置）<br><strong>到此，eclipse安装完成</strong></p>
<h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><h3 id="更改代码大小"><a href="#更改代码大小" class="headerlink" title="更改代码大小"></a>更改代码大小</h3><p>选择Window&gt;Prefences打开<br>选择General&gt;Appearance&gt;<code>Color and Fonts</code>找到<code>Text Font</code>进行编辑即可（三个第一项）</p>
<h3 id="设置工作空间编码格式为utf-8"><a href="#设置工作空间编码格式为utf-8" class="headerlink" title="设置工作空间编码格式为utf-8"></a>设置工作空间编码格式为utf-8</h3><p>依次Window&gt;Prefences&gt;General&gt;Workspace<br>找到<code>Text file econding</code><br>默认为GBK，选择其它，改为utf-8<br>jsp文件设置utf-8<br><code>Window&gt;Prefences&gt;Web&gt;Jsp Files</code>选择utf-8</p>
<h3 id="java语言测试"><a href="#java语言测试" class="headerlink" title="java语言测试"></a>java语言测试</h3><p>创建java项目<br><code>File&gt;New&gt;Java Project</code><br>输入java项目名称，点击Finish即可<br>在src文件夹下创建package或者直接创建class，记住类名规范，输入语句进行测试</p>
<h3 id="jsp测试"><a href="#jsp测试" class="headerlink" title="jsp测试"></a>jsp测试</h3><h4 id="配置tomcat"><a href="#配置tomcat" class="headerlink" title="配置tomcat"></a>配置tomcat</h4><p>jsp文件的运行需要tomcat服务<br>点击：<a href="http://tomcat.apache.org/">tomcat官网</a>下载需要的版本<br>选择<code>Binary Distributions</code>下面的Core中内容进行下载，里面有对应的Windows版本。（如果不能下载，依然是切换镜像）<br>下载后解压即可<br>注：tomcat默认使用8080端口（tomcat在eclipse使用不需要配置环境变量）</p>
<h4 id="创建Dynamic-Web-project项目"><a href="#创建Dynamic-Web-project项目" class="headerlink" title="创建Dynamic Web project项目"></a>创建<code>Dynamic Web project</code>项目</h4><p><code>File&gt;New&gt;Dynamic Web project</code><br>输入项目名称<br>在<code>Target runtime</code>下面选择<code>New Runtime...</code>，在Apache中选择自己下载的tomcat版本，点击next，点击Browse…，找到tomcat解压后的路径，添加tomcat<br>两次下一步进入到<code>Web Module</code>页面，根据自己的需要选择是否创建<code>web.xml</code>文件<br>创建jsp文件测试<br><code>Dynamic Web project</code>项目WebContent文件夹下创建jsp文件，输入测试内容保存<br>右键<code>Run As</code>选择在服务器上运行<br>eclipse启动tomcat服务，服务启动成功跳转到jsp页面，也可以把路径复制下来，粘贴到浏览器中进行调试<br><strong>到此，jsp测试成功</strong></p>
]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>教程</tag>
      </tags>
  </entry>
  <entry>
    <title>yilia主题添加valine评论</title>
    <url>/2020/04/22/yilia%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0valine%E8%AF%84%E8%AE%BA/</url>
    <content><![CDATA[<p>本篇文章介绍yilia主题添加valine评论的方法<br>闲话最后说，先来看方法（本篇文章所有图片均来自官方文档）</p>
<span id="more"></span>
<p><strong>注意：近期由于国际版 LeanCloud 域名更新，valine评论系统部署后可能无法使用！参看：</strong><br><a href="https://github.com/xCss/Valine/issues/340">https://github.com/xCss/Valine/issues/340</a></p>
<h2 id="快速开始"><a href="#快速开始" class="headerlink" title="快速开始"></a>快速开始</h2><p>根据<a href="https://valine.js.org/quickstart.html">valine</a>官方文档，先要在<code>LeanCloud</code>获取<strong>APP ID</strong>和<strong>APP Key</strong><br>登录或注册<a href="https://www.leancloud.cn/">LeanCloud</a>，建议注册<a href="https://leancloud.app/">国际版</a>用户，<strong>不需要绑定域名</strong>，但是都需要绑定手机号<br>进入控制台后点击左下角创建应用，选择开发版<br><img src="valine.png"><br>应用创建好以后，进入刚刚创建的应用，选择左下角的设置&gt;应用Key，然后就能看到你的<strong>APP ID</strong>和<strong>APP Key</strong>了（复制下来）：<br><img src="valine2.png"><br>评论数据管理<br>由于Valine是无后端评论系统，所以也就没有开发评论数据管理功能。请自行登录<code>Leancloud</code>应用管理。<br>具体步骤：登录&gt;选择你创建的应用&gt;存储&gt;选择<code>Class Comment</code>，然后就可以尽情的发挥你的权利啦</p>
<blockquote>
<p>当然，你也可以配合<code>@DesertsP</code>开发的<code>Valine-Admin</code>进行评论数据管理（下面在<a href="#valine%E8%BF%9B%E9%98%B6">valine进阶</a>有介绍）</p>
</blockquote>
<p>安全域名<br>为了你的数据安全，请设置自己的安全域名：<br><img src="valine3.png"><br>这里简单说明一下，如果你的博客是在github上托管，输入自己的<strong>博客首页地址</strong>以及<strong>本地hexo服务器地址</strong>即可（下面供参考）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">https://xxx.github.io</span><br><span class="line">http://localhost:4000</span><br></pre></td></tr></table></figure>
<h2 id="主题添加valine评论模块"><a href="#主题添加valine评论模块" class="headerlink" title="主题添加valine评论模块"></a>主题添加valine评论模块</h2><p>首先找到主题评论模块文件<br>定位文件<code>themes\yilia\layout\_partial\article.ejs</code>，找到导入评论模块的代码<code>&lt;% if (!index &amp;&amp; post.comments)&#123; %&gt;</code><br>在<code>&lt;% if (!index &amp;&amp; post.comments)&#123; %&gt;</code>下面添加</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;% if (theme.valine &amp;&amp; theme.valine.enable)&#123; %&gt;</span><br><span class="line">&lt;%- partial(&#x27;post/valine&#x27;, &#123;</span><br><span class="line">    key: post.slug,</span><br><span class="line">    title: post.title,</span><br><span class="line">    url: config.url+url_for(post.path)</span><br><span class="line">&#125;) %&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure>
<p>在<code>themes\yilia\layout\_partial\post</code>文件夹下创建<code>valine.ejs</code>文件<br>将以下代码添加到<code>valine.ejs</code>文件中，valine需要用到<strong>Valine.min.js</strong>文件，引用cdn库最新版，也可以将文件下载到本地，本地引用<br>官方推荐使用的cdn：<a href="https://valine.js.org/cdn.html">unpkg</a>，这里以jsdelivr为例<br>实际上需要<strong>两个js文件</strong>，最新版本中，引用<strong>Valine.min.js</strong>文件会自动从网络上调用<strong>av-min.js</strong>文件，不需要手动引用，取决于valine版本</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="comment">/* 适配yilia主题 */</span></span></span><br><span class="line"><span class="language-css">  <span class="selector-id">#valine</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css">  <span class="selector-id">#valine</span> <span class="selector-class">.vwrap</span>&#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#c8c8c8</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css">  <span class="selector-id">#valine</span> <span class="selector-class">.vwrap</span> <span class="selector-class">.vheader</span> <span class="selector-tag">input</span>,<span class="selector-id">#valine</span> <span class="selector-class">.vcard</span>&#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> dashed <span class="number">#c8c8c8</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css">  <span class="selector-id">#valine</span> <span class="selector-class">.vwrap</span> <span class="selector-tag">button</span>,<span class="selector-id">#valine</span> <span class="selector-class">.vmore</span>&#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">background</span>: <span class="number">#c8c8c8</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css">  <span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">800px</span>) &#123;</span></span><br><span class="line"><span class="language-css">    <span class="selector-id">#valine</span>&#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;valine&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/valine@latest/dist/Valine.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">new</span> <span class="title class_">Valine</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">el</span>: <span class="string">&#x27;#valine&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">appId</span>: <span class="string">&#x27;&lt;%- theme.valine.appId %&gt;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">appKey</span>: <span class="string">&#x27;&lt;%- theme.valine.appKey %&gt;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">placeholder</span>: <span class="string">&#x27;&lt;%= theme.valine.placeholder %&gt;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">avatar</span>: <span class="string">&#x27;&lt;%- theme.valine.avatar %&gt;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">pageSize</span>: <span class="string">&#x27;&lt;%- theme.valine.pageSize %&gt;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">lang</span>: <span class="string">&#x27;&lt;% if (config.language == &quot;zh-CN&quot;) &#123;  %&gt;zh-cn&lt;% &#125; else &#123; %&gt;en&lt;% &#125; %&gt;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">highlight</span>: <span class="string">&#x27;&lt;%- theme.valine.highlight %&gt;&#x27;</span> === <span class="string">&#x27;true&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">recordIp</span>: <span class="string">&#x27;&lt;%- theme.valine.recordIP %&gt;&#x27;</span> === <span class="string">&#x27;true&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">enableQQ</span>: <span class="string">&#x27;&lt;%- theme.valine.enableQQ %&gt;&#x27;</span> === <span class="string">&#x27;true&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">serverURLs</span>: <span class="string">&#x27;&lt;%= theme.valine.serverURLs %&gt;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">  &#125;);</span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;veditor&#x27;</span>).<span class="property">maxLength</span>=<span class="string">&#x27;&lt;%- theme.valine.maxLength %&gt;&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>valine评论会通过js生成自己的样式，与yilia主题有些冲突，进行了简单适配（根据自己需要进行更改）<br><strong>注意：</strong><code>lang</code>变量，根据自己需要修改<br>最后，在主题<code>themes\yilia\_config.yml</code>文件中添加valine配置</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">valine:</span><br><span class="line">  enable: true</span><br><span class="line">  appId: </span><br><span class="line">  appKey: </span><br><span class="line">  placeholder: &#x27;Just Go Go.&#x27; # 评论框占位提示符</span><br><span class="line">  maxLength: 500 # 评论框允许输入的最大字符数</span><br><span class="line">  avatar: &#x27;mp&#x27; # Gravatar style : &#x27;&#x27;/mp/identicon/monsterid/wavatar/retro/robohash/hide</span><br><span class="line">  pageSize: 10 # 评论列表分页</span><br><span class="line">  highlight: true # 代码块高亮</span><br><span class="line">  recordIP: false # 是否记录评论者IP</span><br><span class="line">  enableQQ: false # 是否启用昵称框自动获取QQ昵称和QQ头像, 默认关闭</span><br><span class="line">  serverURLs: https://xxx.api.lncldglobal.com # REST API 服务器地址</span><br></pre></td></tr></table></figure>
<p>各个配置项含义参考valine官方文档中<a href="https://valine.js.org/configuration.html">配置项</a><br>根据自己需要更改，与上面<code>valine.ejs</code>文件对应<br>其中：<br><code>maxLength</code>为评论框允许输入的最大字符数，防止恶意刷评而追加的设定，如不需要请手动删除<code>valine.ejs</code>与<code>_config.yml</code>关联代码<br><code>serverURLs</code>为服务器地址，参看：LeanCloud》国际版》设置》应用凭证》服务器地址》REST API 服务器地址，xxx为appId的前八位</p>
<h2 id="使用valine"><a href="#使用valine" class="headerlink" title="使用valine"></a>使用valine</h2><p>主题<code>themes\yilia\_config.yml</code>文件valine配置中enable设置为true，将上面复制的<strong>APP ID</strong>和<strong>APP Key</strong>添加到对应的appId和appKey中<br>LeanCloud》国际版》设置》应用凭证》服务器地址》REST API 服务器地址，添加至serverURLs中<br>启动本地服务<code>hexo s</code><br>在浏览器中预览，valine评论模块出现<br>如果想对某篇文章关闭评论，在文章开头<code>Front-matter</code>菜单中添加<code>comments: false</code>属性（默认都开启评论）</p>
<h2 id="使用valine评论的文章阅读量统计功能"><a href="#使用valine评论的文章阅读量统计功能" class="headerlink" title="使用valine评论的文章阅读量统计功能"></a>使用valine评论的文章阅读量统计功能</h2><p>参看官方文档：<a href="https://valine.js.org/visitor.html">https://valine.js.org/visitor.html</a><br>Valine 从 <code>v1.2.0</code> 开始支持文章阅读量统计。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">new Valine(&#123;</span><br><span class="line">    el:&#x27;#valine&#x27;,</span><br><span class="line">    ...</span><br><span class="line">    visitor: (&quot;localhost&quot; != document.domain)?&lt;%- theme.valine.visitor %&gt;:false // 阅读量统计</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>此段代码与官方不同，旨在解决使用valine评论的文章阅读量统计功能，本地预览文章也会增加阅读量的问题</p>
<blockquote>
<p>如果开启了阅读量统计，Valine 会自动检测 leancloud 应用中是否存在Counter类，如果不存在会自动创建，无需手动创建~</p>
</blockquote>
<p>Valine会自动查找页面中class值为leancloud_visitors的元素，获取其id为查询条件。并将得到的值填充到其class的值为leancloud-visitors-count的子元素里：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- id 将作为查询条件 --&gt;</span><br><span class="line">&lt;span id=&quot;&lt;Your/Path/Name&gt;&quot; class=&quot;leancloud_visitors&quot; data-flag-title=&quot;Your Article Title&quot;&gt;</span><br><span class="line">    &lt;em class=&quot;post-meta-item-text&quot;&gt;阅读量 &lt;/em&gt;</span><br><span class="line">    &lt;i class=&quot;leancloud-visitors-count&quot;&gt;1000000&lt;/i&gt;</span><br><span class="line">&lt;/span&gt;</span><br></pre></td></tr></table></figure>
<p>下面以yilia主题为例，应用valine评论的文章阅读量统计功能</p>
<h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><p>在主题配置文件中valine下添加如下配置：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">valine:</span><br><span class="line">  ...</span><br><span class="line">  visitor: true # 文章访问量统计</span><br></pre></td></tr></table></figure>
<p>定位主题文件<code>themes\yilia\layout\_partial\article.ejs</code>在header标签下导入date语句下面添加（添加位置在文章日期的下面）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;header class=&quot;article-header&quot;&gt;</span><br><span class="line">    &lt;%- partial(&#x27;post/title&#x27;, &#123;class_name: &#x27;article-title&#x27;&#125;) %&gt;</span><br><span class="line">    &lt;% if (!post.noDate)&#123; %&gt;</span><br><span class="line">    &lt;%- partial(&#x27;post/date&#x27;, &#123;class_name: &#x27;archive-article-date&#x27;, date_format: null&#125;) %&gt;</span><br><span class="line">    &lt;% &#125; %&gt;</span><br><span class="line">    &lt;!-- 开始添加 --&gt;</span><br><span class="line">    &lt;% if(!index &amp;&amp; theme.valine.enable &amp;&amp; theme.valine.visitor)&#123; %&gt;</span><br><span class="line">        &lt;div style=&quot;color: #999&quot;&gt;</span><br><span class="line">        &lt;span id=&quot;&lt;%- url_for(post.path) %&gt;&quot; class=&quot;leancloud_visitors&quot; data-flag-title=&quot;&lt;%= post.title %&gt;&quot;&gt;当前页访问次数 &lt;i class=&quot;leancloud-visitors-count&quot;&gt;&lt;/i&gt;&lt;/span&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;% &#125; %&gt;</span><br><span class="line">    &lt;!-- 添加结束 --&gt;</span><br><span class="line">&lt;/header&gt;</span><br></pre></td></tr></table></figure>
<p>参考官方文档，将span标签的id修改为文章路径：<code>url_for(post.path)</code>，<code>data-flag-title</code>属性的值修改为<code>post.title</code>。<br>添加基于valine实现的判断条件，div标签添加color属性使颜色与日期颜色相匹配（适配yilia主题），可以根据自己需要进行修改。<br>阅读量统计数据可以在leancloud 应用中修改。<br><strong>到此，yilia主题添加valine评论完成</strong><br>以下内容为：<br>配合<code>@DesertsP</code>开发的<code>Valine-Admin</code>进行评论数据管理，这里简称valine进阶<br>通过<code>Valine-Admin</code>，我们可以建立一个valine评论后台管理，并且实现邮件提醒（官方自带的邮件提醒功能将在v1.4.0发布时下线，请使用自带邮件提醒的用户注意更改为第三方邮件提醒）</p>
<h2 id="valine进阶"><a href="#valine进阶" class="headerlink" title="valine进阶"></a>valine进阶</h2><p>参考<a href="https://deserts.io/valine-admin-document/">Valine Admin文档</a></p>
<blockquote>
<p>Valine Admin 是 Valine 评论系统的后端功能补充和增强，主要实现评论邮件通知、评论管理、垃圾评论过滤等功能。<br>支持完全自定义的邮件通知模板，基于Akismet API实现准确的垃圾评论过滤。</p>
</blockquote>
<p><strong>云引擎”一键”部署</strong><br>（建议使用<a href="https://leancloud.app/">LeanCloud国际版</a>，减少不必要的麻烦。）<br>1.在Leancloud云引擎设置界面，填写代码库并保存：<a href="https://github.com/DesertsP/Valine-Admin.git">https://github.com/DesertsP/Valine-Admin.git</a><br>建议使用track23修改的允许跨域请求的Valine-Admin进行部署：<a href="https://github.com/track23/Valine-Admin.git">https://github.com/track23/Valine-Admin.git</a><br>部署失败，可以参照提交记录自行修改后，重新部署<br><img src="Valine-Admin.webp" alt="设置仓库"><br>2.在设置页面，设置环境变量以及 Web 二级域名。<br><img src="Valine-Admin2.webp" alt="环境变量"><br>下面显示必填字段及一些更详细的说明</p>
<table>
<thead>
<tr>
<th align="left">变量</th>
<th align="left">示例</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">SITE_NAME</td>
<td align="left">Deserts</td>
<td align="left">[必填]填写自己的博客名称</td>
</tr>
<tr>
<td align="left">SITE_URL</td>
<td align="left"><a href="https://xxx.github.io/">https://xxx.github.io</a></td>
<td align="left">[必填]博客首页地址，结尾不需要<code>/</code></td>
</tr>
<tr>
<td align="left">SMTP_SERVICE</td>
<td align="left">QQ</td>
<td align="left">[新版支持]邮件服务提供商，支持 QQ、163、126、Gmail 以及<a href="https://nodemailer.com/smtp/well-known/#supported-services">更多</a></td>
</tr>
<tr>
<td align="left">SMTP_USER</td>
<td align="left"><a href="mailto:&#x78;&#x78;&#x78;&#120;&#x78;&#120;&#64;&#113;&#113;&#x2e;&#x63;&#x6f;&#109;">&#x78;&#x78;&#x78;&#120;&#x78;&#120;&#64;&#113;&#113;&#x2e;&#x63;&#x6f;&#109;</a></td>
<td align="left">[必填]SMTP登录用户，就是输入自己的邮箱</td>
</tr>
<tr>
<td align="left">SMTP_PASS</td>
<td align="left">ccxxxxxxxxch</td>
<td align="left">[必填]SMTP登录密码，如果是QQ邮箱，填写在邮箱设置中获取登录第三方邮箱客户端的授权码，如果QQ邮箱设有独立登录密码的话，自己尝试吧</td>
</tr>
<tr>
<td align="left">SENDER_NAME</td>
<td align="left">Deserts</td>
<td align="left">[必填]评论邮件通知的发件人</td>
</tr>
<tr>
<td align="left">SENDER_EMAIL</td>
<td align="left"><a href="mailto:&#120;&#120;&#120;&#x78;&#x78;&#x78;&#x40;&#113;&#113;&#x2e;&#99;&#111;&#109;">&#120;&#120;&#120;&#x78;&#x78;&#x78;&#x40;&#113;&#113;&#x2e;&#99;&#111;&#109;</a></td>
<td align="left">[必填]发件邮箱，填写自己的邮箱即可</td>
</tr>
<tr>
<td align="left">ADMIN_URL</td>
<td align="left"><a href="https://xxx.leanapp.cn/">https://xxx.leanapp.cn/</a></td>
<td align="left">[建议]Web主机二级域名，用于自动唤醒，其实就是评论后台管理的域名，需要参考下面Web主机域名填写，国际版与国内版不一样</td>
</tr>
</tbody></table>
<p><strong>以上必填参数请务必正确设置。</strong><br>二级域名用于评论后台管理，如<code>https://deserts.leanapp.cn</code>（国内版），<code>https://deserts.avosapps.us</code>（国际版），取决于自己注册的用户。<br><img src="Valine-Admin3.webp" alt="二级域名"><br>3.切换到部署标签页，选择Git源码部署，分支使用master，点击部署即可<br><img src="Valine-Admin4.webp" alt="一键部署"><br>第一次部署需要花点时间。<br><img src="Valine-Admin5.webp" alt="部署过程"><br>4.评论管理。<br>访问设置的二级域名https://二级域名.leanapp.cn/sign-up，注册管理员登录信息，如：<code>https://deserts.leanapp.cn/sign-up</code><br>国际版设置的二级域名https://二级域名.avosapps.us/sign-up<br><img src="Valine-Admin6.webp" alt="管理员注册"><br>注册成功后会自动跳转至登录页<br>此后，可以通过https://二级域名.leanapp.cn/ 管理评论。<br>国际版：https://二级域名.avosapps.us/<br>5.定时任务设置</p>
<blockquote>
<p>因流控原因，通过定时任务唤醒体验版实例失败，建议升级至标准版云引擎实例避免休眠</p>
</blockquote>
<p>因为任务唤醒体验版限制，关于定时任务设置跳过，解决方法参看下文<a href="#%E5%94%A4%E9%86%92%E4%BA%91%E5%BC%95%E6%93%8E">唤醒云引擎</a><br>6.邮件通知模板<br>邮件通知模板在云引擎环境变量中设定，可自定义通知邮件标题及内容模板。<br>默认的邮件通知模板是无法看到具体是哪篇文章的评论，这里简单进行了一下修改，如需样式定制，还请参看官方文档<br>环境变量：<strong>MAIL_TEMPLATE</strong><br>修改后被@通知邮件内容模板如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div style=&quot;border-top:2px solid #12ADDB;box-shadow:0 1px 3px #AAAAAA;line-height:180%;padding:0 15px 12px;margin:50px auto;font-size:12px;&quot;&gt;&lt;h2 style=&quot;border-bottom:1px solid #DDD;font-size:14px;font-weight:normal;padding:13px 0 10px 8px;&quot;&gt;您在&lt;a style=&quot;text-decoration:none;color: #12ADDB;&quot;href=&quot;$&#123;SITE_URL&#125;&quot;target=&quot;_blank&quot;&gt;$&#123;SITE_NAME&#125;&lt;/a&gt;上的评论有了新的回复&lt;/h2&gt;$&#123;PARENT_NICK&#125;同学，您曾发表评论：&lt;div style=&quot;padding:0 12px 0 12px;margin-top:18px&quot;&gt;&lt;div style=&quot;background-color: #f5f5f5;padding: 10px 15px;margin:18px 0;word-wrap:break-word;&quot;&gt;$&#123;PARENT_COMMENT&#125;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;$&#123;NICK&#125;&lt;/strong&gt;回复说：&lt;/p&gt;&lt;div style=&quot;background-color: #f5f5f5;padding: 10px 15px;margin:18px 0;word-wrap:break-word;&quot;&gt;$&#123;COMMENT&#125;&lt;/div&gt;&lt;p&gt;您可以点击&lt;a style=&quot;text-decoration:none; color:#12addb&quot;href=&quot;$&#123;POST_URL&#125;&quot;target=&quot;_blank&quot;&gt;查看回复的完整內容&lt;/a&gt;，欢迎再次光临&lt;a style=&quot;text-decoration:none; color:#12addb&quot;href=&quot;$&#123;SITE_URL&#125;&quot;target=&quot;_blank&quot;&gt;$&#123;SITE_NAME&#125;&lt;/a&gt;。&lt;br&gt;&lt;/p&gt;&lt;p&gt;详细链接：$&#123;POST_URL&#125;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>环境变量：<strong>MAIL_TEMPLATE_ADMIN</strong><br>修改后博主通知邮件内容模板如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div style=&quot;border-top:2px solid #12ADDB;box-shadow:0 1px 3px #AAAAAA;line-height:180%;padding:0 15px 12px;margin:50px auto;font-size:12px;&quot;&gt;&lt;h2 style=&quot;border-bottom:1px solid #DDD;font-size:14px;font-weight:normal;padding:13px 0 10px 8px;&quot;&gt;您在&lt;a style=&quot;text-decoration:none;color: #12ADDB;&quot; href=&quot;$&#123;SITE_URL&#125;&quot; target=&quot;_blank&quot;&gt;$&#123;SITE_NAME&#125;&lt;/a&gt;上的文章有了新的评论&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;$&#123;NICK&#125;&lt;/strong&gt;回复说：&lt;/p&gt;&lt;div style=&quot;background-color: #f5f5f5;padding: 10px 15px;margin:18px 0;word-wrap:break-word;&quot;&gt; $&#123;COMMENT&#125;&lt;/div&gt;&lt;p&gt;您可以点击&lt;a style=&quot;text-decoration:none; color:#12addb&quot; href=&quot;$&#123;POST_URL&#125;&quot; target=&quot;_blank&quot;&gt;查看回复的完整內容&lt;/a&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;详细链接：$&#123;POST_URL&#125;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>上述两个环境变量在云引擎手动添加即可，效果为在邮件最后一行添加评论详细链接，旨在快速定位是哪篇文章的评论。</p>
<p>其他功能这里也不过多介绍，感兴趣的请参看<a href="https://deserts.io/valine-admin-document/">Valine Admin文档</a><br><strong>到此，valine进阶基本结束</strong>，详细内容还请参看官方文档。<br>接下来是如何唤醒云引擎</p>
<h3 id="唤醒云引擎"><a href="#唤醒云引擎" class="headerlink" title="唤醒云引擎"></a>唤醒云引擎</h3><p>参看leancloud官方公告<a href="https://forum.leancloud.cn/t/topic/22595">关于对体验版云引擎定时任务进行适当流控的说明</a><br>官方根据服务器的负载，对定时任务添加流控，通过定时任务唤醒容器将有可能会失败<br>可以尝试更换定时任务时间，错开流控高峰，但是不治本。<br>这里提供一个激活云引擎的方法，参看：<a href="https://crosschannel.cc/daily/valine-admin-autoAwaken.html">宅日记博客</a></p>
<blockquote>
<p>思路就是北京时间8点到晚上23点只要有人访问博客就会触发js发ajax请求唤醒云引擎。由于云引擎睡眠的时候发请求不一定会成功（但是有请求就会醒）所有没有做请求失败处理。请求发送后设置cookie避免20分钟内刷新等操作重复发请求。</p>
</blockquote>
<p>简单说明一下：<br>在valine.ejs文件中添加</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Valine</span>(&#123;</span><br><span class="line">  <span class="attr">el</span>:<span class="string">&#x27;#valine&#x27;</span>,</span><br><span class="line">  ...</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;veditor&#x27;</span>).<span class="property">maxLength</span>=<span class="string">&#x27;&lt;%- theme.valine.maxLength %&gt;&#x27;</span>;</span><br><span class="line"><span class="comment">// 开始添加</span></span><br><span class="line">&lt;% <span class="keyword">if</span>(theme.<span class="property">valine</span>.<span class="property">ADMIN_URL</span>)&#123; %&gt;</span><br><span class="line"><span class="comment">// ADMIN_URL</span></span><br><span class="line"><span class="keyword">var</span> engine = <span class="variable language_">document</span>.<span class="property">cookie</span>.<span class="title function_">replace</span>(<span class="regexp">/(?:(?:^|.*;\s*)engine\s*\=\s*([^;]*).*$)|^.*$/</span>, <span class="string">&quot;$1&quot;</span>) || <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line"><span class="keyword">if</span>(engine!=<span class="string">&#x27;1&#x27;</span>) &#123;</span><br><span class="line"><span class="title function_">fetch</span>(<span class="string">&#x27;https://quan.suning.com/getSysTime.do&#x27;</span>)</span><br><span class="line">.<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">response</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> response.<span class="title function_">json</span>();</span><br><span class="line">&#125;)</span><br><span class="line">.<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">date</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> hours = <span class="keyword">new</span> <span class="title class_">Date</span>(date.<span class="property">sysTime2</span>).<span class="title function_">getHours</span>();</span><br><span class="line">  <span class="keyword">if</span>(hours&gt;<span class="number">7</span> &amp;&amp; hours&lt;<span class="number">23</span>)&#123;</span><br><span class="line">  <span class="title function_">fetch</span>(<span class="string">&#x27;&lt;%- theme.valine.ADMIN_URL %&gt;&#x27;</span>);</span><br><span class="line">  <span class="keyword">var</span> exp = <span class="keyword">new</span> <span class="title class_">Date</span>(date.<span class="property">sysTime2</span>);</span><br><span class="line">  exp.<span class="title function_">setTime</span>(exp.<span class="title function_">getTime</span>() + <span class="number">20</span>*<span class="number">60</span>*<span class="number">1000</span>);</span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">cookie</span> = <span class="string">&quot;engine=1;path=/;expires=&quot;</span>+ exp.<span class="title function_">toGMTString</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line">&lt;% &#125; %&gt;</span><br><span class="line"><span class="comment">// 添加结束</span></span><br></pre></td></tr></table></figure>
<p>通过fetch实现类似jquery的ajax请求（不需要引入jQuery），当有人访问带有valine评论的页面时，js请求你云引擎的地址，激活云引擎<br>如果你的云引擎地址没有允许跨域请求，控制台会报跨域错误（可以忽略），在控制台提示错误之前，浏览器已经请求了你的云引擎地址</p>
<p>如果你讨厌控制台报错，但是自己又不会改，建议直接部署 <a href="https://crosschannel.cc/daily/valine-admin-autoAwaken.html">宅日记博客</a> 修改的 <a href="https://github.com/track23/Valine-Admin">valine-admin</a> ，fork的是DesertsP写的valine-admin。</p>
<p>通过此机制达到激活云引擎的目的，云引擎激活后定时任务不会再遇到流控问题<br>你也可以尝试删除云引擎中的定时任务，只通过此方式激活云引擎<br>在主题配置文件valine的配置中添加<code>ADMIN_URL</code>字段设置云引擎地址，方便管理</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">valine:</span><br><span class="line">  ...</span><br><span class="line">  ADMIN_URL: false # Web主机二级域名，你的云引擎地址，若没有请设为false</span><br></pre></td></tr></table></figure>
<p>文中提到通过github action来定时唤醒云引擎，参看：<a href="https://www.antmoe.com/posts/ff6aef7b/">小康博客</a><br>个人感觉有些复杂，没有实践，而且这个方法足够啦</p>
<h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>提到yilia主题，说说yilia主题内置的几个评论系统<br>yilia主题总共有5个评论可选，分别是：1、多说；2、网易云跟帖；3、畅言；4、Disqus；5、Gitment<br>简单介绍一下<br>多说和网易云跟帖服务已经关闭（可以自行在主题中删除相应代码），使用畅言博客域名需要备案。<br>Disqus仿佛是美国的，国内使用需要翻墙。Gitment就不过多介绍了，一般的主题都有<br>简单谈谈为什么用valine<br>1.免费<br>2.支持匿名评论，国内访问速度快，国际版账户不需要绑定域名<br>3.评论可以删除</p>
]]></content>
      <tags>
        <tag>博客</tag>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>javascript读取txt文件</title>
    <url>/2020/04/18/javascript%E8%AF%BB%E5%8F%96txt%E6%96%87%E4%BB%B6/</url>
    <content><![CDATA[<p>以下代码实现javascript读取txt文件打印到浏览器中</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">load</span>(<span class="params">name</span>) &#123;    </span><br><span class="line">    <span class="keyword">let</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>(),        </span><br><span class="line">    okStatus = <span class="variable language_">document</span>.<span class="property">location</span>.<span class="property">protocol</span> === <span class="string">&quot;file:&quot;</span> ? <span class="number">0</span> : <span class="number">200</span>;    </span><br><span class="line">    xhr.<span class="title function_">open</span>(<span class="string">&#x27;GET&#x27;</span>, name, <span class="literal">false</span>);    </span><br><span class="line">    xhr.<span class="title function_">overrideMimeType</span>(<span class="string">&quot;text/html;charset=utf-8&quot;</span>);<span class="comment">//默认为utf-8    </span></span><br><span class="line">    xhr.<span class="title function_">send</span>(<span class="literal">null</span>);    </span><br><span class="line">    <span class="keyword">return</span> xhr.<span class="property">status</span> === okStatus ? xhr.<span class="property">responseText</span> : <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> text = <span class="title function_">load</span>(<span class="string">&quot;文件名.txt&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(text);  <span class="comment">//输出到浏览器控制器中 </span></span><br><span class="line"><span class="comment">//document.write(text);  //打印在网页中 </span></span><br><span class="line"><span class="comment">//document.write(&quot;&lt;pre&gt;&quot;+text+&quot;&lt;pre/&gt;&quot;)//解决txt的换行无法打印到网页上的问题</span></span><br></pre></td></tr></table></figure>

<div>
<button onclick="show()">预览</button>&emsp;&emsp;<a href="https://cdn.jsdelivr.net/gh/akbcd/akbcd.github.io@hexo/source/_posts/javascript读取txt文件/tv.txt" target="_blank">下载</a>
<figure class="highlight plain" >
<table><tbody><tr>
<td class="code">
<pre id="show"></pre>
</td>
</tr></tbody></table>
</figure>
<script type="text/javascript">
//读取txt文件
function load(name) {    
    let xhr = new XMLHttpRequest(),        
    okStatus = document.location.protocol === "file:" ? 0 : 200;    
    xhr.open('GET', name, false);    
    xhr.overrideMimeType("text/html;charset=utf-8");//默认为utf-8    
    xhr.send(null);    
    return xhr.status === okStatus ? xhr.responseText : null;
}
function show(){
    let text = load("tv.txt");
    //console.log(text);  //输出到浏览器控制器中 
    //document.write(text);  //打印在网页中 
    //document.write("<pre>"+text+"<pre/>")//解决txt的换行无法打印到网页上的问题
    document.getElementById("show").innerHTML=text;
}
</script>
</div>]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>疫情防控思政大课观后感</title>
    <url>/2020/03/14/%E7%96%AB%E6%83%85%E9%98%B2%E6%8E%A7%E6%80%9D%E6%94%BF%E5%A4%A7%E8%AF%BE%E8%A7%82%E5%90%8E%E6%84%9F/</url>
    <content><![CDATA[<p>疫情防控思政大课观后感<br>&emsp;&emsp;3月9日我们上了一堂特殊时期、特殊主题、特殊形式的思想政治教育课。来自清华大学，中国人民大学，北京师范大学和中央财经大学的4名教授，深刻分析了中国抗疫彰显的中国共产党领导和中国特色社会主义制度的显著优势，讲述了防疫抗疫一线的感人故事。其中，让我印象很深的是艾四林教授谈论的武汉封城是否侵犯人权和冯秀军教授所讲授的感人故事。<br>&emsp;&emsp;疫情发生后，武汉采取了封城，1月22日，美国纽约时报，在报道中援引采访对象的话，请中国在武汉封城的做法是侵犯武汉民众人权。也有人质疑，以巨大的经济为代价来阻断病毒的传播是否值得。艾四林教授认为，有此说法的人，没有读懂中国共产党，没有读懂中国。发展是为了谁，发展为了什么，立场不同，选择答案自然也就不一样。我们的党是马克思主义政党，人民信是马克思主义最鲜明的品格，人民立场，是马克思主义的根本立场，也是习近平新时代中国特色社会主义思想的根本立场。党从成立那天起，就把为人民谋幸福写在了自己的旗帜上。生命安全和身体健康无疑是幸福的重要基础。人权不仅指自由权也包括生命权、健康权等等。在疫情面临大规模蔓延，可能对人的生命健康造成威胁时，生命权、健康权就成了最大的人权。在疫情防控中，把人们群众中生命安全和身体健康放在第一位，保障人民群众最大最紧迫的生命权，安全权，健康权，这就是马克思主义人民立场的最好诠释。武汉封城这件事是否侵犯人权，我们在课堂上也讨论过，记得当时我简简单单写着，不属于侵犯人权，特殊时期的特殊做法。今天听了这堂课，深刻体会到个体权利的行使不能侵害他人社会的权利，在行使自由权时不能伤害生命权和健康权。武汉封城这一举措，不是对人权的侵害，而恰恰是一种保障。<br>&emsp;&emsp;1935年的3月，中央红军快速地通过了贵州境内的一处山口，而后面的追兵已经步步逼近，正在这个时候，一名女红军战士却要分娩，两边都是生死关头，该怎么办？当时负责断后保卫的是第五军团，军团长对第三十九团下了一个命令，给我顶住！然后有战士问，那要顶到多久？军团长说，孩子多长时间生出来，就顶多长时间。战斗在一公里之外打响，一个个红军战士在用死亡争取时间，为的是等待一个婴儿的新生。战斗结束，婴儿顺利降生，有人痛惜牺牲的战友抱怨，为了一个孩子，却让一个团打仗。听到这话，军团长勃然大怒。他说，我们今天革命打仗为的是什么，不就是为了他们的明天吗？这就是冯秀军教授所讲述的一个感人故事。在今天，听到军团长的那句话，深刻理解了这位将军在征战沙场为的是后人明天的铁血柔情。<br>&emsp;&emsp;青春之美，在于拼搏，在于奉献。在这场看不到敌人看不到硝烟，但却要直面生死的战场上，我们惊奇地发现，卖萌并不影响我们的年轻人冲锋，恐惧也不影响他们的勇敢，他们能够崩溃完马上又投入了战场。现在，青春是用来奋斗的，未来，青春是用来回忆的。胸有大志，心有大我，肩有大任，行有大德。士不可以不弘毅，任重而道远。作为祖国的栋梁，我们青年一代，应该有担当精神，背负时代责任，不忘初心，砥砺前行。我们是国家的未来，国家的未来掌握在我们手里，我们应该加油努力!要有使命感和责任感。在这个不见硝烟的战场，一次危机也是一次大考，在这场众志成城、同仇敌忾的战斗中，中国人民的团结信念和责任感在此刻体现得淋漓尽致。</p>
]]></content>
      <tags>
        <tag>大学</tag>
      </tags>
  </entry>
  <entry>
    <title>bt磁力搜索站点</title>
    <url>/2020/02/07/bt%E7%A3%81%E5%8A%9B%E6%90%9C%E7%B4%A2%E7%AB%99%E7%82%B9/</url>
    <content><![CDATA[<p>推荐几个bt磁力搜索站点</p>
<span id="more"></span>
<p><strong>BT1207</strong>（需要进行人机身份验证）<br>资源多，更新快的磁力链接搜索引擎</p>
<p><strong>SkrBT</strong>（需要进行人机身份验证）<br>索引了上千万的磁力链接，全银河系资源最丰富的种子搜索网站</p>
<p><strong>老王磁力</strong>（需要进行人机身份验证）<br>索引了全球最新最热门的BT种子信息和磁力链接</p>
<p><strong>AIO Search</strong>（需要进行人机身份验证）<br>知名的磁力聚合搜索网站，几乎聚合了所有你能想得到的磁力搜索站！<br><a href="https://www.aiosearch.com/">https://www.aiosearch.com/</a></p>
<p><strong>东京图书馆</strong>（需要进行人机身份验证）<br>知名站点<br><a href="https://www.tokyotosho.info/">https://www.tokyotosho.info/</a></p>
<p><del>以上内容均来自<a href="https://no404.icu/">https://no404.icu/</a></del><br>部分站点由于域名经常变化，页面不再提供访问地址，推荐访问以下网站进行磁力搜索站点的访问（部分时间段域名可能无法解析）<br><del>404导航 | 只导航优质资源！：<a href="https://no404.icu/">https://no404.icu/</a></del><br><del>千鹤导航 | 聚合最优质资源网站！：<a href="https://www.qianhedh.com/">https://www.qianhedh.com/</a></del><br>NO404 - 让天下不再有消失的网站！：<a href="https://www.no404.me/">https://www.no404.me/</a></p>
<p><strong>磁力宝</strong><br>最佳的磁力搜索引擎<br><a href="http://www.clb.biz/">http://www.clb.biz/</a><br>此站点不需要人机身份验证，但是资源收录可能不全</p>
<p><strong>雨花阁</strong><br>简单好用的BT搜索引擎<br><a href="http://www.yuhuage.biz/">http://www.yuhuage.biz/</a></p>
]]></content>
      <tags>
        <tag>bt</tag>
      </tags>
  </entry>
  <entry>
    <title>《择天记》观后感</title>
    <url>/2019/12/23/%E3%80%8A%E6%8B%A9%E5%A4%A9%E8%AE%B0%E3%80%8B%E8%A7%82%E5%90%8E%E6%84%9F/</url>
    <content><![CDATA[<p>《择天记》是根据猫腻同名小说改编的古装玄幻剧，由钟澍佳执导，杨晓培担任总制片人，鹿晗、古力娜扎、吴倩、曾舜晞、许龄月、张峻宁、高瀚宇、林思意等联袂主演，陈数、曾志伟、张兆辉、姚笛特别出演。</p>
<span id="more"></span>
<h2 id="故事简介"><a href="#故事简介" class="headerlink" title="故事简介"></a>故事简介</h2><p>这是一个少年和他的小伙伴们逆天改命创造一个全新时代的热血故事。身世神秘的陈长生，在襁褓之中被师父计道人从黄金巨龙口中救下，收为关门弟子，传授道书三千卷。十九年后，陈长生得知自己六脉不通，命不过二十。计道人道周朝神都凌烟阁藏有上古神石，上或记载改命之法。长生遂决定下山一搏。因缘际会之下，陈长生抵挡了种种势力的打压，迈过修行关隘，也结识了少年天才唐三十六、妖族公主落落、妖族武将轩辕破这些挚友，在他们的帮助下，长生在强手如林的“大朝试”中拔得头筹。进入神石碑陵后，一夜观尽陵前碑，引得天象震动。谁曾想，这一切只是开始。随着天下格局的变动，长生发现自己已然身不由己地卷入一场巨大的阴谋……<br>上面的是对《择天记》这本书的简介，电视剧略有不同。</p>
<h2 id="相关人物介绍"><a href="#相关人物介绍" class="headerlink" title="相关人物介绍"></a>相关人物介绍</h2><h3 id="陈长生"><a href="#陈长生" class="headerlink" title="陈长生"></a>陈长生</h3><p>逆天改命的一个失败品，但是自己却成功实现了逆天改命。因为教宗和商行舟等人的阴谋，将太子的星辰之力转移到陈长生身上，使其注定活不过20岁。小时遇到徐有容，用自己的血救活了徐有容，为报救徐有容之恩，徐有容祖父与陈长生师父商行舟立下陈长生与徐有容的婚约。19岁的陈长生，不想被命运屈服，决定下山去成都寻找改命之法。在成都结识了唐堂、白落衡、轩辕破等挚友，在朋友的帮助以及自己的努力之下，在大朝试中获得第一名，成功进入凌虚阁参悟，找到了周独夫逆天改命的笔记，但是改命没有成功。进入周园，找到了星图。在圣后误以为陈长生就是自己的孩子后，用星盘大阵给陈长生成功改命。最后摧毁了教宗的阴谋，成为了新一任的教宗。</p>
<h3 id="徐有容"><a href="#徐有容" class="headerlink" title="徐有容"></a>徐有容</h3><p>大周的圣女，小时凤凰之血暴走，被陈长生所救。在成都多次与陈长生相遇。由于命运的种种安排，使其与陈长生相识并在一起。帮助陈长生取得大朝试榜首花了不少功夫。与陈长生一起找到了周园钥匙，进入周园又找到了星图。最后与陈长生一起摧毁了星盘大阵，杀了教宗。</p>
<h3 id="白落衡"><a href="#白落衡" class="headerlink" title="白落衡"></a>白落衡</h3><p>妖族的公主，因妖族经脉问题到大周找圣后寻找解决办法，然而圣后也无能为力。在国教学院被陈长生所救，并拜陈长生为师，始终守护着师父。陈长生成功解决了妖族经脉问题。妖族神女庙中，为救师父愿意放弃与师父的感情当神女。原本犹豫不绝的白落衡在看到神女显示的未来画面时，看到陈长生与徐有容在一起生了一个小孩，取名为思落后，毅然决然的选择了当神女，救师父。在当神女前的一个月，几乎天天缠在师父身边。由于陈长生专心想用星图修复星盘大阵而遭到师父冷落让自己伤心。最后在神女庙被徒弟轩辕破所说的话感动，决定帮助陈长生点亮自己的命星，摧毁星盘大阵。拿着回忆的册子，守护着与师父的点点滴滴。</p>
<h3 id="周独夫"><a href="#周独夫" class="headerlink" title="周独夫"></a>周独夫</h3><p>历史上成功改命的人，即使成功改命，但是好像死于非命。陈长生与徐有容在周园周独夫的棺材内并没有看到周独夫的尸体，由此猜测周独夫很有可能没有死。但是教宗对陈长生说自己感觉不到这片土地有周独夫的气息。帮助陈长生在献祭星盘大阵后起死回生。多次以自己的神识出现，帮助陈长生解惑。陈长生仿佛在走周独夫走过的路，比如观天书碑引得天象震动。</p>
<h3 id="唐三十六（唐堂）"><a href="#唐三十六（唐堂）" class="headerlink" title="唐三十六（唐堂）"></a>唐三十六（唐堂）</h3><p>因在青云榜排名三十六，让别人叫自己唐三十六，以告诫自己还要继续努力。不想看国教学院被其它学院欺负，果断加入国教学院。结识了圣后的宫女莫雨，与莫雨结婚。</p>
<h3 id="南客"><a href="#南客" class="headerlink" title="南客"></a>南客</h3><p>魔族公主，与徐有容是死对头。徐有容拥有凤凰之血，南客拥有孔雀之血，一直被人拿来做比较。是周独夫妹妹黑袍的徒弟，一直深爱着秋山君。因为周独夫的消失，黑袍痛恨着人族，加入魔族，成为魔族的军师，收南客为徒弟。黑袍在紧要关头救了陈长生等人一命。南客在魔族与秋山君结婚遭到徐有容来搅局。因为秋山君默默守护着徐有容，南客一直没有成功将徐有容杀死。最后，秋山君为保护徐有容被杀死，魔族也因教宗的干扰下变得混乱。</p>
<h2 id="个人感想"><a href="#个人感想" class="headerlink" title="个人感想"></a>个人感想</h2><p>这篇52集的电视剧，花了将近4天时间看完。这里简单写一下自己的感想</p>
<p>为什么会看这部电视剧？<br>原因很简单，浏览器看到陈长生在寒潭里面对小黑龙喊龙大叔的视频，感觉很有意思，查了一下相关资料，知道了这个视频出自《择天记》。</p>
<p>这篇电视剧获得的感悟？<br>不被命运所屈服，这点值得当代人学习。一直有无私奉献的人帮助着自己，因为自己的事而忽视为帮助自己付出很大代价的人，这点也让人很气愤。当然，这也情有可原，因为自己并不知道帮助自己的人付出了很大代价。</p>
<p>感觉现在的电视剧剧情没有什么突破，里面的很多剧情，都有一种似曾相识的感觉。有些剧情，看到了开头，其实就能猜测到结尾。<br>里面对于小黑龙的刻画不是很好。朱砂被星盘大阵吸取力量、被天海牙儿吸取龙魂，有几个镜头显示小黑龙就快不行了，但是，每次到小黑龙帮助陈长生时，都是满血复活。<br>这部电视剧中描述爱情的写照大多是女生倚在男生的肩膀上，这一点很好。</p>
]]></content>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
  <entry>
    <title>mybatis</title>
    <url>/2019/12/22/mybatis/</url>
    <content><![CDATA[<h2 id="jdbc连接数据库存在的问题"><a href="#jdbc连接数据库存在的问题" class="headerlink" title="jdbc连接数据库存在的问题"></a>jdbc连接数据库存在的问题</h2><p>数据库链接创建、释放频繁造成系统资源浪费从而影响系统性能，如果使用数据库链接池可解决此问题。</p>
<p>Sql语句在代码中硬编码，造成代码不易维护，实际应用sql变化的可能较大，sql变动需要改变java代码。</p>
<p>使用preparedStatement向占有位符号传参数存在硬编码，因为sql语句的where条件不一定，可能多也可能少，修改sql还要修改代码，系统不易维护。</p>
<p>对结果集解析存在硬编码（查询列名），sql变化导致解析代码变化，系统不易维护，如果能将数据库记录封装成pojo对象解析比较方便。</p>
<h2 id="mybatis介绍"><a href="#mybatis介绍" class="headerlink" title="mybatis介绍"></a>mybatis介绍</h2><p>MyBatis 本是apache的一个开源项目iBatis, 2010年这个项目由apache software foundation 迁移到了google code，并且改名为MyBatis，实质上Mybatis对ibatis进行一些改进。 </p>
<p>MyBatis是一个优秀的持久层框架，它对jdbc的操作数据库的过程进行封装，使开发者只需要关注 SQL 本身，而不需要花费精力去处理例如注册驱动、创建connection、创建statement、手动设置参数、结果集检索等jdbc繁杂的过程代码。</p>
<p>Mybatis通过xml或注解的方式将要执行的各种statement（statement、preparedStatemnt、CallableStatement）配置起来，并通过java对象和statement中的sql进行映射生成最终执行的sql语句，最后由mybatis框架执行sql并将结果映射成java对象并返回。</p>
<h2 id="mybatis环境搭建"><a href="#mybatis环境搭建" class="headerlink" title="mybatis环境搭建"></a>mybatis环境搭建</h2><p>加入mybatis核心包、依赖包、数据驱动包。maven（jar包）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">asm、cglib、commons-logging、javassist、junit、log4j、log4j-api、</span><br><span class="line">log4j-core、mybatis、mysql-connector-java、slf4j-api、slf4j-log4j12</span><br></pre></td></tr></table></figure>

<p>配置log4j，src下创建log4j.properties</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Global logging configuration</span><br><span class="line">log4j.rootLogger=DEBUG, stdout</span><br><span class="line"># Console output...</span><br><span class="line">log4j.appender.stdout=org.apache.log4j.ConsoleAppender</span><br><span class="line">log4j.appender.stdout.layout=org.apache.log4j.PatternLayout</span><br><span class="line">log4j.appender.stdout.layout.ConversionPattern=%5p [%t] - %m%n</span><br></pre></td></tr></table></figure>
<h2 id="SqlMapConfig-xml基础配置"><a href="#SqlMapConfig-xml基础配置" class="headerlink" title="SqlMapConfig.xml基础配置"></a>SqlMapConfig.xml基础配置</h2><p>SqlMapConfig.xml是mybatis核心配置文件，下面文件的配置内容为数据源、事务管理。</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">configuration</span> </span></span><br><span class="line"><span class="meta"><span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span> </span></span><br><span class="line"><span class="meta"><span class="string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span> </span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span> </span><br><span class="line">   <span class="comment">&lt;!-- 和spring整合后 environments配置将废除   数据源--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">       		<span class="comment">&lt;!-- 使用jdbc事务管理,事务控制由mybatis管理--&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span> /&gt;</span></span><br><span class="line">       		<span class="comment">&lt;!-- 数据库连接池,由mybatis管理--&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span> /&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/aa&quot;</span> /&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span> /&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span> </span><br></pre></td></tr></table></figure>
<h2 id="创建mapper映射文件"><a href="#创建mapper映射文件" class="headerlink" title="创建mapper映射文件"></a>创建mapper映射文件</h2><p>创建pojo模型，创建映射文件，映射文件基础配置如下：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span> <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span> &gt;</span></span><br><span class="line"><span class="comment">&lt;!-- namespace命名空间  用来区分不同的mapper --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;test&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>其中namespace为命名空间，用于隔离sql语句。<br>加入以下代码完成查询配置</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- select 查询标签 需要     返回类类型resultType   parameterType代表输入类型（可选）--&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selUserById&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;int&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;cn.com.aly.po.User&quot;</span>&gt;</span></span><br><span class="line">		select * from user where id = #&#123;id&#125;</span><br><span class="line">	<span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="在SqlMapConfig-xml中加载映射文件"><a href="#在SqlMapConfig-xml中加载映射文件" class="headerlink" title="在SqlMapConfig.xml中加载映射文件"></a>在SqlMapConfig.xml中加载映射文件</h2><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 配置映射文件 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">   	<span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;cn/com/aly/mapper/UserMapper.xml&quot;</span> /&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"></span><br><span class="line">将上面代码加到SqlMapConfig.xml的<span class="tag">&lt;<span class="name">configuration</span>&gt;</span>标签下</span><br></pre></td></tr></table></figure>
<h2 id="执行查询操作"><a href="#执行查询操作" class="headerlink" title="执行查询操作"></a>执行查询操作</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//获取配置文件</span></span><br><span class="line"><span class="type">String</span> <span class="variable">resource</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;SqlMapConfig.xml&quot;</span>);</span><br><span class="line"><span class="comment">//获取配置文件输入流</span></span><br><span class="line"><span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> Resources.getResourceAsStream(resource);</span><br><span class="line"><span class="comment">//创建SqlSessionFactory（sql会话工厂）</span></span><br><span class="line"><span class="type">SqlSessionFactory</span> <span class="variable">sqlSessionFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>().build(inputStream);</span><br><span class="line"><span class="comment">//通过工厂的到sqlsession（会话）</span></span><br><span class="line"><span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> sqlSessionFactory.openSession();</span><br><span class="line">执行查询--&gt;关闭会话</span><br><span class="line"><span class="type">Stu</span> <span class="variable">stu</span> <span class="operator">=</span> sqlSession.selectOne(<span class="string">&quot;test.selUserById&quot;</span>, <span class="number">1</span>);</span><br><span class="line">		System.out.println(stu);</span><br><span class="line">		sqlSession.close();</span><br></pre></td></tr></table></figure>
<h2 id="与-的区别"><a href="#与-的区别" class="headerlink" title="#{}与${}的区别"></a>#{}与${}的区别</h2><p>#{}表示一个占位符号，通过#{}可以实现preparedStatement向占位符中设置值，自动进行java类型和jdbc类型转换，#{}可以有效防止sql注入。 #{}可以接收简单类型值或pojo属性值。 如果parameterType传输单个简单类型值，#{}括号中可以是value或其它名称。</p>
<p>${}表示拼接sql串，通过${}可以将parameterType 传入的内容拼接在sql中且不进行jdbc类型转换， ${}可以接收简单类型值或pojo属性值，如果parameterType传输单个简单类型值，${}括号中只能是value。</p>
<h2 id="Mybatis增删改"><a href="#Mybatis增删改" class="headerlink" title="Mybatis增删改"></a>Mybatis增删改</h2><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">添加一条数据</span><br><span class="line"><span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;addUser&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;cn.com.aly.po.User&quot;</span>&gt;</span></span><br><span class="line">		insert into user(username,pwd,sex,age) values(#&#123;username&#125;,#&#123;pwd&#125;,#&#123;sex&#125;,#&#123;age&#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line"></span><br><span class="line">添加一条数据并返回主键</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">selectKey</span> <span class="attr">keyProperty</span>=<span class="string">&quot;id&quot;</span> <span class="attr">order</span>=<span class="string">&quot;AFTER&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;int&quot;</span>&gt;</span></span><br><span class="line">	select last_insert_id()</span><br><span class="line"><span class="tag">&lt;/<span class="name">selectKey</span>&gt;</span></span><br><span class="line"></span><br><span class="line">sqlSession.insert(&quot;insertStu&quot;, stu);//执行插入</span><br><span class="line"></span><br><span class="line">删除一条数据</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">&quot;delUserById&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;cn.com.aly.po.User&quot;</span>&gt;</span></span><br><span class="line">		delete from user where id = #&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br><span class="line"></span><br><span class="line">User user = new User();</span><br><span class="line">user.setId(29);</span><br><span class="line">int i = sqlSession.delete(&quot;test.delUserById&quot;, user);</span><br><span class="line">sqlSession.commit();</span><br><span class="line">sqlSession.close();</span><br><span class="line"></span><br><span class="line">修改一条数据</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updUserById&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;cn.com.aly.po.User&quot;</span>&gt;</span></span><br><span class="line">		update user set username=#&#123;username&#125;,pwd = #&#123;pwd&#125;,sex = #&#123;sex&#125;,age=#&#123;age&#125; where id=#&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br><span class="line"></span><br><span class="line">User user = new User();</span><br><span class="line">user.setId(28);</span><br><span class="line">user.setUsername(&quot;uuqq&quot;);</span><br><span class="line">user.setPwd(&quot;123&quot;);</span><br><span class="line">user.setSex(&quot;男&quot;);</span><br><span class="line">user.setAge(23);</span><br><span class="line">int i = sqlSession.update(&quot;test.updUserById&quot;, user);</span><br></pre></td></tr></table></figure>
<h2 id="原始dao开发"><a href="#原始dao开发" class="headerlink" title="原始dao开发"></a>原始dao开发</h2><p>编写dao接口（开发中直接提交到版本控制服务器上，其他人可继续开发）<br>编写dao实现类，实现dao里面的方法，完成功能开发<br>原始dao开发中存在以下问题<br>Dao方法体存在重复代码：通过SqlSessionFactory创建SqlSession，调用SqlSession的数据库操作方法<br>调用sqlSession的数据库操作方法需要指定statement的id，这里存在硬编码，不得于开发维护。</p>
<h2 id="mapper动态代理"><a href="#mapper动态代理" class="headerlink" title="mapper动态代理"></a>mapper动态代理</h2><p>Mapper接口开发方法只需要程序员编写Mapper接口（相当于Dao接口），由Mybatis框架根据接口定义创建接口的动态代理对象，代理对象的方法体同上边Dao接口实现类方法。（也就是说不需要写实现类）</p>
<p>但Mapper接口开发必需遵循以下规范：//sqlSession.getMapper（）;</p>
<p>1、Mapper.xml文件中的namespace与mapper接口的类路径相同。</p>
<p>2、Mapper接口方法名和Mapper.xml中定义的每个statement的id相同 </p>
<p>3、Mapper接口方法的输入参数类型和mapper.xml中定义的每个sql 的parameterType的类型相同</p>
<p>4、Mapper接口方法的输出参数类型和mapper.xml中定义的每个sql的resultType的类型相同</p>
<h2 id="动态sql-if"><a href="#动态sql-if" class="headerlink" title="动态sql-if"></a>动态sql-if</h2><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">if为select标签下子标签表示判断，属性test表示判断条件</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selUserByName&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;cn.com.aly.po.User&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;cn.com.aly.po.User&quot;</span>&gt;</span></span><br><span class="line">    select * from user </span><br><span class="line">        Where 1=1</span><br><span class="line">            <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;username != null and username!=&#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">                and username = #&#123;username&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;sex != null and sex!=&#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">                and sex = #&#123;sex&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="动态sql-where"><a href="#动态sql-where" class="headerlink" title="动态sql-where"></a>动态sql-where</h2><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">where为select标签下子标签，用来表示条件</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selUserByName&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;cn.com.aly.po.User&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;cn.com.aly.po.User&quot;</span>&gt;</span></span><br><span class="line">    select * from user </span><br><span class="line">        <span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;username != null and username!=&#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">                and username = #&#123;username&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;sex != null and sex!=&#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">                and sex = #&#123;sex&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">会自动处理掉第一个if里面加的and</span><br></pre></td></tr></table></figure>
<h2 id="sql片段"><a href="#sql片段" class="headerlink" title="sql片段"></a>sql片段</h2><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">Sql中可将重复的sql提取出来，使用时用include引用即可，最终达到sql重用的目的，如下</span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 定义sql片段 --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">sql</span> <span class="attr">id</span>=<span class="string">&quot;userwhere&quot;</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;id != null and id !=&#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">				and id = #&#123;id&#125;</span><br><span class="line">			<span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;username != null and username !=&#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">				and username = #&#123;username&#125;</span><br><span class="line">			<span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;pwd != null and pwd !=&#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">				and pwd = #&#123;pwd&#125;</span><br><span class="line">			<span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;sex != null and sex !=&#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">				and sex=#&#123;sex&#125;</span><br><span class="line">			<span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;addr != null and addr !=&#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">				and addr=#&#123;addr&#125;</span><br><span class="line">			<span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;photo != null and photo !=&#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">				and photo=#&#123;photo&#125;</span><br><span class="line">			<span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;hobby != null and hobby !=&#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">				and hobby=#&#123;hobby&#125;</span><br><span class="line">			<span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">sql</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selUser&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;cn.com.aly.po.Userinfo&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;cn.com.aly.po.Userinfo&quot;</span>&gt;</span></span><br><span class="line">    select * from userinfo 	</span><br><span class="line">    <span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 引用sql片段 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">&quot;userwhere&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="高级映射一对一"><a href="#高级映射一对一" class="headerlink" title="高级映射一对一"></a>高级映射一对一</h2><p>首先确定sql语句，确定要查询的列</p>
<p>根据sql语句完成扩展domain类的建立，继承主domain类，将查询的列中不包含在主类中的列名加到扩展domain类中</p>
<p>映射文件输出类型为扩展domain类</p>
<p>定义mapper接口中方法</p>
<p>Sql语句</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> o.<span class="operator">*</span>,u.username,u.pwd,u.sex,u.age <span class="keyword">FROM</span> orders o,<span class="keyword">USER</span> u <span class="keyword">WHERE</span> o.user_id <span class="operator">=</span> u.id <span class="keyword">AND</span> o.id <span class="operator">=</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>定义pojo扩展类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrdersCustem</span> <span class="keyword">extends</span> <span class="title class_">Orders</span> &#123;</span><br><span class="line">	<span class="keyword">private</span> String username;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> String pwd;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> String sex;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> Integer age;</span><br></pre></td></tr></table></figure>

<p>确定返回类型</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">resultType=<span class="string">&quot;cn.com.aly.po.OrdersCustem&quot;</span></span><br></pre></td></tr></table></figure>

<p>定义mapper接口中方法</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">OrdersCustem <span class="title function_">selOrdersWithUserById</span><span class="params">(Orders orders)</span>;</span><br></pre></td></tr></table></figure>
<h2 id="高级映射一对多"><a href="#高级映射一对多" class="headerlink" title="高级映射一对多"></a>高级映射一对多</h2><p>首先确定sql语句，确定要查询的列，并将多方创建成list放入一方</p>
<p>根据sql语句完成resultMap的建立，association为一对一的配置，collection为一对多，多方配置</p>
<p>映射文件输出使用resultMap，并将值设置为刚建立的resultMap的id</p>
<p>定义mapper接口中方法</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">sql</span>语句</span><br><span class="line"><span class="keyword">SELECT</span> o.<span class="operator">*</span>,u.username,u.pwd,u.sex,u.age <span class="keyword">FROM</span> orders o,<span class="keyword">USER</span> u <span class="keyword">WHERE</span> o.user_id <span class="operator">=</span> u.id <span class="keyword">AND</span> u.id <span class="operator">=</span> #&#123;id&#125;</span><br></pre></td></tr></table></figure>
<p>创建resultMap</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- id ：下面使用到该resultMap的时候所写的值     type规定当前类是那一个 --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;resultofuser&quot;</span> <span class="attr">type</span>=<span class="string">&quot;cn.com.aly.po.User&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span> <span class="attr">column</span>=<span class="string">&quot;user_id&quot;</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;username&quot;</span> <span class="attr">column</span>=<span class="string">&quot;username&quot;</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;pwd&quot;</span> <span class="attr">column</span>=<span class="string">&quot;pwd&quot;</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">column</span>=<span class="string">&quot;sex&quot;</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;age&quot;</span> <span class="attr">column</span>=<span class="string">&quot;age&quot;</span>/&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 一对多时  多方的配置    ofType配置的是多方的类型 --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">collection</span> <span class="attr">property</span>=<span class="string">&quot;orderList&quot;</span> <span class="attr">ofType</span>=<span class="string">&quot;cn.com.aly.po.Orders&quot;</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span> <span class="attr">column</span>=<span class="string">&quot;id&quot;</span>/&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span> =<span class="string">&quot;user_id&quot;</span> <span class="attr">column</span>=<span class="string">&quot;user_id&quot;</span>/&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span> =<span class="string">&quot;number&quot;</span> <span class="attr">column</span>=<span class="string">&quot;number&quot;</span>/&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span> =<span class="string">&quot;createtime&quot;</span> <span class="attr">column</span>=<span class="string">&quot;createtime&quot;</span>/&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span> =<span class="string">&quot;note&quot;</span> <span class="attr">column</span>=<span class="string">&quot;note&quot;</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">collection</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>确定返回类型</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">resultMap=<span class="string">&quot;resultofuser&quot;</span></span><br></pre></td></tr></table></figure>

<p>定义mapper接口中方法</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">User <span class="title function_">selUserWithOrdersById</span><span class="params">(User user)</span>;</span><br></pre></td></tr></table></figure>
<h2 id="高级映射多对多"><a href="#高级映射多对多" class="headerlink" title="高级映射多对多"></a>高级映射多对多</h2><p>多对多映射实质为：一对一与一对多的整合，同样使用resultMap，灵活使用association和collection。</p>
<p>association将关联查询信息映射到一个pojo对象中。</p>
<p>collection将关联查询信息映射到一个list集合中。</p>
<p>注意：如果使用resultType则无法关联查询</p>
<h2 id="高级映射延迟加载"><a href="#高级映射延迟加载" class="headerlink" title="高级映射延迟加载"></a>高级映射延迟加载</h2><p>需要查询关联信息时，使用mybatis延迟加载特性可有效的减少数据库压力，首次查询只查询主要信息，关联信息等用户获取时再加载。</p>
<table>
<thead>
<tr>
<th>设置项</th>
<th>描述</th>
<th>允许值</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>lazyLoadingEnabled</td>
<td>全局性设置懒加载。如果设为‘false’，则所有相关联的都会被初始化加载</td>
<td>true、false</td>
<td>false</td>
</tr>
<tr>
<td>aggressiveLazyLoading</td>
<td>当设置为‘true’的时候，懒加载的对象可能被任何懒属性全部加载。否则，每个属性都按需加载</td>
<td>true、false</td>
<td>true</td>
</tr>
</tbody></table>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;lazyLoadingEnabled&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;aggressiveLazyLoading&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>应用时需要在association或collection指定javaType（关联结果映射位置），select（指定关联查询sql），column（需要传入的值）</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;resultforlazy&quot;</span> <span class="attr">type</span>=<span class="string">&quot;cn.com.aly.po.Orders&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span> <span class="attr">column</span>=<span class="string">&quot;id&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span> =<span class="string">&quot;user_id&quot;</span> <span class="attr">column</span>=<span class="string">&quot;user_id&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span> =<span class="string">&quot;number&quot;</span> <span class="attr">column</span>=<span class="string">&quot;number&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span> =<span class="string">&quot;createtime&quot;</span> <span class="attr">column</span>=<span class="string">&quot;createtime&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span> =<span class="string">&quot;note&quot;</span> <span class="attr">column</span>=<span class="string">&quot;note&quot;</span>/&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">association</span> <span class="attr">property</span>=<span class="string">&quot;user&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;cn.com.aly.po.User&quot;</span> <span class="attr">select</span>=<span class="string">&quot;selUserById&quot;</span> <span class="attr">column</span>=<span class="string">&quot;user_id&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span> <span class="attr">column</span>=<span class="string">&quot;user_id&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;username&quot;</span> <span class="attr">column</span>=<span class="string">&quot;username&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;pwd&quot;</span> <span class="attr">column</span>=<span class="string">&quot;pwd&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">column</span>=<span class="string">&quot;sex&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;age&quot;</span> <span class="attr">column</span>=<span class="string">&quot;age&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">association</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>mybatis</tag>
      </tags>
  </entry>
  <entry>
    <title>向日葵式生活</title>
    <url>/2019/12/20/%E5%90%91%E6%97%A5%E8%91%B5%E5%BC%8F%E7%94%9F%E6%B4%BB/</url>
    <content><![CDATA[<p>向日葵从来都是面对太阳，在阳光下绽放自己的美丽。当太阳下山，向日葵会垂下头，安静地等待第一缕晨光的来临。这就是向日葵式生活，适用于每一个正在为生活苦恼或迷茫的人。</p>
<span id="more"></span>
<style>p {text-indent:2em;}</style>
<p>我们常常会抱怨生活给予我们太多的考验，让我们失去太多的快乐。每天忙着应付这些考验，就让我们精疲力尽，连微笑的力气都没有了。每天早上看到阳光的第一个反应并不是充满希望，而是哀叹痛苦的一天又要开始了。无精打采地出门，带着怨气开始每天的工作，期待着解脱的时刻到来。这样机械般的生活日复一日地重复着，生活好像就只剩下疲累和烦恼再无其他了。</p>
<p>我们习惯了用一张哭泣的脸去面对一天的开始，却忘记了还可以用笑脸迎接每一天的光临。就像向日葵，每天最期待的就是太阳出来的时刻，因为终于可以追逐阳光，摆脱黑暗，终于可以享受温暖，驱赶寒冷。当我们能够期待明天，笑着面对一天的开始时，就已经战胜了那个想要逃避生活的自己了。新的一天开始了，我们就要用最灿烂的笑容来面对；一天结束的时候，我们就要沉下心来反省总结这一天自己的表现，给自己定下目标和计划，然后闭上眼睛期待明天的到来。</p>
<p>我们的生活并没有向日葵那么简单，但是我们应该试着把生活简单化，让自己过着向日葵式生活，弄清楚自己真正需要的是什么，然后努力争取，懂得休息和反思，用灿烂的笑容面对生活给出的考验。</p>
]]></content>
      <tags>
        <tag>大学</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux复习</title>
    <url>/2019/12/09/Linux%E5%A4%8D%E4%B9%A0/</url>
    <content><![CDATA[<p>鸟哥的Linux私房菜 基础学习篇（第四版）<br>Linux的内核版本（p47~p48）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">3.10.0-123.e17.x86-64</span><br><span class="line">主版本.次版本.发布版本-修改版本</span><br></pre></td></tr></table></figure>
<p>奇数、偶数版本分类<br>主、次版本为奇数：开发中版本（development）<br>主、次版本为偶数：稳定版本（stable）<br>重点回顾（p146）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">在X Window 的环境下想要强制启动X的组合按键为：[Alt]+[Ctrl]+[Backspace]；</span><br><span class="line">在默认情况下，Linux提供tty1~tty6的终端界面；</span><br><span class="line">在终端环境中，可依据提示字符为$或#判断为一般账号或root账号；</span><br><span class="line">取得终端支持的语系数据可执行【echo $LANG】或【locale】命令；</span><br><span class="line">组合按键中，[Tab]按键可作为：（1）命令补全或（2）文件名补全或（3）参数选项补全，[Ctrl]-[c]可以中断目前正在运行中的程序；</span><br><span class="line">Linux系统上的英文大小写为不同的内容；</span><br><span class="line">联机帮助系统有man及info两个常见的命令；</span><br></pre></td></tr></table></figure>

<p>Linux文件权限概率<br>切换身份命令：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">su -</span><br></pre></td></tr></table></figure>
<p>文件属性</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-rw-r--r--. 1 root root 1864 May 4 18:01 test.txt</span><br><span class="line"></span><br><span class="line">第一栏代表这个文件的类型和权限</span><br><span class="line">第一个字符代表这个文件是目录、文件或链接文件等</span><br><span class="line">[d]代表的是目录，[-]是文件，[|]是链接文件，[b]表示可供存储的周边设备，[c]表示设备文件里面的串行端口设备</span><br><span class="line">接下来的字符中，以三个为一组，且均为【rwx】的三个参数的组合。其中，【r】代表可读，【w】代表可写，【x】代表可执行，如果没有权限，就会出现【-】。</span><br><span class="line">第一组为文件拥有者可具备的权限，第二组为加入此用户组之账号的权限，第三组为非本人且没有加入用户组的其他账号的权限</span><br><span class="line"></span><br><span class="line">第二栏 连接数</span><br><span class="line">第三栏 文件拥有者</span><br><span class="line">第三栏 文件所属用户组</span><br><span class="line">第四栏 文件大小</span><br><span class="line">第五栏 文件最后被修改的时间 May 4 18:01</span><br><span class="line">第六栏 文件名</span><br></pre></td></tr></table></figure>

<p>例题（p153）<br>若有一个文件的类型与权限数据为【-rwxr-xr–】，请说明其意义是什么？<br>答：将十个字符整理成如下所示：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">【-】【rwx】【r-x】【r--】</span><br><span class="line">1     234   456    789</span><br></pre></td></tr></table></figure>
<p>1：代表文件；<br>234：拥有者权限，可读、可写、可执行；<br>567：用户组的用户权限，可读可执行；<br>890：其他用户权限，可读</p>
<p>例题（p155）<br>如果我的目录为下面的格式，请问testgroup这个用户组的成员与其他人（others）是否可以进入本目录？</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">drwxr-xr-- 1 test1 testgroup 5238 Jun 19 10:25 groups/</span><br></pre></td></tr></table></figure>
<p>答：<br>文件拥有者test1【rwx】可以在本目录中进行任何操作；<br>而testgroup这个用户组【r-x】的账号，例如test2、test3亦可进入本目录进行操作，但是不能在本目录进行写入的操作；<br>至于other的权限中【r–】虽然有r，但是由于没有x的权限，因此others的用户，并不能进入此目录。</p>
<p>如何修改文件属性与权限（p156）<br>chgrp：修改文件所属用户组；<br>chown：修改文件拥有者；<br>chomd：修改文件的权限，SUID、SGID、SBIT等的特性。<br>例题：<br>将test.txt文件的拥有者改为bin这个账号</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">chown bin test.txt</span><br></pre></td></tr></table></figure>
<p>将test.txt文件的拥有者与用户组改回为root</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">chown root:root test.txt</span><br></pre></td></tr></table></figure>

<p>例题：（p158）<br>将.bashrc文件权限改回<code>-rw-r--r--</code><br>答：<code>-rw-r--r--</code>的分数是644，所以命令为</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">chmod 644 .bashrc</span><br></pre></td></tr></table></figure>
<p>rwx所对应的数字为，每三个为一组<br>r：4；w：2；x；1；<br>符号法修改命令</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">chmod u=rwx,go=rx .bashrc</span><br></pre></td></tr></table></figure>

<p>例题（p160）<br>有个目录的权限如下所示：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">drwxr--r-- 3 root root 4096 Jun 25 08:35 .ssh</span><br></pre></td></tr></table></figure>
<p>系统有个账号名称为vbird，这个账号并没有支持root用户组，请问vbird对这个目录有何权限？是否可切换到此目录中？<br>答：vbird对此目录仅有r的权限，因此vbird可以查询此目录下的文件名列表，因为vbird不具备有x的权限，亦即vbird没有这个抽屉的钥匙，因此并不能切换到此目录内。</p>
<p>假设有个账号名称为dmtsai，它的家目录在/home/dmtsai/，dmtsai对此目录具有【rwx】的权限。若在此目录下有个名为the_root.data的文件，该文件的权限如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-rwx------ 1 root root 4365 Sep 19 23:20 the_root.data</span><br></pre></td></tr></table></figure>
<p>请问dmtsai对此文件的权限是什么？可否删除此文件？<br>答：如上所示，由于dmtsai对此文件来说是others身份，因此这个文件它无法读、无法编辑也无法执行，也就是说，它无法变动这个文件的内容。<br>但是由于这个文件是在它的家目录下，它在此目录下具有rwx的完整权限，因此对于the_root.data这个文件名来说，它是能够删除的。结论就是，dmtsai这个用户能够删除the_root.data这个文件。</p>
<p>Linux文件种类与扩展名（p164）<br>单一文件或目录的最大容许文件名为255字节，以一个ASCII英文占用一个字节来说，则大约可达255个字符长度。若是以每个汉字占2字节来说，最大文件名就是大约在在128个汉字之间。</p>
<p>Linux目录配置（p166~p167）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/etc</span><br><span class="line">系统主要的配置文件几乎都放置在这个目录内，例如人员的账号密码文件、各种服务的启动文件等。</span><br><span class="line">一般来说，这个目录下的各文件属性是可以让一般用户查看的，但是只有root有权利修改。FHS建议不要放置可执行文件（binary）在这个目录中</span><br><span class="line"></span><br><span class="line">/opt</span><br><span class="line">这是给第三方辅助软件放置的目录</span><br><span class="line"></span><br><span class="line">/sbin</span><br><span class="line">Linux有非常多命令是用来设置系统环境的，这些命令只有root才能够用来设置系统，其他用户最多只能用来查询而已。</span><br><span class="line">放在/sbin下面的为启动过程中所需要的，里面包括了启动、修复、还原系统所需要的命令。</span><br><span class="line"></span><br><span class="line">/usr</span><br><span class="line">第二层FHS设置</span><br><span class="line"></span><br><span class="line">/var</span><br><span class="line">第二层FHS设置，主要为放置变动性的数据。</span><br><span class="line"></span><br><span class="line">/home</span><br><span class="line">这是系统默认的用户家目录（home directory）。在你新增一个一般用户账号时，默认的用户家目录都会被规范到这里来，比较重要的是家目录有两种代号：</span><br><span class="line">~：代表目前这个用户的家目录；</span><br><span class="line">~dmtsai：则代表dmtsai的家目录；</span><br><span class="line"></span><br><span class="line">/root</span><br><span class="line">系统管理员（root）的家目录，之所以放在这里，是因为如果进入单人维护模式而仅挂载根目录时，该目录就能够拥有root的家目录，所以我们希望root的家目录与根目录放置在同一个分区中</span><br><span class="line"></span><br><span class="line">/proc</span><br><span class="line">这个目录本身就是一个虚拟文件系统（virtual filesystem），它放置的数据都是在内存当中，例如系统内核、进程信息（process）、外接设备的状态及网络状态等。</span><br><span class="line">因为这个目录下的数据都是在内存当中，所以本身不占任何硬盘空间。</span><br><span class="line"></span><br><span class="line">/sys</span><br><span class="line">这个目录跟/proc非常相似，也是一个虚拟的文件系统，主要也是记录内核与系统硬件信息相关的内容。</span><br><span class="line">包括目前已加载的内核模块与内核检测到的硬件设备信息等，这个目录同样不占硬盘容量</span><br></pre></td></tr></table></figure>
<p>p168</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/usr/bin</span><br><span class="line">所有一般用户能够使用的命令都放在这里。</span><br><span class="line">目前最新的CentOS7已经将全部的用户命令放置于此，而使用链接文件的方式将/bin链接于此。</span><br><span class="line">也就是说，/usr/bin与/bin是一摸一样的。另外，FHS要求在此目录下不应该有子目录。</span><br><span class="line"></span><br><span class="line">/usr/sbin</span><br><span class="line">非系统正常运行所需要的系统命令，最常见的就是某些网络服务器软件的服务命令（daemon）。</span><br><span class="line">不过基本功能与/sbin也差不多，因此目前的/sbin就是链接到此目录中的。</span><br></pre></td></tr></table></figure>

<p>CentOS观察（p172）<br>通过uname检查Linux内核与操作系统的架构版本。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">查看内核版本</span><br><span class="line">uname -r</span><br><span class="line"></span><br><span class="line">查看操作系统的架构版本</span><br><span class="line">uname -m</span><br></pre></td></tr></table></figure>

<p>重点回顾（p173~p178）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Linux的每个文件中，可分别给予用户、用户组与其他人三种身份的rwx权限；</span><br><span class="line">利用ls -l显示的文件属性中，第一个字段是文件的权限，共十个位，第一个位是文件类型，接下来三个为一组共三组，为用户、用户组、其他人的权限，权限有r、w、x三种；</span><br><span class="line">如果文件名之前多一个“.”，则代表这个文件为隐藏文件；</span><br><span class="line">若需要root的权限时，可使用su -这个命令来切换身份，操作完毕则使用exit离开su的命令环境；</span><br><span class="line">更改文件的用户组支持可用chgrp，修改文件的拥有者可用chown，修改文件的权限可用chmod；</span><br><span class="line">chmod修改权限的方法有两种，分别是符号法与数字法，数字法中r、w、x数字分别为4、2、1；</span><br><span class="line">对文件来讲，权限的性能为：</span><br><span class="line">r：可读取此一文件的实际内容，如读取文本文件的实际内容等；</span><br><span class="line">w：可以编辑、新增或是修改该文件的内容（但不包含删除该文件）；</span><br><span class="line">x：该文件具有可以被系统执行的权限；</span><br><span class="line">对目录来说，权限的功能为：</span><br><span class="line">r：读取目录中的内容；</span><br><span class="line">w：修改目录中的内容；</span><br><span class="line">x：访问目录；</span><br><span class="line">Linux文件名的限制为：单一文件或目录最大容许文件名为255个英文字符或128个中文字符；</span><br><span class="line">FHS所定义的三层主目录为：/、/var、/usr三层；</span><br><span class="line">绝对路径为从根目录/开始写起，否则就是相对路径。</span><br></pre></td></tr></table></figure>

<p>目录与路径<br>常见的处理目录的命令：（p177）<br>cd：切换目录<br>pwd：显示当前目录<br>mkdir：建立一个新目录<br>rmdir：删除一个空目录</p>
<p>mkdir（建立新目录）（p178）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mkdir [-mp] 目录名称</span><br><span class="line">选项与参数：</span><br><span class="line">-m：设置文件权限。直接设置，不使用默认权限（umask）。</span><br><span class="line">-p：帮助你直接将所需要的目录（包含上层目录）递归创建。</span><br><span class="line"></span><br><span class="line">范例：建立权限为rwx--x--x的目录。</span><br><span class="line">mkdir -m 711 test2</span><br></pre></td></tr></table></figure>

<p>PATH的变量说明（p181）<br>不同身份用户的PATH不同，默认能够执行的命令也不同（如root与dmtsai）；<br>PATH是可以修改的；<br>使用绝对路径或相对路径直接指定某个命令的文件名来执行，会比查找PATH来的正确；<br>命令应该要放置到正确的目录下，执行才会比较方便；<br>本目录（.）最好不要放到PATH当中。</p>
<p>文件与目录的查看（p182）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">范例一：将家目录下的所有文件列出来（含属性与隐藏文件）</span><br><span class="line">ls -al ~</span><br><span class="line"></span><br><span class="line">范例三：完整的显示文件的修改时间（modification time）</span><br><span class="line">ls -al --full-time ~</span><br></pre></td></tr></table></figure>

<p>p183</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">范例一：用root身份，将家目录下的.bashrc复制到/tmp下，并更名为bashrc。</span><br><span class="line">cp ~/.bashrc /tmp/bashrc</span><br><span class="line">cp -i ~/.bashrc /tmp/bashrc</span><br><span class="line">cp：overwrite &#x27;/tmp/bashrc&#x27;? n &lt;==n不覆盖，y为覆盖</span><br><span class="line">重复做两次操作，由于/tmp下面已经存在bashrc了，加上-i选项后，则在覆盖前会询问使用者是否确定，可以按下n或y来二次确认。</span><br><span class="line"></span><br><span class="line">范例二：切换目录到/tmp，并将/var/log/wtmp复制到/tmp且观察属性。</span><br><span class="line">cd /tmp</span><br><span class="line">cp /var/log/wtmp . &lt;==想要复制到目前的目录，最后的.不要忘。</span><br><span class="line">在不加任何选项的情况下，文件的某些属性/权限会改变。注意，文件建立的时间也不一样。</span><br><span class="line">如果你想要将文件的所有特性都一起复制过来，可以加上-a</span><br><span class="line">cp -a /var/log/wtmp .</span><br><span class="line">查看命令</span><br><span class="line">ls -l /var/log/wtmp wtmp</span><br><span class="line">你会看到/var/log/wtmp的数据特性与wtmp的数据特性完全一模一样。</span><br></pre></td></tr></table></figure>

<p>rm（删除文件或目录）（p185）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">rm [-fir] 文件或目录</span><br><span class="line">-f：就是force的意思，忽略不存在的文件，不会出现警告信息。</span><br><span class="line">-i：交互模式，在删除前会询问是否操作。</span><br><span class="line">-r：递归删除，最常用于目录的删除，这是非常危险的选项。</span><br><span class="line"></span><br><span class="line">无提示强制递归删除文件</span><br><span class="line">rm -rf</span><br><span class="line">删除空目录命令</span><br><span class="line">rmdir /tmp/etc</span><br></pre></td></tr></table></figure>

<p>数据截取（p190）<br>head（取出前面几行）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">head /etc/man_db.conf</span><br><span class="line">默认的情况中，显示前面十行，若要显示前20行，就得要这样：</span><br><span class="line">head -n 20 /etc/man_db.conf</span><br><span class="line">不显示后面的100行，前面的都显示</span><br><span class="line">head -n -100 /etc/man_db.conf</span><br></pre></td></tr></table></figure>

<p>tail（取出后面几行）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">tail /etc/man_db.conf</span><br><span class="line">默认情况中，显示最后的十行，若要显示最后的20行，就得要这样：</span><br><span class="line">tail -n 20 /etc/man_db.conf</span><br><span class="line">如果不想知道有几行，却只想列出100行以后的数据</span><br><span class="line">tail -n +100 /etc/man_db.conf</span><br><span class="line">持续检测/var/log/messages的内容</span><br><span class="line">tail -f /var/log/messages</span><br><span class="line">&lt;==要等到输入[ctrl]-c之后才会结束执行tail这个命令。</span><br></pre></td></tr></table></figure>

<p>例题：（p191）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">假如我想显示/etc/man_db.conf的第11到第20行？</span><br><span class="line">head -n 20 /etc/man_db.conf | tail -n 10</span><br><span class="line"></span><br><span class="line">列出正确的行号</span><br><span class="line">答：通过cat -n来显示行号，再用上面的命令截取即可</span><br><span class="line">cat -n /etc/man_db.conf | head -n 20 | tail -n 10</span><br></pre></td></tr></table></figure>

<p>修改文件事件或创建新文件：touch（p193）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">范例一：新建一个空文件并观察时间。</span><br><span class="line">cd /tmp</span><br><span class="line">touch testtouch</span><br><span class="line">ls -l testtouch</span><br><span class="line"></span><br><span class="line">范例二：将~/.bashrc复制成为bashrc，假设复制完全的属性，检查日期。</span><br><span class="line">cp -a ~/.bashrc bashrc</span><br><span class="line">date; ll bashrc; ll --time=atime bashrc; ll --time=ctime bashrc</span><br><span class="line">共显示四行信息</span><br><span class="line">第一行：目前的时间；第二行：mtime时间；第三行：atime时间；第四行：ctime时间；</span><br><span class="line"></span><br><span class="line">范例三：修改范例二的bashrc文件，将日期调整为两天前。</span><br><span class="line">touch -d &quot;2 days ago&quot; bashrc</span><br><span class="line">date; ll bashrc; ll --time=atime bashrc; ll --time=ctime bashrc</span><br></pre></td></tr></table></figure>
<p>文件与目录的默认权限与隐藏权限</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">例题（p196）</span><br><span class="line">假设你的umask为003，请问该umask情况下，建立的文件与目录权限是什么？</span><br><span class="line">答：umask为003，所以拿掉的权限为--------wx，因此：</span><br><span class="line">文件：（-rw-rw-rw-）-（--------wx）=-rw-rw-r--</span><br><span class="line">目录：（drwxrwxrwx）-（--------wx）=drwxrwxr--</span><br><span class="line"></span><br><span class="line">文件隐藏属性（p197）</span><br><span class="line">chattr（配置文件隐藏属性）</span><br><span class="line">范例：请尝试到/tmp下面建立文件夹，并加入i的参数，尝试删除看看。</span><br><span class="line">cd /tmp</span><br><span class="line">touch attrtest</span><br><span class="line">chattr +i attrtest</span><br><span class="line">删除该文件夹</span><br><span class="line">rm attrtest</span><br><span class="line">删除失败，root也没有办法将这个文件删除</span><br><span class="line"></span><br><span class="line">范例：将该文件的i属性取消。</span><br><span class="line">chattr -i attrtest</span><br><span class="line"></span><br><span class="line">lsattr（显示文件隐藏属性）</span><br><span class="line">chattr +aiS attrtest</span><br><span class="line">lsattr attrtest</span><br><span class="line">显示结果</span><br><span class="line">--S-ia---------- attrtest</span><br></pre></td></tr></table></figure>
<p>命令与文件的查找<br>find（p203） 实践操作/填空</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">范例一：将过去系统上面24小时内有修改过内容（mtime）的文件列出。</span><br><span class="line">find / -mtime 0</span><br><span class="line">0是重点，代表目前的时间，从现在到24小时前。</span><br><span class="line"></span><br><span class="line">-mtime n：n为数字，意义为在n天之前的【一天之内】被修改过内容的文件；</span><br><span class="line">-mtime +n：列出在n天之前（不含n天本身）被修改过内容的文件；</span><br><span class="line">-mtime -n：列出在n天之后（含n天本身）被修改过内容的文件；</span><br><span class="line">-newer file：file为一个存在的文件，列出比file还要新的文件</span><br><span class="line"></span><br><span class="line">范例二：寻找/etc下面的文件，如果文件日期比/etc/passwd新就列出。</span><br><span class="line">find /etc -newer /etc/passwd</span><br><span class="line"></span><br><span class="line">范例三：查找/home下面属于dmtsai的文件。</span><br><span class="line">find /home -user dmtsai</span><br><span class="line"></span><br><span class="line">范例四：查找系统中不属于任何人的文件。</span><br><span class="line">find / -nouser</span><br><span class="line"></span><br><span class="line">范例五：找出文件名为passwd这个文件</span><br><span class="line">find / -name passwd</span><br><span class="line">找出文件名包含了passwd这个关键字的文件</span><br><span class="line">find / -name &quot;*passwd*&quot;</span><br><span class="line"></span><br><span class="line">范例六：找出/run目录下，文件类型为socket的文件名有哪些？</span><br><span class="line">find /run -type s</span><br><span class="line"></span><br><span class="line">范例七：查找文件当中含有SGID、SUID或SBIT的属性。</span><br><span class="line">find / -perm /7000</span><br></pre></td></tr></table></figure>
<p>重点回顾（p206～p207）</p>
<p>绝对路径：一定由根目录/写起；相对路径：不由/写起，而是由相对当前目录写起；<br>特殊目录有：.、..、-、～、～account需要注意；<br>rmdir仅能删除空目录，要删除非空目录需要使用【rm -r】命令；<br>ls可以查看文件属性，尤其-d、-a、-l等选项特别重要；<br>cat -n与nl均可显示行号，但默认情况下，空白行会不会编号并不相同；<br>touch的目的在修改文件的时间参数，但亦可用来建立空文件；<br>一个文件记录的时间参数有三种，分别是读取时间（access time，atime）、状态时间（status time，ctime）、修改时间（modification time，mtime），ls默认显示的是mtime；<br>观察文件的类型可以使用file命令来观察；<br>查找命令的完整文件名可用which或type，这两个命令都是通过PATH变量来查找文件名；<br>查找文件的完整文件名可以使用whereis找特定目录或locate到数据库去查找，而不实际查找文件系统。</p>
<p>文件系统的简单操作<br>磁盘与目录的容量</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">范例一：将系统内所有的文件系全列出来。</span><br><span class="line">df</span><br><span class="line">范例二：将容量结果以易读的格式显示出来。</span><br><span class="line">df -h</span><br><span class="line">不同于范例一，这里会以G/M等容量格式显示出来，比较容易看。</span><br><span class="line"></span><br><span class="line">范例三：将系统内的所有特殊文件格式及名称都列出来。</span><br><span class="line">df -aT</span><br><span class="line">范例四：将/etc下面的可用的磁盘容量以易读的容量格式显示。</span><br><span class="line">df -h /etc</span><br><span class="line">范例五：将目前各个硬盘分区可用的inode数量列出。</span><br><span class="line">df -ih</span><br></pre></td></tr></table></figure>
<p>du（p227）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">范例一：列出目前目录下的所有文件容量。</span><br><span class="line">du</span><br><span class="line">范例二：同范例一，但是将文件的容量也列出来。</span><br><span class="line">du -a</span><br><span class="line">范例三：检查根目录下面每个目录所占用的容量。</span><br><span class="line">du -sm /*</span><br></pre></td></tr></table></figure>
<p>硬链接与符号链接：ln（p230）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">范例一：将/etc/passwd复制到/tmp下面，并且观察inode与区块。</span><br><span class="line">cd /tmp</span><br><span class="line">cp -a /etc/passwd</span><br><span class="line">du -sb ; df -i</span><br><span class="line"></span><br><span class="line">范例二：将/tmp/passwd制作硬链接成为passwd-hd文件，并查看文件与容量。</span><br><span class="line">ln passwd passwd-hd</span><br><span class="line">du -sb ; df -i</span><br><span class="line">即使多了一个文件在/tmp下面，整个inode与区块的容量并没有变。</span><br><span class="line"></span><br><span class="line">范例三：将/tmp/passwd建立一个符号链接。</span><br><span class="line">ln -s passwd passwd-so</span><br><span class="line">passwd-so指向的inode number不同了，这是一个新文件，这个文件的内容是指向passwd这个文件。</span><br><span class="line">passwd-so这个文件的大小是6Bytes，因为【passwd】这个单词共有六个字符之故。</span><br><span class="line">整个容量与inode使用数都改变</span><br><span class="line">删除原始文件passwd，其它两个文件不能开启。</span><br></pre></td></tr></table></figure>
<p>磁盘格式化（创建文件系统）（p238）<br>以XFS文件系统为例<br>将/dev/vda4格式化为xfs文件系统<br>mkfs.xfs /dev/vda4<br>查看文件系统<br>blkid /dev/vda4</p>
<p>文件系统挂载与卸载（p244）<br>挂载xfs/ext4/vfat等文件系统</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">范例：找出/dev/vda4的UUID后，用该UUID来挂载文件系统到/data/xfs内。</span><br><span class="line">blkid /dev/vda4</span><br><span class="line">记录UUID</span><br><span class="line">创建目录</span><br><span class="line">mkdir -p /data/xfs</span><br><span class="line">挂载</span><br><span class="line">mount UUID=&quot;&quot; /data/xfs</span><br><span class="line">查看挂载结果</span><br><span class="line">df /data/xfs</span><br></pre></td></tr></table></figure>
<p>挂载CD或DVD光盘</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">范例：将你用来安装Linux的CentOS安装光盘拿出来挂载到/data/cdrom。</span><br><span class="line">查看光盘信息</span><br><span class="line">blkid</span><br><span class="line">创建挂载目录</span><br><span class="line">mkdir /data/cdrom</span><br><span class="line">挂载</span><br><span class="line">mount /dev/sr0 /data/cdrom</span><br><span class="line">显示挂载信息</span><br><span class="line">df /data/cdrom</span><br></pre></td></tr></table></figure>
<p>umount（将设备文件卸载）（p246）<br>查看已挂载的文件系统<br>mount<br>以/dev/vda4卸载为例<br>umount /dev/vda4</p>
<p>第四章重点回顾</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">在Xwindow的环境下想要强制重新启动X的组合键为：【Alt】+【Ctrl】+【backspace】；</span><br><span class="line">默认情况下，Linux提供tty1~tty6的终端界面；</span><br><span class="line">在终端环境中，可依据提示字符为$或#判断为一般账号或root账号</span><br><span class="line">取得终端支持的语系数据可执行【echo$LANG】或【locale】命令；</span><br><span class="line">data可显示日期，cal可显示日历，bc可以作为计算器；</span><br><span class="line">组合键中，【tab】按键可做为：（1）命令补齐或（2）文件名补齐或（3）参数选项补齐，【crtl】-【c】可以终止目前正在运行的程序；</span><br><span class="line">Linux系统上的英文大小写为不同内容</span><br><span class="line">联合帮助系统有man及info两个常见命令；</span><br></pre></td></tr></table></figure>

<p>第五章重点回顾</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Linux的每个文件中，可分别给予使用者、群组与其他人三种身份个别的 rwx 权限；</span><br><span class="line">群组最有用的功能之一，就是当你在团队开发资源的时候，且每个帐号都可以有多个群组的支持；</span><br><span class="line">利用ls -l显示的文件属性中，第一个字段是文件的权限，共有十个位，第一个位是文件类型， 接下来三个为一组共三组，为使用者、群组、其他人的权限，权限有r,w,x三种；</span><br><span class="line">如果文件名之前多一个“ . ”，则代表这个文件为“隐藏文件”；</span><br><span class="line">若需要root的权限时，可以使用 su - 这个指令来切换身份。处理完毕则使用 exit 离开 su 的指令环境。</span><br><span class="line">更改文件的群组支持可用chgrp，修改文件的拥有者可用chown，修改文件的权限可用chmod</span><br><span class="line">chmod修改权限的方法有两种，分别是符号法与数字法，数字法中r,w,x分数为4,2,1；</span><br><span class="line">对文件来讲，权限的性能为：</span><br><span class="line">	r：可读取此一文件的实际内容，如读取文本文件的文字内容等；</span><br><span class="line">	w：可以编辑、新增或者是修改该文件的内容（但不含删除该文件）；</span><br><span class="line">	x：该文件具有可以被系统执行的权限。</span><br><span class="line">对目录来说，权限的性能为：</span><br><span class="line">	r （read contents in directory）</span><br><span class="line">	w （modify contents of directory）</span><br><span class="line">	x （access directory）</span><br><span class="line">要开放目录给任何人浏览时，应该至少也要给予r及x的权限，但w权限不可随便给；</span><br><span class="line">能否读取到某个文件内容，跟该文件所在的目录权限也有关系 （目录至少需要有 x 的权限）。</span><br><span class="line">Linux文件名的限制为：单一文件或目录的最大容许文件名为 255 个英文字符或 128 个中文字符；</span><br><span class="line">根据FHS的官方文件指出， 他们的主要目的是希望让使用者可以了解到已安装软件通常放置于那个目录下</span><br><span class="line">FHS订定出来的四种目录特色为：shareable, unshareable, static, variable等四类；</span><br><span class="line">FHS所定义的三层主目录为：/, /var, /usr三层而已；</span><br><span class="line">绝对路径文件名为从根目录 / 开始写起，否则都是相对路径的文件名。</span><br></pre></td></tr></table></figure>

<p>第六章重点回顾</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">绝对路径：『一定由根目录 / 写起』；相对路径：『不由 / 写起，而是由相对当前目录写起』</span><br><span class="line">特殊目录有： ., …, -, ~, ~account 需要注意；</span><br><span class="line">与目录相关的指令有： cd, mkdir, rmdir, pwd 等重要指令；</span><br><span class="line">rmdir 仅能删除空目录，要删除非空目录需使用『rm -r 』指令；</span><br><span class="line">用户能使用的指令是依据 PATH 变量所规定的目录去搜寻的；</span><br><span class="line">ls 可以检视文件的属性，尤其 -d, -a, -l 等选项特别重要！</span><br><span class="line">文件的复制、删除、移动可以分别使用： cp, rm , mv 等指令来操作；</span><br><span class="line">检查文件的内容(读文件)可使用的指令包括有： cat, tac, nl, more, less, head, tail, od 等</span><br><span class="line">cat -n 与 nl 均可显示行号，但默认的情况下，空白行会不会编号并不相同；</span><br><span class="line">touch 的目的在修改文件的时间参数，但亦可用来建立空文件；</span><br><span class="line">一个文件记录的时间参数有三种，分别是 access time(atime), status time (ctime), modification time(mtime)， ls默认显示的是 mtime。</span><br><span class="line">观察文件的类型可以使用 file 指令来观察；</span><br><span class="line">搜寻指令的完整文件名可用 which 或 type ，这两个指令都是透过 PATH 变量来搜寻文件名；</span><br><span class="line">搜寻文件的完整档名可以使用 whereis 找特定目录或 locate 到数据库去搜寻，而不实际搜寻文件系统；</span><br><span class="line">利用 find 可以加入许多选项来直接查询文件系统，以获得自己想要知道的档名。</span><br></pre></td></tr></table></figure>

<p>第七章重点回顾</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">一个可以被挂载的数据通常称为“文件系统, filesystem”而不是分区 （partition） 喔！</span><br><span class="line">基本上 Linux 的传统文件系统为 Ext2 ，该文件系统内的信息主要有：	</span><br><span class="line">	superblock：记录此 filesystem 的整体信息，包括inode/block的总量、使用量、剩余量， 以及文件系统的格式与相关信息等；</span><br><span class="line">	inode：记录文件的属性，一个文件占用一个inode，同时记录此文件的数据所在的 block 号码；</span><br><span class="line">	block：实际记录文件的内容，若文件太大时，会占用多个 block 。</span><br><span class="line">Ext2 文件系统的数据存取为索引式文件系统（indexed allocation）</span><br><span class="line">需要磁盘重组的原因就是文件写入的 block 太过于离散了，此时文件读取的性能将会变的很差所致。 这个时候可以通过磁盘重组将同一个文件所属的 blocks 汇整在一起。</span><br><span class="line">Ext2文件系统主要有：boot sector, superblock, inode bitmap, block bitmap, inode table, data block 等六大部分。</span><br><span class="line">data block 是用来放置文件内容数据地方，在 Ext2 文件系统中所支持的 block 大小有 1K, 2K 及 4K 三种而已</span><br><span class="line">inode 记录文件的属性/权限等数据，其他重要项目为： 每个 inode 大小均为固定，有 128/256Bytes 两种基本容量。每个文件都仅会占用一个 inode 而已；因此文件系统能够创建的文件数量与 inode 的数量有关；</span><br><span class="line">文件的 block 在记录文件的实际数据，目录的 block 则在记录该目录下面文件名与其 inode 号码的对照表；</span><br><span class="line">日志式文件系统 （journal） 会多出一块记录区，随时记载文件系统的主要活动，可加快系统复原时间；</span><br><span class="line">Linux 文件系统为增加性能，会让内存作为大量的磁盘高速缓存；</span><br><span class="line">实体链接只是多了一个文件名对该 inode 号码的链接而已；</span><br><span class="line">符号链接就类似Windows的捷径功能。</span><br><span class="line">磁盘的使用必需要经过：分区、格式化与挂载，分别惯用的指令为：gdisk, mkfs, mount三个指令</span><br><span class="line">分区时，应使用 parted 检查分区表格式，再判断使用 fdisk/gdisk 来分区，或直接使用 parted 分区</span><br><span class="line">为了考虑性能，XFS 文件系统格式化时，可以考虑加上 agcount/su/sw/extsize 等参数较佳</span><br><span class="line">如果磁盘已无未分区的容量，可以考虑使用大型文件取代磁盘设备的处理方式，通过 dd 与格式化功能。</span><br><span class="line">开机自动挂载可参考/etc/fstab之设置，设置完毕务必使用 mount -a 测试语法正确否；</span><br></pre></td></tr></table></figure>

<p>第八章重点回顾</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">压缩指令为通过一些运算方法去将原本的文件进行压缩，以减少文件所占用的磁盘容量。 压缩前与压缩后的文件所占用的磁盘容量比值， 就可以被称为是“压缩比”</span><br><span class="line">压缩的好处是可以减少磁盘容量的浪费，在 WWW 网站也可以利用文件压缩的技术来进行数据的传送，好让网站带宽的可利用率上升喔</span><br><span class="line">压缩文件的扩展名大多是：“.gz, .bz2, .xz, .tar, .tar.gz, .tar.bz2, *.tar.xz”</span><br><span class="line">常见的压缩指令有 gzip, bzip2, xz。压缩率最佳的是 xz，若可以不计时间成本，建议使用 xz 进行压缩。</span><br><span class="line">tar 可以用来进行文件打包，并可支持 gzip, bzip2, xz 的压缩。</span><br><span class="line">压　缩：tar -Jcv -f filename.tar.xz 要被压缩的文件或目录名称</span><br><span class="line">查　询：tar -Jtv -f filename.tar.xz</span><br><span class="line">解压缩：tar -Jxv -f filename.tar.xz -C 欲解压缩的目录</span><br><span class="line">xfsdump 指令可备份文件系统或单一目录</span><br><span class="line">xfsdump 的备份若针对文件系统时，可进行 0-9 的 level 差异备份！其中 level 0 为完整备份；</span><br><span class="line">xfsrestore 指令可还原被 xfsdump 创建的备份文件；</span><br><span class="line">要创建光盘烧录数据时，可通过 mkisofs 指令来创建；</span><br><span class="line">可通过 wodim 来写入 CD 或 DVD 烧录机</span><br><span class="line">dd 可备份完整的 partition 或 disk ，因为 dd 可读取磁盘的 sector 表面数据</span><br><span class="line">cpio 为相当优秀的备份指令，不过必须要搭配类似 find 指令来读入欲备份的文件名数据，方可进行备份动作。</span><br></pre></td></tr></table></figure>

<p>第九章重点回顾</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Linux 下面的配置文件多为文本文件，故使用 vim 即可进行设置编辑；</span><br><span class="line">vim 可视为程序编辑器，可用以编辑 shell script, 配置文件等，避免打错字；</span><br><span class="line">vi 为所有 unix like 的操作系统都会存在的编辑器，且执行速度快速；</span><br><span class="line">vi 有三种模式，一般指令模式可变换到编辑与命令行界面，但编辑模式与命令行界面不能互换；</span><br><span class="line">常用的按键有i, [Esc], :wq 等；</span><br><span class="line">vi 的画面大略可分为两部份，（1）上半部的本文与（2）最后一行的状态+命令行界面；</span><br><span class="line">数字是有意义的，用来说明重复进行几次动作的意思，如 5yy 为复制 5 列之意；</span><br><span class="line">光标的移动中，大写的 G 经常使用，尤其是 1G, G 移动到文章的头/尾功能！</span><br><span class="line">vi 的取代功能也很棒！ :n1,n2s/old/new/g 要特别注意学习起来；</span><br><span class="line">小数点“ . ”为重复进行前一次动作，也是经常使用的按键功能！</span><br><span class="line">进入编辑模式几乎只要记住： i, o, R 三个按钮即可！尤其是新增一列的 o 与取代的 R</span><br><span class="line">vim 会主动的创建 swap 暂存盘，所以不要随意断线！</span><br><span class="line">如果在文章内有对齐的区块，可以使用 [ctrl]-v 进行复制/贴上/删除的行为</span><br><span class="line">使用 :sp 功能可以分区窗口</span><br><span class="line">若使用 vim 来撰写网页，若需要 CSS 元素数据，可通过 [crtl]+x, [crtl]+o 这两个连续组合按键来取得关键字</span><br><span class="line">vim 的环境设置可以写入在 ~/.vimrc 文件中；</span><br><span class="line">可以使用 iconv 进行文件语系编码的转换</span><br><span class="line">使用 dos2unix 及 unix2dos 可以变更文件每一列的行尾断行字符。</span><br></pre></td></tr></table></figure>

<p>第十章重点回顾</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">由于核心在内存中是受保护的区块，因此我们必须要通过“ Shell ”将我们输入的指令与 Kernel 沟通，好让 Kernel 可以控制硬件来正确无误的工作</span><br><span class="line">学习 shell 的原因主要有：命令行的 shell 在各大 distribution 都一样；远端管理时命令行速度较快； shell 是管理 Linux 系统非常重要的一环，因为 Linux 内很多控制都是以 shell 撰写的。</span><br><span class="line">系统合法的 shell 均写在 /etc/shells 文件中；</span><br><span class="line">使用者默认登陆取得的 shell 记录于 /etc/passwd 的最后一个字段；</span><br><span class="line">bash 的功能主要有：命令编修能力；命令与文件补全功能；命令别名设置功能；工作控制、前景背景控制；程序化脚本；万用字符</span><br><span class="line">type 可以用来找到执行指令为何种类型，亦可用于与 which 相同的功能；</span><br><span class="line">变量就是以一组文字或符号等，来取代一些设置或者是一串保留的数据</span><br><span class="line">变量主要有环境变量与自订变量，或称为全域变量与区域变量</span><br><span class="line">使用 env 与 export 可观察环境变量，其中 export 可以将自订变量转成环境变量；</span><br><span class="line">set 可以观察目前 bash 环境下的所有变量；</span><br><span class="line">$? 亦为变量，是前一个指令执行完毕后的回传值。在 Linux 回传值为 0 代表执行成功；</span><br><span class="line">locale 可用于观察语系数据；</span><br><span class="line">可用 read 让使用者由键盘输入变量的值</span><br><span class="line">ulimit 可用以限制使用者使用系统的资源情况</span><br><span class="line">bash 的配置文件主要分为 login shell 与 non-login shell。login shell 主要读取 /etc/profile 与 ~/.bash_profile， non-login shell 则仅读取 ~/.bashrc</span><br><span class="line">在使用 vim 时，若不小心按了 [crtl]+s 则画面会被冻结。你可以使用 [ctrl]+q 来解除冻结</span><br><span class="line">万用字符主要有： *, ?, [] 等等</span><br><span class="line">数据流重导向通过 &gt;, 2&gt;, &lt; 之类的符号将输出的信息转到其他文件或设备去；</span><br><span class="line">连续命令的下达可通过 ; &amp;&amp; || 等符号来处理</span><br><span class="line">管线命令的重点是：“管线命令仅会处理 standard output，对于 standard error output 会予以忽略” “管线命令必须要能够接受来自前一个指令的数据成为 standard input 继续处理才行。”</span><br><span class="line">本章介绍的管线命令主要有：cut, grep, sort, wc, uniq, tee, tr, col, join, paste, expand, split, xargs 等。</span><br></pre></td></tr></table></figure>

<p>第十一章重点回顾</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">正则表达式就是处理字串的方法，他是以行为单位来进行字串的处理行为；</span><br><span class="line">正则表达式通过一些特殊符号的辅助，可以让使用者轻易的达到“搜寻/删除/取代”某特定字串的处理程序；</span><br><span class="line">只要工具程序支持正则表达式，那么该工具程序就可以用来作为正则表达式的字串处理之用；</span><br><span class="line">正则表达式与万用字符是完全不一样的东西！万用字符 （wildcard） 代表的是 bash 操作接口的一个功能， 但正则表达式则是一种字串处理的表示方式！</span><br><span class="line">使用 grep 或其他工具进行正则表达式的字串比对时，因为编码的问题会有不同的状态，因此， 你最好将 LANG 等变量设置为 C 或者是 en 等英文语系！</span><br><span class="line">grep 与 egrep 在正则表达式里面是很常见的两支程序，其中， egrep 支持更严谨的正则表达式的语法；</span><br><span class="line">由于编码系统的不同，不同的语系 （LANG） 会造成正则表达式撷取数据的差异。因此可利用特殊符号如 [ ] 来替代编码范围较佳；</span><br><span class="line">由于严谨度的不同，正则表达式之上还有更严谨的延伸正则表达式；</span><br><span class="line">基础正则表达式的特殊字符有： *, ., [], [-], [^], ^, $ 等！</span><br><span class="line">常见的支持正则表达式的工具软件有： grep , sed, vim 等等</span><br><span class="line">printf 可以通过一些特殊符号来将数据进行格式化输出；</span><br><span class="line">awk 可以使用“字段”为依据，进行数据的重新整理与输出；</span><br><span class="line">文件的比对中，可利用 diff 及 cmp 进行比对，其中 diff 主要用在纯文本方面的新旧版本比对</span><br><span class="line">patch 指令可以将旧版数据更新到新版 （主要亦由 diff 创建 patch 的补丁来源文件）</span><br></pre></td></tr></table></figure>

<p>第十二章重点回顾</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">shell script 是利用 shell 的功能所写的一个“程序 （program）”，这个程序是使用纯文本文件，将一些 shell 的语法与指令（含外部指令）写在里面， 搭配正则表达式、管线命令与数据流重导向等功能，以达到我们所想要的处理目的</span><br><span class="line">shell script 用在系统管理上面是很好的一项工具，但是用在处理大量数值运算上， 就不够好了，因为 Shell scripts 的速度较慢，且使用的 CPU 资源较多，造成主机资源的分配不良。</span><br><span class="line">在 Shell script 的文件中，指令的执行是从上而下、从左而右的分析与执行；</span><br><span class="line">shell script 的执行，至少需要有 r 的权限，若需要直接指令下达，则需要拥有 r 与 x 的权限；</span><br><span class="line">良好的程序撰写习惯中，第一行要宣告 shell （#!/bin/bash） ，第二行以后则宣告程序用途、版本、作者等</span><br><span class="line">对谈式脚本可用 read 指令达成；</span><br><span class="line">要创建每次执行脚本都有不同结果的数据，可使用 date 指令利用日期达成；</span><br><span class="line">script 的执行若以 source 来执行时，代表在父程序的 bash 内执行之意！</span><br><span class="line">若需要进行判断式，可使用 test 或中括号 （ [] ） 来处理；</span><br><span class="line">在 script 内，$0, $1, $2…, $@ 是有特殊意义的！</span><br><span class="line">条件判断式可使用 if…then 来判断，若是固定变量内容的情况下，可使用 case $var in … esac 来处理</span><br><span class="line">循环主要分为不定循环 （while, until） 以及固定循环 （for） ，配合 do, done 来达成所需任务！</span><br><span class="line">我们可使用 sh -x script.sh 来进行程序的 debug</span><br></pre></td></tr></table></figure>

<p>第十三章重点回顾</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Linux 操作系统上面，关于帐号与群组，其实记录的是 UID/GID 的数字而已；</span><br><span class="line">使用者的帐号/群组与 UID/GID 的对应，参考 /etc/passwd 及 /etc/group 两个文件</span><br><span class="line">/etc/passwd 文件结构以冒号隔开，共分为七个字段，分别是“帐号名称、密码、UID、GID、全名、主文件夹、shell”</span><br><span class="line">UID 只有 0 与非为 0 两种，非为 0 则为一般帐号。一般帐号又分为系统帐号 （1~999） 及可登陆者帐号 （大于 1000）</span><br><span class="line">帐号的密码已经移动到 /etc/shadow 文件中，该文件权限为仅有 root 可以更动。该文件分为九个字段，内容为“ 帐号名称、加密密码、密码更动日期、密码最小可变动日期、密码最大需变动日期、密码过期前警告日数、密码失效天数、 帐号失效日、保留未使用”</span><br><span class="line">使用者可以支持多个群组，其中在新建文件时会影响新文件群组者，为有效群组。而写入 /etc/passwd 的第四个字段者， 称为初始群组。</span><br><span class="line">与使用者创建、更改参数、删除有关的指令为：useradd, usermod, userdel等，密码创建则为 passwd；</span><br><span class="line">与群组创建、修改、删除有关的指令为：groupadd, groupmod, groupdel 等；</span><br><span class="line">群组的观察与有效群组的切换分别为：groups 及 newgrp 指令；</span><br><span class="line">useradd 指令作用参考的文件有： /etc/default/useradd, /etc/login.defs, /etc/skel/ 等等</span><br><span class="line">观察使用者详细的密码参数，可以使用“ chage -l 帐号 ”来处理；</span><br><span class="line">使用者自行修改参数的指令有： chsh, chfn 等，观察指令则有： id, finger 等</span><br><span class="line">ACL 的功能需要文件系统有支持，CentOS 7 默认的 XFS 确实有支持 ACL 功能！</span><br><span class="line">ACL 可进行单一个人或群组的权限管理，但 ACL 的启动需要有文件系统的支持；</span><br><span class="line">ACL 的设置可使用 setfacl ，查阅则使用 getfacl ；</span><br><span class="line">身份切换可使用 su ，亦可使用 sudo ，但使用 sudo 者，必须先以 visudo 设置可使用的指令；</span><br><span class="line">PAM 模块可进行某些程序的验证程序！与 PAM 模块有关的配置文件位于 /etc/pam.d/ 及 /etc/security/</span><br><span class="line">系统上面帐号登陆情况的查询，可使用 w, who, last, lastlog 等；</span><br><span class="line">线上与使用者交谈可使用 write, wall，离线状态下可使用 mail 传送邮件！</span><br></pre></td></tr></table></figure>

<p>第十四章重点回顾</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Quota 可公平的分配系统上面的磁盘容量给使用者；分配的资源可以是磁盘容量（block）或可创建文件数量（inode）；</span><br><span class="line">Quota 的限制可以有 soft/hard/grace time 等重要项目；</span><br><span class="line">Quota 是针对整个 filesystem 进行限制，XFS 文件系统可以限制目录！</span><br><span class="line">Quota 的使用必须要核心与文件系统均支持。文件系统的参数必须含有 usrquota, grpquota, prjquota</span><br><span class="line">Quota 的 xfs_quota 实作的指令有 report, print, limit, timer… 等指令；</span><br><span class="line">磁盘阵列 （RAID） 有硬件与软件之分，Linux 操作系统可支持软件磁盘阵列，通过 mdadm 套件来达成；</span><br><span class="line">磁盘阵列创建的考虑依据为“容量”、“性能”、“数据可靠性”等；</span><br><span class="line">磁盘阵列所创建的等级常见有的 raid0, raid1, raid1+0, raid5 及 raid6</span><br><span class="line">硬件磁盘阵列的设备文件名与 SCSI 相同，至于 software RAID 则为 /dev/md[0-9]</span><br><span class="line">软件磁盘阵列的状态可借由 /proc/mdstat 文件来了解；</span><br><span class="line">LVM 强调的是“弹性的变化文件系统的容量”；</span><br><span class="line">与 LVM 有关的元件有： PV/VG/PE/LV 等元件，可以被格式化者为 LV</span><br><span class="line">新的 LVM 拥有 LVM thin volume 的功能，能够动态调整磁盘的使用率！</span><br><span class="line">LVM 拥有快照功能，快照可以记录 LV 的数据内容，并与原有的 LV 共享未更动的数据，备份与还原就变的很简单；</span><br><span class="line">XFS 通过 xfs_growfs 指令，可以弹性的调整文件系统的大小</span><br></pre></td></tr></table></figure>

<p>第十五章重点回顾</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">系统可以通过 at 这个指令来调度单一工作的任务！“at TIME”为指令下达的方法，当 at 进入调度后， 系统执行该调度工作时，会到下达时的目录进行任务；</span><br><span class="line">at 的执行必须要有 atd 服务的支持，且 /etc/at.deny 为控制是否能够执行的使用者帐号；</span><br><span class="line">通过 atq, atrm 可以查询与删除 at 的工作调度；</span><br><span class="line">batch 与 at 相同，不过 batch 可在 CPU 工作负载小于 0.8 时才进行后续的工作调度；</span><br><span class="line">系统的循环例行性工作调度使用 crond 这个服务，同时利用 crontab -e 及 /etc/crontab 进行调度的安排；</span><br><span class="line">crontab -e 设置项目分为六栏，“分、时、日、月、周、指令”为其设置依据；</span><br><span class="line">/etc/crontab 设置分为七栏，“分、时、日、月、周、执行者、指令”为其设置依据；</span><br><span class="line">anacron 配合 /etc/anacrontab 的设置，可以唤醒停机期间系统未进行的 crontab 任务！</span><br></pre></td></tr></table></figure>

<p>第十六章重点回顾</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">程序 （program）：通常为 binary program ，放置在储存媒体中 （如硬盘、光盘、软盘、磁带等），为实体文件的型态存在；</span><br><span class="line">程序 （process）：程序被触发后，执行者的权限与属性、程序的程序码与所需数据等都会被载入内存中， 操作系统并给予这个内存内的单元一个识别码 （PID），可以说，程序就是一个正在运行中的程序。</span><br><span class="line">程序彼此之间是有相关性的，故有父程序与子程序之分。而 Linux 系统所有程序的父程序就是 init 这个 PID 为 1 号的程序。</span><br><span class="line">在 Linux 的程序调用通常称为 fork-and-exec 的流程！程序都会借由父程序以复制 （fork） 的方式产生一个一模一样的子程序， 然后被复制出来的子程序再以 exec 的方式来执行实际要进行的程序，最终就成为一个子程序的存在。</span><br><span class="line">常驻在内存当中的程序通常都是负责一些系统所提供的功能以服务使用者各项任务，因此这些常驻程序就会被我们称为：服务 （daemon）。</span><br><span class="line">在工作管理 （job control） 中，可以出现提示字符让你操作的环境就称为前景 （foreground），至于其他工作就可以让你放入背景 （background） 去暂停或运行。</span><br><span class="line">与 job control 有关的按键与关键字有： &amp;, [ctrl]-z, jobs, fg, bg, kill %n 等；</span><br><span class="line">程序管理的观察指令有： ps, top, pstree 等等；</span><br><span class="line">程序之间是可以互相控制的，传递的讯息 （signal） 主要通过 kill 这个指令在处理；</span><br><span class="line">程序是有优先顺序的，该项目为 Priority，但 PRI 是核心动态调整的，使用者只能使用 nice 值去微调 PRI</span><br><span class="line">nice 的给予可以有： nice, renice, top 等指令；</span><br><span class="line">vmstat 为相当好用的系统资源使用情况观察指令；</span><br><span class="line">SELinux 当初的设计是为了避免使用者资源的误用，而 SELinux 使用的是 MAC 委任式存取设置；</span><br><span class="line">SELinux 的运行中，重点在于主体程序 （Subject） 能否存取目标文件资源 （Object） ，这中间牵涉到政策 （Policy） 内的规则， 以及实际的安全性本文类别 （type）；</span><br><span class="line">安全性本文的一般设置为：“Identify type”其中又以 type 最重要；</span><br><span class="line">SELinux 的模式有： enforcing, permissive, disabled 三种，而启动的政策 （Policy） 主要是 targeted</span><br><span class="line">SELinux 启动与关闭的配置文件在： /etc/selinux/config</span><br><span class="line">SELinux 的启动与观察： getenforce, sestatus 等指令</span><br><span class="line">重设 SELinux 的安全性本文可使用 restorecon 与 chcon</span><br><span class="line">在 SELinux 有启动时，必备的服务至少要启动 auditd 这个！</span><br><span class="line">若要管理默认的 SELinux 布林值，可使用 getsebool, setsebool 来管理！</span><br></pre></td></tr></table></figure>

<p>第十七章重点回顾</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">早期的服务管理使用 systemV 的机制，通过 /etc/init.d/*, service, chkconfig, setup 等指令来管理服务的启动/关闭/默认启动；</span><br><span class="line">从 CentOS 7.x 开始，采用 systemd 的机制，此机制最大功能为平行处理，并采单一指令管理 （systemctl），开机速度加快！</span><br><span class="line">systemd 将各服务定义为 unit，而 unit 又分类为 service, socket, target, path, timer 等不同的类别，方便管理与维护</span><br><span class="line">启动/关闭/重新启动的方式为： systemctl [start|stop|restart] unit.service</span><br><span class="line">设置默认启动/默认不启动的方式为： systemctl [enable|disable] unit.service</span><br><span class="line">查询系统所有启动的服务用 systemctl list-units —type=service 而查询所有的服务 （含不启动） 使用 systemctl list-unit-files —type=service</span><br><span class="line">systemd 取消了以前的 runlevel 概念 （虽然还是有相容的 target），转而使用不同的 target 操作环境。常见操作环境为 multi-user.targer 与 graphical.target。 不重新开机而转不同的操作环境使用 systemctl isolate unit.target，而设置默认环境则使用 systemctl set-default unit.target</span><br><span class="line">systemctl 系统默认的配置文件主要放在 /usr/lib/systemd/system，管理员若要修改或自行设计时，则建议放在 /etc/systemd/system/ 目录下。</span><br><span class="line">管理员应使用 man systemd.unit, man systemd.service, man systemd.timer 查询 /etc/systemd/system/ 下面配置文件的语法， 并使用 systemctl daemon-reload 载入后，才能自行撰写服务与管理服务喔！</span><br><span class="line">除了 atd 与 crond 之外，可以 通过 systemd.timer 亦即 timers.target 的功能，来使用 systemd 的时间管理功能。</span><br><span class="line">一些不需要的服务可以关闭喔！</span><br></pre></td></tr></table></figure>

<p>第二十一章重点回顾</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">源代码其实大多是纯文本文件，需要通过编译器的编译动作后，才能够制作出 Linux 系统能够认识的可执行的 binary file ；</span><br><span class="line">开放源代码可以加速软件的更新速度，让软件性能更快、漏洞修补更实时；</span><br><span class="line">在 Linux 系统当中，最标准的 C 语言编译器为 gcc ；</span><br><span class="line">在编译的过程当中，可以借由其他软件提供的函数库来使用该软件的相关机制与功能；</span><br><span class="line">为了简化编译过程当中的复杂的指令输入，可以借由 make 与 makefile 规则定义，来简化程序的更新、编译与链接等动作；</span><br><span class="line">Tarball 为使用 tar 与 gzip/bzip2/xz 压缩功能所打包与压缩的，具有源代码的文件；</span><br><span class="line">一般而言，要使用 Tarball 管理 Linux 系统上的软件，最好需要 gcc, make, autoconfig, kernel source, kernel header 等前驱软件才行，所以在安装 Linux 之初，最好就能够选择 Software development 以及 kernel development 之类的群组；</span><br><span class="line">函数库有动态函数库与静态函数库，动态函数库在升级上具有较佳的优势。动态函数库的扩展名为 .so 而静态则是 .a ；</span><br><span class="line">patch 的主要功能在更新源代码，所以更新源代码之后，还需要进行重新编译的动作才行；</span><br><span class="line">可以利用 ldconfig 与 /etc/ld.so.conf /etc/ld.so.conf.d/*.conf 来制作动态函数库的链接与高速缓存！</span><br><span class="line">通过 MD5/SHA1/SHA256 的编码可以判断下载的文件是否为原本厂商所释出的文件。</span><br></pre></td></tr></table></figure>

<p>第二十二章重点回顾</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">为了避免使用者自行编译的困扰，开发商自行在特定的硬件与操作系统平台上面预先编译好软件， 并将软件以特殊格式封包成文件，提供终端用户直接安装到固定的操作系统上，并提供简单的查询/安装/移除等流程。 此称为软件管理员。常见的软件管理员有 RPM 与 DPKG 两大主流。</span><br><span class="line">RPM 的全名是 RedHat Package Manager，原本是由 Red Hat 公司所发展的，流传甚广；</span><br><span class="line">RPM 类型的软件中，所含有的软件是经过编译后的 binary program ，所以可以直接安装在使用者端的系统上， 不过，也由于如此，所以 RPM 对于安装者的环境要求相当严格；</span><br><span class="line">RPM 除了将软件安装至使用者的系统上之外，还会将该软件的版本、名称、文件与目录配置、系统需求等等均记录于数据库 （/var/lib/rpm） 当中，方便未来的查询与升级、移除；</span><br><span class="line">RPM 可针对不同的硬件等级来加以编译，制作出来的文件可于扩展名 （i386, i586, i686, x86_64, noarch） 来分辨；</span><br><span class="line">RPM 最大的问题为软件之间的相依性问题；</span><br><span class="line">SRPM 为 Source RPM ，内含的文件为 Source code 而非为 binary file ，所以安装 SRPM 时还需要经过 compile ，不过，SRPM 最大的优点就是可以让使用者自行修改设置参数 （makefile/configure 的参数） ，以符合使用者自己的 Linux 环境；</span><br><span class="line">RPM 软件的属性相依问题，已经可以借由 yum 或者是 APT 等方式加以克服。 CentOS 使用的就是 yum 机制。</span><br><span class="line">yum 服务器提供多个不同的软件库放置个别的软件，以提供用户端分别管理软件类别。</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>大学</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>sql练习二</title>
    <url>/2019/12/08/sql%E7%BB%83%E4%B9%A0%E4%BA%8C/</url>
    <content><![CDATA[<p>分享一个MySQL（Oracle）数据库sql练习</p>
<span id="more"></span>
<h3 id="表结构"><a href="#表结构" class="headerlink" title="表结构"></a>表结构</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> STUDENT</span><br><span class="line">(SNO <span class="type">VARCHAR</span>(<span class="number">3</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">SNAME <span class="type">VARCHAR</span>(<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">SSEX <span class="type">VARCHAR</span>(<span class="number">2</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">SBIRTHDAY DATETIME,</span><br><span class="line">CLASS <span class="type">VARCHAR</span>(<span class="number">5</span>));</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> COURSE</span><br><span class="line">(CNO <span class="type">VARCHAR</span>(<span class="number">5</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">CNAME <span class="type">VARCHAR</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">TNO <span class="type">VARCHAR</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> SCORE</span><br><span class="line">(SNO <span class="type">VARCHAR</span>(<span class="number">3</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">CNO <span class="type">VARCHAR</span>(<span class="number">5</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">DEGREE <span class="type">NUMERIC</span>(<span class="number">10</span>, <span class="number">1</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> TEACHER</span><br><span class="line">(TNO <span class="type">VARCHAR</span>(<span class="number">3</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">TNAME <span class="type">VARCHAR</span>(<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>, TSEX <span class="type">VARCHAR</span>(<span class="number">2</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">TBIRTHDAY DATETIME <span class="keyword">NOT</span> <span class="keyword">NULL</span>, PROF <span class="type">VARCHAR</span>(<span class="number">6</span>),</span><br><span class="line">DEPART <span class="type">VARCHAR</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> STUDENT (SNO,SNAME,SSEX,SBIRTHDAY,CLASS) <span class="keyword">VALUES</span> (<span class="number">108</span> ,<span class="string">&#x27;曾华&#x27;</span>,<span class="string">&#x27;男&#x27;</span> ,<span class="string">&#x27;1977-09-01&#x27;</span>,<span class="number">95033</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> STUDENT (SNO,SNAME,SSEX,SBIRTHDAY,CLASS) <span class="keyword">VALUES</span> (<span class="number">105</span> ,<span class="string">&#x27;匡明&#x27;</span>,<span class="string">&#x27;男&#x27;</span> ,<span class="string">&#x27;1975-10-02&#x27;</span>,<span class="number">95031</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> STUDENT (SNO,SNAME,SSEX,SBIRTHDAY,CLASS) <span class="keyword">VALUES</span> (<span class="number">107</span> ,<span class="string">&#x27;王丽&#x27;</span>,<span class="string">&#x27;女&#x27;</span> ,<span class="string">&#x27;1976-01-23&#x27;</span>,<span class="number">95033</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> STUDENT (SNO,SNAME,SSEX,SBIRTHDAY,CLASS) <span class="keyword">VALUES</span> (<span class="number">101</span> ,<span class="string">&#x27;李军&#x27;</span>,<span class="string">&#x27;男&#x27;</span> ,<span class="string">&#x27;1976-02-20&#x27;</span>,<span class="number">95033</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> STUDENT (SNO,SNAME,SSEX,SBIRTHDAY,CLASS) <span class="keyword">VALUES</span> (<span class="number">109</span> ,<span class="string">&#x27;王芳&#x27;</span>,<span class="string">&#x27;女&#x27;</span> ,<span class="string">&#x27;1975-02-10&#x27;</span>,<span class="number">95031</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> STUDENT (SNO,SNAME,SSEX,SBIRTHDAY,CLASS) <span class="keyword">VALUES</span> (<span class="number">103</span> ,<span class="string">&#x27;陆君&#x27;</span>,<span class="string">&#x27;男&#x27;</span> ,<span class="string">&#x27;1974-06-03&#x27;</span>,<span class="number">95031</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> COURSE(CNO,CNAME,TNO)<span class="keyword">VALUES</span> (<span class="string">&#x27;3-105&#x27;</span> ,<span class="string">&#x27;计算机导论&#x27;</span>,<span class="number">825</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> COURSE(CNO,CNAME,TNO)<span class="keyword">VALUES</span> (<span class="string">&#x27;3-245&#x27;</span> ,<span class="string">&#x27;操作系统&#x27;</span> ,<span class="number">804</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> COURSE(CNO,CNAME,TNO)<span class="keyword">VALUES</span> (<span class="string">&#x27;6-166&#x27;</span> ,<span class="string">&#x27;数据电路&#x27;</span> ,<span class="number">856</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> COURSE(CNO,CNAME,TNO)<span class="keyword">VALUES</span> (<span class="string">&#x27;9-888&#x27;</span> ,<span class="string">&#x27;高等数学&#x27;</span> ,<span class="number">100</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> SCORE(SNO,CNO,DEGREE)<span class="keyword">VALUES</span> (<span class="number">103</span>,<span class="string">&#x27;3-245&#x27;</span>,<span class="number">86</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> SCORE(SNO,CNO,DEGREE)<span class="keyword">VALUES</span> (<span class="number">105</span>,<span class="string">&#x27;3-245&#x27;</span>,<span class="number">75</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> SCORE(SNO,CNO,DEGREE)<span class="keyword">VALUES</span> (<span class="number">109</span>,<span class="string">&#x27;3-245&#x27;</span>,<span class="number">68</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> SCORE(SNO,CNO,DEGREE)<span class="keyword">VALUES</span> (<span class="number">103</span>,<span class="string">&#x27;3-105&#x27;</span>,<span class="number">92</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> SCORE(SNO,CNO,DEGREE)<span class="keyword">VALUES</span> (<span class="number">105</span>,<span class="string">&#x27;3-105&#x27;</span>,<span class="number">88</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> SCORE(SNO,CNO,DEGREE)<span class="keyword">VALUES</span> (<span class="number">109</span>,<span class="string">&#x27;3-105&#x27;</span>,<span class="number">76</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> SCORE(SNO,CNO,DEGREE)<span class="keyword">VALUES</span> (<span class="number">101</span>,<span class="string">&#x27;3-105&#x27;</span>,<span class="number">64</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> SCORE(SNO,CNO,DEGREE)<span class="keyword">VALUES</span> (<span class="number">107</span>,<span class="string">&#x27;3-105&#x27;</span>,<span class="number">91</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> SCORE(SNO,CNO,DEGREE)<span class="keyword">VALUES</span> (<span class="number">108</span>,<span class="string">&#x27;3-105&#x27;</span>,<span class="number">78</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> SCORE(SNO,CNO,DEGREE)<span class="keyword">VALUES</span> (<span class="number">101</span>,<span class="string">&#x27;6-166&#x27;</span>,<span class="number">85</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> SCORE(SNO,CNO,DEGREE)<span class="keyword">VALUES</span> (<span class="number">107</span>,<span class="string">&#x27;6-106&#x27;</span>,<span class="number">79</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> SCORE(SNO,CNO,DEGREE)<span class="keyword">VALUES</span> (<span class="number">108</span>,<span class="string">&#x27;6-166&#x27;</span>,<span class="number">81</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TEACHER(TNO,TNAME,TSEX,TBIRTHDAY,PROF,DEPART)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="number">804</span>,<span class="string">&#x27;李诚&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;1958-12-02&#x27;</span>,<span class="string">&#x27;副教授&#x27;</span>,<span class="string">&#x27;计算机系&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TEACHER(TNO,TNAME,TSEX,TBIRTHDAY,PROF,DEPART)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="number">856</span>,<span class="string">&#x27;张旭&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;1969-03-12&#x27;</span>,<span class="string">&#x27;讲师&#x27;</span>,<span class="string">&#x27;电子工程系&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TEACHER(TNO,TNAME,TSEX,TBIRTHDAY,PROF,DEPART)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="number">825</span>,<span class="string">&#x27;王萍&#x27;</span>,<span class="string">&#x27;女&#x27;</span>,<span class="string">&#x27;1972-05-05&#x27;</span>,<span class="string">&#x27;助教&#x27;</span>,<span class="string">&#x27;计算机系&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TEACHER(TNO,TNAME,TSEX,TBIRTHDAY,PROF,DEPART)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="number">831</span>,<span class="string">&#x27;刘冰&#x27;</span>,<span class="string">&#x27;女&#x27;</span>,<span class="string">&#x27;1977-08-14&#x27;</span>,<span class="string">&#x27;助教&#x27;</span>,<span class="string">&#x27;电子工程系&#x27;</span>);</span><br></pre></td></tr></table></figure>
<h3 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>、 查询Student表中的所有记录的Sname、Ssex和Class列。</span><br><span class="line"><span class="keyword">select</span> sname,ssex,class <span class="keyword">from</span> student</span><br><span class="line"><span class="number">2</span>、 查询教师所有的单位即不重复的Depart列。</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">DISTINCT</span> depart <span class="keyword">from</span> teacher</span><br><span class="line"><span class="number">3</span>、 查询Student表的所有记录。</span><br><span class="line"><span class="keyword">Select</span> <span class="operator">*</span> <span class="keyword">from</span> student</span><br><span class="line"><span class="number">4</span>、 查询Score表中成绩在<span class="number">60</span>到<span class="number">80</span>之间的所有记录。</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> score <span class="keyword">where</span> degree <span class="keyword">between</span> <span class="number">60</span> <span class="keyword">and</span> <span class="number">80</span></span><br><span class="line"><span class="number">5</span>、 查询Score表中成绩为<span class="number">85</span>，<span class="number">86</span>或<span class="number">88</span>的记录。</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> score <span class="keyword">where</span> degree<span class="operator">=</span><span class="number">85</span></span><br><span class="line"><span class="keyword">UNION</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> score <span class="keyword">where</span> degree<span class="operator">=</span><span class="number">86</span></span><br><span class="line"><span class="keyword">union</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> score <span class="keyword">where</span> degree<span class="operator">=</span><span class="number">88</span></span><br><span class="line"><span class="number">6</span>、 查询Student表中“<span class="number">95031</span>”班或性别为“女”的同学记录。</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> class <span class="operator">=</span><span class="string">&#x27;95031&#x27;</span> <span class="keyword">or</span> ssex<span class="operator">=</span><span class="string">&#x27;女&#x27;</span></span><br><span class="line"><span class="number">7</span>、 以Class降序查询Student表的所有记录。</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">order</span> <span class="keyword">by</span> class <span class="keyword">DESC</span></span><br><span class="line"><span class="number">8</span>、 以Cno升序、Degree降序查询Score表的所有记录。</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> score <span class="keyword">order</span> <span class="keyword">by</span> cno <span class="keyword">asc</span> </span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> score <span class="keyword">order</span> <span class="keyword">by</span> Degree <span class="keyword">DESC</span></span><br><span class="line"><span class="number">9</span>、 查询“<span class="number">95031</span>”班的学生人数。</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> student <span class="keyword">where</span> class<span class="operator">=</span><span class="string">&#x27;95031&#x27;</span></span><br><span class="line"><span class="number">10</span>、查询Score表中的最高分的学生学号和课程号。</span><br><span class="line"><span class="number">11</span>、查询‘<span class="number">3</span><span class="number">-105</span>’号课程的平均分。</span><br><span class="line"><span class="number">12</span>、查询Score表中至少有<span class="number">5</span>名学生选修的并以<span class="number">3</span>开头的课程的平均分数。</span><br><span class="line"><span class="number">13</span>、查询最低分大于<span class="number">70</span>，最高分小于<span class="number">90</span>的Sno列。</span><br><span class="line"><span class="number">14</span>、查询所有学生的Sname、Cno和Degree列。</span><br><span class="line"><span class="number">15</span>、查询所有学生的Sno、Cname和Degree列。</span><br><span class="line"><span class="number">16</span>、查询所有学生的Sname、Cname和Degree列。</span><br><span class="line"><span class="number">17</span>、查询“<span class="number">95033</span>”班所选课程的平均分。</span><br><span class="line"><span class="number">18</span>、假设使用如下命令建立了一个grade表：</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> grade(low   <span class="type">int</span>,upp   number(<span class="number">3</span>),rank   <span class="type">char</span>(<span class="number">1</span>));</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> grade <span class="keyword">values</span>(<span class="number">90</span>,<span class="number">100</span>,<span class="string">&#x27;A&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> grade <span class="keyword">values</span>(<span class="number">80</span>,<span class="number">89</span>,<span class="string">&#x27;B&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> grade <span class="keyword">values</span>(<span class="number">70</span>,<span class="number">79</span>,<span class="string">&#x27;C&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> grade <span class="keyword">values</span>(<span class="number">60</span>,<span class="number">69</span>,<span class="string">&#x27;D&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> grade <span class="keyword">values</span>(<span class="number">0</span>,<span class="number">59</span>,<span class="string">&#x27;E&#x27;</span>);</span><br><span class="line"><span class="keyword">commit</span>;</span><br><span class="line">现查询所有同学的Sno、Cno和rank列。</span><br><span class="line"><span class="number">19</span>、查询选修“<span class="number">3</span><span class="number">-105</span>”课程的成绩高于“<span class="number">109</span>”号同学成绩的所有同学的记录。</span><br><span class="line"><span class="number">20</span>、查询score中选学一门以上课程的同学中分数为非最高分成绩的记录。</span><br><span class="line"><span class="number">21</span>、查询成绩高于学号为“<span class="number">109</span>”、课程号为“<span class="number">3</span><span class="number">-105</span>”的成绩的所有记录。</span><br><span class="line"><span class="number">22</span>、查询和学号为<span class="number">108</span>的同学同年出生的所有学生的Sno、Sname和Sbirthday列。</span><br><span class="line"><span class="number">23</span>、查询“张旭“教师任课的学生成绩。</span><br><span class="line"><span class="number">24</span>、查询选修某课程的同学人数多于<span class="number">5</span>人的教师姓名。</span><br><span class="line"><span class="number">25</span>、查询<span class="number">95033</span>班和<span class="number">95031</span>班全体学生的记录。</span><br><span class="line"><span class="number">26</span>、查询存在有<span class="number">85</span>分以上成绩的课程Cno.</span><br><span class="line"><span class="number">27</span>、查询出“计算机系“教师所教课程的成绩表。</span><br><span class="line"><span class="number">28</span>、查询“计算机系”与“电子工程系“不同职称的教师的Tname和Prof。</span><br><span class="line"><span class="number">29</span>、查询选修编号为“<span class="number">3</span><span class="number">-105</span>“课程且成绩至少高于选修编号为“<span class="number">3</span><span class="number">-245</span>”的同学的Cno、Sno和Degree,并按Degree从高到低次序排序。</span><br><span class="line"><span class="number">30</span>、查询选修编号为“<span class="number">3</span><span class="number">-105</span>”且成绩高于选修编号为“<span class="number">3</span><span class="number">-245</span>”课程的同学的Cno、Sno和Degree.</span><br><span class="line"><span class="number">31</span>、查询所有教师和同学的name、sex和birthday.</span><br><span class="line"><span class="number">32</span>、查询所有“女”教师和“女”同学的name、sex和birthday.</span><br><span class="line"><span class="number">33</span>、查询成绩比该课程平均成绩低的同学的成绩表。</span><br><span class="line"><span class="number">34</span>、查询所有任课教师的Tname和Depart.</span><br><span class="line"><span class="number">35</span>  查询所有未讲课的教师的Tname和Depart. </span><br><span class="line"><span class="number">36</span>、查询至少有<span class="number">2</span>名男生的班号。</span><br><span class="line"><span class="number">37</span>、查询Student表中不姓“王”的同学记录。</span><br><span class="line"><span class="number">38</span>、查询Student表中每个学生的姓名和年龄。</span><br><span class="line"><span class="number">39</span>、查询Student表中最大和最小的Sbirthday日期值。</span><br><span class="line"><span class="number">40</span>、以班号和年龄从大到小的顺序查询Student表中的全部记录。</span><br><span class="line"><span class="number">41</span>、查询“男”教师及其所上的课程。</span><br><span class="line"><span class="number">42</span>、查询最高分同学的Sno、Cno和Degree列。</span><br><span class="line"><span class="number">43</span>、查询和“李军”同性别的所有同学的Sname.</span><br><span class="line"><span class="number">44</span>、查询和“李军”同性别并同班的同学Sname.</span><br><span class="line"><span class="number">45</span>、查询所有选修“计算机导论”课程的“男”同学的成绩表</span><br></pre></td></tr></table></figure>
<h3 id="参考答案一"><a href="#参考答案一" class="headerlink" title="参考答案一"></a>参考答案一</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span> <span class="keyword">SELECT</span> SNAME,SSEX,CLASS <span class="keyword">FROM</span> STUDENT;</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> <span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> DEPART <span class="keyword">FROM</span> TEACHER;</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span> <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> STUDENT;</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span> <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> SCORE <span class="keyword">WHERE</span> DEGREE <span class="keyword">BETWEEN</span> <span class="number">60</span> <span class="keyword">AND</span> <span class="number">80</span>;</span><br><span class="line"></span><br><span class="line"><span class="number">5.</span><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> SCORE <span class="keyword">WHERE</span> DEGREE <span class="keyword">IN</span> (<span class="number">85</span>,<span class="number">86</span>,<span class="number">88</span>);</span><br><span class="line"></span><br><span class="line"><span class="number">6.</span> <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> STUDENT <span class="keyword">WHERE</span> CLASS<span class="operator">=</span><span class="string">&#x27;95031&#x27;</span> <span class="keyword">OR</span> SSEX<span class="operator">=</span><span class="string">&#x27;女&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="number">7.</span><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> STUDENT <span class="keyword">ORDER</span> <span class="keyword">BY</span> CLASS <span class="keyword">DESC</span>;</span><br><span class="line"></span><br><span class="line"><span class="number">8.</span><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> SCORE <span class="keyword">ORDER</span> <span class="keyword">BY</span> CNO <span class="keyword">ASC</span>,DEGREE <span class="keyword">DESC</span>;</span><br><span class="line"></span><br><span class="line"><span class="number">9.</span><span class="keyword">SELECT</span>  <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> STUDENT <span class="keyword">WHERE</span> CLASS<span class="operator">=</span><span class="string">&#x27;95031&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="number">10.</span><span class="keyword">SELECT</span> SNO,CNO <span class="keyword">FROM</span> SCORE <span class="keyword">WHERE</span> DEGREE<span class="operator">=</span>(<span class="keyword">SELECT</span> <span class="built_in">MAX</span>(DEGREE) <span class="keyword">FROM</span> SCORE);</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> SNO,CNO <span class="keyword">FROM</span> SCORE <span class="keyword">ORDER</span> <span class="keyword">BY</span> DEGREE <span class="keyword">DESC</span> LIMIT <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="number">11.</span><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(DEGREE) <span class="keyword">FROM</span> SCORE <span class="keyword">WHERE</span> CNO<span class="operator">=</span><span class="string">&#x27;3-105&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="number">12.</span><span class="keyword">select</span> <span class="built_in">avg</span>(degree),cno</span><br><span class="line"><span class="keyword">from</span> score</span><br><span class="line"><span class="keyword">where</span> cno <span class="keyword">like</span> <span class="string">&#x27;3%&#x27;</span></span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> cno</span><br><span class="line"><span class="keyword">having</span> <span class="built_in">count</span>(sno)<span class="operator">&gt;=</span> <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="number">13.</span><span class="keyword">SELECT</span> SNO <span class="keyword">FROM</span> SCORE <span class="keyword">GROUP</span> <span class="keyword">BY</span> SNO <span class="keyword">HAVING</span> <span class="built_in">MIN</span>(DEGREE)<span class="operator">&gt;</span><span class="number">70</span> <span class="keyword">AND</span> <span class="built_in">MAX</span>(DEGREE)<span class="operator">&lt;</span><span class="number">90</span>;</span><br><span class="line"></span><br><span class="line"><span class="number">14.</span><span class="keyword">SELECT</span> A.SNAME,B.CNO,B.DEGREE <span class="keyword">FROM</span> STUDENT <span class="keyword">AS</span> A <span class="keyword">JOIN</span> SCORE <span class="keyword">AS</span> B <span class="keyword">ON</span> A.SNO<span class="operator">=</span>B.SNO;</span><br><span class="line"></span><br><span class="line"><span class="number">15.</span><span class="keyword">SELECT</span> A.CNAME, B.SNO,B.DEGREE <span class="keyword">FROM</span> COURSE <span class="keyword">AS</span> A <span class="keyword">JOIN</span> SCORE <span class="keyword">AS</span> B <span class="keyword">ON</span> A.CNO<span class="operator">=</span>B.CNO ;</span><br><span class="line"></span><br><span class="line"><span class="number">16.</span><span class="keyword">SELECT</span> A.SNAME,B.CNAME,C.DEGREE <span class="keyword">FROM</span> STUDENT A <span class="keyword">JOIN</span> (COURSE B,SCORE C)</span><br><span class="line"><span class="keyword">ON</span> A.SNO<span class="operator">=</span>C.SNO <span class="keyword">AND</span> B.CNO <span class="operator">=</span>C.CNO;</span><br><span class="line"></span><br><span class="line"><span class="number">17.</span><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(A.DEGREE) <span class="keyword">FROM</span> SCORE A <span class="keyword">JOIN</span> STUDENT B <span class="keyword">ON</span> A.SNO <span class="operator">=</span> B.SNO <span class="keyword">WHERE</span> B.CLASS<span class="operator">=</span><span class="string">&#x27;95033&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="number">18.</span><span class="keyword">SELECT</span> A.SNO,A.CNO,B.RANK <span class="keyword">FROM</span> SCORE A,GRADE B <span class="keyword">WHERE</span> A.DEGREE <span class="keyword">BETWEEN</span> B.LOW <span class="keyword">AND</span> B.UPP </span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> RANK;</span><br><span class="line"></span><br><span class="line"><span class="number">19.</span><span class="keyword">SELECT</span> A.<span class="operator">*</span> <span class="keyword">FROM</span> SCORE A <span class="keyword">JOIN</span> SCORE B <span class="keyword">WHERE</span> A.CNO<span class="operator">=</span><span class="string">&#x27;3-105&#x27;</span> <span class="keyword">AND</span> A.DEGREE<span class="operator">&gt;</span>B.DEGREE <span class="keyword">AND</span> </span><br><span class="line"></span><br><span class="line">B.SNO<span class="operator">=</span><span class="string">&#x27;109&#x27;</span> <span class="keyword">AND</span> B.CNO<span class="operator">=</span><span class="string">&#x27;3-105&#x27;</span>;</span><br><span class="line">另一解法：<span class="keyword">SELECT</span> A.<span class="operator">*</span> <span class="keyword">FROM</span> SCORE A  <span class="keyword">WHERE</span> A.CNO<span class="operator">=</span><span class="string">&#x27;3-105&#x27;</span> <span class="keyword">AND</span> A.DEGREE<span class="operator">&gt;</span><span class="keyword">ALL</span>(<span class="keyword">SELECT</span> DEGREE <span class="keyword">FROM</span> </span><br><span class="line">SCORE B <span class="keyword">WHERE</span> B.SNO<span class="operator">=</span><span class="string">&#x27;109&#x27;</span> <span class="keyword">AND</span> B.CNO<span class="operator">=</span><span class="string">&#x27;3-105&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="number">20.</span><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> score s <span class="keyword">WHERE</span> DEGREE<span class="operator">&lt;</span>(<span class="keyword">SELECT</span> <span class="built_in">MAX</span>(DEGREE) <span class="keyword">FROM</span> SCORE) <span class="keyword">GROUP</span> <span class="keyword">BY</span> SNO <span class="keyword">HAVING</span> </span><br><span class="line"><span class="built_in">COUNT</span>(SNO)<span class="operator">&gt;</span><span class="number">1</span> <span class="keyword">ORDER</span> <span class="keyword">BY</span> DEGREE ;</span><br><span class="line"></span><br><span class="line"><span class="number">21.</span>见<span class="number">19</span>的第二种解法</span><br><span class="line"></span><br><span class="line"><span class="number">22.</span><span class="keyword">SELECT</span> SNO,SNAME,SBIRTHDAY <span class="keyword">FROM</span> STUDENT <span class="keyword">WHERE</span> <span class="keyword">YEAR</span>(SBIRTHDAY)<span class="operator">=</span>(<span class="keyword">SELECT</span> <span class="keyword">YEAR</span>(SBIRTHDAY) </span><br><span class="line"><span class="keyword">FROM</span> STUDENT <span class="keyword">WHERE</span> SNO<span class="operator">=</span><span class="string">&#x27;108&#x27;</span>);</span><br><span class="line">Oracle:<span class="keyword">select</span> x.cno,x.Sno,x.degree <span class="keyword">from</span> score x,score y <span class="keyword">where</span> x.degree<span class="operator">&gt;</span>y.degree <span class="keyword">and</span> </span><br><span class="line">y.sno<span class="operator">=</span><span class="string">&#x27;109&#x27;</span><span class="keyword">and</span> y.cno<span class="operator">=</span><span class="string">&#x27;3-105&#x27;</span>;</span><br><span class="line"><span class="keyword">select</span> cno,sno,degree <span class="keyword">from</span> score   <span class="keyword">where</span> degree <span class="operator">&gt;</span>(<span class="keyword">select</span> degree <span class="keyword">from</span> score <span class="keyword">where</span> sno<span class="operator">=</span><span class="string">&#x27;109&#x27;</span> </span><br><span class="line"><span class="keyword">and</span> cno<span class="operator">=</span><span class="string">&#x27;3-105&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="number">23.</span><span class="keyword">SELECT</span> A.SNO,A.DEGREE <span class="keyword">FROM</span> SCORE A <span class="keyword">JOIN</span> (TEACHER B,COURSE C)</span><br><span class="line"><span class="keyword">ON</span> A.CNO<span class="operator">=</span>C.CNO <span class="keyword">AND</span> B.TNO<span class="operator">=</span>C.TNO</span><br><span class="line"><span class="keyword">WHERE</span> B.TNAME<span class="operator">=</span><span class="string">&#x27;张旭&#x27;</span>;</span><br><span class="line">另一种解法：<span class="keyword">select</span> cno,sno,degree <span class="keyword">from</span> score <span class="keyword">where</span> cno<span class="operator">=</span>(<span class="keyword">select</span> x.cno <span class="keyword">from</span> course x,teacher y </span><br><span class="line"><span class="keyword">where</span> x.tno<span class="operator">=</span>y.tno <span class="keyword">and</span> y.tname<span class="operator">=</span><span class="string">&#x27;张旭&#x27;</span>);</span><br><span class="line">根据实际EXPLAIN此<span class="keyword">SELECT</span>语句，第一个的扫描次数要小于第二个</span><br><span class="line"></span><br><span class="line"><span class="number">24.</span><span class="keyword">SELECT</span> A.TNAME <span class="keyword">FROM</span> TEACHER A <span class="keyword">JOIN</span> (COURSE B, SCORE C) <span class="keyword">ON</span> (A.TNO<span class="operator">=</span>B.TNO <span class="keyword">AND</span> B.CNO<span class="operator">=</span>C.CNO) </span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> C.CNO <span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(C.CNO)<span class="operator">&gt;</span><span class="number">5</span>;</span><br><span class="line">另一种解法：<span class="keyword">select</span> tname <span class="keyword">from</span> teacher <span class="keyword">where</span> tno <span class="keyword">in</span>(<span class="keyword">select</span> x.tno <span class="keyword">from</span> course x,score y <span class="keyword">where</span> </span><br><span class="line">x.cno<span class="operator">=</span>y.cno <span class="keyword">group</span> <span class="keyword">by</span> x.tno <span class="keyword">having</span> <span class="built_in">count</span>(x.tno)<span class="operator">&gt;</span><span class="number">5</span>);</span><br><span class="line">实际测试<span class="number">1</span>明显优于<span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="number">25.</span><span class="keyword">select</span> cno,sno,degree <span class="keyword">from</span> score <span class="keyword">where</span> cno<span class="operator">=</span>(<span class="keyword">select</span> x.cno <span class="keyword">from</span> course x,teacher y <span class="keyword">where</span> </span><br><span class="line">x.tno<span class="operator">=</span>y.tno <span class="keyword">and</span> y.tname<span class="operator">=</span><span class="string">&#x27;张旭&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="number">26.</span><span class="keyword">SELECT</span> CNO <span class="keyword">FROM</span> SCORE <span class="keyword">GROUP</span> <span class="keyword">BY</span> CNO <span class="keyword">HAVING</span> <span class="built_in">MAX</span>(DEGREE)<span class="operator">&gt;</span><span class="number">85</span>;</span><br><span class="line">另一种解法：<span class="keyword">select</span> <span class="keyword">distinct</span> cno <span class="keyword">from</span> score <span class="keyword">where</span> degree <span class="keyword">in</span> (<span class="keyword">select</span> degree <span class="keyword">from</span> score <span class="keyword">where</span> </span><br><span class="line">degree<span class="operator">&gt;</span><span class="number">85</span>);</span><br><span class="line"></span><br><span class="line"><span class="number">27.</span><span class="keyword">SELECT</span> A.<span class="operator">*</span> <span class="keyword">FROM</span> SCORE A <span class="keyword">JOIN</span> (TEACHER B,COURSE C) <span class="keyword">ON</span> A.CNO<span class="operator">=</span>C.CNO <span class="keyword">AND</span> B.TNO<span class="operator">=</span>C.TNO</span><br><span class="line"><span class="keyword">WHERE</span> B.DEPART<span class="operator">=</span><span class="string">&#x27;计算机系&#x27;</span>;</span><br><span class="line">另一种解法：<span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">from</span> score <span class="keyword">where</span> cno <span class="keyword">in</span> (<span class="keyword">select</span> a.cno <span class="keyword">from</span> course a <span class="keyword">join</span> teacher b <span class="keyword">on</span> </span><br><span class="line">a.tno<span class="operator">=</span>b.tno <span class="keyword">and</span> b.depart<span class="operator">=</span><span class="string">&#x27;计算机系&#x27;</span>);</span><br><span class="line">此时<span class="number">2</span>略好于<span class="number">1</span>，在多连接的境况下性能会迅速下降</span><br><span class="line"></span><br><span class="line"><span class="number">28.</span><span class="keyword">select</span> tname,prof <span class="keyword">from</span> teacher <span class="keyword">where</span> depart<span class="operator">=</span><span class="string">&#x27;计算机系&#x27;</span> <span class="keyword">and</span> prof <span class="keyword">not</span> <span class="keyword">in</span> (<span class="keyword">select</span> prof <span class="keyword">from</span> </span><br><span class="line">teacher <span class="keyword">where</span> depart<span class="operator">=</span><span class="string">&#x27;电子工程系&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="number">29.</span><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> SCORE <span class="keyword">WHERE</span> DEGREE<span class="operator">&gt;</span><span class="keyword">ANY</span>(<span class="keyword">SELECT</span> DEGREE <span class="keyword">FROM</span> SCORE <span class="keyword">WHERE</span> CNO<span class="operator">=</span><span class="string">&#x27;3-245&#x27;</span>) <span class="keyword">ORDER</span> </span><br><span class="line"><span class="keyword">BY</span> DEGREE <span class="keyword">DESC</span>;</span><br><span class="line"></span><br><span class="line"><span class="number">30.</span><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> SCORE <span class="keyword">WHERE</span> DEGREE<span class="operator">&gt;</span><span class="keyword">ALL</span>(<span class="keyword">SELECT</span> DEGREE <span class="keyword">FROM</span> SCORE <span class="keyword">WHERE</span> CNO<span class="operator">=</span><span class="string">&#x27;3-245&#x27;</span>) <span class="keyword">ORDER</span> </span><br><span class="line"><span class="keyword">BY</span> DEGREE <span class="keyword">DESC</span>;</span><br><span class="line"></span><br><span class="line"><span class="number">31.</span><span class="keyword">SELECT</span> SNAME <span class="keyword">AS</span> NAME, SSEX <span class="keyword">AS</span> SEX, SBIRTHDAY <span class="keyword">AS</span> BIRTHDAY <span class="keyword">FROM</span> STUDENT</span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span> TNAME <span class="keyword">AS</span> NAME, TSEX <span class="keyword">AS</span> SEX, TBIRTHDAY <span class="keyword">AS</span> BIRTHDAY <span class="keyword">FROM</span> TEACHER;</span><br><span class="line"></span><br><span class="line"><span class="number">32.</span><span class="keyword">SELECT</span> SNAME <span class="keyword">AS</span> NAME, SSEX <span class="keyword">AS</span> SEX, SBIRTHDAY <span class="keyword">AS</span> BIRTHDAY <span class="keyword">FROM</span> STUDENT <span class="keyword">WHERE</span> SSEX<span class="operator">=</span><span class="string">&#x27;女&#x27;</span></span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span> TNAME <span class="keyword">AS</span> NAME, TSEX <span class="keyword">AS</span> SEX, TBIRTHDAY <span class="keyword">AS</span> BIRTHDAY <span class="keyword">FROM</span> TEACHER <span class="keyword">WHERE</span> TSEX<span class="operator">=</span><span class="string">&#x27;女&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="number">33.</span><span class="keyword">SELECT</span> A.<span class="operator">*</span> <span class="keyword">FROM</span> SCORE A <span class="keyword">WHERE</span> DEGREE<span class="operator">&lt;</span>(<span class="keyword">SELECT</span> <span class="built_in">AVG</span>(DEGREE) <span class="keyword">FROM</span> SCORE B <span class="keyword">WHERE</span> A.CNO<span class="operator">=</span>B.CNO);</span><br><span class="line">须注意<span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span>此题</span><br><span class="line"></span><br><span class="line"><span class="number">34.</span>解法一：<span class="keyword">SELECT</span> A.TNAME,A.DEPART <span class="keyword">FROM</span> TEACHER A <span class="keyword">JOIN</span> COURSE B <span class="keyword">ON</span> A.TNO<span class="operator">=</span>B.TNO;</span><br><span class="line">解法二：<span class="keyword">select</span> tname,depart <span class="keyword">from</span> teacher a <span class="keyword">where</span> <span class="keyword">exists</span></span><br><span class="line">(<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> course b <span class="keyword">where</span> a.tno<span class="operator">=</span>b.tno);</span><br><span class="line">解法三：<span class="keyword">SELECT</span> TNAME,DEPART <span class="keyword">FROM</span> TEACHER <span class="keyword">WHERE</span> TNO <span class="keyword">IN</span> (<span class="keyword">SELECT</span> TNO <span class="keyword">FROM</span> COURSE);</span><br><span class="line">实际分析，第一种揭发貌似更好，至少扫描次数最少。</span><br><span class="line"></span><br><span class="line"><span class="number">35.</span>解法一：<span class="keyword">SELECT</span> TNAME,DEPART <span class="keyword">FROM</span> TEACHER A <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> COURSE B <span class="keyword">USING</span>(TNO) <span class="keyword">WHERE</span> ISNUL</span><br><span class="line">(B.tno);</span><br><span class="line">解法二：<span class="keyword">select</span> tname,depart <span class="keyword">from</span> teacher a <span class="keyword">where</span> <span class="keyword">not</span> <span class="keyword">exists</span></span><br><span class="line">(<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> course b <span class="keyword">where</span> a.tno<span class="operator">=</span>b.tno);</span><br><span class="line">解法三：<span class="keyword">SELECT</span> TNAME,DEPART <span class="keyword">FROM</span> TEACHER <span class="keyword">WHERE</span> TNO <span class="keyword">NOT</span> <span class="keyword">IN</span> (<span class="keyword">SELECT</span> TNO <span class="keyword">FROM</span> COURSE);</span><br><span class="line"><span class="keyword">NOT</span> <span class="keyword">IN</span>的方法效率最差，其余两种差不多</span><br><span class="line"></span><br><span class="line"><span class="number">36.</span><span class="keyword">SELECT</span> CLASS <span class="keyword">FROM</span> STUDENT A <span class="keyword">WHERE</span> SSEX<span class="operator">=</span><span class="string">&#x27;男&#x27;</span> <span class="keyword">GROUP</span> <span class="keyword">BY</span> CLASS <span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(SSEX)<span class="operator">&gt;</span><span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="number">37.</span><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> STUDENT A <span class="keyword">WHERE</span> SNAME <span class="keyword">not</span> <span class="keyword">like</span> <span class="string">&#x27;王%&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="number">38.</span><span class="keyword">SELECT</span> SNAME,(<span class="keyword">YEAR</span>(NOW())<span class="operator">-</span><span class="keyword">YEAR</span>(SBIRTHDAY)) <span class="keyword">AS</span> AGE <span class="keyword">FROM</span> STUDENT;</span><br><span class="line"></span><br><span class="line"><span class="number">39.</span><span class="keyword">select</span> sname,sbirthday <span class="keyword">as</span> THEMAX <span class="keyword">from</span> student <span class="keyword">where</span> sbirthday <span class="operator">=</span>(<span class="keyword">select</span> <span class="built_in">min</span>(SBIRTHDAY) </span><br><span class="line"><span class="keyword">from</span> student)</span><br><span class="line"><span class="keyword">union</span></span><br><span class="line"><span class="keyword">select</span> sname,sbirthday <span class="keyword">as</span> THEMIN <span class="keyword">from</span> student <span class="keyword">where</span> sbirthday <span class="operator">=</span>(<span class="keyword">select</span> <span class="built_in">max</span>(SBIRTHDAY) <span class="keyword">from</span> </span><br><span class="line">student);</span><br><span class="line"></span><br><span class="line"><span class="number">40.</span><span class="keyword">SELECT</span> CLASS,(<span class="keyword">YEAR</span>(NOW())<span class="operator">-</span><span class="keyword">YEAR</span>(SBIRTHDAY)) <span class="keyword">AS</span> AGE <span class="keyword">FROM</span> STUDENT <span class="keyword">ORDER</span> <span class="keyword">BY</span> CLASS <span class="keyword">DESC</span>,AGE </span><br><span class="line"><span class="keyword">DESC</span>;</span><br><span class="line"></span><br><span class="line"><span class="number">41.</span><span class="keyword">SELECT</span> A.TNAME,B.CNAME <span class="keyword">FROM</span> TEACHER A <span class="keyword">JOIN</span> COURSE B <span class="keyword">USING</span>(TNO) <span class="keyword">WHERE</span> A.TSEX<span class="operator">=</span><span class="string">&#x27;男&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="number">42.</span><span class="keyword">SELECT</span> A.<span class="operator">*</span> <span class="keyword">FROM</span> SCORE A <span class="keyword">WHERE</span> DEGREE<span class="operator">=</span>(<span class="keyword">SELECT</span> <span class="built_in">MAX</span>(DEGREE) <span class="keyword">FROM</span> SCORE B );</span><br><span class="line"></span><br><span class="line"><span class="number">43.</span><span class="keyword">SELECT</span> SNAME <span class="keyword">FROM</span> STUDENT A <span class="keyword">WHERE</span> SSEX<span class="operator">=</span>(<span class="keyword">SELECT</span> SSEX <span class="keyword">FROM</span> STUDENT B <span class="keyword">WHERE</span> B.SNAME<span class="operator">=</span><span class="string">&#x27;李军&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="number">44.</span><span class="keyword">SELECT</span> SNAME <span class="keyword">FROM</span> STUDENT A <span class="keyword">WHERE</span> SSEX<span class="operator">=</span>(<span class="keyword">SELECT</span> SSEX <span class="keyword">FROM</span> STUDENT B <span class="keyword">WHERE</span> B.SNAME<span class="operator">=</span><span class="string">&#x27;李军&#x27;</span> )</span><br><span class="line"><span class="keyword">AND</span> CLASS<span class="operator">=</span>(<span class="keyword">SELECT</span> CLASS <span class="keyword">FROM</span> STUDENT C <span class="keyword">WHERE</span> c.SNAME<span class="operator">=</span><span class="string">&#x27;李军&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="number">45.</span>解法一：<span class="keyword">SELECT</span> A.<span class="operator">*</span> <span class="keyword">FROM</span> SCORE A <span class="keyword">JOIN</span> (STUDENT B,COURSE C) <span class="keyword">USING</span>(sno,CNO) <span class="keyword">WHERE</span> B.SSEX<span class="operator">=</span><span class="string">&#x27;男&#x27;</span> </span><br><span class="line"><span class="keyword">AND</span> C.CNAME<span class="operator">=</span><span class="string">&#x27;计算机导论&#x27;</span>;</span><br><span class="line">解法二：<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> score <span class="keyword">where</span> sno <span class="keyword">in</span>(<span class="keyword">select</span> sno <span class="keyword">from</span> student <span class="keyword">where</span></span><br><span class="line">ssex<span class="operator">=</span><span class="string">&#x27;男&#x27;</span>) <span class="keyword">and</span> cno<span class="operator">=</span>(<span class="keyword">select</span> cno <span class="keyword">from</span> course</span><br><span class="line"><span class="keyword">where</span> cname<span class="operator">=</span><span class="string">&#x27;计算机导论&#x27;</span>);</span><br></pre></td></tr></table></figure>
<h3 id="参考答案二"><a href="#参考答案二" class="headerlink" title="参考答案二"></a>参考答案二</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">#<span class="number">1</span>、查询Student表中的所有记录的Sname、Ssex和Class列。</span><br><span class="line"><span class="keyword">SELECT</span> sname,ssex,class <span class="keyword">FROM</span> student</span><br><span class="line">#<span class="number">2</span>、查询教师所有的单位即不重复的Depart列。</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> depart <span class="keyword">FROM</span> teacher</span><br><span class="line">#<span class="number">3</span>、查询Student表的所有记录。</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student</span><br><span class="line">#<span class="number">4</span>、查询Score表中成绩在<span class="number">60</span>到<span class="number">80</span>之间的所有记录。</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> score <span class="keyword">WHERE</span> degree <span class="keyword">BETWEEN</span> <span class="number">60</span> <span class="keyword">AND</span> <span class="number">80</span></span><br><span class="line">#<span class="number">5</span>、查询Score表中成绩为<span class="number">85</span>，<span class="number">86</span>或<span class="number">88</span>的记录。</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> score <span class="keyword">WHERE</span> degree <span class="keyword">IN</span> (<span class="number">85</span>,<span class="number">86</span> ,<span class="number">88</span>)</span><br><span class="line">#<span class="number">6</span>、查询Student表中“<span class="number">95031</span>”班或性别为“女”的同学记录。</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> ssex <span class="operator">=</span> <span class="string">&#x27;女&#x27;</span> <span class="keyword">OR</span> class <span class="operator">=</span> <span class="string">&#x27;95031&#x27;</span></span><br><span class="line">#<span class="number">7</span>、以Class降序查询Student表的所有记录。</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">ORDER</span> <span class="keyword">BY</span> class <span class="keyword">DESC</span></span><br><span class="line">#<span class="number">8</span>、以Cno升序、Degree降序查询Score表的所有记录。</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> score <span class="keyword">ORDER</span> <span class="keyword">BY</span> cno,degree <span class="keyword">DESC</span></span><br><span class="line">#<span class="number">9</span>、查询“<span class="number">95031</span>”班的学生人数。</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> class <span class="operator">=</span> <span class="string">&#x27;95031&#x27;</span></span><br><span class="line">#<span class="number">10</span>、查询Score表中的最高分的学生学号和课程号。</span><br><span class="line"><span class="keyword">SELECT</span> sno,cno <span class="keyword">FROM</span> score <span class="keyword">WHERE</span> degree <span class="operator">=</span> (<span class="keyword">SELECT</span> <span class="built_in">MAX</span>(degree) <span class="keyword">FROM</span> score)</span><br><span class="line">#<span class="number">11</span>、查询‘<span class="number">3</span><span class="number">-105</span>’号课程的平均分。</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(degree) <span class="keyword">FROM</span> score <span class="keyword">WHERE</span> cno <span class="operator">=</span> <span class="string">&#x27;3-105&#x27;</span></span><br><span class="line">#<span class="number">12</span>、查询Score表中至少有<span class="number">5</span>名学生选修的并以<span class="number">3</span>开头的课程的平均分数。</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(degree) <span class="keyword">FROM</span> score <span class="keyword">GROUP</span> <span class="keyword">BY</span> cno <span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(sno) <span class="operator">&gt;=</span> <span class="number">5</span></span><br><span class="line"><span class="keyword">AND</span> cno <span class="keyword">LIKE</span> <span class="string">&#x27;3%&#x27;</span></span><br><span class="line">#<span class="number">13</span>、查询最低分大于<span class="number">70</span>，最高分小于<span class="number">90</span>的Sno列。</span><br><span class="line"><span class="keyword">SELECT</span> sno <span class="keyword">FROM</span> score <span class="keyword">GROUP</span> <span class="keyword">BY</span> sno</span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">MIN</span>(degree) <span class="operator">&gt;</span> <span class="number">70</span> <span class="keyword">AND</span> <span class="built_in">MAX</span>(degree) <span class="operator">&lt;</span> <span class="number">90</span></span><br><span class="line">#<span class="number">14</span>、查询所有学生的Sname、Cno和Degree列。</span><br><span class="line"><span class="keyword">SELECT</span> sname,cno,degree <span class="keyword">FROM</span> student,score </span><br><span class="line"><span class="keyword">WHERE</span> student.SNO <span class="operator">=</span> score.SNO</span><br><span class="line">#<span class="number">15</span>、查询所有学生的Sno、Cname和Degree列。</span><br><span class="line"><span class="keyword">SELECT</span> sno,cname,degree <span class="keyword">FROM</span> course, score</span><br><span class="line"><span class="keyword">WHERE</span> course.cno <span class="operator">=</span> score.cno</span><br><span class="line">#<span class="number">16</span>、查询所有学生的Sname、Cname和Degree列。</span><br><span class="line"><span class="keyword">SELECT</span> sname, cname, degree</span><br><span class="line"><span class="keyword">FROM</span> score,course,student</span><br><span class="line"><span class="keyword">WHERE</span> student.SNO <span class="operator">=</span> score.SNO</span><br><span class="line"><span class="keyword">AND</span> score.CNO <span class="operator">=</span> course.CNO</span><br><span class="line">#<span class="number">17</span>、查询“<span class="number">95033</span>”班所选课程的平均分。</span><br><span class="line"><span class="keyword">SELECT</span> cno,<span class="built_in">AVG</span>(degree) <span class="keyword">FROM</span> score <span class="keyword">WHERE</span> sno <span class="keyword">IN</span> </span><br><span class="line">(<span class="keyword">SELECT</span> sno <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> class <span class="operator">=</span> <span class="string">&#x27;95033&#x27;</span>)</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> cno</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(degree) <span class="keyword">FROM</span> score</span><br><span class="line"><span class="keyword">WHERE</span> sno <span class="keyword">IN</span> (<span class="keyword">SELECT</span> sno <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> class <span class="operator">=</span> <span class="string">&#x27;95033&#x27;</span>)</span><br><span class="line">#<span class="number">18</span>、假设使用如下命令建立了一个grade表：</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> grade(low   <span class="type">INT</span>,upp   <span class="type">INT</span>,rank   <span class="type">CHAR</span>(<span class="number">1</span>));</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> grade <span class="keyword">VALUES</span>(<span class="number">90</span>,<span class="number">100</span>,<span class="string">&#x27;A&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> grade <span class="keyword">VALUES</span>(<span class="number">80</span>,<span class="number">89</span>,<span class="string">&#x27;B&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> grade <span class="keyword">VALUES</span>(<span class="number">70</span>,<span class="number">79</span>,<span class="string">&#x27;C&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> grade <span class="keyword">VALUES</span>(<span class="number">60</span>,<span class="number">69</span>,<span class="string">&#x27;D&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> grade <span class="keyword">VALUES</span>(<span class="number">0</span>,<span class="number">59</span>,<span class="string">&#x27;E&#x27;</span>);</span><br><span class="line"><span class="keyword">COMMIT</span>;</span><br><span class="line">#现查询所有同学的Sno、Cno和rank列。</span><br><span class="line"><span class="keyword">SELECT</span> o.sno,o.cno,g.rank</span><br><span class="line"><span class="keyword">FROM</span> score o,grade g</span><br><span class="line"><span class="keyword">WHERE</span> degree <span class="keyword">BETWEEN</span> low <span class="keyword">AND</span> upp</span><br><span class="line">#<span class="number">19</span>、查询选修“<span class="number">3</span><span class="number">-105</span>”课程的成绩高于“<span class="number">109</span>”号同学成绩的所有同学的记录。</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> </span><br><span class="line"><span class="keyword">FROM</span> score</span><br><span class="line"><span class="keyword">WHERE</span> cno <span class="operator">=</span> <span class="string">&#x27;3-105&#x27;</span></span><br><span class="line"><span class="keyword">AND</span> degree <span class="operator">&gt;</span> </span><br><span class="line">(<span class="keyword">SELECT</span> degree </span><br><span class="line"><span class="keyword">FROM</span> score </span><br><span class="line"><span class="keyword">WHERE</span> sno <span class="operator">=</span><span class="string">&#x27;109&#x27;</span> </span><br><span class="line"><span class="keyword">AND</span> cno <span class="operator">=</span> <span class="string">&#x27;3-105&#x27;</span></span><br><span class="line">)</span><br><span class="line">#<span class="number">20</span>、查询score中选学一门以上课程的同学中分数为非最高分成绩的记录。</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> </span><br><span class="line"><span class="keyword">FROM</span> score ,</span><br><span class="line">(</span><br><span class="line"><span class="keyword">SELECT</span> cno ,<span class="built_in">MAX</span>(degree) <span class="keyword">AS</span> maxd</span><br><span class="line"><span class="keyword">FROM</span> score</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> cno</span><br><span class="line">) a</span><br><span class="line"><span class="keyword">WHERE</span> sno <span class="keyword">IN</span> </span><br><span class="line">(</span><br><span class="line"><span class="keyword">SELECT</span> sno</span><br><span class="line"><span class="keyword">FROM</span> score </span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> sno</span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="operator">&gt;</span> <span class="number">1</span></span><br><span class="line">) </span><br><span class="line"><span class="keyword">AND</span> score.cno <span class="operator">=</span> a.cno </span><br><span class="line"><span class="keyword">AND</span> score.degree <span class="operator">!=</span> a.maxd</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> </span><br><span class="line"><span class="keyword">FROM</span> score a</span><br><span class="line"><span class="keyword">WHERE</span> sno <span class="keyword">IN</span> </span><br><span class="line">(</span><br><span class="line"><span class="keyword">SELECT</span> b.sno</span><br><span class="line"><span class="keyword">FROM</span> score b</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> b.sno</span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="operator">&gt;</span> <span class="number">1</span></span><br><span class="line">) </span><br><span class="line"><span class="keyword">AND</span> a.degree <span class="operator">!=</span></span><br><span class="line">(</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MAX</span>(c.degree)</span><br><span class="line"><span class="keyword">FROM</span> score c</span><br><span class="line"><span class="keyword">WHERE</span> c.cno <span class="operator">=</span> a.cno</span><br><span class="line">)</span><br><span class="line">#<span class="number">21</span>、查询成绩高于学号为“<span class="number">109</span>”、课程号为“<span class="number">3</span><span class="number">-105</span>”的成绩的所有记录。</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> </span><br><span class="line"><span class="keyword">FROM</span> score</span><br><span class="line"><span class="keyword">WHERE</span> degree <span class="operator">&gt;</span> </span><br><span class="line">(</span><br><span class="line"><span class="keyword">SELECT</span> degree</span><br><span class="line"><span class="keyword">FROM</span> score</span><br><span class="line"><span class="keyword">WHERE</span> sno <span class="operator">=</span> <span class="string">&#x27;109&#x27;</span></span><br><span class="line"><span class="keyword">AND</span> cno <span class="operator">=</span> &quot;3-105&quot;</span><br><span class="line">)</span><br><span class="line">#<span class="number">22</span>、查询和学号为<span class="number">108</span>的同学同年出生的所有学生的Sno、Sname和Sbirthday列。</span><br><span class="line"><span class="keyword">SELECT</span> a.sno ,a.sname,a.sbirthday</span><br><span class="line"><span class="keyword">FROM</span> student a,student b</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">YEAR</span>(a.sbirthday) <span class="operator">=</span> <span class="keyword">YEAR</span>(b.sbirthday)</span><br><span class="line"><span class="keyword">AND</span> b.sno <span class="operator">=</span> <span class="string">&#x27;108&#x27;</span> </span><br><span class="line"><span class="keyword">AND</span> a.sno <span class="operator">!=</span> <span class="string">&#x27;108&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> sno ,sname,sbirthday</span><br><span class="line"><span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">YEAR</span>(sbirthday) <span class="operator">=</span> </span><br><span class="line">(<span class="keyword">SELECT</span> <span class="keyword">YEAR</span>(sbirthday)</span><br><span class="line"><span class="keyword">FROM</span> student </span><br><span class="line"><span class="keyword">WHERE</span> sno <span class="operator">=</span> <span class="string">&#x27;108&#x27;</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">AND</span> sno <span class="operator">!=</span> <span class="string">&#x27;108&#x27;</span></span><br><span class="line">#<span class="number">23</span>、查询“张旭“教师任课的学生成绩。</span><br><span class="line"><span class="keyword">SELECT</span> sno,degree</span><br><span class="line"><span class="keyword">FROM</span> score,teacher,course</span><br><span class="line"><span class="keyword">WHERE</span> score.CNO <span class="operator">=</span> course.CNO</span><br><span class="line"><span class="keyword">AND</span> teacher.tno <span class="operator">=</span> course.TNO</span><br><span class="line"><span class="keyword">AND</span> tname <span class="operator">=</span> <span class="string">&#x27;张旭&#x27;</span></span><br><span class="line">#<span class="number">24</span>、查询选修某课程的同学人数多于<span class="number">5</span>人的教师姓名。</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> teacher.TNAME</span><br><span class="line"><span class="keyword">FROM</span> course,teacher,score</span><br><span class="line"><span class="keyword">WHERE</span> teacher.TNO <span class="operator">=</span> course.TNO</span><br><span class="line"><span class="keyword">AND</span> course.cno <span class="operator">=</span> score.CNO</span><br><span class="line"><span class="keyword">AND</span> course.cno <span class="keyword">IN</span></span><br><span class="line">(</span><br><span class="line"><span class="keyword">SELECT</span> cno </span><br><span class="line"><span class="keyword">FROM</span> score</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> cno</span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(sno) <span class="operator">&gt;</span> <span class="number">5</span></span><br><span class="line">)</span><br><span class="line">#<span class="number">25</span>、查询<span class="number">95033</span>班和<span class="number">95031</span>班全体学生的记录。</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> </span><br><span class="line"><span class="keyword">FROM</span> student </span><br><span class="line"><span class="keyword">WHERE</span> class <span class="operator">=</span> <span class="string">&#x27;95033&#x27;</span></span><br><span class="line"><span class="keyword">OR</span> class <span class="operator">=</span> <span class="string">&#x27;95031&#x27;</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> class</span><br><span class="line">#<span class="number">26</span>、查询存在有<span class="number">85</span>分以上成绩的课程Cno.</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> cno</span><br><span class="line"><span class="keyword">FROM</span> score</span><br><span class="line"><span class="keyword">WHERE</span> degree <span class="operator">&gt;</span> <span class="number">85</span></span><br><span class="line">#<span class="number">27</span>、查询出“计算机系“教师所教课程的成绩表。</span><br><span class="line"><span class="keyword">SELECT</span> tname,cname,degree,sno</span><br><span class="line"><span class="keyword">FROM</span> score,course,teacher</span><br><span class="line"><span class="keyword">WHERE</span> score.CNO <span class="operator">=</span> course.CNO</span><br><span class="line"><span class="keyword">AND</span> teacher.TNO <span class="operator">=</span> course.TNO</span><br><span class="line"><span class="keyword">AND</span> depart <span class="operator">=</span> <span class="string">&#x27;计算机系&#x27;</span></span><br><span class="line">#<span class="number">28</span>、查询“计算机系”与“电子工程系“不同职称的教师的Tname和Prof。</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> </span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">((</span><br><span class="line"><span class="keyword">SELECT</span> tname <span class="keyword">AS</span> ctname,prof <span class="keyword">AS</span> cprof</span><br><span class="line"><span class="keyword">FROM</span> teacher</span><br><span class="line"><span class="keyword">WHERE</span> depart <span class="operator">=</span> <span class="string">&#x27;计算机系&#x27;</span></span><br><span class="line">) a,</span><br><span class="line">(</span><br><span class="line"><span class="keyword">SELECT</span> tname <span class="keyword">AS</span> etname,prof <span class="keyword">AS</span> eprof</span><br><span class="line"><span class="keyword">FROM</span> teacher</span><br><span class="line"><span class="keyword">WHERE</span> depart <span class="operator">=</span> <span class="string">&#x27;电子工程系&#x27;</span></span><br><span class="line">) b)</span><br><span class="line"><span class="keyword">WHERE</span> a.cprof <span class="operator">!=</span> b.eprof</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> tname,prof</span><br><span class="line"><span class="keyword">FROM</span> teacher</span><br><span class="line"><span class="keyword">WHERE</span> depart <span class="keyword">IN</span> (<span class="string">&#x27;计算机系&#x27;</span>,<span class="string">&#x27;电子工程系&#x27;</span>)</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> prof</span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="operator">&lt;</span> <span class="number">2</span></span><br><span class="line">#<span class="number">29</span>、查询选修编号为“<span class="number">3</span><span class="number">-105</span>“课程且成绩至少高于选修编号为“<span class="number">3</span><span class="number">-245</span>”的同学的Cno、Sno和Degree,并按Degree从高到低次序排序。</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> </span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">(</span><br><span class="line">(</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> score</span><br><span class="line"><span class="keyword">WHERE</span> cno <span class="operator">=</span> <span class="string">&#x27;3-105&#x27;</span></span><br><span class="line">)  a,</span><br><span class="line">(</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> score</span><br><span class="line"><span class="keyword">WHERE</span> cno <span class="operator">=</span> <span class="string">&#x27;3-245&#x27;</span></span><br><span class="line">) b</span><br><span class="line">)</span><br><span class="line"><span class="keyword">WHERE</span> a.sno <span class="operator">=</span> b.sno</span><br><span class="line"><span class="keyword">AND</span> a.degree <span class="operator">&gt;</span> b.degree</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> a.degree <span class="keyword">DESC</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> Cno,Sno,Degree </span><br><span class="line"><span class="keyword">FROM</span> score </span><br><span class="line"><span class="keyword">WHERE</span> cno <span class="operator">=</span> <span class="string">&#x27;3-105&#x27;</span></span><br><span class="line"><span class="keyword">AND</span> degree <span class="operator">&gt;</span> </span><br><span class="line">(</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MIN</span>(degree) </span><br><span class="line"><span class="keyword">FROM</span> score</span><br><span class="line"><span class="keyword">WHERE</span> cno <span class="operator">=</span> <span class="string">&#x27;3-245&#x27;</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> degree <span class="keyword">DESC</span></span><br><span class="line">#<span class="number">30</span>、查询选修编号为“<span class="number">3</span><span class="number">-105</span>”且成绩高于选修编号为“<span class="number">3</span><span class="number">-245</span>”课程的同学的Cno、Sno和Degree.</span><br><span class="line"><span class="keyword">SELECT</span> Cno,Sno,Degree </span><br><span class="line"><span class="keyword">FROM</span> score </span><br><span class="line"><span class="keyword">WHERE</span> cno <span class="operator">=</span> <span class="string">&#x27;3-105&#x27;</span></span><br><span class="line"><span class="keyword">AND</span> degree <span class="operator">&gt;</span> </span><br><span class="line">(</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MAX</span>(degree) </span><br><span class="line"><span class="keyword">FROM</span> score</span><br><span class="line"><span class="keyword">WHERE</span> cno <span class="operator">=</span> <span class="string">&#x27;3-245&#x27;</span></span><br><span class="line">)</span><br><span class="line">#<span class="number">31</span>、查询所有教师和同学的name、sex和birthday.</span><br><span class="line"><span class="keyword">SELECT</span> tname,tsex,tbirthday</span><br><span class="line"><span class="keyword">FROM</span> teacher</span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span> sname,ssex,sbirthday</span><br><span class="line"><span class="keyword">FROM</span> student</span><br><span class="line">#<span class="number">32</span>、查询所有“女”教师和“女”同学的name、sex和birthday.</span><br><span class="line"><span class="keyword">SELECT</span> sname,ssex,sbirthday</span><br><span class="line"><span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">WHERE</span> ssex <span class="operator">=</span> <span class="string">&#x27;女&#x27;</span></span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span> tname,tsex,tbirthday</span><br><span class="line"><span class="keyword">FROM</span> teacher</span><br><span class="line"><span class="keyword">WHERE</span> tsex <span class="operator">=</span> <span class="string">&#x27;女&#x27;</span></span><br><span class="line">#<span class="number">33</span>、查询成绩比该课程平均成绩低的同学的成绩表。</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> </span><br><span class="line"><span class="keyword">FROM</span> score s1,</span><br><span class="line">(</span><br><span class="line"><span class="keyword">SELECT</span> cno,<span class="built_in">AVG</span>(degree) <span class="keyword">AS</span> a</span><br><span class="line"><span class="keyword">FROM</span> score</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> cno</span><br><span class="line">) s2</span><br><span class="line"><span class="keyword">WHERE</span> degree <span class="operator">&lt;</span> s2.a </span><br><span class="line"><span class="keyword">AND</span> s1.cno <span class="operator">=</span> s2.cno</span><br><span class="line"></span><br><span class="line">#<span class="number">34</span>、查询所有任课教师的Tname和Depart.</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> tname,depart</span><br><span class="line"><span class="keyword">FROM</span> teacher,course,score</span><br><span class="line"><span class="keyword">WHERE</span> teacher.TNO <span class="operator">=</span> course.TNO</span><br><span class="line"><span class="keyword">AND</span> course.CNO <span class="operator">=</span> score.CNO</span><br><span class="line">#<span class="number">35</span>  查询所有未讲课的教师的Tname和Depart. </span><br><span class="line"><span class="keyword">SELECT</span> tname,depart</span><br><span class="line"><span class="keyword">FROM</span> teacher</span><br><span class="line"><span class="keyword">WHERE</span> tno <span class="keyword">NOT</span> <span class="keyword">IN</span> </span><br><span class="line">(</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> teacher.tno</span><br><span class="line"><span class="keyword">FROM</span> teacher,course,score</span><br><span class="line"><span class="keyword">WHERE</span> teacher.TNO <span class="operator">=</span> course.TNO</span><br><span class="line"><span class="keyword">AND</span> course.CNO <span class="operator">=</span> score.CNO</span><br><span class="line">)</span><br><span class="line">#<span class="number">36</span>、查询至少有<span class="number">2</span>名男生的班号。</span><br><span class="line"><span class="keyword">SELECT</span> class </span><br><span class="line"><span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">WHERE</span> ssex <span class="operator">=</span> <span class="string">&#x27;男&#x27;</span></span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> class</span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="operator">&gt;</span> <span class="number">1</span></span><br><span class="line">#<span class="number">37</span>、查询Student表中不姓“王”的同学记录。</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> </span><br><span class="line"><span class="keyword">FROM</span> student </span><br><span class="line"><span class="keyword">WHERE</span> sname <span class="keyword">NOT</span> <span class="keyword">LIKE</span> <span class="string">&#x27;王%&#x27;</span></span><br><span class="line">#<span class="number">38</span>、查询Student表中每个学生的姓名和年龄。</span><br><span class="line"><span class="keyword">SELECT</span> sname,<span class="number">2019</span> <span class="operator">-</span> <span class="keyword">YEAR</span>(sbirthday)</span><br><span class="line"><span class="keyword">FROM</span> student</span><br><span class="line">#<span class="number">39</span>、查询Student表中最大和最小的Sbirthday日期值。</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MAX</span>(sbirthday),<span class="built_in">MIN</span>(sbirthday)</span><br><span class="line"><span class="keyword">FROM</span> student</span><br><span class="line">#<span class="number">40</span>、以班号和年龄从大到小的顺序查询Student表中的全部记录。</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> </span><br><span class="line"><span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> class <span class="keyword">DESC</span>,SBIRTHDAY</span><br><span class="line">#<span class="number">41</span>、查询“男”教师及其所上的课程。</span><br><span class="line"><span class="keyword">SELECT</span> tname,cname</span><br><span class="line"><span class="keyword">FROM</span> teacher ,course</span><br><span class="line"><span class="keyword">WHERE</span> teacher.TNO <span class="operator">=</span> course.TNO</span><br><span class="line"><span class="keyword">AND</span> tsex <span class="operator">=</span> <span class="string">&#x27;男&#x27;</span></span><br><span class="line">#<span class="number">42</span>、查询最高分同学的Sno、Cno和Degree列。</span><br><span class="line"><span class="keyword">SELECT</span> sno,cno,degree</span><br><span class="line"><span class="keyword">FROM</span> score</span><br><span class="line"><span class="keyword">WHERE</span> degree <span class="operator">=</span> </span><br><span class="line">(</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MAX</span>(degree) <span class="keyword">FROM</span> score</span><br><span class="line">)</span><br><span class="line">#<span class="number">43</span>、查询和“李军”同性别的所有同学的Sname.</span><br><span class="line"><span class="keyword">SELECT</span> sname </span><br><span class="line"><span class="keyword">FROM</span> student </span><br><span class="line"><span class="keyword">WHERE</span> ssex <span class="operator">=</span> </span><br><span class="line">(</span><br><span class="line"><span class="keyword">SELECT</span> ssex </span><br><span class="line"><span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">WHERE</span> sname<span class="operator">=</span><span class="string">&#x27;李军&#x27;</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">AND</span> sname <span class="operator">!=</span> <span class="string">&#x27;李军&#x27;</span></span><br><span class="line">#<span class="number">44</span>、查询和“李军”同性别并同班的同学Sname.</span><br><span class="line"><span class="keyword">SELECT</span> sname </span><br><span class="line"><span class="keyword">FROM</span> student </span><br><span class="line"><span class="keyword">WHERE</span> ssex <span class="operator">=</span> </span><br><span class="line">(</span><br><span class="line"><span class="keyword">SELECT</span> ssex </span><br><span class="line"><span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">WHERE</span> sname<span class="operator">=</span><span class="string">&#x27;李军&#x27;</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">AND</span> sname <span class="operator">!=</span> <span class="string">&#x27;李军&#x27;</span></span><br><span class="line"><span class="keyword">AND</span> class <span class="keyword">IN</span> </span><br><span class="line">(</span><br><span class="line"><span class="keyword">SELECT</span> class </span><br><span class="line"><span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">WHERE</span> sname <span class="operator">=</span> <span class="string">&#x27;李军&#x27;</span></span><br><span class="line">)</span><br><span class="line">#<span class="number">45</span>、查询所有选修“计算机导论”课程的“男”同学的成绩表</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> </span><br><span class="line"><span class="keyword">FROM</span> score</span><br><span class="line"><span class="keyword">WHERE</span> sno <span class="keyword">IN</span> </span><br><span class="line">(</span><br><span class="line"><span class="keyword">SELECT</span> sno </span><br><span class="line"><span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">WHERE</span> ssex <span class="operator">=</span> <span class="string">&#x27;男&#x27;</span></span><br><span class="line">) </span><br><span class="line"><span class="keyword">AND</span> cno <span class="operator">=</span> </span><br><span class="line">(</span><br><span class="line"><span class="keyword">SELECT</span> cno </span><br><span class="line"><span class="keyword">FROM</span> course</span><br><span class="line"><span class="keyword">WHERE</span> cname<span class="operator">=</span><span class="string">&#x27;计算机导论&#x27;</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>sql</tag>
      </tags>
  </entry>
  <entry>
    <title>sql练习1</title>
    <url>/2019/12/04/sql%E7%BB%83%E4%B9%A01/</url>
    <content><![CDATA[<p>本篇文章简单介绍一下sql以及分享一个sql练习，答案仅供参考</p>
<span id="more"></span>
<h2 id="SQL"><a href="#SQL" class="headerlink" title="SQL"></a>SQL</h2><p>结构化查询语言</p>
<h2 id="数据库–关系型数据库-OLTP"><a href="#数据库–关系型数据库-OLTP" class="headerlink" title="数据库–关系型数据库    OLTP"></a>数据库–关系型数据库    OLTP</h2><p>mysql oracle sqlserver</p>
<h2 id="sql分类"><a href="#sql分类" class="headerlink" title="sql分类"></a>sql分类</h2><ul>
<li><p>ddl 数据定义语句</p>
</li>
<li><p>dml 数据管理语句</p>
</li>
<li><p>dql 数据查询语句</p>
</li>
<li><p>dcl 数据控制语句</p>
</li>
<li><p>ddl 数据定义语句（掌握）<br>create drop alter…</p>
</li>
<li><p>dml 数据管理语句（掌握）<br>INSERT update DELETE…</p>
</li>
<li><p>dql数据查询语句（熟练掌握）<br>SELECT…</p>
</li>
<li><p>dcl 数据控制语句（了解）<br>GRANT…</p>
</li>
<li><p>where 子句<br><code>&gt;,&lt;,&gt;=,&lt;=,!=,&lt;&gt;,=,between AND ,in,LIKE,IS,NOT,AND,OR</code></p>
</li>
</ul>
<h3 id="dql执行顺序"><a href="#dql执行顺序" class="headerlink" title="dql执行顺序"></a>dql执行顺序</h3><table>
<thead>
<tr>
<th align="center">名字</th>
<th align="center">顺序</th>
</tr>
</thead>
<tbody><tr>
<td align="center">SELECT</td>
<td align="center">6</td>
</tr>
<tr>
<td align="center">DISTINCT</td>
<td align="center">7</td>
</tr>
<tr>
<td align="center">FROM</td>
<td align="center">1</td>
</tr>
<tr>
<td align="center">JOIN</td>
<td align="center">3</td>
</tr>
<tr>
<td align="center">ON</td>
<td align="center">2</td>
</tr>
<tr>
<td align="center">WHERE</td>
<td align="center">4</td>
</tr>
<tr>
<td align="center">group by</td>
<td align="center">5</td>
</tr>
<tr>
<td align="center">HAVING</td>
<td align="center">8</td>
</tr>
<tr>
<td align="center">order by</td>
<td align="center">9</td>
</tr>
<tr>
<td align="center">limit</td>
<td align="center">10</td>
</tr>
</tbody></table>
<h2 id="约束"><a href="#约束" class="headerlink" title="约束"></a>约束</h2><p><strong>唯一</strong> 当前列的值只能是唯一的（不包括null）<br><strong>不为空（null）</strong> 但前列能不有null值<br><strong>主键</strong> 唯一+非空<br><strong>外键</strong></p>
<h2 id="事务-（innodb）"><a href="#事务-（innodb）" class="headerlink" title="事务 （innodb）"></a>事务 （innodb）</h2><p>ACID</p>
<ul>
<li><p>设置手动提交<br>set autocommit = 0;</p>
</li>
<li><p>设置自动提交<br>set autocommit = 1;</p>
</li>
<li><p>开启事务<br>BEGIN</p>
</li>
<li><p>提交<br>COMMIT</p>
</li>
<li><p>回滚<br>ROLLBACK</p>
</li>
</ul>
<p>事务隔离级别 （从小到大）（工作效率从大到小）<br>未提交（Read uncommitted）<br>读提交（read committed） (oracle)<br>可重复读（repeatable read）（mysql）<br>串行化（Serializable）    </p>
<h3 id="mysql优化"><a href="#mysql优化" class="headerlink" title="mysql优化"></a>mysql优化</h3><ul>
<li><p>INDEX<br>索引：提高查询效率</p>
</li>
<li><p>EXPLAIN<br>执行计划</p>
</li>
</ul>
<h2 id="练习（MySQL数据库）"><a href="#练习（MySQL数据库）" class="headerlink" title="练习（MySQL数据库）"></a>练习（MySQL数据库）</h2><p>数据库中有三张表，分别为student,course,SC（即学生表，课程表，选课表）<br>//三张表截图如下：<br><img src="student.jpg" alt="student"><br><img src="course.jpg" alt="course"><br><img src="sc.jpg" alt="sc"></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span>分别查询学生表和学生修课表中的全部数据。</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student </span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> SC</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>查询成绩在<span class="number">70</span>到<span class="number">80</span>分之间的学生的学号、课程号和成绩。</span><br><span class="line"><span class="keyword">select</span> sno,cno,grade <span class="keyword">from</span> sc <span class="keyword">where</span> grade <span class="keyword">between</span> <span class="number">70</span> <span class="keyword">and</span> <span class="number">80</span></span><br><span class="line"></span><br><span class="line"><span class="number">3</span>．查询C01号课程成绩最高的分数</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">MAX</span>(grade) <span class="keyword">from</span> sc <span class="keyword">where</span> Cno<span class="operator">=</span><span class="string">&#x27;C01&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>查询学生都选修了哪些课程,要求列出课程号。</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> s.Cno,c.Cname <span class="keyword">from</span> sc s <span class="keyword">join</span> course c <span class="keyword">on</span> s.Cno<span class="operator">=</span>c.Cno</span><br><span class="line"></span><br><span class="line"><span class="number">5.</span>查询修了C02号课程的所有学生的平均成绩、最高成绩和最低成绩。</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">AVG</span>(Grade),<span class="built_in">MAX</span>(Grade),<span class="built_in">MIN</span>(Grade) <span class="keyword">from</span> sc <span class="keyword">where</span> Cno<span class="operator">=</span><span class="string">&#x27;C02&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="number">6.</span>统计每个系的学生人数。</span><br><span class="line"><span class="keyword">select</span> Sdept,<span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">AS</span> <span class="string">&#x27;学生数&#x27;</span> <span class="keyword">from</span> student <span class="keyword">group</span> <span class="keyword">by</span> Sdept</span><br><span class="line"></span><br><span class="line"><span class="number">7.</span>统计每门课程的修课人数和考试最高分。</span><br><span class="line"><span class="keyword">select</span> Cname,<span class="built_in">COUNT</span>(<span class="operator">*</span>),<span class="built_in">MAX</span>(grade) <span class="keyword">from</span> sc,course <span class="keyword">where</span> sc.Cno<span class="operator">=</span>course.Cno <span class="keyword">GROUP</span> <span class="keyword">BY</span> Cname</span><br><span class="line"></span><br><span class="line"><span class="number">8.</span>统计每个学生的选课门数,并按选课门数的递增顺序显示结果。</span><br><span class="line"><span class="keyword">select</span> sname,<span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">as</span> <span class="string">&#x27;选课门数&#x27;</span> <span class="keyword">from</span> sc,student <span class="keyword">where</span> </span><br><span class="line">student.Sno<span class="operator">=</span>sc.Sno <span class="keyword">GROUP</span> <span class="keyword">BY</span> Sname <span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="built_in">count</span>(sc.Sno) <span class="keyword">ASC</span>  </span><br><span class="line"></span><br><span class="line"><span class="number">9.</span>统计选修课的学生总数和考试的平均成绩。</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="keyword">DISTINCT</span> sno) <span class="keyword">as</span> 学生总数,<span class="built_in">AVG</span>(grade) <span class="keyword">as</span> 平均成绩 <span class="keyword">from</span> sc</span><br><span class="line"></span><br><span class="line"><span class="number">10.</span>查询选课门数超过<span class="number">2</span>门的学生的平均成绩和选课门数。</span><br><span class="line"><span class="keyword">select</span> student.Sname,<span class="built_in">avg</span>(sc.grade),<span class="built_in">count</span>(sc.cno) <span class="keyword">from</span> student,sc <span class="keyword">where</span> </span><br><span class="line">student.sno <span class="operator">=</span> sc.sno <span class="keyword">group</span> <span class="keyword">by</span> student.Sname <span class="keyword">having</span> <span class="built_in">count</span>(sc.cno) <span class="operator">&gt;</span><span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="number">11.</span>列出总成绩超过<span class="number">200</span>分的学生,要求列出学号、总成绩。</span><br><span class="line"><span class="keyword">select</span> sno <span class="keyword">as</span> 学号,<span class="built_in">sum</span>(grade) <span class="keyword">as</span> 总成绩 <span class="keyword">from</span> sc <span class="keyword">group</span> <span class="keyword">by</span> sno <span class="keyword">having</span> <span class="built_in">sum</span>(grade)<span class="operator">&gt;</span><span class="number">200</span></span><br><span class="line"></span><br><span class="line"><span class="number">12.</span>用子查询实现如下查询:</span><br><span class="line">(<span class="number">1</span>) 查询选修了C01号课程的学生的姓名和所在系。</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">DISTINCT</span> student.Sname,student.Sdept <span class="keyword">from</span> student,sc <span class="keyword">where</span> </span><br><span class="line">student.Sno <span class="keyword">in</span>  (<span class="keyword">select</span> sc.Sno <span class="keyword">from</span> sc <span class="keyword">where</span> sc.cno<span class="operator">=</span><span class="string">&#x27;C01&#x27;</span>)</span><br><span class="line">(<span class="number">2</span>) 查询数学系成绩<span class="number">80</span>分以上的学生的学号、姓名。</span><br><span class="line"><span class="keyword">select</span> sno,sname <span class="keyword">from</span> student <span class="keyword">where</span> sno <span class="keyword">in</span>(<span class="keyword">select</span> sno <span class="keyword">from</span> sc <span class="keyword">where</span> </span><br><span class="line">sc.grade<span class="operator">&gt;</span><span class="number">80</span>) <span class="keyword">and</span> sno <span class="keyword">in</span>(<span class="keyword">select</span> sno <span class="keyword">from</span> student <span class="keyword">where</span> sdept<span class="operator">=</span><span class="string">&#x27;数学系&#x27;</span>)</span><br><span class="line">(<span class="number">3</span>) 查询计算机系学生所选的课程名.</span><br><span class="line"><span class="keyword">select</span> course.Cname <span class="keyword">from</span> course <span class="keyword">where</span> cno <span class="keyword">in</span>(<span class="keyword">select</span> cno <span class="keyword">from</span> sc <span class="keyword">where</span> </span><br><span class="line">sc.sno <span class="keyword">in</span>(<span class="keyword">select</span> sno <span class="keyword">from</span> student <span class="keyword">where</span> sdept<span class="operator">=</span><span class="string">&#x27;计算机系&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="number">13.</span>删除修课成绩小于<span class="number">50</span>分的学生的修课记录</span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">from</span> sc <span class="keyword">where</span> Grade <span class="operator">&lt;</span> <span class="number">50</span></span><br><span class="line"></span><br><span class="line"><span class="number">14.</span>将所有选修了&quot;c01&quot;课程的学生的成绩加<span class="number">10</span>分。</span><br><span class="line"><span class="keyword">UPDATE</span> SC <span class="keyword">SET</span> GRADE<span class="operator">=</span>GRADE<span class="operator">+</span><span class="number">10</span> <span class="keyword">WHERE</span> CNO<span class="operator">=</span><span class="string">&#x27;C01&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="number">15.</span>查询选修了c02号课程的学生的姓名和所在系。</span><br><span class="line"><span class="keyword">select</span> sname,sdept <span class="keyword">from</span> student,sc <span class="keyword">where</span> student.Sno<span class="operator">=</span>sc.Sno <span class="keyword">and</span> cno<span class="operator">=</span><span class="string">&#x27;C02&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="number">16.</span>查询成绩<span class="number">80</span>分以上的学生的姓名、课程号和成绩,并按成绩的降序排列结果。</span><br><span class="line"><span class="keyword">select</span> sname,cno,grade <span class="keyword">from</span> student,sc <span class="keyword">where</span> </span><br><span class="line">student.sno<span class="operator">=</span>sc.Sno <span class="keyword">and</span> sc.Grade<span class="operator">&gt;</span><span class="number">80</span> <span class="keyword">ORDER</span> <span class="keyword">BY</span> grade <span class="keyword">DESC</span></span><br><span class="line"></span><br><span class="line"><span class="number">17.</span>查询计算机系男生修了&quot;数据库基础&quot;的学生的姓名、性别、成绩。</span><br><span class="line"><span class="keyword">select</span> sname,ssex,grade <span class="keyword">from</span> student,sc <span class="keyword">where</span> </span><br><span class="line">student.sno<span class="operator">=</span>sc.Sno <span class="keyword">and</span> student.Sdept<span class="operator">=</span><span class="string">&#x27;计算机系&#x27;</span> <span class="keyword">and</span> sc.Cno<span class="operator">=</span><span class="string">&#x27;C04&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="number">18.</span>查询哪些学生的年龄相同,要求列出年龄相同的学生的姓名和年龄。</span><br><span class="line">这题使用到了表的自连接，所以需要给表取两个别名，如A和B</span><br><span class="line"><span class="keyword">select</span> t1.sname <span class="keyword">as</span> 年龄相同的学生,t1.Sage <span class="keyword">as</span> 年龄 <span class="keyword">from</span> student t1 </span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> student t2 <span class="keyword">on</span> t1.Sage <span class="keyword">in</span>(<span class="keyword">select</span> Sage <span class="keyword">from</span> student <span class="keyword">where</span> </span><br><span class="line">t1.sage<span class="operator">=</span>t2.Sage <span class="keyword">and</span> t1.sname<span class="operator">!=</span>t2.Sname) <span class="keyword">GROUP</span> <span class="keyword">BY</span> t1.sname,t2.sage <span class="keyword">ORDER</span> <span class="keyword">BY</span> t1.Sage</span><br><span class="line"></span><br><span class="line"><span class="number">19.</span>查询哪些课程没有人选,要求列出课程号和课程名。</span><br><span class="line"><span class="keyword">select</span> cno <span class="keyword">as</span> 课程号,cname <span class="keyword">as</span> 课程名 <span class="keyword">from</span> course <span class="keyword">where</span> cno <span class="keyword">not</span> <span class="keyword">in</span> (<span class="keyword">select</span> cno <span class="keyword">from</span> sc)</span><br><span class="line"></span><br><span class="line"><span class="number">20.</span>分别查询信息系和计算机系的学生的姓名、性别、修课名称、修课成绩,</span><br><span class="line">并要求将这两个查询结果合并成一个结果集,并以系名、姓名、性别、修课名称、修课成绩的顺序显示各列。此题用到了并<span class="keyword">union</span>查询</span><br><span class="line"><span class="keyword">select</span> student.sname,student.Ssex,course.Cname,sc.Grade <span class="keyword">from</span> student,course,sc <span class="keyword">where</span> </span><br><span class="line">student.Sdept<span class="operator">=</span><span class="string">&#x27;信息系&#x27;</span> <span class="keyword">and</span> student.sno<span class="operator">=</span>sc.sno <span class="keyword">and</span> course.Cno<span class="operator">=</span>sc.Cno</span><br><span class="line"><span class="keyword">union</span></span><br><span class="line"><span class="keyword">select</span> student.sname,student.Ssex,course.Cname,sc.Grade <span class="keyword">from</span> student,course,sc <span class="keyword">where</span> </span><br><span class="line">student.Sdept<span class="operator">=</span><span class="string">&#x27;计算机系&#x27;</span> <span class="keyword">and</span> student.sno<span class="operator">=</span>sc.sno <span class="keyword">and</span> course.Cno<span class="operator">=</span>sc.Cno</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>sql</tag>
      </tags>
  </entry>
  <entry>
    <title>js游戏之青蛙跳</title>
    <url>/2019/12/01/js%E6%B8%B8%E6%88%8F%E4%B9%8B%E9%9D%92%E8%9B%99%E8%B7%B3/</url>
    <content><![CDATA[<p>分享一个网页游戏，纯js实现<br>青蛙跳</p>
<span id="more"></span>
<p>这是青蛙跳游戏。如果你是手机访问此页面，可以尝试横屏游戏<br>玩法：左侧青蛙全部跳到右侧，右侧青蛙全部跳到左侧，闯关成功<br>如果失败了，可以点击重置按钮</p>
<div>
<script type="text/javascript"> 
    function success(){
        var flag = true;
        for(var i = 1 ; i < 4 ; i++){
            if(document.getElementById(i).childNodes[0].getAttribute("value") == "left"){
                flag = false;
                break;
            }
        }
        if(document.getElementById("4").childNodes[0].getAttribute("value") != "null"){
            flag = false;    
        }   
        if(flag){
            alert("闯关成功");
        }
    }
    function jumpRight(div){
        var td = div.parentNode;
        if(td.id == "7"){
            return;
        }
        var nextTd = document.getElementById(td.id*1 + 1);
        if(nextTd.childNodes[0].getAttribute("value") == "null"){
            nextTd.appendChild(div);
            td.appendChild(nextTd.childNodes[0]);
            success();
            return;
        }
        if(td.id == "6"){
            return;
        }
        var next2Td = document.getElementById(td.id*1 + 2);
        if(next2Td.childNodes[0].getAttribute("value") == "null"){
            next2Td.appendChild(div);
            td.appendChild(next2Td.childNodes[0]);
            success();
            return;
        }
    }
    function jumpLeft(div){
        var td = div.parentNode;
        if(td.id == "1"){
            return;
        }
        var nextTd = document.getElementById(td.id*1 - 1);
        if(nextTd.childNodes[0].getAttribute("value") == "null"){
            nextTd.appendChild(div);
            td.appendChild(nextTd.childNodes[0]);
            success();
            return;
        }
        if(td.id == "2"){
            return;
        }
        var next2Td = document.getElementById(td.id*1 - 2);
        if(next2Td.childNodes[0].getAttribute("value") == "null"){
            next2Td.appendChild(div);
            td.appendChild(next2Td.childNodes[0]);
            success();
            return;
        }
    }
    function reset(){
        var tr=document.getElementById("tr");
        tr.innerHTML='<td style="border: 0;padding: 0;" id="1"><div style="background:url(left.jpg);background-size:100% 100%; height:100px;width:100px;" onclick="jumpRight(this);" value="left"></div></td>'+
        '<td style="border: 0;padding: 0;" id="2"><div style="background:url(left.jpg);background-size:100% 100%; height:100px;width:100px;" onclick="jumpRight(this);" value="left"></div></td>'+
        '<td style="border: 0;padding: 0;" id="3"><div style="background:url(left.jpg);background-size:100% 100%; height:100px;width:100px;" onclick="jumpRight(this);" value="left"></div></td>'+
        '<td style="border: 0;padding: 0;" id="4"><div style="background:url(null.jpg);background-size:100% 100%; height:100px;width:100px;" value="null"></div></td>'+
        '<td style="border: 0;padding: 0;" id="5"><div style="background:url(right.jpg);background-size:100% 100%; height:100px;width:100px;" onclick="jumpLeft(this);" value="right"></div></td>'+
        '<td style="border: 0;padding: 0;" id="6"><div style="background:url(right.jpg);background-size:100% 100%; height:100px;width:100px;" onclick="jumpLeft(this);" value="right"></div></td>'+
        '<td style="border: 0;padding: 0;" id="7"><div style="background:url(right.jpg);background-size:100% 100%; height:100px;width:100px;" onclick="jumpLeft(this);" value="right"></div></td>';
    }
</script>
<a title="重置" style="cursor:pointer;" onclick="reset()">重置</a>
<table style="border-collapse:collapse;border:4px solid blue;;width:0;margin:0">
    <tr id="tr">
        <td style="border: 0;padding: 0;" id="1"><div style="background:url(left.jpg);background-size:100% 100%; height:100px;width:100px;" onclick="jumpRight(this);" value="left"></div></td>
        <td style="border: 0;padding: 0;" id="2"><div style="background:url(left.jpg);background-size:100% 100%; height:100px;width:100px;" onclick="jumpRight(this);" value="left"></div></td>
        <td style="border: 0;padding: 0;" id="3"><div style="background:url(left.jpg);background-size:100% 100%; height:100px;width:100px;" onclick="jumpRight(this);" value="left"></div></td>
        <td style="border: 0;padding: 0;" id="4"><div style="background:url(null.jpg);background-size:100% 100%; height:100px;width:100px;" value="null"></div></td>
        <td style="border: 0;padding: 0;" id="5"><div style="background:url(right.jpg);background-size:100% 100%; height:100px;width:100px;" onclick="jumpLeft(this);" value="right"></div></td>
        <td style="border: 0;padding: 0;" id="6"><div style="background:url(right.jpg);background-size:100% 100%; height:100px;width:100px;" onclick="jumpLeft(this);" value="right"></div></td>
        <td style="border: 0;padding: 0;" id="7"><div style="background:url(right.jpg);background-size:100% 100%; height:100px;width:100px;" onclick="jumpLeft(this);" value="right"></div></td>
    </tr>
</table>
<br>
</div>

<p>下面是源代码，与上面的不太相同。源代码移动的是img标签，上面的用div标签代替，本主题中img标签有点击事件，游戏实现不了<br>运用了三个图片，需要的话自行点击下载（图片另存为）<br><a href="left.jpg" target="_blank">left.jpg</a><br><a href="null.jpg" target="_blank">null.jpg</a><br><a href="right.jpg" target="_blank">right.jpg</a></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span>青蛙跳<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">			<span class="keyword">function</span> <span class="title function_">success</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">				<span class="keyword">var</span> flag = <span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">				<span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">1</span> ; i &lt; <span class="number">4</span> ; i++)&#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(i).<span class="property">childNodes</span>[<span class="number">0</span>].<span class="property">name</span> == <span class="string">&quot;left&quot;</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">						flag = <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">						<span class="keyword">break</span>;</span></span><br><span class="line"><span class="language-javascript">					&#125;</span></span><br><span class="line"><span class="language-javascript">				&#125;</span></span><br><span class="line"><span class="language-javascript">				<span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;4&quot;</span>).<span class="property">childNodes</span>[<span class="number">0</span>].<span class="property">name</span> != <span class="string">&quot;null&quot;</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">					flag = <span class="literal">false</span>;	</span></span><br><span class="line"><span class="language-javascript">				&#125;	</span></span><br><span class="line"><span class="language-javascript">				<span class="keyword">if</span>(flag)&#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="title function_">alert</span>(<span class="string">&quot;闯关成功&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">				&#125;</span></span><br><span class="line"><span class="language-javascript">			&#125;			</span></span><br><span class="line"><span class="language-javascript">			<span class="keyword">function</span> <span class="title function_">jumpRight</span>(<span class="params">img</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">				<span class="keyword">var</span> td = img.<span class="property">parentNode</span>;</span></span><br><span class="line"><span class="language-javascript">				<span class="keyword">if</span>(td.<span class="property">id</span> == <span class="string">&quot;7&quot;</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">				&#125;</span></span><br><span class="line"><span class="language-javascript">				<span class="keyword">var</span> nextTd = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(td.<span class="property">id</span>*<span class="number">1</span> + <span class="number">1</span>);</span></span><br><span class="line"><span class="language-javascript">				<span class="keyword">if</span>(nextTd.<span class="property">childNodes</span>[<span class="number">0</span>].<span class="property">name</span> == <span class="string">&quot;null&quot;</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">					nextTd.<span class="title function_">appendChild</span>(img);</span></span><br><span class="line"><span class="language-javascript">					td.<span class="title function_">appendChild</span>(nextTd.<span class="property">childNodes</span>[<span class="number">0</span>]);</span></span><br><span class="line"><span class="language-javascript">					<span class="title function_">success</span>();</span></span><br><span class="line"><span class="language-javascript">					<span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">				&#125;</span></span><br><span class="line"><span class="language-javascript">				</span></span><br><span class="line"><span class="language-javascript">				<span class="keyword">if</span>(td.<span class="property">id</span> == <span class="string">&quot;6&quot;</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">				&#125;</span></span><br><span class="line"><span class="language-javascript">				<span class="keyword">var</span> next2Td = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(td.<span class="property">id</span>*<span class="number">1</span> + <span class="number">2</span>);</span></span><br><span class="line"><span class="language-javascript">				<span class="keyword">if</span>(next2Td.<span class="property">childNodes</span>[<span class="number">0</span>].<span class="property">name</span> == <span class="string">&quot;null&quot;</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">					next2Td.<span class="title function_">appendChild</span>(img);</span></span><br><span class="line"><span class="language-javascript">					td.<span class="title function_">appendChild</span>(next2Td.<span class="property">childNodes</span>[<span class="number">0</span>]);</span></span><br><span class="line"><span class="language-javascript">					<span class="title function_">success</span>();</span></span><br><span class="line"><span class="language-javascript">					<span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">				&#125;			</span></span><br><span class="line"><span class="language-javascript">			&#125;</span></span><br><span class="line"><span class="language-javascript">			<span class="keyword">function</span> <span class="title function_">jumpLeft</span>(<span class="params">img</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">				<span class="keyword">var</span> td = img.<span class="property">parentNode</span>;</span></span><br><span class="line"><span class="language-javascript">				<span class="keyword">if</span>(td.<span class="property">id</span> == <span class="string">&quot;1&quot;</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">				&#125;</span></span><br><span class="line"><span class="language-javascript">				<span class="keyword">var</span> nextTd = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(td.<span class="property">id</span>*<span class="number">1</span> - <span class="number">1</span>);</span></span><br><span class="line"><span class="language-javascript">				<span class="keyword">if</span>(nextTd.<span class="property">childNodes</span>[<span class="number">0</span>].<span class="property">name</span> == <span class="string">&quot;null&quot;</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">					nextTd.<span class="title function_">appendChild</span>(img);</span></span><br><span class="line"><span class="language-javascript">					td.<span class="title function_">appendChild</span>(nextTd.<span class="property">childNodes</span>[<span class="number">0</span>]);</span></span><br><span class="line"><span class="language-javascript">					<span class="title function_">success</span>();</span></span><br><span class="line"><span class="language-javascript">					<span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">				&#125;</span></span><br><span class="line"><span class="language-javascript">				<span class="keyword">if</span>(td.<span class="property">id</span> == <span class="string">&quot;2&quot;</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">					<span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">				&#125;</span></span><br><span class="line"><span class="language-javascript">				<span class="keyword">var</span> next2Td = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(td.<span class="property">id</span>*<span class="number">1</span> - <span class="number">2</span>);</span></span><br><span class="line"><span class="language-javascript">				<span class="keyword">if</span>(next2Td.<span class="property">childNodes</span>[<span class="number">0</span>].<span class="property">name</span> == <span class="string">&quot;null&quot;</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">					next2Td.<span class="title function_">appendChild</span>(img);</span></span><br><span class="line"><span class="language-javascript">					td.<span class="title function_">appendChild</span>(next2Td.<span class="property">childNodes</span>[<span class="number">0</span>]);</span></span><br><span class="line"><span class="language-javascript">					<span class="title function_">success</span>();</span></span><br><span class="line"><span class="language-javascript">					<span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">				&#125;</span></span><br><span class="line"><span class="language-javascript">			&#125;</span></span><br><span class="line"><span class="language-javascript">		</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>		</span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">table</span>  <span class="attr">cellspacing</span>=<span class="string">&quot;0&quot;</span> <span class="attr">cellpadding</span>=<span class="string">&quot;0&quot;</span> <span class="attr">bordercolor</span>=<span class="string">&quot;blue&quot;</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">tr</span> <span class="attr">id</span>=<span class="string">&quot;tr&quot;</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">td</span> <span class="attr">id</span>=<span class="string">&quot;1&quot;</span> <span class="attr">width</span>=<span class="string">&quot;125&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;left.jpg&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;jumpRight(this);&quot;</span> <span class="attr">name</span>=<span class="string">&quot;left&quot;</span>/&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">td</span> <span class="attr">id</span>=<span class="string">&quot;2&quot;</span> <span class="attr">width</span>=<span class="string">&quot;125&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;left.jpg&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;jumpRight(this);&quot;</span> <span class="attr">name</span>=<span class="string">&quot;left&quot;</span>/&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">td</span> <span class="attr">id</span>=<span class="string">&quot;3&quot;</span> <span class="attr">width</span>=<span class="string">&quot;125&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;left.jpg&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;jumpRight(this);&quot;</span> <span class="attr">name</span>=<span class="string">&quot;left&quot;</span>/&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">td</span> <span class="attr">id</span>=<span class="string">&quot;4&quot;</span> <span class="attr">width</span>=<span class="string">&quot;125&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;null.jpg&quot;</span> <span class="attr">name</span>=<span class="string">&quot;null&quot;</span>/&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">td</span> <span class="attr">id</span>=<span class="string">&quot;5&quot;</span> <span class="attr">width</span>=<span class="string">&quot;125&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;right.jpg&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;jumpLeft(this);&quot;</span> <span class="attr">name</span>=<span class="string">&quot;right&quot;</span>/&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">td</span> <span class="attr">id</span>=<span class="string">&quot;6&quot;</span> <span class="attr">width</span>=<span class="string">&quot;125&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;right.jpg&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;jumpLeft(this);&quot;</span> <span class="attr">name</span>=<span class="string">&quot;right&quot;</span>/&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">td</span> <span class="attr">id</span>=<span class="string">&quot;7&quot;</span> <span class="attr">width</span>=<span class="string">&quot;125&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;right.jpg&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;jumpLeft(this);&quot;</span> <span class="attr">name</span>=<span class="string">&quot;right&quot;</span>/&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>mysql与oracle的sql语句</title>
    <url>/2019/11/17/mysql%E4%B8%8Eoracle%E7%9A%84sql%E8%AF%AD%E5%8F%A5/</url>
    <content><![CDATA[<p>本篇文章对sql语句进行介绍<br>这里对MySql基本数据类型和Oracle基本数据类型的介绍可能不是很全面</p>
<span id="more"></span>
<h2 id="常用基础语句"><a href="#常用基础语句" class="headerlink" title="常用基础语句"></a>常用基础语句</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>、插入数据</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> 表名(列<span class="number">1</span>,列<span class="number">2</span>· · ·) <span class="keyword">values</span>(值<span class="number">1</span>,值<span class="number">2</span>· · ·)</span><br><span class="line">（其中列名可省略，默认为每一列都有值）</span><br><span class="line"><span class="number">2</span>、删除数据</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> 表名 <span class="keyword">where</span> 范围（注意一般删除数据都会有条件否则全部数据都会被删除）</span><br><span class="line"><span class="number">3</span>、更新数据</span><br><span class="line"><span class="keyword">update</span> 表名 <span class="keyword">set</span> 列名 <span class="operator">=</span> 目标值 <span class="keyword">where</span> 范围（注意更新数据有条件否则全部数据都会被修改）</span><br><span class="line"><span class="number">4</span>、基本查询</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> 表名</span><br><span class="line">（<span class="operator">*</span>表示每一列都查询出来，可以换成列名以逗号隔开，表示想要查询的列） </span><br><span class="line"><span class="number">5</span>、模糊查询</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> 表名 <span class="keyword">where</span> 列名 <span class="keyword">like</span> &quot;%值%&quot;</span><br><span class="line">（其中百分号为通配符表示前后有N个字符，可换成底杠 _ 表示通配一个字符）</span><br><span class="line"><span class="number">6</span>、排序</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> 表名 <span class="keyword">order</span> <span class="keyword">by</span> 列<span class="number">1</span>,列<span class="number">2</span> <span class="keyword">desc</span>（其中条件可为一列也可为多列但查询出来的列中必须包含条件中列名，<span class="keyword">desc</span>可省略，省略默认为升序，<span class="keyword">desc</span>为降序排列）</span><br><span class="line"><span class="number">7</span>、总数</span><br><span class="line"><span class="keyword">select</span> count（<span class="operator">*</span>） <span class="keyword">as</span> totalcount <span class="keyword">from</span> 表名（表示查询共有多少条数据）</span><br><span class="line"><span class="number">8</span>、求和</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">sum</span>(列名) <span class="keyword">as</span> sumvalue <span class="keyword">from</span> 表名（列类型需为数字）</span><br><span class="line"><span class="number">9</span>、平均</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(列名) <span class="keyword">as</span> avgvalue <span class="keyword">from</span> 表名（求一列数据的平均数）</span><br><span class="line"><span class="number">10</span>、最大</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">max</span>(列名) <span class="keyword">as</span> maxvalue <span class="keyword">from</span> 表名（求列当中最大的值）</span><br><span class="line"><span class="number">11</span>、最小</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">min</span>(列名) <span class="keyword">as</span> minvalue <span class="keyword">from</span> 表名（求一列当中的最小值）</span><br></pre></td></tr></table></figure>
<h2 id="常用查询条件"><a href="#常用查询条件" class="headerlink" title="常用查询条件"></a>常用查询条件</h2><table>
<thead>
<tr>
<th align="center">查询条件</th>
<th align="center">关键字</th>
</tr>
</thead>
<tbody><tr>
<td align="center">比较</td>
<td align="center">=，&gt;，&lt;，&gt;=，&lt;=，!=，&lt;&gt;</td>
</tr>
<tr>
<td align="center">确定范围</td>
<td align="center">BETWEEN AND, NOT BETWEEN AND</td>
</tr>
<tr>
<td align="center">确定集合</td>
<td align="center">IN, NOT IN</td>
</tr>
<tr>
<td align="center">字符匹配</td>
<td align="center">LIKE, NOT LIKE</td>
</tr>
<tr>
<td align="center">空值</td>
<td align="center">IS NULL, IS NOT NULL</td>
</tr>
<tr>
<td align="center">多重条件</td>
<td align="center">AND, OR</td>
</tr>
</tbody></table>
<p>1.比较一般是WHERE关键字后面的条件<br>2.确定范围在两者之间或两者之外<br>3.确定集合IN是在集合内，NOT IN在集合外<br>4.LIKE匹配有该字符的，NOT LIKE相反<br>5.空值，判断是空非空<br>6.多重条件AND并且，OR或需要条件全部成立的用AND，需要条件成立一部分的用OR</p>
<h2 id="多表查询"><a href="#多表查询" class="headerlink" title="多表查询"></a>多表查询</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>．简单链接</span><br><span class="line"><span class="keyword">Select</span> <span class="operator">*</span> <span class="keyword">from</span> 表<span class="number">1</span> s,表<span class="number">2</span> y <span class="keyword">where</span> s.列 <span class="operator">=</span> y.列（其中<span class="operator">*</span>为要查询的列，y,s为两个表的别名，<span class="keyword">where</span>后面为两个表的逻辑关系）</span><br><span class="line"><span class="number">2</span>．外连接</span><br><span class="line"><span class="keyword">Left</span> <span class="keyword">join</span> ···<span class="keyword">on</span>····以左侧表为主（<span class="keyword">left</span>前的表）</span><br><span class="line"><span class="keyword">Right</span> <span class="keyword">join</span>···<span class="keyword">on</span>····以右表为主（<span class="keyword">join</span>后面的）</span><br><span class="line"><span class="keyword">full</span> <span class="keyword">outer</span> <span class="keyword">join</span>···<span class="keyword">on</span>···（全外连接两个表中所有记录）</span><br><span class="line"><span class="keyword">Select</span> <span class="operator">*</span> <span class="keyword">from</span> 表<span class="number">1</span> <span class="keyword">left</span> <span class="keyword">join</span> 表<span class="number">2</span> <span class="keyword">on</span> 表<span class="number">1.</span>列 <span class="operator">=</span> 表<span class="number">2.</span>列</span><br><span class="line"><span class="number">3</span>．子查询</span><br><span class="line"><span class="keyword">Select</span> <span class="operator">*</span> <span class="keyword">from</span> 表<span class="number">1</span> a，（<span class="keyword">select</span> 一般为函数 <span class="keyword">from</span> 表<span class="number">2</span> <span class="keyword">where</span> 表<span class="number">2.</span>列 <span class="operator">=</span> a.列） b</span><br><span class="line">（子查询就是从一个结果集与另一个表中查出想要的数据）</span><br></pre></td></tr></table></figure>
<h2 id="Where-与-having的区别"><a href="#Where-与-having的区别" class="headerlink" title="Where 与 having的区别"></a>Where 与 having的区别</h2><p>Where优先级较高，比聚合函数先执行，所以后面不能以聚合函数作为判断条件<br>Having优先级较低，比聚合函数后执行，可以以聚合函数作为筛选条件，但必须和分组group by同时使用</p>
<h2 id="DDL修改表语句"><a href="#DDL修改表语句" class="headerlink" title="DDL修改表语句"></a>DDL修改表语句</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>：删除列</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 【表名字】 <span class="keyword">DROP</span> 【列名称】</span><br><span class="line"><span class="number">2</span>：增加列</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 【表名字】 <span class="keyword">ADD</span> 【列名称】 <span class="type">INT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>  COMMENT <span class="string">&#x27;注释说明&#x27;</span></span><br><span class="line"><span class="number">3</span>：修改列的类型信息</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 【表名字】 CHANGE 【列名称】【新列名称（这里可以用和原来列同名即可）】 <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>  COMMENT <span class="string">&#x27;注释说明&#x27;</span></span><br><span class="line"><span class="number">4</span>：重命名列</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 【表名字】 CHANGE 【列名称】【新列名称】 <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>  COMMENT <span class="string">&#x27;注释说明&#x27;</span></span><br><span class="line"><span class="number">5</span>：重命名表</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 【表名字】 RENAME 【表新名字】</span><br><span class="line"><span class="number">6</span>：删除表中主键</span><br><span class="line"><span class="keyword">Alter</span> <span class="keyword">TABLE</span> 【表名字】 <span class="keyword">drop</span> <span class="keyword">primary</span> key</span><br><span class="line"><span class="number">7</span>：添加主键</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> sj_resource_charges <span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> PK_SJ_RESOURCE_CHARGES <span class="keyword">PRIMARY</span> KEY (resid)</span><br><span class="line"><span class="number">8</span>：添加索引</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> sj_resource_charges <span class="keyword">add</span> index INDEX_NAME (name);</span><br><span class="line"><span class="number">9</span>: 添加唯一限制条件索引</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> sj_resource_charges <span class="keyword">add</span> <span class="keyword">unique</span> emp_name2(cardnumber);</span><br><span class="line"><span class="number">10</span>: 删除索引</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> tablename <span class="keyword">drop</span> index emp_name;</span><br></pre></td></tr></table></figure>
<h2 id="MySql基本数据类型"><a href="#MySql基本数据类型" class="headerlink" title="MySql基本数据类型"></a>MySql基本数据类型</h2><table>
<thead>
<tr>
<th align="center">数据类型</th>
<th align="center">描述</th>
<th align="center">字节</th>
<th align="center">推荐使用</th>
</tr>
</thead>
<tbody><tr>
<td align="center">SMALLINT</td>
<td align="center">整数，-32000到32000</td>
<td align="center">2</td>
<td align="center">存储相对比较小的整数，比如年龄</td>
</tr>
<tr>
<td align="center">INT</td>
<td align="center">从-2000000000到2000000000</td>
<td align="center">4</td>
<td align="center">存储中等整数，比如距离</td>
</tr>
<tr>
<td align="center">BIGINT</td>
<td align="center">INT不能描述的较大整数</td>
<td align="center">8</td>
<td align="center">存储超大整数，比如科学数据</td>
</tr>
<tr>
<td align="center">FLOAT</td>
<td align="center">单精度浮点</td>
<td align="center">4</td>
<td align="center">存储小数数据，例如测量、温度</td>
</tr>
<tr>
<td align="center">DOUBLE</td>
<td align="center">双精度浮点</td>
<td align="center">8</td>
<td align="center">需要双精度存储的数据，例如科学计数</td>
</tr>
<tr>
<td align="center">DECIMAL</td>
<td align="center">用户自定义精度的浮点类型</td>
<td align="center">变量，取决于精度与长度</td>
<td align="center">以非常高的精度保存小数数据，比如货币数额、科学计数</td>
</tr>
<tr>
<td align="center">CHAR</td>
<td align="center">固定长度的字符串</td>
<td align="center">特定字符串长度（高达255个字符）</td>
<td align="center">存储通常包含预定义字符串的变量，例如定期航线、邮编等</td>
</tr>
<tr>
<td align="center">VARCHAR</td>
<td align="center">具有最大限度的可变长字符串</td>
<td align="center">变量，1+实际字符串长度</td>
<td align="center">存储不同长度的字符串，比如名字、密码、短文等</td>
</tr>
<tr>
<td align="center">TEXT</td>
<td align="center">没有最大长度限制的可变长度字符串、大文本数据类型</td>
<td align="center">2+实际字符串长度</td>
<td align="center">例如：新闻故事、产品描述等</td>
</tr>
<tr>
<td align="center">BLOB</td>
<td align="center">二进制字符串</td>
<td align="center">2+实际字符串长度</td>
<td align="center">存储二进制数据，例如图片、文件</td>
</tr>
<tr>
<td align="center">DATE</td>
<td align="center">以yyyy-mm-dd格式的日期</td>
<td align="center">3</td>
<td align="center">存储日期</td>
</tr>
<tr>
<td align="center">TIME</td>
<td align="center">以hh:mm:ss格式的时间</td>
<td align="center">3</td>
<td align="center">存储时间或时间间隔</td>
</tr>
<tr>
<td align="center">DATETIME</td>
<td align="center">以yyyy-mm-dd hh:mm:ss格式存储时间</td>
<td align="center">8</td>
<td align="center">存储包含日期和时间的数据</td>
</tr>
</tbody></table>
<h2 id="Oracle基本数据类型"><a href="#Oracle基本数据类型" class="headerlink" title="Oracle基本数据类型"></a>Oracle基本数据类型</h2><table>
<thead>
<tr>
<th align="center">数据类型</th>
<th align="center">参数</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">Char(n)</td>
<td align="center">n=1 to 2000字节</td>
<td align="center">定长字符串，n字节长，如果不指定长度，缺省 为1个字节长（一个汉字为2字节）</td>
</tr>
<tr>
<td align="center">Varchar2(n)</td>
<td align="center">n=1to4000字节</td>
<td align="center">可变长的字符串，具体定义时指明最大长度n，这种数据类型可以放数字、字母以及ASCII码字符集(或者EBCDIC等数据库系统接受的字符集标准)中的所有符号。如果数据长度没有达到最大值n，Oracle 8i会 根据数据大小自动调节字段长度，如果你的数据前后有空格，Oracle 8i会自动将其删去。VARCHAR2是最常用的数据类型。可做索引的最大长度3209</td>
</tr>
<tr>
<td align="center">number(m,n)</td>
<td align="center">m=1 to 38 n=-84 to 127</td>
<td align="center">可变长的数值列，允许0、正值及负值，m是所有有效数字的位数，n是小数点以后的位数。如：number(5,2)，则这个字段的最大值是99,999，如果数值超出了位数限制就会被截取多余的位数。如：number(5,2)，但在一行数据中的这个字段 输入575.316，则真正保存到字段中的数值是575.32。如：number(3,0)，输入575.316，真正保存的数据是575。</td>
</tr>
<tr>
<td align="center">Date</td>
<td align="center">无</td>
<td align="center">从公元前4712年1月1日到公元4712年12月31日的所有合法日期，Oracle 8i其实在内部是按7个字节来保存日期 数据，在定义中还包括小时、分、秒。缺省格式为DD-MON-YY，如07-11月-00 表示2000年11月7日。</td>
</tr>
<tr>
<td align="center">long</td>
<td align="center">无</td>
<td align="center">可变长字符列，最大长度限制是2GB，用于不需要作字符串搜索的长串数据，如果要进行字符搜 索就要用varchar2类型。long是一种较老的数据类型，将来会逐渐被BLOB、CLOB、NCLOB等大的对象数据类型所取代。</td>
</tr>
<tr>
<td align="center">Raw(n)</td>
<td align="center">N=1 TO 2000</td>
<td align="center">可变长二进制数据，在具体定义字段的时候必须指明最大长度n，Oracle 8i用这种格式来保存 较小的图形文件或带格式的文本文件，如 Miceosoft Word文档。raw是一种较老的数据类型，将来会逐渐被BLOB、CLOB、NCLOB等大的对象数据类型所取代</td>
</tr>
<tr>
<td align="center">long raw</td>
<td align="center">无</td>
<td align="center">可变长二进制数据，最大长度是2GB。Oracle 8i用这种格式来保存较大的图形文件或带格式的文本文件，如Miceosoft Word文档，以及音频、视频等非文本文件。在同一张表中不能同时有long类型和long raw类型，long raw也是一种较老的数据类型，将来会逐渐被BLOB、CLOB、NCLOB等大的对象数据类型所取代。</td>
</tr>
<tr>
<td align="center">blob clob nclob</td>
<td align="center">无</td>
<td align="center">三种大型对象(LOB)，用来保存较大的图形文件或带格式的文本文件，如Miceosoft Word文档，以及音频、视频等非文本文件，最大长度是4GB。LOB有几种类型，取决于你使用的字节的类型，Oracle 8i实实在在地将这些数据存储在数据库内部保存。可以执行读取、存储、写入等特殊操作。</td>
</tr>
</tbody></table>
<h2 id="数据库查询练习"><a href="#数据库查询练习" class="headerlink" title="数据库查询练习"></a>数据库查询练习</h2><p>1.已知：员工信息表，表名为：employee</p>
<table>
<thead>
<tr>
<th align="center">E_Name</th>
<th align="center">E_Sex</th>
<th align="center">E_Age</th>
<th align="center">E_Address</th>
</tr>
</thead>
<tbody><tr>
<td align="center">张三</td>
<td align="center">女</td>
<td align="center">19</td>
<td align="center">北京</td>
</tr>
<tr>
<td align="center">李四</td>
<td align="center">男</td>
<td align="center">20</td>
<td align="center">上海</td>
</tr>
<tr>
<td align="center">王五</td>
<td align="center">女</td>
<td align="center">25</td>
<td align="center">广州</td>
</tr>
<tr>
<td align="center">薛六</td>
<td align="center">女</td>
<td align="center">20</td>
<td align="center">北京</td>
</tr>
<tr>
<td align="center">王五</td>
<td align="center">男</td>
<td align="center">22</td>
<td align="center">北京</td>
</tr>
<tr>
<td align="center">赵七</td>
<td align="center">男</td>
<td align="center">28</td>
<td align="center">上海</td>
</tr>
<tr>
<td align="center">张四</td>
<td align="center">女</td>
<td align="center">23</td>
<td align="center">北京</td>
</tr>
</tbody></table>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">（<span class="number">1</span>）. 写出<span class="keyword">sql</span>语句，查询所有年龄大于<span class="number">20</span>岁的员工（<span class="number">2</span>分）</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> E_age <span class="operator">&gt;</span> <span class="number">20</span></span><br><span class="line">（<span class="number">2</span>）. 写出<span class="keyword">sql</span>语句，查询所有年龄小于<span class="number">25</span>岁的女性员工（<span class="number">3</span>分）</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> e_sex<span class="operator">=</span><span class="string">&#x27;女&#x27;</span> <span class="keyword">and</span> e_age <span class="operator">&lt;</span> <span class="number">25</span></span><br><span class="line">（<span class="number">3</span>）. 写出<span class="keyword">sql</span>语句，统计男女员工各有多少名（<span class="number">3</span>分）（不会）</span><br><span class="line"><span class="keyword">select</span> e_sex,<span class="built_in">count</span>(e_sex) <span class="keyword">from</span> employee <span class="keyword">group</span> <span class="keyword">by</span> e_sex</span><br><span class="line">（<span class="number">4</span>）. 写出<span class="keyword">sql</span>语句，按照年龄倒序获取员工信息（<span class="number">3</span>分）</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">order</span> <span class="keyword">by</span> e_age <span class="keyword">desc</span></span><br><span class="line">（<span class="number">5</span>）. 写出<span class="keyword">sql</span>语句，获取员工中哪个姓名具有重名现象（<span class="number">3</span>分）</span><br><span class="line"><span class="keyword">select</span> e_name,<span class="built_in">count</span>(e_name) <span class="keyword">from</span>  employee <span class="keyword">group</span> <span class="keyword">by</span> e_name</span><br><span class="line">（<span class="number">6</span>）. 写出<span class="keyword">sql</span>语句，查询所有姓张的员工（<span class="number">3</span>分）</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> e_name <span class="keyword">like</span> <span class="string">&#x27;张%&#x27;</span></span><br><span class="line">（<span class="number">7</span>）. 写出<span class="keyword">sql</span>语句，查询住址为北京的前<span class="number">3</span>条记录（<span class="number">3</span>分）</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> e_address<span class="operator">=</span><span class="string">&#x27;北京&#x27;</span> <span class="keyword">and</span> rownum<span class="operator">&lt;=</span><span class="number">3</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> e_address<span class="operator">=</span><span class="string">&#x27;北京&#x27;</span> limit <span class="number">0</span>,<span class="number">3</span></span><br><span class="line">（<span class="number">8</span>）. 写出<span class="keyword">sql</span>语句，查询员工总数（<span class="number">3</span>分）</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> employee</span><br><span class="line">（<span class="number">9</span>）. 写出<span class="keyword">sql</span>语句，向表中插入一条记录（<span class="number">2</span>分）</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> employee <span class="keyword">values</span>(<span class="string">&#x27;赵六&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="number">40</span>,<span class="string">&#x27;长春&#x27;</span>)</span><br><span class="line">（<span class="number">10</span>）.写出<span class="keyword">sql</span>语句，修改员工张四的住址为南京（<span class="number">2</span>分）</span><br><span class="line"><span class="keyword">update</span> employee <span class="keyword">set</span> e_address<span class="operator">=</span><span class="string">&#x27;南京&#x27;</span> <span class="keyword">where</span> e_name<span class="operator">=</span><span class="string">&#x27;张四&#x27;</span></span><br><span class="line">（<span class="number">11</span>）.写出<span class="keyword">sql</span>语句，删除年龄大于<span class="number">24</span>岁的女员工（<span class="number">2</span>分）</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> employee <span class="keyword">where</span> e_age <span class="operator">&gt;</span> <span class="number">24</span> <span class="keyword">and</span> e_sex<span class="operator">=</span><span class="string">&#x27;女&#x27;</span></span><br></pre></td></tr></table></figure>
<h2 id="数据库强化练习"><a href="#数据库强化练习" class="headerlink" title="数据库强化练习"></a>数据库强化练习</h2><p>一、简单查询</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>、列出全部学生的信息。</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> 学生</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、列出软件专业全部学生的学号及姓名。</span><br><span class="line"><span class="keyword">SELECT</span> 学号,姓名<span class="keyword">FROM</span> 学生<span class="keyword">WHERE</span> 专业<span class="operator">=</span>&quot;软件&quot;</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、列出所有必修课的课号。</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> 课号 <span class="keyword">FROM</span> 必修课</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>、求<span class="number">1</span>号课成绩大于<span class="number">80</span>分的学生的学号及成绩，并按成绩由高到低列出。</span><br><span class="line"><span class="keyword">SELECT</span> 学号,成绩 <span class="keyword">FROM</span> 选课 <span class="keyword">WHERE</span> 课号<span class="operator">=</span>&quot;1&quot; <span class="keyword">AND</span> 成绩<span class="operator">&gt;</span><span class="number">80</span> <span class="keyword">ORDER</span> <span class="keyword">BY</span> 成绩<span class="keyword">DESC</span></span><br><span class="line"></span><br><span class="line"><span class="number">5</span>、列出非软件专业学生的名单。</span><br><span class="line">方法一：</span><br><span class="line"><span class="keyword">SELECT</span> 姓名 <span class="keyword">FROM</span> 学生 <span class="keyword">WHERE</span> 专业 <span class="operator">&lt;&gt;</span>&quot;软件&quot;</span><br><span class="line">方法二：</span><br><span class="line"><span class="keyword">SELECT</span> 姓名 <span class="keyword">FROM</span> 学生 <span class="keyword">WHERE</span> <span class="keyword">NOT</span> 专业<span class="operator">=</span>&quot;软件&quot;</span><br><span class="line">方法三：</span><br><span class="line"><span class="keyword">SELECT</span> 姓名 <span class="keyword">FROM</span> 学生<span class="keyword">WHERE</span> 专业<span class="operator">!=</span>&quot;软件&quot;</span><br><span class="line"></span><br><span class="line"><span class="number">6</span>、查询成绩在<span class="number">70</span><span class="operator">~</span><span class="number">80</span>分之间的学生选课得分情况</span><br><span class="line">方法一：</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> 选课<span class="keyword">WHERE</span> 成绩<span class="operator">&gt;=</span><span class="number">70</span> <span class="keyword">AND</span> 成绩<span class="operator">&lt;=</span><span class="number">80</span></span><br><span class="line">方法二：</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> 选课<span class="keyword">WHERE</span> 成绩<span class="keyword">BETWEEN</span> <span class="number">70</span> <span class="keyword">AND</span> <span class="number">80</span></span><br><span class="line">不在此范围内的查询：（注意写出和以下语句等价的语句）</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> 选课<span class="keyword">WHERE</span> 成绩<span class="keyword">NOT</span> <span class="keyword">BETWEEN</span> <span class="number">70</span> <span class="keyword">AND</span> <span class="number">80</span></span><br><span class="line"></span><br><span class="line"><span class="number">7</span>、列出选修<span class="number">1</span>号课或<span class="number">3</span>号课的全体学生的学号和成绩。</span><br><span class="line">方法一：</span><br><span class="line"><span class="keyword">SELECT</span> 学号,成绩<span class="keyword">FROM</span> 选课<span class="keyword">WHERE</span> 课号<span class="operator">=</span>&quot;1&quot; <span class="keyword">OR</span> 课号<span class="operator">=</span>&quot;3&quot;</span><br><span class="line">方法二：</span><br><span class="line"><span class="keyword">SELECT</span> 学号,成绩<span class="keyword">FROM</span> 选课<span class="keyword">WHERE</span> 课号<span class="keyword">IN</span> (&quot;1&quot;,&quot;3&quot;)</span><br></pre></td></tr></table></figure>
<h2 id="查询练习"><a href="#查询练习" class="headerlink" title="查询练习"></a>查询练习</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Student(Sid,Sname,Sage,Ssex) 学生表 </span><br><span class="line">Course(Cid,Cname,Tid) 课程表</span><br><span class="line">SC(Sid,Cid,score) 成绩表</span><br><span class="line">Teacher(Tid,Tname) 教师表</span><br></pre></td></tr></table></figure>
<p>练习内容：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span>查询“某<span class="number">1</span>”课程比“某<span class="number">2</span>”课程成绩高的所有学生的学号；</span><br><span class="line"><span class="keyword">SELECT</span> a.sid <span class="keyword">FROM</span> (<span class="keyword">SELECT</span> sid,score <span class="keyword">FROM</span> SC <span class="keyword">WHERE</span> cid<span class="operator">=</span><span class="number">1</span>) a,(<span class="keyword">SELECT</span> sid,score <span class="keyword">FROM</span> SC <span class="keyword">WHERE</span> cid<span class="operator">=</span><span class="number">3</span>) b <span class="keyword">WHERE</span> a.score<span class="operator">&gt;</span>b.score <span class="keyword">AND</span> a.sid<span class="operator">=</span>b.sid;</span><br><span class="line">此题知识点，嵌套查询和给查出来的表起别名</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>查询平均成绩大于<span class="number">60</span>分的同学的学号和平均成绩；</span><br><span class="line"><span class="keyword">SELECT</span> sid,<span class="built_in">avg</span>(score)  <span class="keyword">FROM</span> sc  <span class="keyword">GROUP</span> <span class="keyword">BY</span> sid <span class="keyword">having</span> <span class="built_in">avg</span>(score) <span class="operator">&gt;</span><span class="number">60</span>;</span><br><span class="line">此题知识点，<span class="keyword">GROUP</span> <span class="keyword">BY</span> 语句用于结合合计函数，根据一个或多个列对结果集进行分组。<span class="keyword">group</span> <span class="keyword">by</span>后面不能接<span class="keyword">where</span>，<span class="keyword">having</span>代替了<span class="keyword">where</span></span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>查询所有同学的学号、姓名、选课数、总成绩</span><br><span class="line"><span class="keyword">SELECT</span> Student.sid,Student.Sname,<span class="built_in">count</span>(SC.cid),<span class="built_in">sum</span>(score)<span class="keyword">FROM</span> Student <span class="keyword">left</span> <span class="keyword">Outer</span> <span class="keyword">JOIN</span> SC <span class="keyword">on</span> Student.sid<span class="operator">=</span>SC.cid <span class="keyword">GROUP</span> <span class="keyword">BY</span> Student.sid,Sname</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>查询姓“李”的老师的个数；</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(teacher.tid)<span class="keyword">from</span> teacher <span class="keyword">where</span> teacher.tname <span class="keyword">like</span><span class="string">&#x27;李%&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="number">5.</span>查询没学过“叶平”老师课的同学的学号、姓名；</span><br><span class="line"><span class="keyword">SELECT</span> Student.sid,Student.Sname <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> sid <span class="keyword">not</span> <span class="keyword">in</span> (<span class="keyword">SELECT</span> <span class="keyword">distinct</span>( SC.sid) <span class="keyword">FROM</span> SC,Course,Teacher <span class="keyword">WHERE</span>  </span><br><span class="line">SC.cid<span class="operator">=</span>Course.cid <span class="keyword">AND</span> Teacher.id<span class="operator">=</span>Course.tid <span class="keyword">AND</span> Teacher.Tname<span class="operator">=</span><span class="string">&#x27;叶平&#x27;</span>);</span><br><span class="line"> 此题知识点，<span class="keyword">distinct</span>是去重的作用</span><br><span class="line"></span><br><span class="line"><span class="number">6.</span>查询学过“···”并且也学过编号“···”课程的同学的学号、姓名；</span><br><span class="line"><span class="keyword">select</span> a.SID,a.SNAME <span class="keyword">from</span> (<span class="keyword">select</span> student.SNAME,student.SID <span class="keyword">from</span> student,course,sc <span class="keyword">where</span> cname<span class="operator">=</span><span class="string">&#x27;c++&#x27;</span><span class="keyword">and</span> sc.sid<span class="operator">=</span>student.sid <span class="keyword">and</span> </span><br><span class="line">sc.cid<span class="operator">=</span>course.cid) a,</span><br><span class="line">(<span class="keyword">select</span> student.SNAME,student.SID <span class="keyword">from</span> student,course,sc <span class="keyword">where</span> cname<span class="operator">=</span><span class="string">&#x27;english&#x27;</span><span class="keyword">and</span> sc.sid<span class="operator">=</span>student.sid <span class="keyword">and</span> sc.cid<span class="operator">=</span>course.cid) b <span class="keyword">where</span> </span><br><span class="line">a.sid<span class="operator">=</span>b.sid;</span><br><span class="line">标准答案（但是好像不好使）<span class="keyword">SELECT</span> Student.S#,Student.Sname <span class="keyword">FROM</span> Student,SC <span class="keyword">WHERE</span> Student.S#<span class="operator">=</span>SC.S# <span class="keyword">AND</span> </span><br><span class="line">SC.C#<span class="operator">=</span><span class="string">&#x27;001&#x27;</span><span class="keyword">and</span> <span class="keyword">exists</span>( <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> SC <span class="keyword">as</span> SC_2 <span class="keyword">WHERE</span> SC_2.S#<span class="operator">=</span>SC.S# <span class="keyword">AND</span> SC_2.C#<span class="operator">=</span><span class="string">&#x27;002&#x27;</span>);  </span><br><span class="line">此题知识点，<span class="keyword">exists</span>是在集合里找数据，<span class="keyword">as</span>就是起别名</span><br><span class="line"></span><br><span class="line"><span class="number">7.</span>查询学过“叶平”老师所教的所有课的同学的学号、姓名；</span><br><span class="line"><span class="keyword">select</span> a.sid,a.sname <span class="keyword">from</span> (<span class="keyword">select</span> student.sid,student.sname <span class="keyword">from</span> student,teacher,course,sc </span><br><span class="line"><span class="keyword">where</span> teacher.TNAME<span class="operator">=</span><span class="string">&#x27;杨巍巍&#x27;</span> <span class="keyword">and</span> teacher.tid<span class="operator">=</span>course.tid <span class="keyword">and</span> course.cid<span class="operator">=</span>sc.cid <span class="keyword">and</span> student.sid<span class="operator">=</span>sc.sid) a</span><br><span class="line">标准答案：<span class="keyword">SELECT</span> sid,Sname <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> sid <span class="keyword">in</span> (<span class="keyword">SELECT</span> sid <span class="keyword">FROM</span> SC ,Course ,Teacher <span class="keyword">WHERE</span> SC.cid<span class="operator">=</span>Course.cid <span class="keyword">AND</span> </span><br><span class="line">Teacher.tid<span class="operator">=</span>Course.tid <span class="keyword">AND</span> Teacher.Tname<span class="operator">=</span><span class="string">&#x27;杨巍巍&#x27;</span> <span class="keyword">GROUP</span> <span class="keyword">BY</span> sid <span class="keyword">having</span> <span class="built_in">count</span>(SC.cid)<span class="operator">=</span>(<span class="keyword">SELECT</span> <span class="built_in">count</span>(cid) <span class="keyword">FROM</span> Course,Teacher  <span class="keyword">WHERE</span> </span><br><span class="line">Teacher.tid<span class="operator">=</span>Course.tid <span class="keyword">AND</span> Tname<span class="operator">=</span><span class="string">&#x27;杨巍巍&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="number">8.</span>查询课程编号“”的成绩比课程编号“”课程低的所有同学的学号、姓名；</span><br><span class="line"><span class="keyword">select</span> a.sid,a.sname <span class="keyword">from</span>(<span class="keyword">select</span> student.SID,student.sname,sc.SCORE  <span class="keyword">from</span> student,sc <span class="keyword">where</span> student.sid<span class="operator">=</span>sc.sid <span class="keyword">and</span> sc.cid<span class="operator">=</span><span class="number">1</span>) a,</span><br><span class="line">(<span class="keyword">select</span> student.SID,student.sname,sc.score <span class="keyword">from</span> student,sc <span class="keyword">where</span> student.sid<span class="operator">=</span>sc.sid <span class="keyword">and</span> sc.cid<span class="operator">=</span><span class="number">2</span>) b <span class="keyword">where</span> a.score<span class="operator">&lt;</span>b.score <span class="keyword">and</span> a.sid<span class="operator">=</span>b.sid</span><br><span class="line">标准答案：<span class="keyword">SELECT</span> sid,Sname <span class="keyword">FROM</span> (<span class="keyword">SELECT</span> Student.sid,Student.Sname,score ,</span><br><span class="line">(<span class="keyword">SELECT</span> score <span class="keyword">FROM</span> SC SC_2 <span class="keyword">WHERE</span> SC_2.sid<span class="operator">=</span>Student.sid <span class="keyword">AND</span> SC_2.cid<span class="operator">=</span><span class="number">1</span>) score2 <span class="keyword">FROM</span> Student,SC</span><br><span class="line"><span class="keyword">WHERE</span> Student.sid<span class="operator">=</span>SC.sid <span class="keyword">AND</span> cid<span class="operator">=</span><span class="number">1</span>) S_2 <span class="keyword">WHERE</span> score2 <span class="operator">&lt;</span>score;</span><br><span class="line"></span><br><span class="line"><span class="number">9.</span>查询所有课程成绩小于分的同学的学号、姓名；</span><br><span class="line"><span class="keyword">SELECT</span> sid,Sname <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> sid <span class="keyword">not</span> <span class="keyword">in</span> (<span class="keyword">SELECT</span> Student.sid <span class="keyword">FROM</span> Student,SC <span class="keyword">WHERE</span> Student.sid<span class="operator">=</span>SC.sid <span class="keyword">AND</span> score<span class="operator">&gt;</span><span class="number">60</span>); </span><br><span class="line">此题知识点，先查出大于<span class="number">60</span>分的，然后<span class="keyword">not</span> <span class="keyword">in</span> 就是小于<span class="number">60</span>分的了</span><br><span class="line"></span><br><span class="line"><span class="number">10.</span>查询没有学全所有课的同学的学号、姓名；</span><br><span class="line"><span class="keyword">SELECT</span> Student.sid,Student.Sname  <span class="keyword">FROM</span> Student,SC  </span><br><span class="line"><span class="keyword">WHERE</span> Student.sid<span class="operator">=</span>SC.sid <span class="keyword">GROUP</span> <span class="keyword">BY</span>  Student.sid,Student.Sname <span class="keyword">having</span> <span class="built_in">count</span>(cid) <span class="operator">&lt;</span>(<span class="keyword">SELECT</span> <span class="built_in">count</span>(cid) <span class="keyword">FROM</span> Course); </span><br><span class="line"></span><br><span class="line"><span class="number">11.</span>查询至少学过学号为“”同学所有一门课的其他同学学号和姓名；</span><br><span class="line"><span class="keyword">SELECT</span> student.sid,student.Sname <span class="keyword">FROM</span> Student,SC <span class="keyword">WHERE</span> Student.sid<span class="operator">=</span>SC.sid <span class="keyword">AND</span> cid <span class="keyword">in</span> (<span class="keyword">SELECT</span> cid <span class="keyword">FROM</span> SC <span class="keyword">WHERE</span> sid<span class="operator">=</span><span class="number">1</span>)</span><br><span class="line">此题知识点，</span><br><span class="line"><span class="keyword">SELECT</span> sid,Sname <span class="keyword">FROM</span> Student,SC <span class="keyword">WHERE</span> Student.sid<span class="operator">=</span>SC.sid <span class="keyword">AND</span> cid <span class="keyword">in</span> (<span class="keyword">SELECT</span> cid <span class="keyword">FROM</span> SC <span class="keyword">WHERE</span> sid<span class="operator">=</span><span class="number">1</span>)</span><br><span class="line">这样写是错误的，因为<span class="keyword">from</span>后面是两个表，不能明确是哪个表里面的sid和sname所以错误提示是“未明确定义列”</span><br><span class="line"></span><br><span class="line"><span class="number">12.</span>把“SC”表中“叶平”老师教的课的成绩都更改为此课程的平均成绩；</span><br><span class="line"><span class="keyword">update</span> sc <span class="keyword">set</span> score<span class="operator">=</span>(<span class="keyword">select</span> <span class="built_in">avg</span>(score) <span class="keyword">from</span> sc,course,teacher <span class="keyword">where</span> course.cid<span class="operator">=</span>sc.cid <span class="keyword">and</span> course.tid<span class="operator">=</span>teacher.tid <span class="keyword">and</span> </span><br><span class="line">teacher.tname<span class="operator">=</span><span class="string">&#x27;杨巍巍&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="number">13.</span>查询和“”号的同学学习的课程完全相同的其他同学学号和姓名；</span><br><span class="line"><span class="keyword">SELECT</span> sid <span class="keyword">FROM</span> SC <span class="keyword">WHERE</span> cid <span class="keyword">in</span> (<span class="keyword">SELECT</span> cid <span class="keyword">FROM</span> SC <span class="keyword">WHERE</span> sid<span class="operator">=</span><span class="number">6</span>) <span class="keyword">GROUP</span> <span class="keyword">BY</span> sid <span class="keyword">having</span> <span class="built_in">count</span>(<span class="operator">*</span>)<span class="operator">=</span>(<span class="keyword">SELECT</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> SC <span class="keyword">WHERE</span> sid<span class="operator">=</span><span class="number">6</span>); </span><br><span class="line">此题知识点，用数量来判断 </span><br><span class="line"></span><br><span class="line"><span class="number">14.</span>删除学习“叶平”老师课的SC表记录； </span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> sc s <span class="keyword">where</span> s.cid <span class="keyword">in</span> (<span class="keyword">select</span> c.cid <span class="keyword">from</span> teacher t,course c <span class="keyword">where</span> t.tid <span class="operator">=</span> c.tid <span class="keyword">and</span> tname<span class="operator">=</span><span class="string">&#x27;李子&#x27;</span>)</span><br><span class="line">此题知识点，嵌套查询可以分布考虑，先查出李子老师都交了什么课的id，然后再删除那些id的值</span><br><span class="line"></span><br><span class="line"><span class="number">15.</span>向SC表中插入一些记录，这些记录要求符合以下条件：没有上过编号“”课程的同学学号、课程的平均成绩；</span><br><span class="line"><span class="keyword">Insert</span> <span class="keyword">into</span> SC <span class="keyword">SELECT</span> sid,<span class="number">2</span>,(<span class="keyword">SELECT</span> <span class="built_in">avg</span>(score) <span class="keyword">FROM</span> SC <span class="keyword">WHERE</span> cid<span class="operator">=</span><span class="number">2</span>) <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> sid <span class="keyword">not</span> <span class="keyword">in</span> (<span class="keyword">SELECT</span> sid <span class="keyword">FROM</span> SC <span class="keyword">WHERE</span> cid<span class="operator">=</span><span class="number">2</span>); </span><br><span class="line"></span><br><span class="line"><span class="number">16.</span>查询各科成绩最高和最低的分：以如下形式显示：课程ID，最高分，最低分；</span><br><span class="line"><span class="keyword">select</span> cid <span class="keyword">as</span> 课程号,<span class="built_in">max</span>(score)<span class="keyword">as</span> 最高分,<span class="built_in">min</span>(score) <span class="keyword">as</span> 最低分 <span class="keyword">from</span> sc <span class="keyword">group</span> <span class="keyword">by</span> cid</span><br><span class="line">标准答案（但是运行不好使）<span class="keyword">SELECT</span> L.cid <span class="keyword">As</span> 课程ID,L.score <span class="keyword">AS</span> 最高分,R.score <span class="keyword">AS</span> 最低分 </span><br><span class="line"><span class="keyword">FROM</span> SC L ,SC <span class="keyword">AS</span> R  </span><br><span class="line"><span class="keyword">WHERE</span> L.cid <span class="operator">=</span> R.cid <span class="keyword">AND</span>  </span><br><span class="line">L.score <span class="operator">=</span> (<span class="keyword">SELECT</span> <span class="built_in">MAX</span>(IL.score)  </span><br><span class="line"><span class="keyword">FROM</span> SC <span class="keyword">AS</span> IL,Student <span class="keyword">AS</span> IM  </span><br><span class="line"><span class="keyword">WHERE</span> L.cid <span class="operator">=</span> IL.cid <span class="keyword">AND</span> IM.sid<span class="operator">=</span>IL.sid  </span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> IL.cid)  </span><br><span class="line"><span class="keyword">AND</span>  R.Score <span class="operator">=</span> (<span class="keyword">SELECT</span> <span class="built_in">MIN</span>(IR.score) <span class="keyword">FROM</span> SC <span class="keyword">AS</span> IR <span class="keyword">WHERE</span> R.cid <span class="operator">=</span> IR.cid  <span class="keyword">GROUP</span> <span class="keyword">BY</span> IR.cid ); </span><br><span class="line"></span><br><span class="line"><span class="number">17.</span>查询每门课程被选修的学生数</span><br><span class="line"><span class="keyword">select</span> sc.cid,<span class="built_in">count</span>(sc.sid) <span class="keyword">from</span> sc,course <span class="keyword">where</span> sc.cid<span class="operator">=</span>course.cid <span class="keyword">group</span> <span class="keyword">by</span> sc.cid</span><br><span class="line"></span><br><span class="line"><span class="number">18.</span>查询出只选修了一门课程的全部学生的学号和姓名</span><br><span class="line"><span class="keyword">SELECT</span> SC.sid,Student.Sname,<span class="built_in">count</span>(cid) <span class="keyword">AS</span> 选课数 <span class="keyword">FROM</span> SC ,Student  </span><br><span class="line"><span class="keyword">WHERE</span> SC.sid<span class="operator">=</span>Student.sid <span class="keyword">GROUP</span> <span class="keyword">BY</span> SC.sid ,Student.Sname <span class="keyword">having</span> <span class="built_in">count</span>(cid)<span class="operator">=</span><span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="number">19.</span>查询每门课程的平均成绩，结果按平均成绩升序排列，平均成绩相同时，按课程号降序排列</span><br><span class="line"><span class="keyword">SELECT</span> Cid,<span class="built_in">Avg</span>(score) <span class="keyword">FROM</span> SC <span class="keyword">GROUP</span> <span class="keyword">BY</span> cid <span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="built_in">Avg</span>(score),cid <span class="keyword">DESC</span> ;</span><br><span class="line"></span><br><span class="line"><span class="number">20.</span>查询不及格的课程，并按课程号从大到小排列 </span><br><span class="line"><span class="keyword">SELECT</span> cid,sid <span class="keyword">FROM</span> sc <span class="keyword">WHERE</span> score <span class="operator">&lt;</span><span class="number">60</span> <span class="keyword">ORDER</span> <span class="keyword">BY</span> cid </span><br><span class="line"></span><br><span class="line"><span class="number">21.</span>查询课程编号为且课程成绩在分以上的学生的学号和姓名；</span><br><span class="line"><span class="keyword">select</span> student.sid,student.sname <span class="keyword">from</span> sc,student <span class="keyword">where</span> sc.cid<span class="operator">=</span><span class="number">1</span> <span class="keyword">and</span> sc.score<span class="operator">&gt;</span><span class="number">60</span> <span class="keyword">and</span> sc.sid<span class="operator">=</span>student.sid</span><br><span class="line"></span><br><span class="line"><span class="number">22.</span>查询选修“叶平”老师所授课程的学生中，成绩最高的学生姓名及其成绩</span><br><span class="line"><span class="keyword">select</span> student.sname,sc.score <span class="keyword">from</span> sc,student,teacher,course c <span class="keyword">where</span> teacher.tname<span class="operator">=</span><span class="string">&#x27;叶平&#x27;</span></span><br><span class="line"><span class="keyword">and</span> teacher.tid<span class="operator">=</span>c.tid <span class="keyword">and</span> c.cid<span class="operator">=</span>sc.cid <span class="keyword">and</span> sc.sid<span class="operator">=</span>student.sid <span class="keyword">and</span> sc.score<span class="operator">=</span>(<span class="keyword">select</span> <span class="built_in">max</span>(score)<span class="keyword">from</span> sc <span class="keyword">where</span> sc.cid<span class="operator">=</span>c.cid)</span><br><span class="line"></span><br><span class="line"><span class="number">23.</span>查询各个课程及相应的选修人数</span><br><span class="line"><span class="keyword">select</span> sc.cid ,<span class="built_in">count</span>(sc.sid)<span class="keyword">from</span> sc,student <span class="keyword">where</span> sc.sid<span class="operator">=</span>student.sid <span class="keyword">group</span> <span class="keyword">by</span> sc.cid </span><br><span class="line"></span><br><span class="line"><span class="number">24.</span>统计每门课程的学生选修人数（超过人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，查询结果按人数降序排列，若人数相同，按课程号升序排列</span><br><span class="line"><span class="keyword">select</span> sc.cid,<span class="built_in">count</span>(sc.cid)<span class="keyword">from</span> sc,course <span class="keyword">where</span> sc.cid<span class="operator">=</span>course.cid <span class="keyword">group</span> <span class="keyword">by</span> sc.cid  <span class="keyword">order</span> <span class="keyword">by</span> sc.cid <span class="keyword">desc</span></span><br><span class="line"></span><br><span class="line"><span class="number">25.</span>检索至少选修两门课程的学生学号</span><br><span class="line"><span class="keyword">SELECT</span> sid <span class="keyword">FROM</span>  sc <span class="keyword">group</span>  <span class="keyword">by</span>  sid <span class="keyword">having</span>  <span class="built_in">count</span>(<span class="operator">*</span>)  <span class="operator">&gt;</span>  <span class="operator">=</span>  <span class="number">2</span>  </span><br><span class="line">rownum的用法</span><br><span class="line">查询所有成绩第二名到第四名的成绩</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> （<span class="keyword">select</span> rownum p,t.score <span class="keyword">from</span>（<span class="keyword">SELECT</span> s.score score <span class="keyword">FROM</span> sc s <span class="keyword">ORDER</span> <span class="keyword">BY</span> score <span class="keyword">desc</span>）t ）tt <span class="keyword">where</span> tt.p<span class="operator">&gt;</span><span class="number">1</span> <span class="keyword">and</span> tt.p<span class="operator">&lt;</span><span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="number">26.</span>查询没学过“叶平”老师讲授的任一门课程的学生姓名</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> sid <span class="keyword">from</span> sc <span class="keyword">where</span> sid <span class="keyword">not</span> <span class="keyword">in</span>(<span class="keyword">select</span> sc.sid <span class="keyword">from</span> sc,course,teacher <span class="keyword">where</span> sc.cid<span class="operator">=</span>course.cid <span class="keyword">and</span> </span><br><span class="line">course.tid<span class="operator">=</span>teacher.tid <span class="keyword">and</span> </span><br><span class="line">teacher.tname<span class="operator">=</span><span class="string">&#x27;叶平&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="number">27.</span>检索“ ”课程分数小于<span class="number">90</span>，按分数降序排列的同学学号</span><br><span class="line"><span class="keyword">select</span> sc.sid <span class="keyword">from</span> sc,course <span class="keyword">where</span> sc.cid<span class="operator">=</span>course.cid <span class="keyword">and</span> course.cname<span class="operator">=</span><span class="string">&#x27;java&#x27;</span> <span class="keyword">and</span> sc.score<span class="operator">&lt;</span><span class="number">90</span></span><br><span class="line"></span><br><span class="line"><span class="number">28.</span>删除“ ”同学的“ ”课程的成绩 </span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> sc <span class="keyword">where</span> sid<span class="operator">=</span><span class="number">1</span> <span class="keyword">and</span> cid<span class="operator">=</span><span class="number">1</span></span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>sql</tag>
      </tags>
  </entry>
  <entry>
    <title>js与jquery的相互转换</title>
    <url>/2019/11/16/js%E4%B8%8Ejquery%E7%9A%84%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2/</url>
    <content><![CDATA[<p>之前上课老师有说过这两个对象相互转换，最近我在项目调试中遇到了这种需求，这里记录学习一下</p>
<span id="more"></span>
<h2 id="js对象转jq"><a href="#js对象转jq" class="headerlink" title="js对象转jq"></a>js对象转jq</h2><p>这是一个js对象<br>var js = document.getElementById(“js”);<br>转为jq对象<br>$(js)</p>
<h2 id="jq对象转js"><a href="#jq对象转js" class="headerlink" title="jq对象转js"></a>jq对象转js</h2><p>语法：<code>jq对象[索引]</code> 或者 <code>jq对象.get(索引)</code><br>这是一个jq对象<br>var jq = $(“#jq”);<br>转为js对象<br>方法一：<br><code>jq[0]</code><br>方法二：<br><code>jq.get(0)</code></p>
<h2 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;jquery-3.3.1.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;d1&quot;</span>&gt;</span>想问沙漠借一个红线<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;d2&quot;</span>&gt;</span>缝件披风为你御寒<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 1.用js获得html里面所有div对象</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> jsdiv = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;div&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//2 让其内容全部修改为 用丝绸去润泽你的肌肤</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;jsdiv.<span class="property">length</span>;i++)&#123;</span></span><br><span class="line"><span class="language-javascript">        jsdiv[i].<span class="property">innerHTML</span>=<span class="string">&quot;用丝绸去润泽你的肌肤&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// js转为jq进行修改</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// js转为jq语法：$(js对象)</span></span></span><br><span class="line"><span class="language-javascript">        $(jsdiv[i]).<span class="title function_">html</span>(<span class="string">&quot;我就在火炉边为你取暖&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 内容即修改为 我就在火炉边为你取暖</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 通过jq的方法获得div元素</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 内容全修改为 想问姻缘借一根红线</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> jqdiv = $(<span class="string">&quot;div&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">    jqdiv.<span class="title function_">html</span>(<span class="string">&quot;想问姻缘借一根红线&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// jq转js</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 语法：jq对象[索引] 或者 jq对象.get[索引]</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 全部修改为深埋生命血脉相连</span></span></span><br><span class="line"><span class="language-javascript">    jqdiv[<span class="number">0</span>].<span class="property">innerHTML</span>=<span class="string">&quot;深埋生命血脉相连&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">    jqdiv[<span class="number">1</span>].<span class="property">innerHTML</span>=<span class="string">&quot;深埋生命血脉相连&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>2018-2019学年总结</title>
    <url>/2019/11/10/2018-2019%E5%AD%A6%E5%B9%B4%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<h2 id="大二学年总结"><a href="#大二学年总结" class="headerlink" title="大二学年总结"></a>大二学年总结</h2><h2 id="学院：理学院-班级：信息17402"><a href="#学院：理学院-班级：信息17402" class="headerlink" title="学院：理学院 班级：信息17402"></a>学院：理学院 班级：信息17402</h2><p><strong>姓名：</strong>&emsp;&emsp;<strong>性别：</strong>&emsp;&emsp;<strong>年龄：</strong>&emsp;&emsp;<strong>职务：</strong></p>
<h3 id="个人总结"><a href="#个人总结" class="headerlink" title="个人总结"></a>个人总结</h3><p>&emsp;&emsp;一晃一年过去了，大二已经过完。时间过得很快，回想一下，大二自己都做了些什么。只记得大二算是较忙的一年，课很多，特别是考试课。大二课程较多，压力也是很大。大二下学期，为了得学分，报了数学建模，成功打了酱油，成绩也不是很理想。大学四年时光，转眼已经过了两年，感觉收获不是很多，时间多半被自己浪费。大二一年，参加了两次四级考试，虽然分一次比一次多，但是始终没有过。愿自己在大学接下来的时光，多学些技术知识，英语四级证书尽量拿到手，对自己将来找工作是很重要的。过好大学生活的每一天，使自己过得充实些。避免浪费过多时间，多做些自己认为有意义的事。大三，是个很敏感的时间，好好总结自己在过去一年的教训，好好珍惜不再遥远即将到来的未来。</p>
<hr>
<p><strong>2019年11月8日</strong></p>
]]></content>
      <tags>
        <tag>大学</tag>
      </tags>
  </entry>
  <entry>
    <title>VM虚拟机安装凤凰系统</title>
    <url>/2019/10/29/VM%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%AE%89%E8%A3%85%E5%87%A4%E5%87%B0%E7%B3%BB%E7%BB%9F/</url>
    <content><![CDATA[<p>凤凰系统是基于Linux内核开发的一个安卓桌面系统，适合大屏幕使用。如果你想拥有一个安卓模拟器，可以大屏运行，凤凰系统适合你<br>现在的凤凰系统，因为生存，在系统内加入了广告，个人体验不是很好，本篇文章分享一个无广告版本的iso文件<br>说明：<br>VM虚拟机 VMware® Workstation 15 Pro<br>版本 15.5.0 build-14665864<br>凤凰系统 PhoenixOSInstaller_v3.0.7.508_x86_x64<br><strong>VM虚拟机安装凤凰系统操作步骤</strong></p>
<span id="more"></span>
<h2 id="一、创建虚拟机"><a href="#一、创建虚拟机" class="headerlink" title="一、创建虚拟机"></a>一、创建虚拟机</h2><h3 id="1-打开VM虚拟机，创建新的虚拟机"><a href="#1-打开VM虚拟机，创建新的虚拟机" class="headerlink" title="1.打开VM虚拟机，创建新的虚拟机"></a>1.打开VM虚拟机，创建新的虚拟机</h3><p><img src="https://tva1.sinaimg.cn/mw690/007X8olVly1g8fd8su64yj30qz09xdg4.jpg"></p>
<h3 id="2-选择自定义，单击下一步"><a href="#2-选择自定义，单击下一步" class="headerlink" title="2.选择自定义，单击下一步"></a>2.选择自定义，单击下一步</h3><p><img src="https://tva1.sinaimg.cn/large/007X8olVly1g8fda3014bj30fu0f7q4a.jpg"></p>
<h3 id="3-硬件兼容性选择-Workstation-15-x-，单击下一步"><a href="#3-硬件兼容性选择-Workstation-15-x-，单击下一步" class="headerlink" title="3.硬件兼容性选择 Workstation 15.x ，单击下一步"></a>3.硬件兼容性选择 Workstation 15.x ，单击下一步</h3><p><img src="https://tva1.sinaimg.cn/large/007X8olVly1g8fdakcaefj30fr0f5mxd.jpg"></p>
<h3 id="4-稍后安装操作系统"><a href="#4-稍后安装操作系统" class="headerlink" title="4.稍后安装操作系统"></a>4.稍后安装操作系统</h3><p><img src="https://tva1.sinaimg.cn/large/007X8olVly1g8fdb5gt3qj30fq0f5wen.jpg"></p>
<h3 id="5-客户机操作系统-选择-其他-，版本选择-其他64位"><a href="#5-客户机操作系统-选择-其他-，版本选择-其他64位" class="headerlink" title="5.客户机操作系统 选择 其他 ，版本选择 其他64位"></a>5.客户机操作系统 选择 其他 ，版本选择 其他64位</h3><p><img src="https://tva1.sinaimg.cn/large/007X8olVly1g8fdbqu1k3j30fr0f73yn.jpg"></p>
<h3 id="6-虚拟机名称-自定义，我起的是PhoenixOS；位置-自定义，我选的默认"><a href="#6-虚拟机名称-自定义，我起的是PhoenixOS；位置-自定义，我选的默认" class="headerlink" title="6.虚拟机名称 自定义，我起的是PhoenixOS；位置 自定义，我选的默认"></a>6.虚拟机名称 自定义，我起的是PhoenixOS；位置 自定义，我选的默认</h3><p><img src="https://tva1.sinaimg.cn/large/007X8olVly1g8fdci8qfsj30fs0f7dfx.jpg"></p>
<h3 id="7-处理器数量-每个处理器的内核数量-自定义（不能超过电脑处理器核心数量）"><a href="#7-处理器数量-每个处理器的内核数量-自定义（不能超过电脑处理器核心数量）" class="headerlink" title="7.处理器数量 每个处理器的内核数量 自定义（不能超过电脑处理器核心数量）"></a>7.处理器数量 每个处理器的内核数量 自定义（不能超过电脑处理器核心数量）</h3><p><img src="https://tva1.sinaimg.cn/large/007X8olVly1g8fdd0xmjmj30fu0f874b.jpg"></p>
<h3 id="8-此虚拟机的内存（相当于手机的运行内存，建议不要太小）"><a href="#8-此虚拟机的内存（相当于手机的运行内存，建议不要太小）" class="headerlink" title="8.此虚拟机的内存（相当于手机的运行内存，建议不要太小）"></a>8.此虚拟机的内存（相当于手机的运行内存，建议不要太小）</h3><p><img src="https://tva1.sinaimg.cn/large/007X8olVly1g8fddfxlaqj30fr0f7dg6.jpg"></p>
<h3 id="9-网络类型-选择-使用网络地址转换（NAT）-（其他可能连不上网）"><a href="#9-网络类型-选择-使用网络地址转换（NAT）-（其他可能连不上网）" class="headerlink" title="9.网络类型 选择 使用网络地址转换（NAT） （其他可能连不上网）"></a>9.网络类型 选择 使用网络地址转换（NAT） （其他可能连不上网）</h3><p><img src="https://tva1.sinaimg.cn/large/007X8olVly1g8fddvlqo6j30fu0f7t8z.jpg"></p>
<h3 id="10-I-O控制器类型-选择推荐"><a href="#10-I-O控制器类型-选择推荐" class="headerlink" title="10.I/O控制器类型 选择推荐"></a>10.I/O控制器类型 选择推荐</h3><p><img src="https://tva1.sinaimg.cn/large/007X8olVly1g8fdeeohmpj30fs0fcq34.jpg"></p>
<h3 id="11-虚拟磁盘类型-推荐"><a href="#11-虚拟磁盘类型-推荐" class="headerlink" title="11.虚拟磁盘类型 推荐"></a>11.虚拟磁盘类型 推荐</h3><p><img src="https://tva1.sinaimg.cn/large/007X8olVly1g8fdf9zv8wj30fs0f3mx8.jpg"></p>
<h3 id="12-选择磁盘-创建新虚拟磁盘"><a href="#12-选择磁盘-创建新虚拟磁盘" class="headerlink" title="12.选择磁盘 创建新虚拟磁盘"></a>12.选择磁盘 创建新虚拟磁盘</h3><p><img src="https://tva1.sinaimg.cn/large/007X8olVly1g8fdfxw6zzj30fp0f2jrm.jpg"></p>
<h3 id="13-指定磁盘容量（相当于手机的存储空间，建议不小于4G）-我设的64G"><a href="#13-指定磁盘容量（相当于手机的存储空间，建议不小于4G）-我设的64G" class="headerlink" title="13.指定磁盘容量（相当于手机的存储空间，建议不小于4G） 我设的64G"></a>13.指定磁盘容量（相当于手机的存储空间，建议不小于4G） 我设的64G</h3><p>选择 将虚拟磁盘拆分成多个文件 下一步<br><img src="https://tva1.sinaimg.cn/large/007X8olVly1g8fdgrhlolj30fs0f7aad.jpg"></p>
<h3 id="14-指定磁盘文件-默认就好-依次下一步-单击完成"><a href="#14-指定磁盘文件-默认就好-依次下一步-单击完成" class="headerlink" title="14.指定磁盘文件 默认就好 依次下一步 单击完成"></a>14.指定磁盘文件 默认就好 依次下一步 单击完成</h3><p><img src="https://tva1.sinaimg.cn/large/007X8olVly1g8fdhas1btj30fs0f60st.jpg"><br><img src="https://tva1.sinaimg.cn/large/007X8olVly1g8fdhnpkpbj30fr0fbt8y.jpg"><br>到此虚拟机创建成功</p>
<h2 id="二、在虚拟机中安装凤凰系统"><a href="#二、在虚拟机中安装凤凰系统" class="headerlink" title="二、在虚拟机中安装凤凰系统"></a>二、在虚拟机中安装凤凰系统</h2><p>最新版本的凤凰系统有广告，分享一个没有广告的凤凰系统映像文件<br>百度网盘分享 提取码: 8y1u<br><a href="https://pan.baidu.com/s/1I5lDSVenk3JFM5k9O_FJOw">https://pan.baidu.com/s/1I5lDSVenk3JFM5k9O_FJOw</a></p>
<h3 id="1-单机编辑虚拟机设置"><a href="#1-单机编辑虚拟机设置" class="headerlink" title="1.单机编辑虚拟机设置"></a>1.单机编辑虚拟机设置</h3><p><img src="https://tva1.sinaimg.cn/large/007X8olVly1g8fdmkm7awj30af0dmglw.jpg"></p>
<h3 id="2-选择显示器，将3D图形中的-加速3D图形-勾选（建议勾选，否则可能无法进入凤凰系统）"><a href="#2-选择显示器，将3D图形中的-加速3D图形-勾选（建议勾选，否则可能无法进入凤凰系统）" class="headerlink" title="2.选择显示器，将3D图形中的 加速3D图形 勾选（建议勾选，否则可能无法进入凤凰系统）"></a>2.选择显示器，将3D图形中的 加速3D图形 勾选（建议勾选，否则可能无法进入凤凰系统）</h3><p>图形内存中的显示缩放比例 根据自己需要进行勾选<br><img src="https://tva1.sinaimg.cn/large/007X8olVly1g8fdpt64hwj30ns07jmxe.jpg"></p>
<h3 id="3-选择CD-DVD-找到连接中的-使用ISO映像文件，将下载的凤凰系统ISO文件导入进来"><a href="#3-选择CD-DVD-找到连接中的-使用ISO映像文件，将下载的凤凰系统ISO文件导入进来" class="headerlink" title="3.选择CD/DVD 找到连接中的 使用ISO映像文件，将下载的凤凰系统ISO文件导入进来"></a>3.选择CD/DVD 找到连接中的 使用ISO映像文件，将下载的凤凰系统ISO文件导入进来</h3><p><img src="https://tva1.sinaimg.cn/large/007X8olVly1g8fdrlyqasj30na09d3yr.jpg"><br>最后，单击确定，单击开启此虚拟机，进入凤凰系统安装页面<br>接下来的操作可以参考 <a href="http://www.phoenixos.com/help/installation">凤凰系统官方教程</a><br>找到.iso镜像文件如何使用<br>里面提供了两个教程，建议选择 适用于Legacy引导的单凤凰系统安装教程（传统的MBR引导模式）<br>这里简单描述（适用于Legacy引导的单凤凰系统安装教程），文字说明<br><strong>1.单击开启此虚拟机，选择“Installation Phoenix OS to Harddisk”</strong><br><strong>2.选择安装磁盘</strong><br>安装程序会检测磁盘的信息并列出。选择“Create/Modify partitions”新建分区表；<br><strong>3.创建完成会询问是否使用GPT分区。这里使用Legacy引导方式，我们选择“No”</strong><br><strong>4.此时会进入到分区工具界面：左右方向键选择“New”，新建一个分区；</strong><br><strong>5.选择“Primary”新建一个主分区</strong><br><strong>6.选择分区大小，这里我们把所有剩余大小都分给这个分区，所以不用修改直接按“Enter”；</strong><br><strong>7.左右方向键选择“Bootable”，把这个分区设置为可以引导的分区；</strong><br><strong>8.左右方向键选择“Write”，保存我们的修改；</strong><br><strong>9.分区工具会询问是否确定保存，输入“yes”确认；</strong><br><strong>10.左右方向键选择“Quit”，退出分区工具；</strong><br><strong>11.退出后可以在分区选择列表中看到我们新分的sda1，选择它安装Phoenix OS；</strong><br><strong>12.格式化磁盘 选择EXT4</strong><br><strong>13.是否安装EFI引导项：选择跳过</strong><br><strong>14.是否安装Grub：选择“Yes”（安装MBR引导）</strong><br><strong>15.安装完成，重启电脑，进入凤凰系统页面</strong></p>
<h2 id="三、可能会出现的问题"><a href="#三、可能会出现的问题" class="headerlink" title="三、可能会出现的问题"></a>三、可能会出现的问题</h2><h3 id="1-启动虚拟机后，没有进入凤凰系统，卡在A-N-D-R-O-I-D-x86-64-不动"><a href="#1-启动虚拟机后，没有进入凤凰系统，卡在A-N-D-R-O-I-D-x86-64-不动" class="headerlink" title="1.启动虚拟机后，没有进入凤凰系统，卡在A N D R O I D x86_64:/ #不动"></a>1.启动虚拟机后，没有进入凤凰系统，卡在<code>A N D R O I D x86_64:/ #</code>不动</h3><p>出现这个问题的原因是因为显示配置问题，两种解决办法<br>1.在进入凤凰系统启动项后 连续按两次 e ，进入一个编辑模式，在SRC=/PhoenixOS 后面添加 nomodeset<br>中间要有空格 即 SRC=/PhoenixOS nomodeset<br>回车返回到上一页，按 b 启动凤凰系统，凤凰系统成功启动<br>缺点：每次启动都需要重复此操作<br>2.编辑虚拟机设置——&gt;选择显示器，将3D图形中的加速3D图形勾选，凤凰系统成功启动（此方法一劳永逸）</p>
<h3 id="2-凤凰系统分辨率调高后，文字变小"><a href="#2-凤凰系统分辨率调高后，文字变小" class="headerlink" title="2.凤凰系统分辨率调高后，文字变小"></a>2.凤凰系统分辨率调高后，文字变小</h3><p>分辨率越高，文字越小，这个是正常现象，通过修改显示密度可将文字变大</p>
]]></content>
      <tags>
        <tag>vm</tag>
      </tags>
  </entry>
  <entry>
    <title>VM虚拟机错误提示</title>
    <url>/2019/10/25/VM%E8%99%9A%E6%8B%9F%E6%9C%BA%E9%94%99%E8%AF%AF%E6%8F%90%E7%A4%BA/</url>
    <content><![CDATA[<p>Windows10运行虚拟机出现错误提示<br>VMware workstations 与 Device/credential guard不兼容。在禁用Device/ Credential Guard后，可以运行VMware Workstation</p>
<p>解决办法<br>1.关闭程序和功能中的Windows沙盒<br>2.关闭程序和功能中的Hyper-v<br>3.Windows Powershell以管理员身份运行输入命令<code>bcdedit /set hypervisorlaunchtype off</code><br>如果依然不好使，可以重启测试</p>
]]></content>
      <tags>
        <tag>vm</tag>
      </tags>
  </entry>
  <entry>
    <title>hexo4.0遇到的问题</title>
    <url>/2019/10/20/hexo4-0%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<p><strong>Hexo 4.0.0 Released</strong>已于2019年10月14日更新。<br>想要升级体验，请在package.json中更改以下行，</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-&quot;hexo&quot;: &quot;^3.9.0&quot;，</span><br><span class="line">+&quot;hexo&quot;: &quot;^4.0.0&quot;，</span><br></pre></td></tr></table></figure>
<p>之后输入git命令<code>npm install</code>安装，<br>查看hexo版本<code>hexo -v</code>显示<code>hexo: 4.0.0</code>即安装成功</p>
<span id="more"></span>
<p>升级到hexo4.0，发现了几个问题，在这里分享一下</p>
<h2 id="1-hexo生成的主页中，个别转义字符显示不出来"><a href="#1-hexo生成的主页中，个别转义字符显示不出来" class="headerlink" title="1.hexo生成的主页中，个别转义字符显示不出来"></a>1.hexo生成的主页中，个别转义字符显示不出来</h2><p>比如说我用的yilia主题，主页中，上一页和下一页旁边的转义字符，在hexo4.0中显示的是代码，并非是转义成的字符<br>hexo4.0中显示<code>下一页 &amp;raquo;</code><br>hexo3版本中显示<code>下一页 »</code><br>这里以下一页为例，上一页同样是这个问题<br><strong>这里补充说明一下：通过js在第一页和最后一页中添加的上一页和下一页中的转义字符不受影响</strong></p>
<h2 id="2-页面中点击不跳转的a标签-lt-a-href-quot-javascript-void-0-quot-gt-自动被添加上了target属性"><a href="#2-页面中点击不跳转的a标签-lt-a-href-quot-javascript-void-0-quot-gt-自动被添加上了target属性" class="headerlink" title="2.页面中点击不跳转的a标签&lt;a href=&quot;javascript:void(0)&quot; &gt;自动被添加上了target属性"></a>2.页面中点击不跳转的a标签<code>&lt;a href=&quot;javascript:void(0)&quot; &gt;</code>自动被添加上了target属性</h2><p>说到点击a标签不跳转，上网查了一下资料，共有这几个方法，这里简单说一下</p>
<ul>
<li>1.<code>&lt;a href=&quot;javascript:void(0);&quot;&gt;&lt;/a&gt; </code>（不会刷新页面，yilia主题中主要使用的这种方法）</li>
<li>2.<code>&lt;a href=&quot;javascript:;&quot;&gt;&lt;/a&gt;</code>（与上面的方法类似）</li>
<li>3.<code>&lt;a href=&quot;&quot; οnclick=&quot;return false;&quot;&gt;&lt;/a&gt;</code>（会刷新页面）</li>
<li>4.<code>&lt;a href=&quot;#&quot; οnclick=&quot;return false;&quot;&gt;&lt;/a&gt;</code>（可能会刷新页面）</li>
</ul>
<h3 id="更多说明"><a href="#更多说明" class="headerlink" title="更多说明"></a>更多说明</h3><ul>
<li>1.javascript:void(0)不建议使用</li>
<li>2.链接（href）直接使用javascript:void(0)在IE中可能会引起一些问题，比如：造成gif动画停止播放等，所以，最安全的办法还 是使用“####”。为防止点击链接后跳转到页首，onclick事件return false即可，a这个标签的执行顺序应该是先执行onclick的脚本，最后才进行href参数指定页面的跳转。在onclick中返回false，就可以中止a标签的工作流程，也就是不让页面跳转到href参数指定的页面。 </li>
<li>3.如果仅仅是想鼠标移过，变成手形，可以使用<br><code>&lt;span style=&quot;cursor:pointer&quot; οnclick=&quot;jsFun()&quot;&gt;手型!&lt;/span&gt;</code></li>
</ul>
<p>hexo4.0版本中，ejs文件中出现<code>href=&quot;javascript:void(0);</code>和<code>href=&quot;javascript:;</code>的标签，如果你没有添加<code>target</code>属性，hexo合成网页时hexo4.0版本会自动给你添加上<br>hexo3版本中显示<code>&lt;a href=&quot;javascript:void(0);&quot;&gt;&lt;/a&gt; </code><br>hexo4.0版本显示<code>&lt;a href=&quot;javascript:void(0);&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;&lt;/a&gt; </code><br>自动添加了<code>target=&quot;_blank&quot; rel=&quot;noopener&quot;</code>属性，ie浏览器还好，点击这样的a标签，页面没有跳转<br>但是谷歌浏览器，点击这样的a标签，直接跳转到了一个新页面<code>about:blank#blocked</code>，页面空白<br>很显然hexo4.0版本对<code>href=&quot;javascript:void(0);</code>和<code>href=&quot;javascript:;</code>很不友好，遇到这样的href自动添加属性，具有点击事件的a标签，被添加上了页面跳转（这个问题只涉及到ejs文件，不涉及js）<br>如果你的主题ejs文件中a标签也是用这种方法禁止跳转，那你就要注意了，不要轻易更新hexo4.0版本<br>这里简单提供一个解决方法</p>
<h3 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h3><p>遇到这种问题的a标签，一般都具有点击事件。尝试删除<code>href=&quot;javascript:void(0);</code>和<code>href=&quot;javascript:;</code>，问题可以解决，但是鼠标悬停在a标签上并没有变成手型<br>所以只需要将href属性改为手型<code>style=&quot;cursor:pointer&quot;</code>属性即可<br>到此问题解决</p>
<h2 id="对url的编码更为严谨encodeURI"><a href="#对url的编码更为严谨encodeURI" class="headerlink" title="对url的编码更为严谨encodeURI()"></a>对url的编码更为严谨encodeURI()</h2><p>之前对<code>window.location.pathname</code>获得的url使用了此函数，现在对<code>getAttribute(&quot;href&quot;)</code>获得的url也使用了此函数<br>想要不被编码，只能运用解码函数decodeURI()<br>在文章<a href="https://akbcd.github.io/2019/06/27/yilia%E4%B8%BB%E9%A2%98%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/#3-%E9%9A%8F%E7%AC%94a%E6%A0%87%E7%AD%BE%E7%82%B9%E5%87%BB%E5%90%8E%E6%A0%B7%E5%BC%8F%E4%B8%8D%E6%94%B9%E5%8F%98%EF%BC%88%E7%A7%BB%E5%8A%A8%E7%AB%AF%EF%BC%89">yilia主题常见问题及解决办法</a>中有相关介绍</p>
<hr>
<p>以下链接为hexo4.0官方文档<br><a href="https://hexo.io/news/2019/10/14/hexo-4-released/">Hexo 4.0.0 Released</a></p>
]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>博客</tag>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>yilia主题进阶配置</title>
    <url>/2019/10/14/yilia%E4%B8%BB%E9%A2%98%E8%BF%9B%E9%98%B6%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<p>这篇文章添加几个适用于yilia主题的功能</p>
<span id="more"></span>
<p>快速导航：<br><a href="#yilia%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0%E6%9C%AC%E5%9C%B0%E5%A4%B4%E5%83%8F">yilia主题添加本地头像</a><br><a href="#%E6%B7%BB%E5%8A%A0%E5%AD%97%E6%95%B0%E7%BB%9F%E8%AE%A1">添加字数统计</a><br><a href="#%E5%AE%89%E8%A3%85%E5%85%A8%E5%B1%80%E6%90%9C%E7%B4%A2%E5%8A%9F%E8%83%BD">安装全局搜索功能</a><br><a href="#yilia%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0%E7%BD%AE%E9%A1%B6%E5%8A%9F%E8%83%BD%E5%92%8C%E7%BD%AE%E9%A1%B6%E6%A0%87%E7%AD%BE">yilia主题添加博客文章置顶功能和置顶标签</a><br><a href="#hexo%E6%96%87%E7%AB%A0%E5%8A%A0%E5%AF%86%E5%8A%9F%E8%83%BD">hexo文章加密功能</a><br><a href="#yilia%E4%B8%BB%E9%A2%98%E7%A7%BB%E5%8A%A8%E7%AB%AF%E6%B7%BB%E5%8A%A0%E9%A1%B5%E9%9D%A2%E8%BF%9B%E5%BA%A6%E6%9D%A1">yilia主题移动端添加页面进度条</a><br><a href="#hexo%E4%BB%A3%E7%A0%81%E5%9D%97%E5%A4%8D%E5%88%B6%E5%8A%9F%E8%83%BD">hexo代码块复制功能</a><br><a href="#%E4%BB%A3%E7%A0%81%E5%8C%BA%E5%9D%97%E9%AB%98%E4%BA%AE">代码区块高亮</a><br><a href="#%E6%B7%BB%E5%8A%A0%E6%96%87%E7%AB%A0%E6%9B%B4%E6%96%B0%E6%97%B6%E9%97%B4">添加文章更新时间</a><br><a href="#yilia%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0aplayer%E6%92%AD%E6%94%BE%E5%99%A8">yilia主题添加aplayer播放器</a></p>
<h2 id="yilia主题添加本地头像"><a href="#yilia主题添加本地头像" class="headerlink" title="yilia主题添加本地头像"></a>yilia主题添加本地头像</h2><p>如果你的头像是引用网络的，那就要注意了，网络上的图片随时都有可能被删除，删除之后，头像就没有了<br>头像的图片一般不是很大，完全可以进行本地引用（你要深刻意识到，本地引用图片是会影响到网页加载速度的）</p>
<p>补充：近期不知你有没有发现<a href="http://pic.xiaojianjian.net/">小贱贱图床</a>登录说明</p>
<blockquote>
<p>登录说明<br>问：为什么突然要登录了？<br>答：因为顶不住咯。估计被xx瞄上了吧。换了N的多账号去维持了，已经被逼去买xx小号了。<br>问：没有注册入口，怎么样获取账号？<br>答： 老用户请加wx：dashu007hao，（请备注说明图床，否则不通过）<br>碎碎念：还能维护多久我也不知道，说不准哪天就不维护了。且用且珍惜吧。珍惜最后的时光 </p>
</blockquote>
<h3 id="实现方法"><a href="#实现方法" class="headerlink" title="实现方法"></a>实现方法</h3><ul>
<li>将自己的头像图片放在<code>themes\yilia\source\img</code>路径下（路径可以更换），我的图片名为<code>avatar.png</code></li>
<li>修改主题配置文件<code>themes\yilia\_config.yml</code>，在里面找到<code>#你的头像url</code>，添加路径</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#你的头像url</span><br><span class="line">avatar: /img/avatar.png</span><br></pre></td></tr></table></figure>
<ul>
<li>本地预览<code>hexo s</code>看效果</li>
</ul>
<h2 id="添加字数统计"><a href="#添加字数统计" class="headerlink" title="添加字数统计"></a>添加字数统计</h2><p>字数统计需要安装插件实现</p>
<h3 id="实现方法-1"><a href="#实现方法-1" class="headerlink" title="实现方法"></a>实现方法</h3><ul>
<li>安装hexo-wordcount插件<br><code>npm i --save hexo-wordcount</code></li>
<li>找到想添加的位置，以文章标题的下方为例（参看本博客显示效果）</li>
<li>定位文件<code>themes\yilia\layout\_partial\article.ejs</code>，在里面添加</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;% if (post.link || post.title)&#123; %&gt;</span><br><span class="line">      &lt;header class=&quot;article-header&quot;&gt;</span><br><span class="line">        &lt;%- partial(&#x27;post/title&#x27;, &#123;class_name: &#x27;article-title&#x27;&#125;) %&gt;</span><br><span class="line">        &lt;% if (!post.noDate)&#123; %&gt;</span><br><span class="line">        &lt;%- partial(&#x27;post/date&#x27;, &#123;class_name: &#x27;archive-article-date&#x27;, date_format: null&#125;) %&gt;</span><br><span class="line">        &lt;% &#125; %&gt;</span><br><span class="line">        &lt;!-- 开始添加字数统计--&gt;</span><br><span class="line">        &lt;% if (!index &amp;&amp; ((theme.wordcount === 1 &amp;&amp; post.wordcount) || theme.wordcount === 2))&#123; %&gt;</span><br><span class="line">        &lt;div style=&quot;color: #999&quot;&gt;</span><br><span class="line">        &lt;span&gt;字数 &lt;%= wordcount(post.content) %&gt;&lt;/span&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">        &lt;% &#125; %&gt;</span><br><span class="line">        &lt;!-- 添加完成 --&gt;</span><br><span class="line">      &lt;/header&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure>
<p>这里div添加了颜色属性，适配主题<br><strong>div标签的样式可以自己修改，添加style属性即可，也可以添加class，在css中美化</strong></p>
<ul>
<li>添加了判断条件，修改主题配置文件<code>themes\yilia\_config.yml</code>，添加</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 字数统计</span><br><span class="line"># 本功能实现需要插件hexo-wordcount</span><br><span class="line"># 设定：0-不显示字数； 1-文章对应的md文件里有wordcount:true属性，才显示字数； 2-所有文章均显示字数</span><br><span class="line"># 不需要使用，直接设置值为false，或注释掉</span><br><span class="line">wordcount: 2</span><br></pre></td></tr></table></figure>
<ul>
<li><code>hexo s</code>本地预览查看效果</li>
</ul>
<h2 id="安装全局搜索功能"><a href="#安装全局搜索功能" class="headerlink" title="安装全局搜索功能"></a>安装全局搜索功能</h2><p>yilia博客拥有一个搜索功能，这个功能只能匹配到标题和标签，不是很强大，接下来介绍一个能匹配到文章内容关键字的搜索功能<br>这个功能的实现，感谢：<br>全局搜索功能的开发者：<br><a href="https://www.hahack.com/codes/local-search-engine-for-hexo/">jQuery-based Local Search Engine for Hexo</a><br>hexo-theme-matery主题开发者：<br><a href="https://blinkfox.github.io/">https://blinkfox.github.io/</a><br>没有他们的贡献，我自己实现不了这个功能，本功能实现效果与hexo-theme-matery主题类似</p>
<h3 id="效果图（具体效果可参看本主题）"><a href="#效果图（具体效果可参看本主题）" class="headerlink" title="效果图（具体效果可参看本主题）"></a>效果图（具体效果可参看本主题）</h3><p>pc页面<br><img src="https://tva1.sinaimg.cn/large/007X8olVly1g8asepxgnbj30kj09yqbv.jpg"><br>手机页面<br><img src="https://tva1.sinaimg.cn/large/007X8olVly1g8asf74sq6j30ci0k67dj.jpg"></p>
<h3 id="实现方法-2"><a href="#实现方法-2" class="headerlink" title="实现方法"></a>实现方法</h3><p>本功能的实现需要导入jquery，我用的版本是<code>jquery-3.4.1.js</code>（可以在线引用）<br>本功能的实现还需要安装插件<code>hexo-generator-searchdb</code></p>
<ul>
<li>博客的根目录下，<code>git bash here</code>，输入命令：<code>npm install hexo-generator-searchdb --save</code></li>
<li>根目录配置文件（不是主题配置文件）<code>_config.yml</code>中添加以下内容</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">search:</span><br><span class="line">  path: search.xml</span><br><span class="line">  field: post</span><br></pre></td></tr></table></figure>
<p>测试插件是否安装成功</p>
<ul>
<li>输入本地预览命令<code>hexo s</code>，在浏览器输入预览网址<br>在网址后添加<code>search.xml</code>，比如我的预览网址是<code>localhost:4000/</code>，那就在浏览器导航栏输入<code>localhost:4000/search.xml</code><br>查看是否有页面显示，出现页面，插件安装成功（这一步决定全局搜索功能是否会实现）</li>
<li>在主题路径<code>themes\yilia\layout\_partial</code>下创建<code>search.ejs</code>文件</li>
<li>上jquery官网下载jquery，将<code>jquery-3.4.1.js</code>放在<code>themes\yilia\source</code>路径下（这里在线引用）</li>
</ul>
<p>在<code>search.ejs</code>中添加以下内容（粘贴到<code>search.ejs</code>中即可）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;% if (theme.local_search &amp;&amp; theme.local_search.enable)&#123; %&gt;</span><br><span class="line">&lt;div id=&quot;js-searchModal&quot;&gt;</span><br><span class="line">    &lt;div style=&quot;padding: 24px;&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;search-header&quot;&gt;</span><br><span class="line">            &lt;span&gt;&lt;i class=&quot;icon-search icon&quot;&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;搜索&lt;/span&gt;</span><br><span class="line">            &lt;input class=&quot;search-ipt&quot; q-model=&quot;search&quot; type=&quot;text&quot; placeholder=&quot;请输入搜索的关键字&quot; id=&quot;js-searchInput&quot;&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div id=&quot;js-searchResult&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;!--搜索背景层--&gt;</span><br><span class="line">&lt;div id=&quot;js-modal-overlay&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    window.onload=function()&#123;</span><br><span class="line">        var top1=0;</span><br><span class="line">        function stopBodyScroll(isFixed)&#123;</span><br><span class="line">            var bodyEl=document.body;</span><br><span class="line">            if(isFixed)&#123;</span><br><span class="line">                //获取页面滚动的距离</span><br><span class="line">                top1=window.scrollY;</span><br><span class="line">                //将body标签在当前位置固定</span><br><span class="line">                bodyEl.style.position=&#x27;fixed&#x27;;</span><br><span class="line">                bodyEl.style.top=-top1+&#x27;px&#x27;;</span><br><span class="line">                bodyEl.style.width=&#x27;100%&#x27;</span><br><span class="line">            &#125;else&#123;</span><br><span class="line">                bodyEl.style.position=&#x27;&#x27;;</span><br><span class="line">                bodyEl.style.top=&#x27;&#x27;;</span><br><span class="line">                //页面回到获取的位置</span><br><span class="line">                window.scrollTo(0,top1)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        //给搜索图标添加点击事件</span><br><span class="line">        var open = document.getElementById(&#x27;js-icon-search&#x27;);</span><br><span class="line">        open.setAttribute(&quot;title&quot;,&quot;搜索&quot;)</span><br><span class="line">        open.onclick = function()&#123;</span><br><span class="line">            //弹窗出现时淡入动画</span><br><span class="line">            $(&quot;#js-searchModal&quot;).fadeIn(1000);</span><br><span class="line">            $(&quot;#js-modal-overlay&quot;).fadeIn(1000);</span><br><span class="line">            //固定body</span><br><span class="line">            stopBodyScroll(true);</span><br><span class="line">        &#125;</span><br><span class="line">        //关闭搜索</span><br><span class="line">        var close = document.getElementById(&#x27;js-modal-overlay&#x27;);</span><br><span class="line">        close.onclick = function()&#123;</span><br><span class="line">            //弹窗关闭时淡出动画</span><br><span class="line">            $(&quot;#js-searchModal&quot;).fadeOut(500);</span><br><span class="line">            $(&quot;#js-modal-overlay&quot;).fadeOut(500);</span><br><span class="line">            //移除body固定</span><br><span class="line">            stopBodyScroll(false);</span><br><span class="line">            document.body.removeAttribute(&#x27;style&#x27;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;!-- 引入jquery --&gt;</span><br><span class="line">&lt;script src=&quot;https://code.jquery.com/jquery-3.4.1.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;!-- 调用本地搜索函数 --&gt;</span><br><span class="line">&lt;script src=&quot;&lt;%=config.root%&gt;./js/search.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>在主题<code>themes\yilia\source</code>路径下创建一个<code>js</code>文件夹，里面创建<code>search.js</code>文件，将以下内容（<a href="https://www.hahack.com/codes/local-search-engine-for-hexo/">jQuery-based Local Search Engine for Hexo</a>）粘贴到此文件中（路径和文件名根据自己需要在上面的内容中修改）</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> searchFunc = <span class="keyword">function</span> (<span class="params">path, search_id, content_id</span>) &#123;</span><br><span class="line">    <span class="string">&#x27;use strict&#x27;</span>;</span><br><span class="line">    $.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">        <span class="attr">url</span>: path,</span><br><span class="line">        <span class="attr">dataType</span>: <span class="string">&quot;xml&quot;</span>,</span><br><span class="line">        <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">xmlResponse</span>) &#123;</span><br><span class="line">            <span class="comment">// get the contents from search data</span></span><br><span class="line">            <span class="keyword">var</span> datas = $(<span class="string">&quot;entry&quot;</span>, xmlResponse).<span class="title function_">map</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> &#123;</span><br><span class="line">                    <span class="attr">title</span>: $(<span class="string">&quot;title&quot;</span>, <span class="variable language_">this</span>).<span class="title function_">text</span>(),</span><br><span class="line">                    <span class="attr">content</span>: $(<span class="string">&quot;content&quot;</span>, <span class="variable language_">this</span>).<span class="title function_">text</span>(),</span><br><span class="line">                    <span class="attr">url</span>: $(<span class="string">&quot;url&quot;</span>, <span class="variable language_">this</span>).<span class="title function_">text</span>()</span><br><span class="line">                &#125;;</span><br><span class="line">            &#125;).<span class="title function_">get</span>();</span><br><span class="line">            <span class="keyword">var</span> $input = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(search_id);</span><br><span class="line">            <span class="keyword">var</span> $resultContent = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(content_id);</span><br><span class="line">            $input.<span class="title function_">addEventListener</span>(<span class="string">&#x27;input&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                <span class="keyword">var</span> str = <span class="string">&#x27;&lt;ul class=\&quot;search-result-list\&quot;&gt;&#x27;</span>;</span><br><span class="line">                <span class="keyword">var</span> keywords = <span class="variable language_">this</span>.<span class="property">value</span>.<span class="title function_">trim</span>().<span class="title function_">toLowerCase</span>().<span class="title function_">split</span>(<span class="regexp">/[\s\-]+/</span>);</span><br><span class="line">                $resultContent.<span class="property">innerHTML</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">                <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">value</span>.<span class="title function_">trim</span>().<span class="property">length</span> &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// perform local searching</span></span><br><span class="line">                datas.<span class="title function_">forEach</span>(<span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line">                    <span class="keyword">var</span> isMatch = <span class="literal">true</span>;</span><br><span class="line">                    <span class="keyword">var</span> content_index = [];</span><br><span class="line">                    <span class="keyword">var</span> data_title = data.<span class="property">title</span>.<span class="title function_">trim</span>().<span class="title function_">toLowerCase</span>();</span><br><span class="line">                    <span class="keyword">var</span> data_content = data.<span class="property">content</span>.<span class="title function_">trim</span>().<span class="title function_">replace</span>(<span class="regexp">/&lt;[^&gt;]+&gt;/g</span>, <span class="string">&quot;&quot;</span>).<span class="title function_">toLowerCase</span>();</span><br><span class="line">                    <span class="keyword">var</span> data_url = data.<span class="property">url</span>;</span><br><span class="line">                    <span class="keyword">var</span> index_title = -<span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">var</span> index_content = -<span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">var</span> first_occur = -<span class="number">1</span>;</span><br><span class="line">                    <span class="comment">// only match artiles with not empty titles and contents</span></span><br><span class="line">                    <span class="keyword">if</span> (data_title != <span class="string">&#x27;&#x27;</span> &amp;&amp; data_content != <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">                        keywords.<span class="title function_">forEach</span>(<span class="keyword">function</span> (<span class="params">keyword, i</span>) &#123;</span><br><span class="line">                            index_title = data_title.<span class="title function_">indexOf</span>(keyword);</span><br><span class="line">                            index_content = data_content.<span class="title function_">indexOf</span>(keyword);</span><br><span class="line">                            <span class="keyword">if</span> (index_title &lt; <span class="number">0</span> &amp;&amp; index_content &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                                isMatch = <span class="literal">false</span>;</span><br><span class="line">                            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                                <span class="keyword">if</span> (index_content &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                                    index_content = <span class="number">0</span>;</span><br><span class="line">                                &#125;</span><br><span class="line">                                <span class="keyword">if</span> (i == <span class="number">0</span>) &#123;</span><br><span class="line">                                    first_occur = index_content;</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="comment">// show search results</span></span><br><span class="line">                    <span class="keyword">if</span> (isMatch) &#123;</span><br><span class="line">                        str += <span class="string">&quot;&lt;li&gt;&lt;a href=&#x27;&quot;</span> + data_url + <span class="string">&quot;&#x27; class=&#x27;search-result-title&#x27;&gt;&quot;</span> + data_title + <span class="string">&quot;&lt;/a&gt;&quot;</span>;</span><br><span class="line">                        <span class="keyword">var</span> content = data.<span class="property">content</span>.<span class="title function_">trim</span>().<span class="title function_">replace</span>(<span class="regexp">/&lt;[^&gt;]+&gt;/g</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">                        <span class="keyword">if</span> (first_occur &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                            <span class="comment">// cut out 100 characters</span></span><br><span class="line">                            <span class="keyword">var</span> start = first_occur - <span class="number">20</span>;</span><br><span class="line">                            <span class="keyword">var</span> end = first_occur + <span class="number">80</span>;</span><br><span class="line">                            <span class="keyword">if</span> (start &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                                start = <span class="number">0</span>;</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="keyword">if</span> (start == <span class="number">0</span>) &#123;</span><br><span class="line">                                end = <span class="number">100</span>;</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="keyword">if</span> (end &gt; content.<span class="property">length</span>) &#123;</span><br><span class="line">                                end = content.<span class="property">length</span>;</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="keyword">var</span> match_content = content.<span class="title function_">substr</span>(start, end);</span><br><span class="line">                            <span class="comment">// highlight all keywords</span></span><br><span class="line">                            keywords.<span class="title function_">forEach</span>(<span class="keyword">function</span> (<span class="params">keyword</span>) &#123;</span><br><span class="line">                                <span class="keyword">var</span> regS = <span class="keyword">new</span> <span class="title class_">RegExp</span>(keyword, <span class="string">&quot;gi&quot;</span>);</span><br><span class="line">                                match_content = match_content.<span class="title function_">replace</span>(regS, <span class="string">&quot;&lt;em class=\&quot;search-keyword\&quot;&gt;&quot;</span> + keyword + <span class="string">&quot;&lt;/em&gt;&quot;</span>);</span><br><span class="line">                            &#125;);</span><br><span class="line">                            str += <span class="string">&quot;&lt;p class=\&quot;search-result\&quot;&gt;&quot;</span> + match_content + <span class="string">&quot;...&lt;/p&gt;&quot;</span></span><br><span class="line">                        &#125;</span><br><span class="line">                        str += <span class="string">&quot;&lt;/li&gt;&quot;</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">                str += <span class="string">&quot;&lt;/ul&gt;&quot;</span>;</span><br><span class="line">                $resultContent.<span class="property">innerHTML</span> = str;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//调用搜索函数</span></span><br><span class="line">$(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">searchFunc</span>(<span class="string">&quot;/&quot;</span> + <span class="string">&quot;search.xml&quot;</span>, <span class="string">&#x27;js-searchInput&#x27;</span>, <span class="string">&#x27;js-searchResult&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ul>
<li>定位文件<code>themes\yilia\layout\_partial\tools.ejs</code>，在里面找到搜索图标的i标签，在标签里添加一个id：<code>js-icon-search</code>（添加搜索弹窗事件）<br>这里实现的是点击搜索图标出现搜索框</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;search-wrap&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;search-ipt&quot;</span> <span class="attr">q-model</span>=<span class="string">&quot;search&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;find something…&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--修改位置--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;icon-search icon&quot;</span> <span class="attr">q-show</span>=<span class="string">&quot;search|isEmptyStr&quot;</span> <span class="attr">id</span>=<span class="string">&quot;js-icon-search&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;icon-close icon&quot;</span> <span class="attr">q-show</span>=<span class="string">&quot;search|isNotEmptyStr&quot;</span> <span class="attr">q-on</span>=<span class="string">&quot;click:clearChose(e)&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>修改搜索弹窗的样式，主题<code>themes\yilia\source\main.0cf68a.css</code>文件中添加</li>
</ul>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 全局搜索样式 */</span></span><br><span class="line"><span class="selector-id">#js-searchModal</span> &#123;</span><br><span class="line">	<span class="attribute">display</span>: none;</span><br><span class="line">	<span class="attribute">top</span>: <span class="number">10%</span>;</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">500px</span>;</span><br><span class="line">    <span class="attribute">max-height</span>: <span class="number">70%</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">80%</span>;</span><br><span class="line">    <span class="attribute">word-wrap</span>: break-word;</span><br><span class="line">	<span class="attribute">z-index</span>: <span class="number">1001</span>;</span><br><span class="line">	<span class="attribute">position</span>: fixed;</span><br><span class="line">	<span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">	<span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(<span class="number">200deg</span>,<span class="number">#a0cfe4</span>,<span class="number">#e8c37e</span>);</span><br><span class="line">	<span class="attribute">margin</span>: auto;</span><br><span class="line">	<span class="attribute">overflow</span>: auto;</span><br><span class="line">	<span class="attribute">border-radius</span>: <span class="number">10px</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#js-modal-overlay</span> &#123;</span><br><span class="line">	<span class="attribute">display</span>: none;</span><br><span class="line">	<span class="attribute">position</span>: fixed;</span><br><span class="line">	<span class="attribute">z-index</span>: <span class="number">1000</span>;</span><br><span class="line">	<span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">	<span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">	<span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">	<span class="attribute">background</span>: <span class="built_in">rgb</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">	<span class="attribute">opacity</span>: .<span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.search-header</span>,<span class="selector-class">.search-header</span> <span class="selector-tag">i</span> &#123;</span><br><span class="line">	<span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">	<span class="attribute">font-size</span>: <span class="number">18px</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.search-header</span> ::-webkit-input-placeholder &#123;</span><br><span class="line">	<span class="attribute">color</span>: <span class="number">#ededed</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.search-header</span> <span class="selector-class">.search-ipt</span> &#123;</span><br><span class="line">	<span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">	<span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">	<span class="attribute">background</span>: none;</span><br><span class="line">	<span class="attribute">border</span>: none;</span><br><span class="line">	<span class="attribute">border-bottom</span>: <span class="number">2px</span> solid <span class="number">#fff</span>;</span><br><span class="line">	<span class="attribute">font-family</span>: Roboto,serif</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.search-result-list</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">	<span class="attribute">border-bottom</span>: <span class="number">1px</span> dotted <span class="number">#dcdcdc</span>;</span><br><span class="line">	<span class="attribute">padding-top</span>: <span class="number">5px</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.search-result-list</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">	<span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">	<span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">	<span class="attribute">font-weight</span>: <span class="number">300</span>;</span><br><span class="line">	<span class="attribute">line-height</span>: <span class="number">35px</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.search-result-list</span> <span class="selector-class">.search-result</span> &#123;</span><br><span class="line">	<span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">	<span class="attribute">line-height</span>: <span class="number">20px</span>;</span><br><span class="line">	<span class="attribute">color</span>: <span class="number">#fffdd8</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.search-result-list</span> <span class="selector-class">.search-keyword</span> &#123;</span><br><span class="line">	<span class="attribute">color</span>: <span class="number">#e96900</span>;</span><br><span class="line">	<span class="attribute">font-style</span>: normal</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 全局搜索样式结束 */</span></span><br></pre></td></tr></table></figure>
<ul>
<li>定位文件<code>themes\yilia\layout\layout.ejs</code>，在里面的body标签下添加内容：<code>&lt;%- partial(&#39;_partial/search&#39;) %&gt;</code>（添加位置可以根据需求更改）</li>
</ul>
<p><strong>注意：不要添加在body标签内的最后，即主题导入js之后，这样会导致主题的部分js失效</strong><br><strong>建议在以下位置添加</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;!--开始添加--&gt;</span><br><span class="line">  &lt;%- partial(&#x27;_partial/search&#x27;) %&gt;</span><br><span class="line">  &lt;!添加结束&gt;</span><br><span class="line">  &lt;div id=&quot;container&quot; q-class=&quot;show:isCtnShow&quot;&gt;</span><br><span class="line">    &lt;canvas id=&quot;anm-canvas&quot; class=&quot;anm-canvas&quot;&gt;&lt;/canvas&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>最后一步，在<code>themes\yilia\_config.yml</code>中添加判断配置</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#是否开启全局搜索</span><br><span class="line">#不开启值为false，开启，值为true</span><br><span class="line">#使用方法：点击所有文章中的搜索图标</span><br><span class="line">local_search:</span><br><span class="line">  enable: true</span><br></pre></td></tr></table></figure>
<p>简单说明一下原理：通过获取搜索图标的id，添加点击事件，通过点击事件弹出全局搜索框，添加一个背景层（这里的背景层类似于开启分享显示微信二维码时的背景层样式），并将body固定在当前位置（禁止背景层下的内容滚动），在背景层添加一个关闭搜索弹窗的点击事件，关闭全局搜索，移除body固定<br>主题配置文件全局搜索的开关通过<code>search.ejs</code>文件中的第一行判断语句进行判断<br>这里对<code>main.0cf68a.css</code>文件的修改可以根据自己的需求更改<br>yilia主题有一个气泡上浮的动画效果，在搜索弹窗中没有实现(添加了搜索弹窗淡入淡出效果)<br>每个人都应有自己的思路，根据需要修改相关内容<br>最后，再次感谢以上的杰出贡献者，使我在yilia主题中实现了全局搜索功能</p>
<h2 id="yilia主题添加博客文章置顶功能和置顶标签"><a href="#yilia主题添加博客文章置顶功能和置顶标签" class="headerlink" title="yilia主题添加博客文章置顶功能和置顶标签"></a>yilia主题添加博客文章置顶功能和置顶标签</h2><p><strong>注：yilia主题内置文章置顶功能，只需在Front-matter中添加<code>top: true</code>即可，支持置顶多个文章，置顶的文章会再次以时间进行排序</strong><br><strong>请先在Front-matter中添加<code>top: true</code>，然后查看文章是否置顶，如果没有实现请继续看实现方法</strong></p>
<p>目前已经有了博客文章置顶的插件，觉得这个功能很好用，在这里分享一下<br>参考链接<br><a href="https://blog.csdn.net/qwerty200696/article/details/79010629">hexo博客优化之文章置顶+置顶标签</a><br>感谢插件的制作者<br><a href="https://github.com/netcan/hexo-generator-index-pin-top">hexo-generator-index-pin-top</a></p>
<h3 id="实现方法-3"><a href="#实现方法-3" class="headerlink" title="实现方法"></a>实现方法</h3><ul>
<li>安装插件（博客根目录git安装）<br><code>npm uninstall hexo-generator-index --save</code><br><code>npm install hexo-generator-index-pin-top --save</code><br>安装完成后</li>
<li>在需要置顶的文章中加上<code>top: true</code>即可</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: jsp第一次课</span><br><span class="line">date: 2019-10-09 09:54:51</span><br><span class="line">tags: jsp</span><br><span class="line">top: true</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<ul>
<li>本地预览<code>hexo s</code>，你会看到yilia主题自带置顶标签，不需要进行额外的添加<br><img src="https://tva1.sinaimg.cn/large/007X8olVly1g8ash8bd5kj308902pa9u.jpg"></li>
<li>到此，功能实现完成</li>
</ul>
<p>还有一种方法，修改<code>Hexo文件夹下的node_modules/hexo-generator-index/lib/generator.js</code>文件，个人感觉没有这个简单，这里不进行介绍。<br>感兴趣的话，点击<a href="https://zhousiwei.gitee.io/2019/02/25/%E6%96%B0%E5%A2%9EHexo%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0%E7%BD%AE%E9%A1%B6%E5%8A%9F%E8%83%BD/">新增Hexo博客文章置顶功能</a></p>
<h2 id="hexo文章加密功能"><a href="#hexo文章加密功能" class="headerlink" title="hexo文章加密功能"></a>hexo文章加密功能</h2><p>阅读文章的密码验证功能，文章的密码是通过<code>SHA256</code>加密<br>此功能通过JavaScript实现，如果浏览器中有是否启用JavaScript选项，选否后，加密功能失效（<a href="https://purelitebrowser.com/">Pure浏览器</a>）<br>此功能适用于yilia主题</p>
<h3 id="实现效果"><a href="#实现效果" class="headerlink" title="实现效果"></a>实现效果</h3><p>在主页访问文章详细内容时，会在文章详细页出现弹窗，输入相应的密码进入详细页，密码输入错误跳回主页</p>
<h3 id="实现方法-4"><a href="#实现方法-4" class="headerlink" title="实现方法"></a>实现方法</h3><ul>
<li>将以下内容添加到<code>themes\yilia\layout\_partial\article.ejs</code>文件的顶部<br><code>&lt;script src=&quot;&lt;%=config.root%&gt;./js/crypto-js.min.js&quot;&gt;&lt;/script&gt;</code>是本地引入js的路径，根据需要更改<br>这里提供的是云端引用（即联网才可用）<br><code>page.password</code>控制只在有password的文章导入下面的代码，如果不添加此项，会使所有文章都导入下面代码（效果一样，但是代码量不一样）<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;% if (theme.verifyPassword.enable &amp;&amp; page.password) &#123; %&gt;</span><br><span class="line">&lt;!-- 本地引入js --&gt;</span><br><span class="line">&lt;!-- &lt;script src=&quot;&lt;%=config.root%&gt;./js/crypto-js.min.js&quot;&gt;&lt;/script&gt; --&gt;</span><br><span class="line">&lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    (function() &#123;</span><br><span class="line">        let pwd = &#x27;&lt;%- page.password %&gt;&#x27;;</span><br><span class="line">        if (pwd &amp;&amp; pwd.length &gt; 0) &#123;</span><br><span class="line">            if (pwd !== CryptoJS.SHA256(prompt(&#x27;&lt;%- theme.verifyPassword.promptMessage %&gt;&#x27;)).toString(CryptoJS.enc.Hex)) &#123;</span><br><span class="line">                alert(&#x27;&lt;%- theme.verifyPassword.errorMessage %&gt;&#x27;);</span><br><span class="line">                location.href = &#x27;&lt;%- url_for(&quot;/&quot;)  %&gt;&#x27;;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)();</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure></li>
<li>在<code>themes\yilia\_config.yml</code>中添加如下配置</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 阅读文章的密码验证功能，如要使用此功能请激活该配置项，并在对应文章的Front-matter中写上&#x27;password&#x27;的键和密码加密后的密文即可.</span><br><span class="line"># 比如</span><br><span class="line"># password: 加密的密文</span><br><span class="line"># 请注意：为了保证密码原文不会被泄露到网页中，文章的密码必须是通过&#x27;SHA256&#x27;加密的，这样就不会被破解.</span><br><span class="line">verifyPassword:</span><br><span class="line">  enable: false</span><br><span class="line">  promptMessage: 请输入访问本文章的密码</span><br><span class="line">  errorMessage: 密码错误，将返回主页！</span><br></pre></td></tr></table></figure>
<h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><p>在<code>Front-matter</code>中添加<code>password: SHA256</code>，<code>SHA256</code>是密码加密后的密文，访问文章时输入加密前的密码即可<br>如果要对文章设置阅读验证密码的功能，不仅要在 Front-matter 中设置采用了 SHA256 加密的 password 的值，还需要在主题的 <code>_config.yml</code> 中激活了配置。有些在线的 SHA256 加密的地址，可供你使用：<br><a href="http://tool.oschina.net/encrypt?type=2">开源中国在线工具</a><br><a href="http://encode.chahuo.com/">chahuo</a><br><a href="http://tool.chinaz.com/tools/hash.aspx">站长工具</a></p>
<h3 id="感谢"><a href="#感谢" class="headerlink" title="感谢"></a>感谢</h3><p>这个功能是hexo-theme-matery主题开发者实现的<br><a href="https://blinkfox.github.io/">https://blinkfox.github.io/</a><br>在此表示感谢！</p>
<h2 id="yilia主题移动端添加页面进度条"><a href="#yilia主题移动端添加页面进度条" class="headerlink" title="yilia主题移动端添加页面进度条"></a>yilia主题移动端添加页面进度条</h2><p>移动端隐藏了滚动条，加一个网页进度条可以更清楚了解到当前页面在网页的位置</p>
<h3 id="说明-1"><a href="#说明-1" class="headerlink" title="说明"></a>说明</h3><p>此网页进度条只在移动端页面出现，pc端进度条宽度始终为0<br>网页进度条在页面最下方，样式可根据自己的需要更改</p>
<h3 id="实现方法-5"><a href="#实现方法-5" class="headerlink" title="实现方法"></a>实现方法</h3><p>需要用到scrollprogress.js，这里云端引用</p>
<ul>
<li><code>themes\yilia\layout\_partial\script.ejs</code>文件中添加</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 页面进度条 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcss.com/scrollprogress/3.0.2/scrollProgress.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// progress bar init</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> progressElement = <span class="variable language_">window</span>.<span class="property">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.progress-bar&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">if</span> (progressElement) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">new</span> <span class="title class_">ScrollProgress</span>(<span class="function">(<span class="params">x, y</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            progressElement.<span class="property">style</span>.<span class="property">width</span> = y * <span class="number">100</span> + <span class="string">&#x27;%&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>在<code>themes\yilia\layout\layout.ejs</code>添加滚动条<code>&lt;div class=&quot;progress-bar&quot;&gt;&lt;/div&gt;</code>的位置，我是在<code>&lt;%- partial(&#39;_partial/footer&#39;) %&gt;</code>下面添加</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;%- partial(&#x27;_partial/footer&#x27;) %&gt;</span><br><span class="line">&lt;!-- 开始添加 --&gt;</span><br><span class="line">&lt;div class=&quot;progress-bar&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;!-- 添加结束 --&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>themes\yilia\source\main.0cf68a.css</code>添加样式</li>
</ul>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 进度条 */</span></span><br><span class="line"><span class="selector-class">.progress-bar</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">300</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#eaeaea</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.8</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>yilia主题pc页面与移动端页面布局不同，pc端不会显示进度条，上面的js在pc端页面返回值始终是0，即进度条的宽度始终为0</p>
<h3 id="感谢-1"><a href="#感谢-1" class="headerlink" title="感谢"></a>感谢</h3><p><a href="https://blinkfox.github.io/">https://blinkfox.github.io/</a></p>
<h2 id="hexo代码块复制功能"><a href="#hexo代码块复制功能" class="headerlink" title="hexo代码块复制功能"></a>hexo代码块复制功能</h2><p>此功能应该适用于所有的hexo主题</p>
<h3 id="说明-2"><a href="#说明-2" class="headerlink" title="说明"></a>说明</h3><p>代码块复制功能是在代码块部分显示复制按钮，点击复制按钮，实现代码块复制功能<br>本功能实现需要引入jquery<br>运用<a href="http://www.clipboardjs.cn/">clipboard.js</a>实现复制代码块功能</p>
<h3 id="实现方法（更新）"><a href="#实现方法（更新）" class="headerlink" title="实现方法（更新）"></a>实现方法（更新）</h3><p>前提：<br>本功能依据hexo配置文件<code>_config.yml</code>（不是主题那个）中<code>highlight.enable</code>值为true所生成的代码区块标签实现。<br>如果你的<code>highlight.enable</code>值为false，那么复制按钮的位置要做相应改变<br>主题中添加js代码<br>本js中clipboard.js使用网络引用，可以将其下载到本地引用<br>如果主题中没有引入jquery，请将jquery引入</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 复制代码块 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://clipboardjs.com/dist/clipboard.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">/*页面载入完成后，创建复制按钮*/</span></span></span><br><span class="line"><span class="language-javascript">    !<span class="keyword">function</span> (<span class="params">e, t, a</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> initCopyCode = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> copyHtml = <span class="string">&#x27;&lt;button type=&quot;button&quot; class=&quot;js-btn-copy&quot;&gt;复制&lt;/button&gt;&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">            $(<span class="string">&quot;.code pre&quot;</span>).<span class="title function_">before</span>(copyHtml);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">initCopyCode</span>();</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 代码块复制</span></span></span><br><span class="line"><span class="language-javascript">        $(<span class="string">&quot;.code&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>,<span class="string">&quot;.js-btn-copy&quot;</span>,<span class="keyword">function</span>(<span class="params">button</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> copy=button.<span class="property">currentTarget</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> clipboard = <span class="keyword">new</span> <span class="title class_">ClipboardJS</span>(<span class="string">&#x27;.js-btn-copy&#x27;</span>, &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">target</span>: <span class="keyword">function</span>(<span class="params">trigger</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span>(trigger.<span class="property">nextElementSibling</span> != <span class="literal">null</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">return</span> trigger.<span class="property">nextElementSibling</span>;</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;);</span></span><br><span class="line"><span class="language-javascript">            clipboard.<span class="title function_">on</span>(<span class="string">&#x27;success&#x27;</span>, <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                e.<span class="title function_">clearSelection</span>();</span></span><br><span class="line"><span class="language-javascript">                $(copy).<span class="title function_">html</span>(<span class="string">&quot;复制成功&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                clipboard.<span class="title function_">destroy</span>();</span></span><br><span class="line"><span class="language-javascript">            &#125;);</span></span><br><span class="line"><span class="language-javascript">            clipboard.<span class="title function_">on</span>(<span class="string">&#x27;error&#x27;</span>, <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                $(copy).<span class="title function_">html</span>(<span class="string">&quot;复制失败&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                clipboard.<span class="title function_">destroy</span>();</span></span><br><span class="line"><span class="language-javascript">            &#125;);</span></span><br><span class="line"><span class="language-javascript">            $(copy).<span class="title function_">mouseout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;$(event.<span class="property">currentTarget</span>).<span class="title function_">html</span>(<span class="string">&quot;复制&quot;</span>)&#125;);</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript">    &#125;(<span class="variable language_">window</span>, <span class="variable language_">document</span>);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>主题中添加css样式（本样式根据yilia主题美化）</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 代码块复制 */</span></span><br><span class="line"><span class="selector-class">.js-btn-copy</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">10%</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">1em</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#4d4d4d</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: white;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">2px</span> <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#d5d5d5</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute; </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">figure</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.js-btn-copy</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">800px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.js-btn-copy</span> &#123;</span><br><span class="line">        <span class="attribute">right</span>: <span class="number">5%</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>样式根据自己的主题需要进行更改，重点更改自己主题中复制按钮的样式</p>
<h3 id="实现效果-1"><a href="#实现效果-1" class="headerlink" title="实现效果"></a>实现效果</h3><p>点击复制按钮，复制按钮变成复制成功</p>
<h3 id="更新说明"><a href="#更新说明" class="headerlink" title="更新说明"></a>更新说明</h3><p>美化复制按钮样式（模仿CSDN），添加代码块复制失败提示，修改click事件传参形式</p>
<h3 id="感谢-2"><a href="#感谢-2" class="headerlink" title="感谢"></a>感谢</h3><p>本功能实现参照<br><a href="https://blog.csdn.net/weixin_41287260/article/details/103051122">hexo+yilia添加复制代码块的功能</a><br><a href="https://jzfblog.com/detail/153">蒋振飞的博客 - 网站搭建 (第23天) 代码块复制功能</a><br>重点应用<br><a href="http://www.clipboardjs.cn/">clipboard.js</a><br>对以上杰出贡献者表示感谢</p>
<h2 id="代码区块高亮"><a href="#代码区块高亮" class="headerlink" title="代码区块高亮"></a>代码区块高亮</h2><p>yilia主题自带高亮<br>分享一下这篇文章<a href="https://blog.csdn.net/weixin_41287260/article/details/103051056">hexo+yilia修改代码块等样式</a></p>
<h3 id="两种实现方法"><a href="#两种实现方法" class="headerlink" title="两种实现方法"></a>两种实现方法</h3><h4 id="第一种：使用主题自带代码区块高亮实现"><a href="#第一种：使用主题自带代码区块高亮实现" class="headerlink" title="第一种：使用主题自带代码区块高亮实现"></a>第一种：使用主题自带代码区块高亮实现</h4><p><strong>方法一</strong><br>前提：<br>hexo配置文件<code>_config.yml</code>（不是主题那个）中<code>highlight.enable</code>值为true</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">highlight:</span><br><span class="line">  enable: true</span><br><span class="line">  line_number: true</span><br><span class="line">  auto_detect: false</span><br><span class="line">  tab_replace:</span><br></pre></td></tr></table></figure>
<p>在代码块标签后面声明代码区块语言（这里以css为例）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">```css</span><br><span class="line">figure:hover .js-btn-copy&#123;</span><br><span class="line">  opacity: 1;</span><br><span class="line">&#125;</span><br><span class="line">```</span><br></pre></td></tr></table></figure>
<p>效果：</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">figure</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.js-btn-copy</span>&#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>方法二</strong><br>通过修改hexo配置文件实现<br>将<code>highlight.auto_detect</code>值设为true<br>即开启代码区块语言自动检测功能</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">highlight:</span><br><span class="line">  enable: true</span><br><span class="line">  line_number: true</span><br><span class="line">  auto_detect: true</span><br><span class="line">  tab_replace:</span><br></pre></td></tr></table></figure>
<p>注：修改hexo配置文件后需要重启hexo服务才能生效<br>如果依然没有生效，请尝试使用<code>hexo clean</code><br>高亮样式通过主题css样式文件进行实现（可以根据需要自行修改<code>main.0cf68a.css</code>文件）</p>
<h4 id="第二种：通过highlight-js实现代码区块高亮"><a href="#第二种：通过highlight-js实现代码区块高亮" class="headerlink" title="第二种：通过highlight.js实现代码区块高亮"></a>第二种：通过<a href="https://highlightjs.org/">highlight.js</a>实现代码区块高亮</h4><p><a href="https://highlightjs.org/">highlight.js</a>是实现代码区块高亮的js<br>此js会自动检测页面中<code>&lt;pre&gt;&lt;code&gt;..&lt;/code&gt;&lt;/pre&gt;</code>的代码区块（这是重点）<br><strong>实现方法：</strong><br>改变hexo代码区块标签结构（可选）<br>hexo配置文件<code>_config.yml</code>（不是主题那个）中<code>highlight.enable</code>值为false<br>true和false的值会改变代码区块的标签结构<br>如果不想修改<code>highlight.enable</code>值为false，请看下面的补充说明</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">highlight:</span><br><span class="line">  enable: false</span><br><span class="line">  line_number: true</span><br><span class="line">  auto_detect: false</span><br><span class="line">  tab_replace:</span><br></pre></td></tr></table></figure>
<p>在主题中引入<code>highlight.js</code>，这里引用网络（可以下载到本地）<br>具体实现可以观看官方文档<a href="https://highlightjs.org/usage/">https://highlightjs.org/usage/</a></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://highlightjs.org/static/highlight.site.pack.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//代码区块高亮</span></span></span><br><span class="line"><span class="language-javascript">    hljs.<span class="title function_">initHighlightingOnLoad</span>();</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>主题中引入css（官网下载<code>highlight.js</code>压缩包），里面有很多css样式，引入自己喜欢的一种即可<br><strong>补充说明：</strong><br>如果代码区块没有高亮，请观看一下你的代码区块的标签是不是<code>&lt;pre&gt;&lt;code&gt;..&lt;/code&gt;&lt;/pre&gt;</code>格式<br><code>highlight.enable</code>值为false的标签结构</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;pre&gt;</span><br><span class="line">    &lt;code&gt;</span><br><span class="line">        &lt;span&gt;这是代码区块&lt;/span&gt;</span><br><span class="line">    &lt;/code&gt;</span><br><span class="line">&lt;/pre&gt;</span><br></pre></td></tr></table></figure>
<p>先说一下我遇到的问题<br>我的这个页面中，代码区块的标签格式</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;figure&gt;</span><br><span class="line">    &lt;table&gt;</span><br><span class="line">        &lt;tbody&gt;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">                &lt;tb&gt;</span><br><span class="line">                    &lt;pre&gt;</span><br><span class="line">                        &lt;span&gt;这是代码区块&lt;/span&gt;</span><br><span class="line">                    &lt;/pre&gt;</span><br><span class="line">                &lt;/tb&gt;</span><br><span class="line">            &lt;/tr&gt;</span><br><span class="line">        &lt;/tbody&gt;</span><br><span class="line">    &lt;/table&gt;</span><br><span class="line">&lt;/figure&gt;</span><br></pre></td></tr></table></figure>
<p>可以明显看到代码区块的标签并不是<code>&lt;pre&gt;&lt;code&gt;..&lt;/code&gt;&lt;/pre&gt;</code>格式（<code>highlight.enable</code>值为true导致）<br>进行jquery手动修复<br>在<code>hljs.initHighlightingOnLoad();</code>添加</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&quot;figure table&quot;</span>).<span class="title function_">wrap</span>(<span class="string">&quot;&lt;code&gt;&lt;/code&gt;&quot;</span>);</span><br><span class="line">$(<span class="string">&quot;figure code&quot;</span>).<span class="title function_">wrap</span>(<span class="string">&quot;&lt;pre&gt;&lt;/pre&gt;&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>将table标签用code标签包裹起来，再用pre标签将code标签包裹起来，实现上面的代码结构（很显然，这个方法有些麻烦）</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//代码块高亮</span></span></span><br><span class="line"><span class="language-javascript">    $(<span class="string">&quot;figure table&quot;</span>).<span class="title function_">wrap</span>(<span class="string">&quot;&lt;code&gt;&lt;/code&gt;&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">    $(<span class="string">&quot;figure code&quot;</span>).<span class="title function_">wrap</span>(<span class="string">&quot;&lt;pre&gt;&lt;/pre&gt;&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">    hljs.<span class="title function_">initHighlightingOnLoad</span>();</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="添加文章更新时间"><a href="#添加文章更新时间" class="headerlink" title="添加文章更新时间"></a>添加文章更新时间</h2><p>在发布时间后面添加更新时间</p>
<h3 id="实现方法-6"><a href="#实现方法-6" class="headerlink" title="实现方法"></a>实现方法</h3><p>修改主题文件<code>themes\yilia\layout\_partial\post\date.ejs</code><br>添加如下内容：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;% if(!index &amp;&amp; post.updated &amp;&amp; post.updated &gt; post.date)&#123; %&gt;</span><br><span class="line">		&lt;time datetime=&quot;&lt;%= date_xml(post.updated) %&gt;&quot; itemprop=&quot;dateUpdated&quot;&gt;&lt;span&gt;更新于 &lt;/span&gt;&lt;i class=&quot;icon-calendar icon&quot;&gt;&lt;/i&gt;&lt;%= date(post.updated, date_format) %&gt;&lt;/time&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure>
<p>说明一下原理：<br><code>if</code>判断页面是否文章详细页面，判断文章<code>.md</code>文件中是否有<code>updated</code>参数，<code>updated</code>参数时间是否大于<code>date</code>参数时间<br>如果均成立，添加时间标签<br>修改后的<code>date.ejs</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;a href=&quot;&lt;%- url_for(post.path) %&gt;&quot; class=&quot;&lt;%= class_name %&gt;&quot;&gt;</span><br><span class="line">  	&lt;time datetime=&quot;&lt;%= date_xml(post.date) %&gt;&quot; itemprop=&quot;datePublished&quot;&gt;&lt;i class=&quot;icon-calendar icon&quot;&gt;&lt;/i&gt;&lt;%= date(post.date, date_format) %&gt;&lt;/time&gt;</span><br><span class="line">	&lt;% if(!index &amp;&amp; post.updated &amp;&amp; post.updated &gt; post.date)&#123; %&gt;</span><br><span class="line">		&lt;time datetime=&quot;&lt;%= date_xml(post.updated) %&gt;&quot; itemprop=&quot;dateUpdated&quot;&gt;最后更新于：&lt;i class=&quot;icon-calendar icon&quot;&gt;&lt;/i&gt;&lt;%= date(post.updated, date_format) %&gt;&lt;/time&gt;</span><br><span class="line">	&lt;% &#125; %&gt;</span><br><span class="line">&lt;/a&gt;</span><br></pre></td></tr></table></figure>
<p>如果文章<code>md</code>文件中有<code>updated</code>参数，且<code>updated</code>参数有时间，则文章显示参数时间<br>写文章的时候可以直接在文章开头设置更新时间</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">updated: 2020-02-09 21:05:00</span><br></pre></td></tr></table></figure>
<p>如果参数为空，显示md文件的修改日期（<code>updated</code>参数可有可无）</p>
<h3 id="感谢-3"><a href="#感谢-3" class="headerlink" title="感谢"></a>感谢</h3><p>hexo添加文章更新时间（简书）：<a href="https://www.jianshu.com/p/ae3a0666e998">https://www.jianshu.com/p/ae3a0666e998</a><br>hexo添加文章更新时间（CSDN）：<a href="https://blog.csdn.net/ganzhilin520/article/details/79053399">https://blog.csdn.net/ganzhilin520/article/details/79053399</a></p>
<h2 id="yilia主题添加aplayer播放器"><a href="#yilia主题添加aplayer播放器" class="headerlink" title="yilia主题添加aplayer播放器"></a>yilia主题添加aplayer播放器</h2><p>yilia主题添加音乐播放器，想了很久，但是一直没有实现<br>本主题属于自适应主题，但是pc端和移动端的智能菜单完全是两个页面，因此考虑添加两个播放器，一个用于pc页面，另一个用于移动端，当然，这只是我的方法<br>两个播放器都是存在的，只不过不会同时显示<br>pc页面时（根据屏幕宽度判断），移动端音乐播放器不显示，移动端页面时，pc播放器隐藏（当然这与音乐播放器添加的位置有很大关系）<br>至于效果，如果你看到这个页面，应该是可以看到效果，因此，我就不贴图片了</p>
<h3 id="实现方法-7"><a href="#实现方法-7" class="headerlink" title="实现方法"></a>实现方法</h3><p>aplayer播放器的实现，需要运用<a href="https://github.com/MoePlayer/APlayer">APlayer</a>，下载github压缩包（不到300k，可以耐心等等），解压后把dist文件夹中的js与css文件复制到自己要引用的主题文件夹中，在代码中进行引用即可。<br>这里提供引用的网址，不需要下载文件</p>
<h3 id="添加pc页面音乐播放器"><a href="#添加pc页面音乐播放器" class="headerlink" title="添加pc页面音乐播放器"></a>添加pc页面音乐播放器</h3><p>定位主题文件<code>themes\yilia\layout\_partial\left-col.ejs</code><br>在<code>&lt;nav class=&quot;header-nav&quot;&gt;</code>标签中的<code>div</code>标签后面添加</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;% if (theme.music.enable &amp;&amp; site.data &amp;&amp; site.data.musics) &#123; %&gt;</span><br><span class="line">    &lt;div class=&quot;music-player&quot;&gt;</span><br><span class="line">    &lt;%- partial(&#x27;music/aplayer&#x27;) %&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure>
<p>添加后的样子</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;nav class=&quot;header-nav&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;social&quot;&gt;</span><br><span class="line">        &lt;% for (var i in theme.subnav)&#123; %&gt;</span><br><span class="line">            &lt;a class=&quot;&lt;%= i %&gt;&quot; target=&quot;_blank&quot; href=&quot;&lt;%- url_for(theme.subnav[i]) %&gt;&quot; title=&quot;&lt;%= i %&gt;&quot;&gt;&lt;i class=&quot;icon-&lt;%= i %&gt;&quot;&gt;&lt;/i&gt;&lt;/a&gt;</span><br><span class="line">        &lt;%&#125;%&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;!-- 开始 --&gt;</span><br><span class="line">    &lt;% if (theme.music.enable &amp;&amp; site.data &amp;&amp; site.data.musics) &#123; %&gt;</span><br><span class="line">        &lt;div class=&quot;music-player&quot;&gt;</span><br><span class="line">        &lt;%- partial(&#x27;music/aplayer&#x27;) %&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;% &#125; %&gt;</span><br><span class="line">    &lt;!-- 结束 --&gt;</span><br><span class="line">&lt;/nav&gt;</span><br></pre></td></tr></table></figure>
<p>在themes\yilia\layout_partial文件夹中创建一个music文件夹（与上面引入的代码相匹配）<br>在music文件夹中创建<code>aplayer.ejs</code>（pc页面播放器js）和<code>mobile-aplayer.ejs</code>（移动端页面）两个文件<br><code>aplayer.ejs</code>添加，仿照<a href="https://blinkfox.github.io/">https://blinkfox.github.io/</a></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&lt;% var audiosJson = JSON.stringify(site.data.musics); %&gt;</span><br><span class="line"><span class="comment">&lt;!-- aplayer --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 引入dist文件夹中复制的css文件，这里提供网址引用 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 隐藏滚动条两端的按钮和外层轨道，适配yilia主题，只适用于pc页面 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-id">#aplayer</span> ::-webkit-scrollbar-button,#aplayer ::-webkit-scrollbar-track&#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">display</span>: none;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">&lt;% if (theme.music.showTitle) &#123; %&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span></span><br><span class="line">&lt;%- theme.music.title %&gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&lt;% &#125; %&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;aplayer&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 引入dist文件夹中复制的js文件，这里提供网址引用 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">$(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">APlayer</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">container</span>: <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;aplayer&#x27;</span>),</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">fixed</span>: <span class="string">&#x27;&lt;%- theme.music.fixed %&gt;&#x27;</span> === <span class="string">&#x27;true&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">autoplay</span>: <span class="string">&#x27;&lt;%- theme.music.autoplay %&gt;&#x27;</span> === <span class="string">&#x27;true&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">theme</span>: <span class="string">&#x27;&lt;%- theme.music.theme %&gt;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">loop</span>: <span class="string">&#x27;&lt;%- theme.music.loop %&gt;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">order</span>: <span class="string">&#x27;&lt;%- theme.music.order %&gt;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">preload</span>: <span class="string">&#x27;&lt;%- theme.music.preload %&gt;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">lrcType</span>: <span class="title class_">Number</span>(<span class="string">&#x27;&lt;%- theme.music.lrcType %&gt;&#x27;</span>),</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">volume</span>: <span class="title class_">Number</span>(<span class="string">&#x27;&lt;%- theme.music.volume %&gt;&#x27;</span>),</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">listFolded</span>: <span class="string">&#x27;&lt;%- theme.music.listFolded %&gt;&#x27;</span> === <span class="string">&#x27;true&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">listMaxHeight</span>: <span class="string">&#x27;&lt;%- theme.music.listMaxHeight %&gt;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">audio</span>: <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="string">&#x27;&lt;%- audiosJson %&gt;&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript">&#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="添加移动端页面音乐播放器"><a href="#添加移动端页面音乐播放器" class="headerlink" title="添加移动端页面音乐播放器"></a>添加移动端页面音乐播放器</h3><p>定位主题文件<code>themes\yilia\layout\_partial\mobile-nav.ejs</code><br>在header标签中最后一个nav标签后面添加</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;% if (theme.music.mobile_enable &amp;&amp; site.data &amp;&amp; site.data.musics) &#123; %&gt;</span><br><span class="line">&lt;nav class=&quot;music-player&quot;&gt;</span><br><span class="line">&lt;%- partial(&#x27;music/mobile-aplayer&#x27;) %&gt;</span><br><span class="line">&lt;/nav&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure>
<p>添加后的样子</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;nav class=&quot;header-menu js-header-menu&quot;&gt;</span><br><span class="line">        &lt;ul style=&quot;width: &lt;%= ulWidth %&gt;&quot;&gt;</span><br><span class="line">        &lt;% var divide = 100 / count + &#x27;%&#x27; %&gt;</span><br><span class="line">        &lt;% for (var i in theme.menu)&#123; %&gt;</span><br><span class="line">            &lt;li style=&quot;width: &lt;%= divide %&gt;&quot;&gt;&lt;a href=&quot;&lt;%- url_for(theme.menu[i]) %&gt;&quot;&gt;&lt;%= i %&gt;&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">        &lt;%&#125;%&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">    &lt;/nav&gt;</span><br><span class="line">    &lt;!-- 开始 --&gt;</span><br><span class="line">    &lt;% if (theme.music.mobile_enable &amp;&amp; site.data &amp;&amp; site.data.musics) &#123; %&gt;</span><br><span class="line">    &lt;nav class=&quot;music-player&quot;&gt;</span><br><span class="line">    &lt;%- partial(&#x27;music/mobile-aplayer&#x27;) %&gt;</span><br><span class="line">    &lt;/nav&gt;</span><br><span class="line">    &lt;% &#125; %&gt;</span><br><span class="line">    &lt;!-- 结束 --&gt;</span><br><span class="line">&lt;/header&gt;</span><br></pre></td></tr></table></figure>
<p>在music文件夹中创建的<code>mobile-aplayer.ejs</code>文件中添加</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&lt;% var audiosJson = JSON.stringify(site.data.musics); %&gt;</span><br><span class="line"><span class="comment">&lt;!-- mobile-aplayer --&gt;</span></span><br><span class="line">&lt;% if (theme.music.mobile_showTitle) &#123; %&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span></span><br><span class="line">&lt;%- theme.music.mobile_title %&gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&lt;% &#125; %&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;mobile-aplayer&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">$(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">APlayer</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">container</span>: <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;mobile-aplayer&#x27;</span>),</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">fixed</span>: <span class="string">&#x27;&lt;%- theme.music.mobile_fixed %&gt;&#x27;</span> === <span class="string">&#x27;true&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">autoplay</span>: <span class="string">&#x27;&lt;%- theme.music.mobile_autoplay %&gt;&#x27;</span> === <span class="string">&#x27;true&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">theme</span>: <span class="string">&#x27;&lt;%- theme.music.mobile_theme %&gt;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">loop</span>: <span class="string">&#x27;&lt;%- theme.music.mobile_loop %&gt;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">order</span>: <span class="string">&#x27;&lt;%- theme.music.mobile_order %&gt;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">preload</span>: <span class="string">&#x27;&lt;%- theme.music.preload %&gt;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">lrcType</span>: <span class="title class_">Number</span>(<span class="string">&#x27;&lt;%- theme.music.mobile_lrcType %&gt;&#x27;</span>),</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">volume</span>: <span class="title class_">Number</span>(<span class="string">&#x27;&lt;%- theme.music.mobile_volume %&gt;&#x27;</span>),</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">listFolded</span>: <span class="string">&#x27;&lt;%- theme.music.mobile_listFolded %&gt;&#x27;</span> === <span class="string">&#x27;true&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">listMaxHeight</span>: <span class="string">&#x27;&lt;%- theme.music.mobile_listMaxHeight %&gt;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">audio</span>: <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="string">&#x27;&lt;%- audiosJson %&gt;&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript">&#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>下载好的js和css文件只需要在pc播放器引用一次即可，不需要在移动端播放器重复引用</p>
<h3 id="配置主题文件-config-yml"><a href="#配置主题文件-config-yml" class="headerlink" title="配置主题文件_config.yml"></a>配置主题文件<code>_config.yml</code></h3><p>定位主题文件<code>themes\yilia\_config.yml</code><br>在里面添加如下配置（几乎完全参照<a href="https://blinkfox.github.io/">hexo-theme-matery</a>主题进行配置）：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># aplayer音乐播放器</span><br><span class="line"># 要支持音乐播放，就必须开启音乐的播放配置和音乐的数据文件。</span><br><span class="line"># 博客 source 目录下的 _data 目录（没有的话就新建一个）中新建 musics.json 文件（存放音乐数据）</span><br><span class="line"># 吸底模式1.9.1之后版本生效。若开启吸底模式，不建议显示标题</span><br><span class="line">music:</span><br><span class="line">  # aplayer 电脑页面</span><br><span class="line">  enable: true # 是否开启</span><br><span class="line">  showTitle: true # 是否显示标题</span><br><span class="line">  title: 听听音乐</span><br><span class="line">  fixed: false # 吸底模式（fixed:true），迷你模式（mini:true），普通模式（注释此行或者设置fixed:false）</span><br><span class="line">  autoplay: false # 是否自动播放</span><br><span class="line">  theme: &#x27;#4d4d4d&#x27; # 主题色</span><br><span class="line">  loop: &#x27;all&#x27; # 音频循环播放, 可选值: &#x27;all&#x27;, &#x27;one&#x27;, &#x27;none&#x27;</span><br><span class="line">  order: &#x27;list&#x27; # 音频循环顺序, 可选值: &#x27;list&#x27;, &#x27;random&#x27;</span><br><span class="line">  preload: &#x27;auto&#x27; # 音频预加载，两个播放器同时生效，可选值: &#x27;none&#x27;, &#x27;metadata&#x27;, &#x27;auto&#x27;</span><br><span class="line">  volume: 0.7 # 默认音量，请注意播放器会记忆用户设置，用户手动设置音量后默认音量即失效</span><br><span class="line">  lrcType: 1 # 歌词格式，可选值：3（LRC文件歌词格式），1（JS字符串歌词格式），0（不显示歌词）</span><br><span class="line">  listFolded: true # 列表是否折叠</span><br><span class="line">  listMaxHeight: # 列表最大高度，一个列表&#x27;32px&#x27;</span><br><span class="line">  # mobile-aplayer 移动端页面</span><br><span class="line">  mobile_enable: true # 是否开启</span><br><span class="line">  mobile_showTitle: true # 是否显示标题</span><br><span class="line">  mobile_title: </span><br><span class="line">  mobile_fixed: true</span><br><span class="line">  mobile_autoplay: false # 同时开启失效</span><br><span class="line">  mobile_theme: &#x27;#4d4d4d&#x27;</span><br><span class="line">  mobile_loop: &#x27;all&#x27;</span><br><span class="line">  mobile_order: &#x27;list&#x27;</span><br><span class="line">  mobile_volume: 0.7</span><br><span class="line">  mobile_lrcType: 1</span><br><span class="line">  mobile_listFolded: true</span><br><span class="line">  mobile_listMaxHeight:</span><br></pre></td></tr></table></figure>
<p>上面的内容根据自己需要更改<br><a href="https://aplayer.js.org/#/zh-Hans/">aplayer中文文档</a>有详细的参数说明</p>
<h3 id="最后的配置"><a href="#最后的配置" class="headerlink" title="最后的配置"></a>最后的配置</h3><p>博客文件夹（不是主题文件夹）里的 source 中创建 _data 文件夹，在 _data 文件夹中创建 musics.json 文件<br>文件内容如下所示（如果上面歌词格式配置为0，则歌词lrc一行可以去掉）：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[&#123;</span><br><span class="line">    name: &#x27;平凡之路&#x27;,</span><br><span class="line">    artist: &#x27;朴树&#x27;,</span><br><span class="line">    lrc: &#x27;/downloads/lrc/平凡之路-朴树.lrc&#x27;,</span><br><span class="line">    cover: &#x27;http://xxx.com/music-cover1.png&#x27;,</span><br><span class="line">    url: &#x27;http://xxx.com/music1.mp3&#x27;</span><br><span class="line">&#125;,  &#123;</span><br><span class="line">    name: &#x27;后会无期&#x27;,</span><br><span class="line">    artist: &#x27;G.E.M.邓紫棋&#x27;,</span><br><span class="line">    lrc: &#x27;/downloads/lrc/后会无期-G.E.M.邓紫棋.lrc&#x27;,</span><br><span class="line">    cover: &#x27;/medias/music/cover2.png&#x27;,</span><br><span class="line">    url: &#x27;/medias/music/music2.mp3&#x27;</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure>
<p>播放器中有标题，简单配置一下标题样式</p>
<p>定位文件<code>themes\yilia\source\main.0cf68a.css</code>，在里面添加css（同时适用两个播放器,根据需求自行修改）</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* music player title */</span></span><br><span class="line"><span class="selector-id">#header</span> <span class="selector-class">.music-player</span> <span class="selector-class">.title</span>&#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#424242</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>补充说明：<br>1.APlayer.min.css与APlayer.min.js只在pc播放器中添加，并没有在移动页面添加，如果关闭pc播放器，移动端播放器会因为缺失相应的css和js而无法显示<br>这里提供一个解决办法<br>在主题的css与script文件中添加如下代码</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/*css中添加*/</span><br><span class="line">&lt;% if (theme.music.enable || theme.music.mobile_enable) &#123; %&gt;</span><br><span class="line">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;&lt;%- theme.css.aplayer %&gt;&quot;&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br><span class="line"></span><br><span class="line">/*script中添加*/</span><br><span class="line">&lt;% if (theme.music.enable || theme.music.mobile_enable) &#123; %&gt;</span><br><span class="line">&lt;script src=&quot;&lt;%- theme.js.aplayer %&gt;&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure>
<p>把pc页面引入的js与css删除即可<br>2.隐藏滚动条两端的按钮和外层轨道，此样式只适用于pc页面，解决实际歌曲列表长度大于设置长度出现滚动条时播放器自带样式对滚动条设置与主题滚动条样式设置冲突问题，如果移动端出现样式冲突问题，请手动添加（移动端可能不会出现滚动条）<br>3.截至1.10.1版本发现1.9.1之后的版本会使部分浏览器锚点跳转失效（本页面引入的是1.10.1），解决办法就是将传统的<code>#位置</code>修改为<code>?id=#位置</code>。<br>4.移动端preload音频预加载属性不受关闭pc播放器影响<br><strong>到此，yilia主题添加aplayer播放器完成</strong></p>
<h3 id="分享"><a href="#分享" class="headerlink" title="分享"></a>分享</h3><p>既然谈到了添加音乐播放器，自然是需要音乐的直链，分享一个网易云获取音乐直链的方法（一般不会失效，除非歌曲下架）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">https://music.163.com/song/media/outer/url?id=</span><br></pre></td></tr></table></figure>
<p>id后面输入歌曲的id<br>分享一个<a href="https://music.liuzhijin.cn/">音乐直链搜索工具</a>，通过此工具可以快速获取到网易云音乐歌曲id，自然网易云音乐歌曲直链就获取到了<br>此搜索工具获取到的音乐直链有时间限制，超过一定时间直链失效，目前只知道获取网易云音乐直链这一种方法，分享给大家<br>补充：<br>发现了一个音乐下载神器：<a href="http://www.333ttt.com/up/tool/">全网音乐免费下载神器</a>，这个获取的音乐地址仿佛没有时间限制（切记，复制input文本框链接的地址，点击下载后获取的地址是有时间限制的）</p>
<p>获取酷我mp3外链地址<br>首先，获取要获得外链歌曲的id，在酷我歌曲页面上就有<br>其次，将id拼接到<code>player.kuwo.cn/webmusic/st/getNewMuiseByRid?rid=MUSIC_</code>后面，即<code>http://player.kuwo.cn/webmusic/st/getNewMuiseByRid?rid=MUSIC_76446978</code><br>出现的是该音频的xml信息</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;Song&gt;</span><br><span class="line">&lt;music_id&gt;76446978&lt;/music_id&gt;</span><br><span class="line">&lt;mv_rid&gt;null&lt;/mv_rid&gt;</span><br><span class="line">&lt;name&gt;鐧捐姳棣�&lt;/name&gt;</span><br><span class="line">&lt;song_url&gt;http://yinyue.kuwo.cnhttp://yinyue.kuwo.cn/yy/gequ-weixinyu_baihuaxiang/76446978.htm&lt;/song_url&gt;</span><br><span class="line">&lt;artist&gt;榄忔柊闆�&lt;/artist&gt;</span><br><span class="line">&lt;artid&gt;&lt;/artid&gt;</span><br><span class="line">&lt;singer&gt;榄忔柊闆�&lt;/singer&gt;</span><br><span class="line">&lt;special&gt;鐧捐姳棣�&lt;/special&gt;</span><br><span class="line">&lt;ridmd591&gt;32257EAB20266AE1B2BE8BDF21480CF5&lt;/ridmd591&gt;</span><br><span class="line">&lt;mp3size&gt;null&lt;/mp3size&gt;</span><br><span class="line">&lt;artist_url&gt;http://yinyue.kuwo.cnhttp://yinyue.kuwo.cn/yy/geshou-weixinyu/%E9%AD%8F%E6%96%B0%E9%9B%A8.htm&lt;/artist_url&gt;</span><br><span class="line">&lt;auther_url&gt;http://www.kuwo.cn/mingxing/%E9%AD%8F%E6%96%B0%E9%9B%A8/&lt;/auther_url&gt;</span><br><span class="line">&lt;playid&gt;play?play=MQ==&amp;num=MQ==&lt;/playid&gt;</span><br><span class="line">&lt;artist_pic&gt;http://img2.kuwo.cn/star/starheads/120/2/2ac2a0c633723c75215d05016e400af_0.jpg&lt;/artist_pic&gt;</span><br><span class="line">&lt;artist_pic240&gt;&lt;/artist_pic240&gt;</span><br><span class="line">&lt;path&gt;null&lt;/path&gt;</span><br><span class="line">&lt;mp3path&gt;&amp;format=mp3&amp;rid=MUSIC_76446978&amp;response=res&amp;type=convert_url&amp;&lt;/mp3path&gt;</span><br><span class="line">&lt;aacpath&gt;&amp;format=mp3&amp;rid=MUSIC_76446978&amp;response=res&amp;type=convert_url&amp;&lt;/aacpath&gt;</span><br><span class="line">&lt;mp3dl&gt;antiserver.kuwo.cn/anti.s?useless=&lt;/mp3dl&gt;</span><br><span class="line">&lt;aacdl&gt;antiserver.kuwo.cn/anti.s?useless=&lt;/aacdl&gt;</span><br><span class="line">&lt;lyric&gt;DBYAHlReXEpRUEAeCgxVEgAORRgLG0MXCRgaCwoRAB5UAwEaBAkEBhwaXxcAHVReSAsMAVEkOj0wJjpbX1taT1xSVA==&lt;/lyric&gt;</span><br><span class="line">&lt;lyric_zz&gt;DBYAHlReXEpRUEAeCgxVEgAORRgLG0MXCRgaCwoRAB5UAwEaBAkEBhwaXxcAHVReSAsMAVEkOj0wJjpbX1taT1xSVE8DHBodWF0=&lt;/lyric_zz&gt;</span><br><span class="line">&lt;/Song&gt;</span><br></pre></td></tr></table></figure>
<p>提取<code>&lt;mp3path&gt;</code>和<code>&lt;mp3dl&gt;</code>中的内容，创建url： http://+<code>&lt;mp3dl&gt;</code>内容+<code>&lt;mp3path&gt;</code>内容<br>以上面信息为例，url如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://antiserver.kuwo.cn/anti.s?useless=&amp;format=mp3&amp;rid=MUSIC_76446978&amp;response=res&amp;type=convert_url&amp;</span><br></pre></td></tr></table></figure>
<p>此url为该歌曲的外链（仅适用于酷我音乐）</p>
<h4 id="感谢-4"><a href="#感谢-4" class="headerlink" title="感谢"></a>感谢</h4><p>yilia主题添加aplayer播放器的实现，参照以下网站进行完成，在此表示感谢<br><a href="https://www.techgrow.cn/posts/cfdad023.html">Hexo全局添加APlayer音乐播放器</a><br><a href="http://lantianwork.coding.me/2019/01/13/Hexo%E5%A2%9E%E5%8A%A0APlayer%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%8A%9F%E8%83%BD/">Hexo增加APlayer音乐播放功能</a><br><a href="https://blinkfox.github.io/2018/09/28/qian-duan/hexo-bo-ke-zhu-ti-zhi-hexo-theme-matery-de-jie-shao/#toc-heading-18">Hexo博客主题之hexo-theme-matery的介绍</a><br><a href="https://aplayer.js.org/#/zh-Hans/">aplayer中文文档</a></p>
<h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>最近又看到了许多有用的功能<br>随时更新，可以在所有文章中查询想要的功能</p>
]]></content>
      <tags>
        <tag>博客</tag>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>jsp笔记</title>
    <url>/2019/10/09/jsp%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<p>jsp是java web开发相关知识。简言之，就是用Java和html相关知识做jsp页面，页面类似html，但是扩展名为<code>.jsp</code>，并非<code>.html</code><br>本次课主要内容：创建jsp项目，jsp注释，jsp指令，jsp脚本元素</p>
<span id="more"></span>
<p>通过JavaSE Mysql 可以完成一个简单的控制台项目</p>
<h2 id="jsp第一次课"><a href="#jsp第一次课" class="headerlink" title="jsp第一次课"></a>jsp第一次课</h2><p><strong>两种程序设计方式</strong></p>
<ul>
<li>C/S 客户端 服务器（如桌面应用QQ）</li>
<li>B/S 浏览器 服务器</li>
</ul>
<p><strong>静态网页和动态网页的区别</strong></p>
<ul>
<li>静态和动态最大的区别 数据的交互</li>
<li>静态是没有数据的，动态是对数据的增删改查（CURD）</li>
</ul>
<h3 id="什么是jsp"><a href="#什么是jsp" class="headerlink" title="什么是jsp"></a>什么是jsp</h3><ul>
<li>全称：java server pages</li>
<li>运用的知识：html+java+数据库+jsp自己的语法+js</li>
</ul>
<h3 id="什么是3p"><a href="#什么是3p" class="headerlink" title="什么是3p"></a>什么是3p</h3><ul>
<li>jsp（跨平台，免费） php（论坛，数据量小） asp（微软，收钱）</li>
</ul>
<h3 id="安装环境"><a href="#安装环境" class="headerlink" title="安装环境"></a>安装环境</h3><ul>
<li>jsp必须运行在中间插件上（服务器）</li>
<li>服务器：apache公司的 Tomcat（开源，免费）</li>
<li>其它服务器（了解）：resin、 jboss、 glassfish、 weblogic </li>
<li>如何安装服务器？只需配置环境变量（Tomcat版本要与jdk匹配）<ul>
<li>配置方法 添加环境变量 </li>
<li>变量名：JAVA_HOME（名字不固定）</li>
<li>变量值：D:\Program Files\Java\jdk1.8.0_221（路径配置到jdk的根目录）</li>
</ul>
</li>
<li>测试 Tomcat是否成功<ul>
<li>解压Tomcat安装包，bin里面有个startup.bat</li>
<li>双击，出现 毫秒数 </li>
<li>在打开 网页，输入 <code>http://localhost:8080/</code> 出现Tomcat页面就对了</li>
<li>关闭服务器 bin 里面 双击 shutdown.bat</li>
</ul>
</li>
</ul>
<h3 id="利用eclipse开发java-web项目"><a href="#利用eclipse开发java-web项目" class="headerlink" title="利用eclipse开发java web项目"></a>利用eclipse开发java web项目</h3><ul>
<li>打开eclipse，选好工作空间，在工作空间中选择 File&gt;New&gt;Dynamic Web Project</li>
<li>输入项目名称，选择Target runtime中Tomcat版本（选自己安装的版本）</li>
<li>点击Finsh，项目创建成功</li>
</ul>
<h4 id="没有Dynamic-Web-Project解决办法"><a href="#没有Dynamic-Web-Project解决办法" class="headerlink" title="没有Dynamic Web Project解决办法"></a>没有Dynamic Web Project解决办法</h4><ul>
<li>在New&gt;other…中查找，如果依然没有，可能是没有安装相应插件</li>
<li>安装插件 Help&gt;Install New Software…&gt;选自己的eclipse版本</li>
<li>在  Web, XML, Java EE and OSGi Enterprise Development    中选择（个别没有的表明你已安装）<ul>
<li>Eclipse Java EE Developer Tools</li>
<li>Eclipse Java Web Developer Tools</li>
<li>Eclipse Web Developer Tools</li>
<li>Eclipse XML Editors and Tools</li>
</ul>
</li>
</ul>
<h4 id="New-Runtime中没有Tomcat版本选择"><a href="#New-Runtime中没有Tomcat版本选择" class="headerlink" title="New Runtime中没有Tomcat版本选择"></a>New Runtime中没有Tomcat版本选择</h4><ul>
<li>安装插件 JST Server Adapters</li>
</ul>
<h3 id="jsp文件"><a href="#jsp文件" class="headerlink" title="jsp文件"></a>jsp文件</h3><ul>
<li>创建文件后，默认不是utf-8编码，会出现中文乱码问题，在Preference中 <code>JSP Files</code>中修改编码为utf-8</li>
<li>jsp 必须通过 server 运行</li>
</ul>
<h3 id="如何创建项目的首页"><a href="#如何创建项目的首页" class="headerlink" title="如何创建项目的首页"></a>如何创建项目的首页</h3><ul>
<li>index.jsp<br>jsp文件内容（与html页面相似）<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;</span><br><span class="line">    pageEncoding=&quot;UTF-8&quot;%&gt;</span><br><span class="line">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h3 id="jsp的-注释有几种？"><a href="#jsp的-注释有几种？" class="headerlink" title="jsp的 注释有几种？"></a>jsp的 注释有几种？</h3></li>
<li>html 注释 是显示注释   <code>&lt;!-- --&gt;</code> </li>
<li>java 注释  <code>//</code> <code>/* */</code> </li>
<li>jsp 自己注释  <code>&lt;%-- --%&gt;</code> 隐世注释</li>
</ul>
<h3 id="jsp的指令有几个？都是什么？做什么的？"><a href="#jsp的指令有几个？都是什么？做什么的？" class="headerlink" title="jsp的指令有几个？都是什么？做什么的？"></a>jsp的指令有几个？都是什么？做什么的？</h3><ul>
<li>3个指令<ul>
<li><code>&lt;%@ page %&gt;</code><br>作用： 规定这个jsp页面的基本设置 ，例如语言，文本，编码等等<br>这里唯一一个特殊的  import  可以使用多次<br><code>&lt;%@ page import=&quot;包&quot; %&gt;</code><br>包可以通过<code>,</code>导入多个包<code>&lt;%@ page import=&quot;java.util.*&quot;,&quot;java.io.*&quot;,&quot;java.awt.*&quot; %&gt;</code></li>
<li><code>&lt;%@ include file=&quot;文件&quot; %&gt;</code><br>作用：包含其他页面<br>注意：被包含内容，页面基本格式要一样</li>
<li><code>&lt;%@ taglib %&gt;</code><br>作用：导入标准标签库&gt;&gt;后面详细讲解标签库</li>
<li>问题：page 指令是不是必须只能放在第一行？<br>page指令可以在JSP中的任何地方，以任何顺序出现</li>
</ul>
</li>
</ul>
<h3 id="jsp-的脚本元素"><a href="#jsp-的脚本元素" class="headerlink" title="jsp 的脚本元素"></a>jsp 的脚本元素</h3><ul>
<li>&lt;% 这是java代码 %&gt;<br>中间可以穿插html标签，但需要将java代码截断（可以参考练习中的代码）</li>
<li>&lt;%=表达式%&gt;<br>输出的作用，切记 千万千万别写分号</li>
<li>&lt;%!全局内容%&gt;</li>
</ul>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><h4 id="jsp"><a href="#jsp" class="headerlink" title="jsp"></a>jsp</h4><ul>
<li>Java + html +mysql +jsp自己语法+js</li>
</ul>
<h4 id="jsp做什么？"><a href="#jsp做什么？" class="headerlink" title="jsp做什么？"></a>jsp做什么？</h4><ul>
<li>动态网页（数据交互）</li>
</ul>
<h4 id="jsp的3个指令？"><a href="#jsp的3个指令？" class="headerlink" title="jsp的3个指令？"></a>jsp的3个指令？</h4><ul>
<li><p><code>&lt;%@ page %&gt;</code></p>
<ul>
<li>注：import 能使用多次</li>
</ul>
</li>
<li><p><code>&lt;%@ include file=&quot;&quot;%&gt;</code></p>
</li>
<li><p><code>&lt;%@ taglib %&gt;</code></p>
</li>
</ul>
<h4 id="jsp的3个脚本元素？"><a href="#jsp的3个脚本元素？" class="headerlink" title="jsp的3个脚本元素？"></a>jsp的3个脚本元素？</h4><ul>
<li>&lt;%java代码%&gt;</li>
<li>&lt;%! 全局变量%&gt;</li>
<li>&lt;%=表达式%&gt; 不能有分号</li>
</ul>
<h4 id="开发设计模式"><a href="#开发设计模式" class="headerlink" title="开发设计模式"></a>开发设计模式</h4><ul>
<li>jsp（专门做显示工作） +javaBean（业务逻辑的东西）</li>
</ul>
<h3 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h3><ul>
<li>运用jsp打印出九九乘法表</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;</span><br><span class="line">    pageEncoding=&quot;UTF-8&quot;%&gt;</span><br><span class="line">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%</span><br><span class="line">	for (int i = 1; i &lt;=9; i++) &#123;</span><br><span class="line">		for (int j = 1; j &lt;= i; j++) &#123;</span><br><span class="line">		out.print(j+&quot;*&quot;+i+&quot;=&quot;+(i*j)+&quot; &quot;);</span><br><span class="line">		&#125;</span><br><span class="line">%&gt;</span><br><span class="line">&lt;br&gt;</span><br><span class="line">&lt;%</span><br><span class="line">	&#125;</span><br><span class="line">%&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>输出100内能被3整除的数，每行显示3个</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;</span><br><span class="line">    pageEncoding=&quot;UTF-8&quot;%&gt;</span><br><span class="line">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%</span><br><span class="line">	int j=0;</span><br><span class="line">	for(int i=1;i&lt;101;i++)&#123;</span><br><span class="line">		if(i%3==0)&#123;</span><br><span class="line">			out.print(i+&quot; &quot;);</span><br><span class="line">			j++;</span><br><span class="line">		&#125;</span><br><span class="line">		if(j&gt;0) &#123;</span><br><span class="line">			if(j%3==0)&#123;	</span><br><span class="line">%&gt;</span><br><span class="line">&lt;br&gt;</span><br><span class="line">&lt;%</span><br><span class="line">			j=0;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">%&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h2 id="jsp第二次课"><a href="#jsp第二次课" class="headerlink" title="jsp第二次课"></a>jsp第二次课</h2><p>本次课主要内容<br>包含的相关知识点，两种页面跳转，9个内置对象的部分介绍（四个存值对象，response和out对象），登录模块的简单完成</p>
<h3 id="包含的知识点"><a href="#包含的知识点" class="headerlink" title="包含的知识点"></a>包含的知识点</h3><ul>
<li>静态包含<br><code>&lt;%@ include file=&quot; &quot; %&gt;</code></li>
<li>动作标签<ul>
<li>动态包含</li>
<li><code>&lt;jsp:include page=&quot; &quot;&gt;&lt;/jsp:include&gt;</code></li>
</ul>
</li>
</ul>
<h3 id="静态包含和动态包含的区别？"><a href="#静态包含和动态包含的区别？" class="headerlink" title="静态包含和动态包含的区别？"></a>静态包含和动态包含的区别？</h3><ul>
<li><p>编译方式不同</p>
<ul>
<li>静态的是 先编译完 再包含到一起，最终只是产生 一个.java文件,如果静态包含的文件里面内容改变，结果就会改变</li>
<li>动态的是，各自包含进去，再编译，然后产生多个.java文件，如果动态的包含文件有改变的，结果不一定改变，效率高</li>
</ul>
</li>
<li><p>动态的能传参数</p>
<ul>
<li>通过 <code>&lt;jsp:param value=&quot;jim&quot; name=&quot;username&quot;/&gt;</code></li>
</ul>
</li>
</ul>
<h3 id="跳转"><a href="#跳转" class="headerlink" title="跳转"></a>跳转</h3><ul>
<li>服务器跳转<br><code>&lt;jsp:forward page=&quot;跳转的页面&quot;&gt;&lt;/jsp:forward&gt;</code></li>
<li>客户端跳转（非jsp标签）<br><code>response.sendRedirect(&quot;跳转页面&quot;);</code> 不需要截断java代码，直接在java代码中实现</li>
</ul>
<h3 id="9个内置对象"><a href="#9个内置对象" class="headerlink" title="9个内置对象"></a>9个内置对象</h3><ul>
<li>request、 response、 page、 pageContext、 session、 application、 config、 out、 exception</li>
</ul>
<h4 id="什么是内置对象？"><a href="#什么是内置对象？" class="headerlink" title="什么是内置对象？"></a>什么是内置对象？</h4><ul>
<li>new 出来的东西就是对象</li>
<li>jsp 内部的一个规范，常用的对象 内部封装好了，直接用就可以，不需要用new<h4 id="4个存值对象都有什么"><a href="#4个存值对象都有什么" class="headerlink" title="4个存值对象都有什么"></a>4个存值对象都有什么</h4></li>
<li>page：本页 相当于我们基础的this，代表当前对象</li>
<li>request： 一次请求，一般就是页面跳转一次</li>
<li>session：一次会话，只要你不离开这个浏览器，就在session范围内</li>
<li>application：整个服务器开启都好使</li>
<li>它们4个都有2个共同的方法，就是存对象，取对象</li>
<li>setAttribute(,)/getAttribute(“”)<br>例如<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!--存对象页面--&gt;</span><br><span class="line">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;</span><br><span class="line">    pageEncoding=&quot;UTF-8&quot;%&gt;</span><br><span class="line">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;%</span><br><span class="line">		 /* page 存对象要用 pageContext对象  */</span><br><span class="line">		 pageContext.setAttribute(&quot;username&quot;, &quot;jim&quot;);</span><br><span class="line">	    </span><br><span class="line">	%&gt;</span><br><span class="line">	&lt;%-- &lt;%=pageContext.getAttribute(&quot;username&quot;)%&gt;  --%&gt;</span><br><span class="line">	&lt;jsp:forward page=&quot;PageTest1.jsp&quot;&gt;&lt;/jsp:forward&gt; </span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
PageTest1.jsp<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!--取对象页面--&gt;</span><br><span class="line">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;</span><br><span class="line">    pageEncoding=&quot;UTF-8&quot;%&gt;</span><br><span class="line">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;!--输出对象--&gt;</span><br><span class="line">	&lt;%=pageContext.getAttribute(&quot;username&quot;)%&gt; </span><br><span class="line">	</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></li>
<li>相当于我们java基础学的 4个权限修饰符：private 缺省的  protected public</li>
</ul>
<h4 id="response对象"><a href="#response对象" class="headerlink" title="response对象"></a>response对象</h4><ul>
<li>sendRedirect<br><code>response.sendRedirect(&quot;跳转的文件&quot;)</code> 它不是一次请求，即存值对象request获取不到值</li>
<li>setCharacterEncoding(“UTF-8”)<br><code>request.setCharacterEncoding(&quot;UTF-8&quot;)</code> 解决乱码问题（这个处理乱码就对post方式好使）</li>
</ul>
<h4 id="out对象"><a href="#out对象" class="headerlink" title="out对象"></a>out对象</h4><p>在浏览器页面输出的 out.println();</p>
<h3 id="服务器跳转和客户端跳转的区别？"><a href="#服务器跳转和客户端跳转的区别？" class="headerlink" title="服务器跳转和客户端跳转的区别？"></a>服务器跳转和客户端跳转的区别？</h3><p>1.使用服务器端跳转时，客户浏览器的地址栏并不会显示目标地址的URL，而是用客户端跳转时，地址栏当中会显示目标资源的URL；<br>2.服务器端跳转是由客户端发送一个请求，请求一个服务器资源——如JSP和Servlet——，这个资源又将请求转到另一个服务器资源，然后再给客户端发送一个响应，也就是说服务器端跳转是客户端发送一次请求，服务器端给出一次响应；而客户端跳转的流程则不同。客户端同样是发送一个请求给服务器端资源，这个服务器资源会首先给客户端一个响应，客户端再根据这个响应当中所包含的地址，再次向服务器端发送一个请求，也就是说客户端跳转是两次请求，两次响应；<br>3.在进行客户端跳转和服务器端跳转时，都需要指定目标资源的URL，如果这个路径以“”开始。在客户端跳转当中“”代表的是应用服务器根目录，而在服务器端跳转当中代表的是应用程序根目录。</p>
<h3 id="登录模块"><a href="#登录模块" class="headerlink" title="登录模块"></a>登录模块</h3><p>分析</p>
<ul>
<li>1、有一个html页面<ul>
<li>有2个文本框 ，一个按钮</li>
</ul>
</li>
</ul>
<hr>
<ul>
<li>2、有一个处理数据的jsp页面</li>
<li>3、成功的页面和失败的页面</li>
</ul>
<p>这里实现用户名和密码是固定的登陆页面<br>html页面（实现两个文本框，一个按钮，页面跳转）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!--action=&quot;do/DoLogin.jsp&quot;为页面跳转，form为表单标签--&gt;</span><br><span class="line">	&lt;form action=&quot;do/DoLogin.jsp&quot; method=&quot;post&quot;&gt;</span><br><span class="line">	 &lt;p&gt;用户名: &lt;input type=&quot;text&quot; name=&quot;userName&quot;&gt;&lt;/p&gt;</span><br><span class="line">	  &lt;p&gt;密码: &lt;input type=&quot;password&quot; name=&quot;userPwd&quot;&gt;&lt;/p&gt;</span><br><span class="line">	  &lt;p&gt; &lt;input type=&quot;submit&quot; value=&quot;登录&quot;&gt;&lt;/p&gt;</span><br><span class="line">	&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>jsp数据处理以及跳转页面</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;</span><br><span class="line">    pageEncoding=&quot;UTF-8&quot;%&gt;</span><br><span class="line">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;!-- 接收 Login 表单的值   --&gt;</span><br><span class="line">	&lt;%</span><br><span class="line">	/*  这个处理乱码  就对 post方式好使 */</span><br><span class="line">	  request.setCharacterEncoding(&quot;UTF-8&quot;);</span><br><span class="line">	  String userName=request.getParameter(&quot;userName&quot;);</span><br><span class="line">	String userPwd=request.getParameter(&quot;userPwd&quot;);</span><br><span class="line">	System.out.println(userName+&quot;&quot; +userPwd);</span><br><span class="line">	/* 判断  完跳转 */</span><br><span class="line">	if(&quot;jim&quot;.equals(userName)&amp;&amp;&quot;123&quot;.equals(userPwd))&#123;</span><br><span class="line">	%&gt;</span><br><span class="line">        &lt;!--成功页面--&gt;</span><br><span class="line">		&lt;jsp:forward page=&quot;../ShopShow.jsp&quot;&gt;&lt;/jsp:forward&gt;</span><br><span class="line">	&lt;%</span><br><span class="line">	&#125;else&#123;</span><br><span class="line">        &lt;!--失败页面--&gt;</span><br><span class="line">		/* 客户端跳转 */</span><br><span class="line">		response.sendRedirect(&quot;../Nav.html&quot;);	</span><br><span class="line">	&#125;</span><br><span class="line">	%&gt;</span><br><span class="line">	&lt;!-- 服务器跳转  --&gt;</span><br><span class="line">	&lt;%-- &lt;jsp:forward page=&quot;../ShopShow.jsp&quot;&gt;&lt;/jsp:forward&gt; --%&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h3 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h3><h4 id="jsp的三个动作标签"><a href="#jsp的三个动作标签" class="headerlink" title="jsp的三个动作标签"></a>jsp的三个动作标签</h4><ul>
<li><code>&lt;jsp:include page=&quot; &quot;&gt;&lt;/jsp:include&gt;</code></li>
<li><code>&lt;jsp:param value=&quot;jim&quot; name=&quot;username&quot;/&gt;</code></li>
<li><code>&lt;jsp:forward page=&quot;跳转的页面&quot;&gt;&lt;/jsp:forward&gt;</code><h4 id="静态包含和动态包含的区别？-1"><a href="#静态包含和动态包含的区别？-1" class="headerlink" title="静态包含和动态包含的区别？"></a>静态包含和动态包含的区别？</h4>静态包含是先编译再包含，最后产生一个.class，如果一个文件被改变，结果就会被改变<br>动态包含，先包含，再编译，最后产生多个.class，如果其中一个文件改变，可能结果不会变，但是效率高，而且还可以动态的带值<br>包含一般多用于，网页的菜单栏，导航栏，底部版权的包含<h4 id="9个内置对象-1"><a href="#9个内置对象-1" class="headerlink" title="9个内置对象"></a>9个内置对象</h4>request response page pageContext out session application exception config<h4 id="4个存值对象的内置对象"><a href="#4个存值对象的内置对象" class="headerlink" title="4个存值对象的内置对象"></a>4个存值对象的内置对象</h4></li>
<li>page ==》本页面</li>
<li>request==》一次请求</li>
<li>session===》 一次会话</li>
<li>application==》服务器开启期间</li>
</ul>
<p>都有共同方法，set/getAttribute</p>
<h4 id="request对象"><a href="#request对象" class="headerlink" title="request对象"></a>request对象</h4><ul>
<li>处理乱码</li>
<li>表单取值</li>
<li>获得路径</li>
<li>存对象取对象</li>
<li>请求，可以获取一些服务器信息</li>
</ul>
<h4 id="response对象-1"><a href="#response对象-1" class="headerlink" title="response对象"></a>response对象</h4><ul>
<li>重定向也是客户端跳转</li>
<li>处理乱码和设置文本的格式</li>
<li>设置头部信息</li>
</ul>
<h4 id="服务器跳转和客户端跳转的区别？-1"><a href="#服务器跳转和客户端跳转的区别？-1" class="headerlink" title="服务器跳转和客户端跳转的区别？"></a>服务器跳转和客户端跳转的区别？</h4><ul>
<li>地址栏 <ul>
<li>服务器地址栏不改变，是原地址</li>
<li>客户端是目标地址</li>
</ul>
</li>
</ul>
<hr>
<ul>
<li>访问次数<ul>
<li>服务器端是访问一次服务器</li>
<li>客户端是2次访问 </li>
</ul>
</li>
</ul>
<hr>
<ul>
<li>执行后，后面的代码是否执行？<ul>
<li>服务器端后面的代码不执行==后面不要写释放资源的代码，肯定是执行不了</li>
<li>客户端后面的代码会执行    </li>
</ul>
</li>
</ul>
<hr>
<ul>
<li>session对象 <ul>
<li>一次会话</li>
<li>session有个安全访问期，一般默认是30分钟，银行系统是15分钟</li>
</ul>
</li>
</ul>
<h2 id="jsp第三次课"><a href="#jsp第三次课" class="headerlink" title="jsp第三次课"></a>jsp第三次课</h2><p>好久没写笔记了。从今天开始继续。<br>本次课主要内容：<br>回顾<br>连接数据库的登录</p>
<h3 id="回顾"><a href="#回顾" class="headerlink" title="回顾"></a>回顾</h3><p>每个项目都有一个默认的首页，首页是不用输出到地址栏，访问项目直接识别<br>国内默认习惯 index.html/.jsp ==&gt;i.jsp<br>国外默认习惯 default.html/.jsp</p>
<h4 id="jsp的3个指令"><a href="#jsp的3个指令" class="headerlink" title="jsp的3个指令"></a>jsp的3个指令</h4><ul>
<li><code>&lt;%@ page %&gt;</code><br>面试题：page是不是必须放在第一行<br>答：不是，因为页面一加载，立马执行第一行，page里面写的都是页面的基本配置</li>
<li><code>&lt;%@ page import=&quot;包&quot; %&gt;</code> 是唯一一个可以使用多次的属性，2种导包方式，逗号和多写几次</li>
<li><code>&lt;%@ include file=&quot;文件&quot; %&gt;</code></li>
<li><code>&lt;%@ taglib %&gt;</code></li>
</ul>
<h4 id="jsp的3个脚本"><a href="#jsp的3个脚本" class="headerlink" title="jsp的3个脚本"></a>jsp的3个脚本</h4><ul>
<li>&lt;%java代码%&gt;</li>
<li>&lt;%! 全局变量%&gt;（不常用）</li>
<li>&lt;%=表达式%&gt; 表达式后面不能有分号</li>
</ul>
<h4 id="jsp的3个动作标签"><a href="#jsp的3个动作标签" class="headerlink" title="jsp的3个动作标签"></a>jsp的3个动作标签</h4><ul>
<li>动态包含<br><code>&lt;jsp:include page=&quot; &quot;&gt;&lt;/jsp:include&gt;</code></li>
<li>传递参数<br><code>&lt;jsp:param value=&quot;jim&quot; name=&quot;username&quot;/&gt;</code></li>
<li>服务器跳转（request能获取到值）<br><code>&lt;jsp:forward page=&quot;跳转的页面&quot;&gt;&lt;/jsp:forward&gt;</code><h4 id="9个内置对象-2"><a href="#9个内置对象-2" class="headerlink" title="9个内置对象"></a>9个内置对象</h4>request response page pageContext out session application exception  config<h5 id="存值对象的内置对象-4个"><a href="#存值对象的内置对象-4个" class="headerlink" title="存值对象的内置对象 4个"></a>存值对象的内置对象 4个</h5></li>
<li>page ==》本页面</li>
<li>request==》一次请求</li>
<li>session===》 一次会话</li>
<li>application==》服务器开启期间</li>
<li>都有共同方法， set/getAttribute</li>
</ul>
<p>java核心是对象，我们整个项目，以对象为核心，到处用对象，那么就涉及2个对象之间的互相调用问题</p>
<h4 id="request对象-1"><a href="#request对象-1" class="headerlink" title="request对象"></a>request对象</h4><p>1)处理乱码 <code>request.setCharacterEncoding(&quot;UTF-8&quot;);</code><br>2)表单取值 <code>request.getParameter(&quot;值&quot;);</code><br>3)获得路径<br><code>request.getRequestURI();</code>获取访问路径: 项目名+servlet<br><code>request.getRequestURL();</code>获取完整路径<br>4)存对象取对象 set/getAttribute<br>请求，可以获取一些服务器信息 </p>
<h4 id="response对象-2"><a href="#response对象-2" class="headerlink" title="response对象"></a>response对象</h4><p>1）重定向 也是客户端跳转 <code>response.sendRedirect(&quot;跳转的文件&quot;)</code><br>2）处理乱码和设置文本的格式<br>设置浏览器默认编码utf8<br><code>response.setHeader(&quot;content-type&quot;, &quot;text/html;charset=utf-8&quot;);</code><br>设置response默认编码<br><code>response.setCharacterEncoding(&quot;utf-8&quot;);</code><br>字符流输出中文<br><code>response.getWriter().print(&quot;文本&quot;);</code></p>
<h4 id="session对象"><a href="#session对象" class="headerlink" title="session对象"></a>session对象</h4><p>一次会话<br>session有个安全访问期，一般默认是30分钟，银行系统是15分钟</p>
<h3 id="连接数据库的登录"><a href="#连接数据库的登录" class="headerlink" title="连接数据库的登录"></a>连接数据库的登录</h3><ul>
<li>1）设计表<ul>
<li>admin</li>
</ul>
</li>
<li>2）设计表单<ul>
<li>login.html</li>
</ul>
</li>
<li>3)连接数据库<ul>
<li>a）导入jar</li>
<li>b）加载驱动</li>
</ul>
</li>
<li>4）获取表单值，比对从数据库出来的</li>
</ul>
<h4 id="实现方法"><a href="#实现方法" class="headerlink" title="实现方法"></a>实现方法</h4><p>1.将数据库连接驱动导入web项目下的lib文件夹下，加载到项目中<br>2.在java文件夹下的src文件夹内建立相应的包和类<br>以上跟java控制台项目连接数据库操作几乎相同<br>3.建立一个登录页面html文件（表单页面）<br>4.建立一个获取表单数据的jsp文件，与数据库比较，实现相应的页面跳转<br>这里附上一部分代码</p>
<p>登录页面html（没加任何样式）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;登录&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;!-- 表单 --&gt;</span><br><span class="line">&lt;form action=&quot;do/DoLogin.jsp&quot; method=&quot;post&quot;&gt;</span><br><span class="line">&lt;p&gt;用户名：&lt;input type=&quot;text&quot; name=&quot;loginname&quot;&gt;&lt;/p&gt;</span><br><span class="line">&lt;p&gt;密码：&lt;input type=&quot;password&quot; name=&quot;nloginpwd&quot;&gt;&lt;/p&gt;</span><br><span class="line">&lt;p&gt;&lt;input type=&quot;submit&quot; value=&quot;登录&quot;&gt;&lt;/p&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>获取表单数据的jsp</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;%-- 导java类 --%&gt;</span><br><span class="line">&lt;%@page import=&quot;dao.AdminDAO&quot;%&gt;</span><br><span class="line">&lt;%@page import=&quot;vo.Admin&quot;%&gt;</span><br><span class="line">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;</span><br><span class="line">    pageEncoding=&quot;UTF-8&quot;%&gt;</span><br><span class="line">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;!-- 接收表单的值   --&gt;</span><br><span class="line">&lt;%</span><br><span class="line">  request.setCharacterEncoding(&quot;UTF-8&quot;);</span><br><span class="line">  String userName=request.getParameter(&quot;loginname&quot;);</span><br><span class="line">String userPwd=request.getParameter(&quot;nloginpwd&quot;);</span><br><span class="line">Admin ad=new Admin();</span><br><span class="line">ad.setAdminname(userName);</span><br><span class="line">ad.setAdminpassword(userPwd);</span><br><span class="line">AdminDAO ao=new AdminDAO();</span><br><span class="line">/*连接数据库*/</span><br><span class="line">/* 判断  完跳转 */</span><br><span class="line">if(ao.getAdmin(ad)&gt;0)&#123;</span><br><span class="line">%&gt;</span><br><span class="line">	&lt;jsp:forward page=&quot;../Success.jsp&quot;&gt;&lt;/jsp:forward&gt;</span><br><span class="line">&lt;%</span><br><span class="line">&#125;else&#123;</span><br><span class="line">	/* 客户端跳转 */</span><br><span class="line">	response.sendRedirect(&quot;../Failed.jsp&quot;);	</span><br><span class="line">&#125;</span><br><span class="line">%&gt;</span><br><span class="line">&lt;!-- 服务器跳转  --&gt;</span><br><span class="line">&lt;%-- &lt;jsp:forward page=&quot;../ShopShow.jsp&quot;&gt;&lt;/jsp:forward&gt; --%&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h2 id="jsp第四次课"><a href="#jsp第四次课" class="headerlink" title="jsp第四次课"></a>jsp第四次课</h2><p>本次课主要内容：<br>tomcat目录介绍、创建servlet<br>doGet、doPost、service区别<br>servlet生命周期、request、response、servlet里面连接数据库、过滤器</p>
<h3 id="tomcat目录介绍"><a href="#tomcat目录介绍" class="headerlink" title="tomcat目录介绍"></a>tomcat目录介绍</h3><p>bin:可执行文件（启动服务、关闭服务等）<br>conf：配置文件（web.xml等）<br>lib：依赖库<br>logs:日志文件<br>temp：临时文件<br>webapps：发布项目<br>work：jsp转成java及class文件</p>
<h3 id="创建servlet"><a href="#创建servlet" class="headerlink" title="创建servlet"></a>创建servlet</h3><h4 id="方法1"><a href="#方法1" class="headerlink" title="方法1"></a>方法1</h4><p>src下创建包<br>包下创建servlet（包-&gt;右键-&gt;servlet-&gt;起名-&gt;Finish）<br>Dynamic Web Project 3.0及以上版本创建servlet时自动添加注释<br>项目中不会自动生成web.xml文件<br>项目创建的servlet源码</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import java.io.IOException;</span><br><span class="line">import javax.servlet.ServletException;</span><br><span class="line">import javax.servlet.annotation.WebServlet;</span><br><span class="line">import javax.servlet.http.HttpServlet;</span><br><span class="line">import javax.servlet.http.HttpServletRequest;</span><br><span class="line">import javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Servlet implementation class Servlet</span><br><span class="line"> */</span><br><span class="line">@WebServlet(&quot;/Servlet&quot;)</span><br><span class="line">public class Servlet extends HttpServlet &#123;</span><br><span class="line">	private static final long serialVersionUID = 1L;</span><br><span class="line">       </span><br><span class="line">    /**</span><br><span class="line">     * @see HttpServlet#HttpServlet()</span><br><span class="line">     */</span><br><span class="line">    public Servlet() &#123;</span><br><span class="line">        super();</span><br><span class="line">        // TODO Auto-generated constructor stub</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	/**</span><br><span class="line">	 * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span><br><span class="line">	 */</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		response.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	/**</span><br><span class="line">	 * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)</span><br><span class="line">	 */</span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>启动tomcat直接访问注解中的路径</p>
<h4 id="方法2"><a href="#方法2" class="headerlink" title="方法2"></a>方法2</h4><p>src下创建包<br>包下创建servlet（包-&gt;右键-&gt;servlet-&gt;起名-&gt;Finish）<br>注解删除<br>web.xml中配置servlet、servlet-mapping（3.0版本之前会创建web.xml）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;servlet&gt;</span><br><span class="line">&lt;!--名字--&gt;</span><br><span class="line">&lt;servlet-name&gt;TestServlet&lt;/servlet-name&gt;</span><br><span class="line">&lt;!--类路径--&gt;</span><br><span class="line">&lt;servlet-class&gt;com.aly.test.TestServlet&lt;/servlet-class&gt;</span><br><span class="line">&lt;/servlet&gt;</span><br><span class="line">&lt;servlet-mapping&gt;</span><br><span class="line">&lt;!--名字--&gt;</span><br><span class="line">&lt;servlet-name&gt;TestServlet&lt;/servlet-name&gt;</span><br><span class="line">&lt;!--访问路径--&gt;</span><br><span class="line">&lt;url-pattern&gt;/TestServlet&lt;/url-pattern&gt;</span><br><span class="line">&lt;/servlet-mapping&gt;</span><br></pre></td></tr></table></figure>
<h4 id="方法3"><a href="#方法3" class="headerlink" title="方法3"></a>方法3</h4><p>创建一个普通的java文件<br>继承HttpServlet<br>重写里面的doGet、doPost、service方法<br>配置注解@WebServlet(“/TestServ”)<br>启动服务测试</p>
<h3 id="doGet、doPost、service区别"><a href="#doGet、doPost、service区别" class="headerlink" title="doGet、doPost、service区别"></a>doGet、doPost、service区别</h3><p>service：如果重写了，请求一定是service处理<br>doGet：若果没有重写service，那么请求的方式是get的<br>doPost：若果没有重写service，那么请求的方式是post的</p>
<h3 id="servlet生命周期"><a href="#servlet生命周期" class="headerlink" title="servlet生命周期"></a>servlet生命周期</h3><p>1.init():初始化时候调用一次<br>2.第一次访问servlet时，对servlet进行初始化<br>3.destroy():销毁的时候调用一次<br>4.关闭服务器<br>5.<code>web.xml</code>配置servlet时添加<code>&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;</code>：可以使servlet在服务启动时加载</p>
<h3 id="request"><a href="#request" class="headerlink" title="request"></a>request</h3><h4 id="携带参数"><a href="#携带参数" class="headerlink" title="携带参数"></a>携带参数</h4><p><code>request.setAttribute(&quot;uname&quot;, uname);</code></p>
<h4 id="获取参数的类型-Object-需要强制类型转换"><a href="#获取参数的类型-Object-需要强制类型转换" class="headerlink" title="获取参数的类型--Object 需要强制类型转换"></a>获取参数的类型<code>--</code>Object 需要强制类型转换</h4><p><code>request.getAttribute(&quot;uname&quot;);</code></p>
<h4 id="服务器端跳转（请求转发、类似post）-跳转的页面或servlet"><a href="#服务器端跳转（请求转发、类似post）-跳转的页面或servlet" class="headerlink" title="服务器端跳转（请求转发、类似post）--------跳转的页面或servlet"></a>服务器端跳转（请求转发、类似post）<code>--------</code>跳转的页面或servlet</h4><p><code>request.getRequestDispatcher(&quot;success.jsp&quot;).forward(request, response);</code><br><code>&lt;jsp:forward page=&quot;success.jsp&quot;&gt;&lt;/jsp:forward&gt;</code></p>
<h4 id="中文乱码问题"><a href="#中文乱码问题" class="headerlink" title="中文乱码问题"></a>中文乱码问题</h4><p>所有的乱码都是由字符编码格式不匹配，统一编码格式<br>解决乱码的方法（servlet里添加）</p>
<p>post方式提交的乱码问题<br><code>request.setCharacterEncoding(&quot;utf-8&quot;);</code></p>
<p>get方式提交的乱码，或者直接在地址栏提交的乱码<br><code>String uname = request.getParameter(&quot;uname&quot;);</code><br><code>uname = new String(uname.getBytes(&quot;iso-8859-1&quot;),&quot;utf-8&quot;);</code></p>
<h3 id="response"><a href="#response" class="headerlink" title="response"></a>response</h3><p>客户端跳转（请求重定向、get）<br><code>response.sendRedirect(&quot;fail.jsp&quot;);</code></p>
<h3 id="servlet里面连接数据库"><a href="#servlet里面连接数据库" class="headerlink" title="servlet里面连接数据库"></a>servlet里面连接数据库</h3><p>1.依赖包复制到WebContent下的WEB-INF的下面<br>2.JDBC的工具类复制到工程中<br>3.获取查询时所需要的参数<br>4.编写sql<br>5.JDBC工具类创建对象连接数据路查询</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import java.io.IOException;</span><br><span class="line">import java.util.LinkedList;</span><br><span class="line">import java.util.Map;</span><br><span class="line"></span><br><span class="line">import javax.servlet.ServletException;</span><br><span class="line">import javax.servlet.annotation.WebServlet;</span><br><span class="line">import javax.servlet.http.HttpServlet;</span><br><span class="line">import javax.servlet.http.HttpServletRequest;</span><br><span class="line">import javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line">import com.aly.po.Student;</span><br><span class="line">import com.aly.tool.JdbcUtil;</span><br><span class="line"></span><br><span class="line">@WebServlet(&quot;/LoginServ&quot;)</span><br><span class="line">public class LoginServ extends HttpServlet &#123;</span><br><span class="line">	private static final long serialVersionUID = 1L;</span><br><span class="line">       </span><br><span class="line">    public LoginServ() &#123;</span><br><span class="line">        super();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		doPost(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">        //接收post表单值</span><br><span class="line">		String uname = request.getParameter(&quot;uname&quot;);</span><br><span class="line">		System.out.println(uname);</span><br><span class="line">		String pwd = request.getParameter(&quot;pwd&quot;);</span><br><span class="line">        //创建表的vo包对象</span><br><span class="line">		Student stu = new Student();</span><br><span class="line">        //往对象里赋值</span><br><span class="line">		stu.setName(uname);</span><br><span class="line">        //sql语句</span><br><span class="line">		String sql = &quot;SELECT * FROM USER_INFO WHERE username = &#x27;&quot;+uname+&quot;&#x27; and password=&#x27;&quot;+pwd+&quot;&#x27;&quot;;</span><br><span class="line">        //创建数据库连接的类</span><br><span class="line">		JdbcUtil ju = new JdbcUtil();</span><br><span class="line">        //调用sql语句</span><br><span class="line">		LinkedList&lt;Map&lt;String, Object&gt;&gt; list = ju.queryByList(sql);</span><br><span class="line">        //判断跳转</span><br><span class="line">		if(list.size() &gt; 0)&#123;</span><br><span class="line">			request.getSession().setAttribute(&quot;uname&quot;, uname);</span><br><span class="line">			request.getRequestDispatcher(&quot;success.jsp&quot;).forward(request, response);</span><br><span class="line">		&#125;else&#123;</span><br><span class="line">			request.setAttribute(&quot;mess&quot;, &quot;登录失败&quot;);</span><br><span class="line">			request.getRequestDispatcher(&quot;login.jsp&quot;).forward(request, response);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="过滤器"><a href="#过滤器" class="headerlink" title="过滤器"></a>过滤器</h3><h4 id="创建方法"><a href="#创建方法" class="headerlink" title="创建方法"></a>创建方法</h4><p>右键Filter，起名字，Finish<br>注解部分需要改成@WebFilter(“/<em>“)<br>在doFilter方法里面<br>request.setCharacterEncoding(“utf-8”);<br>chain.doFilter(request, response);（必须添加，不然会在过滤器卡住）<br>主要解决乱码问题，@WebFilter(“/</em>“)表示项目中所有的访问都要经过这个过滤器</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import java.io.IOException;</span><br><span class="line">import javax.servlet.Filter;</span><br><span class="line">import javax.servlet.FilterChain;</span><br><span class="line">import javax.servlet.FilterConfig;</span><br><span class="line">import javax.servlet.ServletException;</span><br><span class="line">import javax.servlet.ServletRequest;</span><br><span class="line">import javax.servlet.ServletResponse;</span><br><span class="line">import javax.servlet.annotation.WebFilter;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Servlet Filter implementation class EncodingFilter</span><br><span class="line"> */</span><br><span class="line">@WebFilter(&quot;/*&quot;)</span><br><span class="line">public class EncodingFilter implements Filter &#123;</span><br><span class="line"></span><br><span class="line">    public EncodingFilter() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	public void destroy() &#123;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException &#123;</span><br><span class="line">		request.setCharacterEncoding(&quot;utf-8&quot;);</span><br><span class="line">		chain.doFilter(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void init(FilterConfig fConfig) throws ServletException &#123;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="在servlet里面获取session"><a href="#在servlet里面获取session" class="headerlink" title="在servlet里面获取session"></a>在servlet里面获取session</h3><p>HttpServletRequest<br><code>request.getSession()</code></p>
<h3 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h3><p>这里附上一个JdbcUtil，数据库的增删改查操作类<br>JdbcUtil.java</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import java.sql.Connection;</span><br><span class="line">import java.sql.DriverManager;</span><br><span class="line">import java.sql.ResultSet;</span><br><span class="line">import java.sql.ResultSetMetaData;</span><br><span class="line">import java.sql.SQLException;</span><br><span class="line">import java.sql.Statement;</span><br><span class="line">import java.util.LinkedList;</span><br><span class="line">import java.util.Map;</span><br><span class="line">import java.util.TreeMap;</span><br><span class="line"></span><br><span class="line">public class JdbcUtil &#123;</span><br><span class="line"></span><br><span class="line">	String url = &quot;jdbc:mysql://localhost:3308/employee&quot;;</span><br><span class="line">	String user = &quot;root&quot;;</span><br><span class="line">	String password = &quot;&quot;;</span><br><span class="line">	Connection conn = null;</span><br><span class="line">	Statement stmt = null;</span><br><span class="line">	ResultSet rs = null;</span><br><span class="line"></span><br><span class="line">	//加载驱动</span><br><span class="line">	static &#123;</span><br><span class="line">		try &#123;</span><br><span class="line">			Class.forName(&quot;com.mysql.jdbc.Driver&quot;);</span><br><span class="line">		&#125; catch (ClassNotFoundException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	// 获取连接对象</span><br><span class="line">	public Connection getConn()&#123;</span><br><span class="line">		try &#123;</span><br><span class="line"></span><br><span class="line">			conn = DriverManager.getConnection(url, user, password);</span><br><span class="line">			return conn;</span><br><span class="line">		&#125; catch (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">			return null;</span><br><span class="line">		&#125; </span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 获取语句对象</span><br><span class="line">	public Statement getStmt() &#123;</span><br><span class="line">		try &#123;</span><br><span class="line"></span><br><span class="line">			conn = DriverManager.getConnection(url, user, password);</span><br><span class="line">			stmt = conn.createStatement();</span><br><span class="line">			return stmt;</span><br><span class="line">		&#125; catch (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">			return null;</span><br><span class="line">		&#125; finally &#123;</span><br><span class="line">			//release();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	// 更新并返回被影响行数</span><br><span class="line">	public int update(String sql) &#123;</span><br><span class="line">		int num;</span><br><span class="line">		try &#123;</span><br><span class="line">			num = getStmt().executeUpdate(sql);</span><br><span class="line">			return num;</span><br><span class="line">		&#125; catch (SQLException e) &#123;</span><br><span class="line"></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">			return -1;</span><br><span class="line">		&#125; finally &#123;</span><br><span class="line">			release();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	// 查询返回ResultSet</span><br><span class="line">	public ResultSet query(String sql) &#123;</span><br><span class="line">		try &#123;</span><br><span class="line">			rs = getStmt().executeQuery(sql);</span><br><span class="line">			return rs;</span><br><span class="line">		&#125; catch (SQLException e) &#123;</span><br><span class="line"></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">			return null;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	//通过RSMD将结果集保存在list中，最终释放资源</span><br><span class="line">	public LinkedList&lt;Map&lt;String, Object&gt;&gt; queryByList(String sql) &#123;</span><br><span class="line">		LinkedList&lt;Map&lt;String, Object&gt;&gt; list = new LinkedList&lt;Map&lt;String, Object&gt;&gt;();</span><br><span class="line">		try &#123;</span><br><span class="line">			rs = getStmt().executeQuery(sql);</span><br><span class="line">			ResultSetMetaData rsmd = rs.getMetaData();</span><br><span class="line">			//获取列数</span><br><span class="line">			int columnCount = rsmd.getColumnCount();</span><br><span class="line">			while (rs.next()) &#123;</span><br><span class="line">				Map&lt;String, Object&gt; map = new TreeMap&lt;String, Object&gt;();</span><br><span class="line">				for (int i = 0; i &lt; columnCount; i++) &#123;</span><br><span class="line">					String key = rsmd.getColumnName(i+1);</span><br><span class="line">					String value = rs.getString(key);</span><br><span class="line">					map.put(key, value);</span><br><span class="line">				&#125;</span><br><span class="line">				list.add(map);</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line">			return list;</span><br><span class="line"></span><br><span class="line">		&#125; catch (Exception e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">			return null;</span><br><span class="line">		&#125; finally &#123;</span><br><span class="line">			//释放资源</span><br><span class="line">			release();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	/**批量更新*/</span><br><span class="line">	public void  updateBatch(String[] sqls)&#123;</span><br><span class="line">		stmt = getStmt();</span><br><span class="line">		</span><br><span class="line">		/**设置不自动提交*/</span><br><span class="line">		try &#123;</span><br><span class="line">			conn.setAutoCommit(false);</span><br><span class="line">			for(String sql : sqls)&#123;</span><br><span class="line">				stmt.addBatch(sql);</span><br><span class="line">			&#125;</span><br><span class="line">			stmt.executeBatch();</span><br><span class="line">			</span><br><span class="line">			/**事务提交*/</span><br><span class="line">			conn.commit(); </span><br><span class="line">		&#125; catch (SQLException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void release() &#123;</span><br><span class="line">		if (rs != null) &#123;</span><br><span class="line">			try &#123;</span><br><span class="line">				rs.close();</span><br><span class="line">			&#125; catch (SQLException e) &#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		if (stmt != null) &#123;</span><br><span class="line">			try &#123;</span><br><span class="line">				stmt.close();</span><br><span class="line">			&#125; catch (SQLException e) &#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		if (conn != null) &#123;</span><br><span class="line">			try &#123;</span><br><span class="line">				conn.close();</span><br><span class="line">			&#125; catch (SQLException e) &#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="jsp第五次课"><a href="#jsp第五次课" class="headerlink" title="jsp第五次课"></a>jsp第五次课</h2><p>本次课主要内容：<br>过滤器web.xml配置方式、监听器、application<br>表单空间默认值、表单的正常处理、表单控件回显<br>MVC模式</p>
<h3 id="过滤器web-xml配置方式（web-xml）"><a href="#过滤器web-xml配置方式（web-xml）" class="headerlink" title="过滤器web.xml配置方式（web.xml）"></a>过滤器web.xml配置方式（web.xml）</h3><p>web.xml中添加</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;filter&gt;</span><br><span class="line">&lt;filter-name&gt;过滤器名字&lt;/filter-name&gt;</span><br><span class="line">&lt;filter-class&gt;类名&lt;/filter-class&gt;</span><br><span class="line">&lt;/filter&gt;</span><br><span class="line">&lt;filter-mapping&gt;</span><br><span class="line">&lt;filter-name&gt;过滤器名字&lt;/filter-name&gt;</span><br><span class="line">&lt;url-pattern&gt;需要过滤的url&lt;/url-pattern&gt;</span><br><span class="line">&lt;/filter-mapping&gt;</span><br></pre></td></tr></table></figure>
<h3 id="监听器"><a href="#监听器" class="headerlink" title="监听器"></a>监听器</h3><p>监视某事件的发生，做出响应<br>右键-&gt;Listener-&gt;起名字-&gt;选择你要监听的事件-&gt;finish<br>web.xml配置（注解二选一）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;listener&gt;</span><br><span class="line">&lt;listener-class&gt;类名&lt;/listener-class&gt;</span><br><span class="line">&lt;/listener&gt;</span><br></pre></td></tr></table></figure>
<h3 id="application"><a href="#application" class="headerlink" title="application"></a>application</h3><p>所有用户共享的变量<br>从服务开启到服务关闭<br>setAttribute(名字，存放值);<br>getAttribute(名字);<br>在servlet中获取application<br><code>request.getSession().getServletContext();</code><br>session重新初始化<br><code>session.invalidate</code></p>
<h4 id="通过session获取网页在线人数"><a href="#通过session获取网页在线人数" class="headerlink" title="通过session获取网页在线人数"></a>通过session获取网页在线人数</h4><p>创建session监听器</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public void sessionCreated(HttpSessionEvent arg0)  &#123; </span><br><span class="line">    	ServletContext app = arg0.getSession().getServletContext();</span><br><span class="line">    	Integer num = (Integer)app.getAttribute(&quot;num&quot;);</span><br><span class="line">    	if(num != null)&#123;</span><br><span class="line">    		num++;</span><br><span class="line">    		app.setAttribute(&quot;num&quot;, num);</span><br><span class="line">    	&#125;else&#123;</span><br><span class="line">    		app.setAttribute(&quot;num&quot;, 1);</span><br><span class="line">    	&#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">public void sessionDestroyed(HttpSessionEvent arg0)  &#123;</span><br><span class="line">    System.out.println(&quot;session死了&quot;);</span><br><span class="line">    ServletContext app = arg0.getSession().getServletContext();</span><br><span class="line">    Integer num = (Integer)app.getAttribute(&quot;num&quot;);</span><br><span class="line">    num--;</span><br><span class="line">    app.setAttribute(&quot;num&quot;, num);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在jsp页面添加</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">当前网页在线人数：&lt;%=application.getAttribute(&quot;num&quot;) %&gt;</span><br></pre></td></tr></table></figure>
<h4 id="通过session获取网页访问量"><a href="#通过session获取网页访问量" class="headerlink" title="通过session获取网页访问量"></a>通过session获取网页访问量</h4><p>基于上面的在线人数<br>在jsp页面添加</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">	Integer sum = (Integer)application.getAttribute(&quot;sum&quot;);</span><br><span class="line">	if(sum != null)&#123;</span><br><span class="line">		sum++;</span><br><span class="line">		application.setAttribute(&quot;sum&quot;, sum);</span><br><span class="line">	&#125;else&#123;</span><br><span class="line">		application.setAttribute(&quot;sum&quot;, 1);</span><br><span class="line">	&#125;</span><br><span class="line">%&gt;</span><br><span class="line">当前访问量:&lt;%=application.getAttribute(&quot;sum&quot;) %&gt;</span><br></pre></td></tr></table></figure>
<h3 id="表单控件默认值"><a href="#表单控件默认值" class="headerlink" title="表单控件默认值"></a>表单控件默认值</h3><p>通过<code>request.getParameter(name);</code>获取值<br>checkbox通过<code>request.getParameterValues(&quot;checkbox&quot;);</code>获取值（用字符串数组接值）</p>
<table>
<thead>
<tr>
<th align="center">input标签type属性</th>
<th align="center">值</th>
</tr>
</thead>
<tbody><tr>
<td align="center">password</td>
<td align="center">空字符串</td>
</tr>
<tr>
<td align="center">password</td>
<td align="center">空字符串</td>
</tr>
<tr>
<td align="center">textArea</td>
<td align="center">空字符串</td>
</tr>
<tr>
<td align="center">radio</td>
<td align="center">null</td>
</tr>
<tr>
<td align="center">checkbox</td>
<td align="center">null</td>
</tr>
</tbody></table>
<h3 id="radio的正常处理"><a href="#radio的正常处理" class="headerlink" title="radio的正常处理"></a>radio的正常处理</h3><p>一般情况下会有默认值（checked=”checkid”）</p>
<h3 id="checkbox（字符串数组）"><a href="#checkbox（字符串数组）" class="headerlink" title="checkbox（字符串数组）"></a>checkbox（字符串数组）</h3><p>先判断是否为null<br>遍历拼接成字符串（中间需要特殊字符间隔）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// 将多选数据存为字符串，多选数据的值为hobby</span><br><span class="line">String hobbys[] = request.getParameterValues(&quot;hobby&quot;);</span><br><span class="line">String hobby = &quot;&quot;;</span><br><span class="line">if (hobbys != null &amp;&amp; hobbys.length &gt; 0) &#123;</span><br><span class="line">    for (String s : hobbys) &#123;</span><br><span class="line">        hobby += s + &quot;-&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">    hobby = hobby.substring(0, hobby.length() - 1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="表单控件回显"><a href="#表单控件回显" class="headerlink" title="表单控件回显"></a>表单控件回显</h3><table>
<thead>
<tr>
<th align="center">属性</th>
<th align="center">回显方法</th>
</tr>
</thead>
<tbody><tr>
<td align="center">text</td>
<td align="center">value=&lt;%=request.getAttribute(“text”)%&gt; 如果有可能第一次访问当前界面，需要判断值是否是null</td>
</tr>
<tr>
<td align="center">textarea</td>
<td align="center">两个标签之间</td>
</tr>
<tr>
<td align="center">radio</td>
<td align="center">将得到的值，和每一个选项判断，加上checked=”checked”</td>
</tr>
<tr>
<td align="center">checkbox</td>
<td align="center">将得到的值，和每一个选项判断，加上checked=”checked”</td>
</tr>
</tbody></table>
<h3 id="MVC模式"><a href="#MVC模式" class="headerlink" title="MVC模式"></a>MVC模式</h3><p>MVC模式是一种项目开发模式，适合多人开发的一种模式<br>介绍java web项目经历的几种开发模式</p>
<p>第一种模式jsp，类似php<br>所有的java代码都写在jsp页面，一个人开发，form表单的值传到jsp页面进行处理</p>
<p>第二种jsp+servlet(model1)<br>form表单的值提交到servlet中进行处理</p>
<p>第三种model2== MVC<br>M：model模式（业务bean）<br>V：view视图，即jsp<br>C：controller控制，servlet</p>
<h2 id="jsp第六次课"><a href="#jsp第六次课" class="headerlink" title="jsp第六次课"></a>jsp第六次课</h2><p>本次课主要内容：<br>MVC模式、el表达式、jstl表达式</p>
<h3 id="MVC模式-1"><a href="#MVC模式-1" class="headerlink" title="MVC模式"></a>MVC模式</h3><p>MVC全名是Model View Controller，是模型(model)－视图(view)－控制器(controller)的缩写，一种软件设计典范，用一种业务逻辑、数据、界面显示分离的方法组织代码，将业务逻辑聚集到一个部件里面，在改进和个性化定制界面及用户交互的同时，不需要重新编写业务逻辑。MVC被独特的发展起来用于映射传统的输入、处理和输出功能在一个逻辑的图形化用户界面的结构中。<br>java项目MVC模式的开发思路<br>jsp页面：form表单的传值和回显，提交数据到servlet<br>servlet包：处理form表单的传值，调用service，进行页面跳转<br>service包：调用dao包，对dao包获得的数据进行回传<br>dao包：定义sql语句，调用数据库操作的工具包，返回查询的数据<br>bean包（或vo包）：表中名称私有属性，get/set方法</p>
<h3 id="el表达式"><a href="#el表达式" class="headerlink" title="el表达式"></a>el表达式</h3><p>EL（Expression Language） 是为了使JSP写起来更加简单。表达式语言的灵感来自于 ECMAScript 和 XPath 表达式语言，它提供了在 JSP 中简化表达式的方法，让Jsp的代码更加简化。</p>
<h4 id="jsp页面的取值方法（非el）"><a href="#jsp页面的取值方法（非el）" class="headerlink" title="jsp页面的取值方法（非el）"></a>jsp页面的取值方法（非el）</h4><p><code>request.getAttribute(&quot;值&quot;)</code><br>如果传过来的是一个对象，需要对取值进行强制类型转换<br><code>(UserInfo)request.getAttribute(&quot;uinfo&quot;)).getUsername()</code></p>
<h4 id="el取值"><a href="#el取值" class="headerlink" title="el取值"></a>el取值</h4><p><code>$&#123;值&#125;</code><br>如果传过来的是一个对象<br><code>$&#123;emp.sex &#125;</code> 对象.属性<br>el表达式可以进行算数运算，直接输出运算后的结果<br>逻辑运算时，输出true或false</p>
<h3 id="jstl表达式"><a href="#jstl表达式" class="headerlink" title="jstl表达式"></a>jstl表达式</h3><p>JSP标准标签库（JSTL）是一个JSP标签集合，它封装了JSP应用的通用核心功能。<br>JSTL支持通用的、结构化的任务，比如迭代，条件判断，XML文档操作，国际化标签，SQL标签。 除了这些，它还提供了一个框架来使用集成JSTL的自定义标签。<br>这里简单介绍一下jstl核心标签</p>
<h4 id="核心标签"><a href="#核心标签" class="headerlink" title="核心标签"></a>核心标签</h4><p>核心标签是最常用的JSTL标签。引用核心标签库的语法如下：<br><code>&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;</code><br>这个引用在jsp页面添加<br>介绍几个表单回显需要用到的几个标签<br><code>&lt;c:out&gt;</code> 用于在JSP中显示数据，就像<code>&lt;%= ... &gt;</code><br><code>&lt;c:if&gt;</code> 与我们在一般程序中用的if一样<br>比如回显表单中的多选</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;input type=&quot;checkbox&quot; name=&quot;hobby&quot; value=&quot;足球&quot;</span><br><span class="line">&lt;c:if test=&quot;$&#123;emp.hobby.indexOf(&#x27;足球&#x27;) &gt;=0&#125;&quot; var=&quot;res&quot; scope=&quot;session&quot;&gt;</span><br><span class="line">checked=&quot;checked&quot;&lt;/c:if&gt;</span><br><span class="line">&gt;足球&lt;input type=&quot;checkbox&quot; name=&quot;hobby&quot; value=&quot;篮球&quot;</span><br><span class="line">&lt;c:if test=&quot;$&#123;emp.hobby.indexOf(&#x27;篮球&#x27;)&gt;=0&#125;&quot; var=&quot;res&quot; scope=&quot;session&quot;&gt;</span><br><span class="line">checked=&quot;checked&quot;&lt;/c:if&gt;</span><br><span class="line">&gt;篮球&lt;input type=&quot;checkbox&quot; name=&quot;hobby&quot; value=&quot;排球&quot;</span><br><span class="line">&lt;c:if test=&quot;$&#123;emp.hobby.indexOf(&#x27;排球&#x27;)&gt;=0&#125;&quot; var=&quot;res&quot; scope=&quot;session&quot;&gt;</span><br><span class="line">checked=&quot;checked&quot;&lt;/c:if&gt;</span><br><span class="line">&gt;排球</span><br></pre></td></tr></table></figure>
<p><code>&lt;c:forEach&gt;</code> 基础迭代标签，接受多种集合类型<br>也可以用作form表单回显</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;input type=&quot;checkbox&quot; name=&quot;hobby&quot; value=&quot;篮球&quot; </span><br><span class="line">&lt;c:forEach items=&quot;$&#123;hobby &#125;&quot; var=&quot;s&quot;&gt;</span><br><span class="line">    &lt;c:if test=&quot;$&#123;&#x27;篮球&#x27; == s &#125;&quot;&gt;</span><br><span class="line">        checked=&quot;checked&quot;</span><br><span class="line">    &lt;/c:if&gt;</span><br><span class="line">&lt;/c:forEach&gt;</span><br><span class="line">/&gt;篮球</span><br><span class="line">&lt;input type=&quot;checkbox&quot; name=&quot;hobby&quot; value=&quot;足球&quot; </span><br><span class="line">&lt;c:forEach items=&quot;$&#123;hobby &#125;&quot; var=&quot;s&quot;&gt;</span><br><span class="line">    &lt;c:if test=&quot;$&#123;&#x27;足球&#x27; == s &#125;&quot;&gt;</span><br><span class="line">        checked=&quot;checked&quot;</span><br><span class="line">    &lt;/c:if&gt;</span><br><span class="line">&lt;/c:forEach&gt;</span><br><span class="line">/&gt;足球</span><br><span class="line">&lt;input type=&quot;checkbox&quot; name=&quot;hobby&quot; value=&quot;排球&quot; </span><br><span class="line">&lt;c:forEach items=&quot;$&#123;hobby &#125;&quot; var=&quot;s&quot;&gt;</span><br><span class="line">    &lt;c:if test=&quot;$&#123;&#x27;排球&#x27; == s &#125;&quot;&gt;</span><br><span class="line">        checked=&quot;checked&quot;</span><br><span class="line">    &lt;/c:if&gt;</span><br><span class="line">&lt;/c:forEach&gt;</span><br><span class="line">/&gt;排球</span><br></pre></td></tr></table></figure>
<p>这el和jstl表达式简化了jsp用java代码的取值方式</p>
<h2 id="jsp第七次课"><a href="#jsp第七次课" class="headerlink" title="jsp第七次课"></a>jsp第七次课</h2><p>本次课主要内容：<br>登录失败的错误提示方法<br>flieupload文件上传</p>
<h3 id="登录失败错误提示"><a href="#登录失败错误提示" class="headerlink" title="登录失败错误提示"></a>登录失败错误提示</h3><p>jsp页面form表单提交用户名和密码<br>数据库匹配失败，即用户名或密码错误</p>
<h4 id="实现方法-1"><a href="#实现方法-1" class="headerlink" title="实现方法"></a>实现方法</h4><p>在jsp页面form表单下面添加一个标签，回显servlet登录失败传值</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- 登录失败错误提示 --&gt;</span><br><span class="line">&lt;div style=&quot;color:red;text-align:center;&quot;&gt;$&#123;mes &#125;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>样式根据自己需要更改</p>
<p>servlet判断失败，进行失败传值</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import java.io.IOException;</span><br><span class="line">import javax.servlet.ServletException;</span><br><span class="line">import javax.servlet.annotation.WebServlet;</span><br><span class="line">import javax.servlet.http.HttpServlet;</span><br><span class="line">import javax.servlet.http.HttpServletRequest;</span><br><span class="line">import javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line">import bean.Admin;</span><br><span class="line">import service.AdminServ;</span><br><span class="line"></span><br><span class="line">@WebServlet(&quot;/login&quot;)</span><br><span class="line">public class LoginServlet extends HttpServlet &#123;</span><br><span class="line">	private static final long serialVersionUID = 1L;</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		//获取表单数据</span><br><span class="line">		String uname=request.getParameter(&quot;uname&quot;);</span><br><span class="line">		String pwd=request.getParameter(&quot;pwd&quot;);</span><br><span class="line">		//创建对象赋值</span><br><span class="line">		Admin ad=new Admin();</span><br><span class="line">		ad.setUname(uname);</span><br><span class="line">		ad.setPwd(pwd);</span><br><span class="line">		//调用service</span><br><span class="line">		AdminServ as=new AdminServ();</span><br><span class="line">		//接收service数据</span><br><span class="line">		Admin admin=as.login(ad);</span><br><span class="line">		//不为空，跳转到主页，否则登录失败，回到登录页</span><br><span class="line">		if(admin!=null) &#123;</span><br><span class="line">			request.getSession().setAttribute(&quot;admin&quot;, admin);</span><br><span class="line">			response.sendRedirect(&quot;showAll&quot;);</span><br><span class="line">		&#125;else &#123;</span><br><span class="line">			request.setAttribute(&quot;mes&quot;,&quot;用户名或密码错误&quot;);</span><br><span class="line">			request.getRequestDispatcher(&quot;login.jsp&quot;).forward(request, response);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="flieupload文件上传"><a href="#flieupload文件上传" class="headerlink" title="flieupload文件上传"></a>flieupload文件上传</h3><ul>
<li>在lib文件夹下导入两个jar包<br>commons-fileupload-1.2.2.jar<br>commons-io-2.3.jar<br>这两个包在官网应该可以下载（版本可能不一样）</li>
<li>jsp页面form表单提交方式为post，<code>enctype=&quot;multipart/form-data&quot;</code></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;</span><br><span class="line">    pageEncoding=&quot;UTF-8&quot;%&gt;</span><br><span class="line">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;文件上传&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form action=&quot;fileupd&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;</span><br><span class="line">&lt;input type=&quot;file&quot; name=&quot;file&quot;&gt;</span><br><span class="line">&lt;input type=&quot;submit&quot;&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>将数据提交到servlet<br>servlet接收上传文件，实现上传</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import java.io.FileOutputStream;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.InputStream;</span><br><span class="line"></span><br><span class="line">import javax.servlet.ServletException;</span><br><span class="line">import javax.servlet.annotation.WebServlet;</span><br><span class="line">import javax.servlet.http.HttpServlet;</span><br><span class="line">import javax.servlet.http.HttpServletRequest;</span><br><span class="line">import javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line">import org.apache.commons.fileupload.FileItemIterator;</span><br><span class="line">import org.apache.commons.fileupload.FileUploadException;</span><br><span class="line">import org.apache.commons.fileupload.disk.DiskFileItemFactory;</span><br><span class="line">import org.apache.commons.fileupload.servlet.ServletFileUpload;</span><br><span class="line"></span><br><span class="line">@WebServlet(&quot;/fileupd&quot;)</span><br><span class="line">public class Fileupd extends HttpServlet &#123;</span><br><span class="line">	private static final long serialVersionUID = 1L;</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		try &#123;</span><br><span class="line">			//创建桌面文件项工程</span><br><span class="line">			DiskFileItemFactory dfif =new DiskFileItemFactory();</span><br><span class="line">			//解析磁盘文件项</span><br><span class="line">			ServletFileUpload sfu=new ServletFileUpload(dfif);</span><br><span class="line">			//解析request请求，放入迭代器</span><br><span class="line">			FileItemIterator fii = sfu.getItemIterator(request);</span><br><span class="line">			//通过迭代器得到上传文件的输入流</span><br><span class="line">			InputStream is=fii.next().openStream();</span><br><span class="line">			//创建输出流</span><br><span class="line">			FileOutputStream fos=new FileOutputStream(&quot;d:/1.jpg&quot;);</span><br><span class="line">			int len=0;</span><br><span class="line">			byte[] b=new byte[1024];</span><br><span class="line">			while((len=is.read(b))&gt;0) &#123;</span><br><span class="line">				fos.write(b,0,len);</span><br><span class="line">			&#125;</span><br><span class="line">			fos.close();</span><br><span class="line">			is.close();</span><br><span class="line">		&#125; catch (FileUploadException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这里以照片为例，上传的文件保存在<code>d:/1.jpg</code></p>
<h4 id="flieupload文件上传工具类分享"><a href="#flieupload文件上传工具类分享" class="headerlink" title="flieupload文件上传工具类分享"></a>flieupload文件上传工具类分享</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import java.io.File;</span><br><span class="line">import java.util.ArrayList;</span><br><span class="line">import java.util.HashMap;</span><br><span class="line">import java.util.List;</span><br><span class="line">import java.util.Map;</span><br><span class="line">import java.util.UUID;</span><br><span class="line"></span><br><span class="line">import javax.servlet.http.HttpServletRequest;</span><br><span class="line"></span><br><span class="line">import org.apache.commons.fileupload.FileItem;</span><br><span class="line">import org.apache.commons.fileupload.FileUploadException;</span><br><span class="line">import org.apache.commons.fileupload.disk.DiskFileItemFactory;</span><br><span class="line">import org.apache.commons.fileupload.servlet.ServletFileUpload;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">public class FileUploadTool &#123;</span><br><span class="line">	/**具有所有表单信息的请求*/</span><br><span class="line">	private HttpServletRequest request;</span><br><span class="line">	</span><br><span class="line">	/**存放单个数值的表单数据的KV对,如：文本框，单选框等*/</span><br><span class="line">	private Map&lt;String, String&gt; map;</span><br><span class="line">	</span><br><span class="line">	/**存放多个数值的表单数据的KV对，如：多选框*/</span><br><span class="line">	private Map&lt;String, List&lt;String&gt;&gt; mapValues;</span><br><span class="line">	</span><br><span class="line">	/**文件的上传路径-项目的文件夹*/</span><br><span class="line">	private String filePath;</span><br><span class="line">	</span><br><span class="line">	/**文件最终上传到服务器的位置*/</span><br><span class="line">	private String fileServerUrl;</span><br><span class="line">	</span><br><span class="line">	/**</span><br><span class="line">	 * 基本构造方法，默认上传文件的路径是 image</span><br><span class="line">	 * @param request 具有表单数据的请求</span><br><span class="line">	 */</span><br><span class="line">	public FileUploadTool(HttpServletRequest request) &#123;</span><br><span class="line">		this(request, &quot;image&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	/**</span><br><span class="line">	 * @param request 具有表单数据的请求</span><br><span class="line">	 * @param filePath 上传文件的路径</span><br><span class="line">	 */</span><br><span class="line">	public FileUploadTool(HttpServletRequest request, String filePath) &#123;</span><br><span class="line">		this.request = request;</span><br><span class="line">		this.filePath = filePath;</span><br><span class="line">		</span><br><span class="line">		map = new HashMap&lt;String, String&gt;();</span><br><span class="line">		mapValues = new HashMap&lt;String, List&lt;String&gt;&gt;();</span><br><span class="line">		</span><br><span class="line">		upload();//上传文件</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	/**</span><br><span class="line">	 * 指定上传到服务器上的文件名称</span><br><span class="line">	 * @title: getFileName</span><br><span class="line">	 * @param fileName</span><br><span class="line">	 * @return String</span><br><span class="line">	 */</span><br><span class="line">	private String getFileName(String fileName) &#123;</span><br><span class="line">		return UUID.randomUUID() + fileName.substring(fileName.lastIndexOf(&quot;.&quot;)) ;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	/**</span><br><span class="line">	 * 执行上传文件</span><br><span class="line">	 * @title: upload</span><br><span class="line">	 */</span><br><span class="line">	@SuppressWarnings(&quot;unchecked&quot;)</span><br><span class="line">	public void upload() &#123;</span><br><span class="line">		//获取文件最终上传到服务器的位置-文件夹</span><br><span class="line">		fileServerUrl = request.getSession().getServletContext().getRealPath(filePath);</span><br><span class="line">		</span><br><span class="line">		//如果此文件夹不存在，则新创建一个。</span><br><span class="line">		File floder = new File(fileServerUrl);</span><br><span class="line">		if(!floder.exists()) &#123;</span><br><span class="line">			floder.mkdir();</span><br><span class="line">		&#125;</span><br><span class="line">		//创建DiskFileItemFactory 对象用来保存表单控件的每一项</span><br><span class="line">		DiskFileItemFactory dff = new DiskFileItemFactory();</span><br><span class="line">		//创建ServletFileUpload 对象 用来解析表单的每一个控件(FileItem)</span><br><span class="line">		ServletFileUpload sfu = new ServletFileUpload(dff);</span><br><span class="line">		</span><br><span class="line">		try &#123;</span><br><span class="line">			//把表单标签封装成FileItem对象</span><br><span class="line">			</span><br><span class="line">			List&lt;FileItem&gt; list = sfu.parseRequest(request);</span><br><span class="line">			//System.out.println(&quot;标签总数:&quot; + list.size());</span><br><span class="line">			</span><br><span class="line">			//已存表单的值，用来判断是否已经存过当前name值的表单</span><br><span class="line">			String lastValues = null;</span><br><span class="line">			</span><br><span class="line">			//用来处理多选框等多个数值的表单，存放一个表单控件的多个数据</span><br><span class="line">			List&lt;String&gt; values;</span><br><span class="line">			</span><br><span class="line">			//遍历每个FileItem对象，即遍历每个表单标签</span><br><span class="line">			for (int i = 0; i &lt; list.size(); i++) &#123;</span><br><span class="line">				</span><br><span class="line">				//获取当前所遍历的表单对象</span><br><span class="line">				FileItem fileItem = list.get(i);</span><br><span class="line">				</span><br><span class="line">				//这里获取的是表单标签的name属性值，即Key值</span><br><span class="line">				String targetName = fileItem.getFieldName();</span><br><span class="line">				</span><br><span class="line">				if(fileItem.isFormField()) &#123;//是普通的表单标签</span><br><span class="line">					</span><br><span class="line">					//取出普通标签的值</span><br><span class="line">					String value = fileItem.getString(&quot;UTF-8&quot;);</span><br><span class="line">					</span><br><span class="line">					//把此表单控件的name属性值，以及用户所填的数据，一起放到map中</span><br><span class="line">					lastValues = map.put(targetName, value);</span><br><span class="line">					</span><br><span class="line">				</span><br><span class="line">					if(lastValues != null ) &#123;//如果有多选框</span><br><span class="line">						</span><br><span class="line">						//获取此多选框的数值集合</span><br><span class="line">						values = mapValues.get(targetName);</span><br><span class="line">						</span><br><span class="line">						//如果没有，即第二个数值</span><br><span class="line">						if(values == null) &#123;</span><br><span class="line">							//则新创建一个集合</span><br><span class="line">							values = new ArrayList&lt;String&gt;();</span><br><span class="line">							</span><br><span class="line">							//把此表单数值集合，放到多数值的map集合中</span><br><span class="line">							mapValues.put(targetName, values);</span><br><span class="line">							</span><br><span class="line">							//把此控件的上一个数值，放到此控件数值集合中。</span><br><span class="line">							values.add(lastValues);</span><br><span class="line">						&#125;</span><br><span class="line">						</span><br><span class="line">						//添加当前的数值到集合中。</span><br><span class="line">						values.add(value);</span><br><span class="line">					&#125;</span><br><span class="line">					</span><br><span class="line">				&#125;else &#123;//是文件标签</span><br><span class="line">					</span><br><span class="line">					String fileName = fileItem.getName();//获取文件的名称-用户上传的</span><br><span class="line">					</span><br><span class="line">					if(!&quot;&quot;.equals(fileName)) &#123;//如果用户已选择文件</span><br><span class="line">						//获取上传到服务器上的文件名称</span><br><span class="line">						fileName = getFileName(fileName);</span><br><span class="line">						</span><br><span class="line">						//把此控件的name属性值，及上传到服务器上的文件名称，一起放到map中</span><br><span class="line">						lastValues = map.put(targetName, fileName);</span><br><span class="line">						</span><br><span class="line">						if(lastValues != null ) &#123;//如果是上传多个文件</span><br><span class="line">							//获取此多个文件的数值集合</span><br><span class="line">							values = mapValues.get(targetName);</span><br><span class="line">							</span><br><span class="line">							//如果没有，即第二个数值</span><br><span class="line">							if(values == null) &#123;</span><br><span class="line">								//则新创建一个集合</span><br><span class="line">								values = new ArrayList&lt;String&gt;();</span><br><span class="line">								</span><br><span class="line">								//把此表单数值集合，放到多数值的map集合中</span><br><span class="line">								mapValues.put(targetName, values);</span><br><span class="line">								</span><br><span class="line">								//把此控件的上一个上传到服务器的文件名称，放到此控件数值集合中。</span><br><span class="line">								values.add(lastValues);</span><br><span class="line">							&#125;</span><br><span class="line">							</span><br><span class="line">							//把此控件的上一个上传到服务器的文件名称  加当前的数值到集合中。</span><br><span class="line">							values.add(fileName);</span><br><span class="line">						&#125;</span><br><span class="line">						</span><br><span class="line">						//这是上传文件的关键操作</span><br><span class="line">						fileItem.write(new File(fileServerUrl, fileName));</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; catch (FileUploadException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; catch (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	/**</span><br><span class="line">	 * 获取单数据表单中的内容</span><br><span class="line">	 * @title: getParameter</span><br><span class="line">	 * @param key</span><br><span class="line">	 * @return String</span><br><span class="line">	 */</span><br><span class="line">	public String getParameter(String key) &#123;</span><br><span class="line">		return map.get(key);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	/**</span><br><span class="line">	 * 获取多数据表单控件中的内容</span><br><span class="line">	 * @title: getParamaterValues</span><br><span class="line">	 * @param key</span><br><span class="line">	 * @return List&lt;String&gt;</span><br><span class="line">	 */</span><br><span class="line">	public List&lt;String&gt; getParamaterValues(String key) &#123;</span><br><span class="line">		return mapValues.get(key);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>jsp</tag>
      </tags>
  </entry>
  <entry>
    <title>命运之夜下（更新至第十七话）</title>
    <url>/2019/09/30/%E5%91%BD%E8%BF%90%E4%B9%8B%E5%A4%9C%E4%B8%8B/</url>
    <content><![CDATA[<h2 id="分集剧情"><a href="#分集剧情" class="headerlink" title="分集剧情"></a>分集剧情</h2><h3 id="第十三话-冬之城"><a href="#第十三话-冬之城" class="headerlink" title="第十三话 冬之城"></a>第十三话 冬之城</h3><p>士郎不在<br>只要努力防御，挡住她的攻击…<br>“Saber！Saber！”<br>“士郎！”<br>遥远的不列颠尼亚群岛<br>亚瑟王站在军队的前方，手中持着石中剑，看着远方</p>
<span id="more"></span>
<h4 id="十三话-冬之城"><a href="#十三话-冬之城" class="headerlink" title="十三话 冬之城"></a>十三话 冬之城</h4><p>卫宫家<br>士郎坐在客厅中思考着<br>凛打开灯，推开门走了进来<br>“Saber现在怎么样了？”士郎关心地问着<br>“按照现状来看，短期内她是醒不过来了。”<br>“这样啊…幸好有你在这里。”<br>“我也没做什么。Saber的身体也不见好转，你可以和我说明一下，出了什么事了吗？”<br>“我们把Rider打倒了，打倒了Rider…Saber用了宝具，之后就昏倒了。”<br>“Saber用了宝具啊。那好，我就先不问你宝具是什么了，对现在的你们而言，这也不重要了。”<br>“呃…什么意思？”<br>“我想你多少应该注意到吧，再这样下去，Saber就会消失。”<br>“会消失？”<br>“Saber的魔力，几乎都用完了。我不知道她到底用了什么宝具，不过我想，这大概需要花费她所有的魔力。按理说，魔力给身为灵体的Servant提供肉体能量，所以Saber也是一样，魔力只要一用光她就会消失。”<br>“可是，不是一直都好好的吗？Saber自己也讲过，只要睡一下就会恢复啊。”<br>“那是因为，现在的魔力消耗太大。的确，Saber是还存有魔力，所以恢复的魔力也能保住肉体。”<br>“这么说的话，应该没什么大问题了。”<br>“不过，也只是仅此而已。Saber一直都要在无法从Master那里获取魔力的状态下战斗，下次再用宝具的话，Saber一定会消失的。”<br>“那不让她用宝具就行了吧？”<br>“没有宝具的Servant，根本不可能在圣杯战争中活下来。”<br>“怎么会…？”<br>“能让受伤的Servant恢复的方法只有两种。Master提供魔力，或者…让Servant自己去获取魔力。”<br>“那不就是让她像Rider那样…夺取无辜人的魂魄，作为自己的力量吗？”<br>士郎生气地拍着桌子<br>“你在胡说什么！如果要让Saber这样做…”<br>“她一定会抵死不从吧。那要不然，你可以提供她魔力吗？”<br>“呃…如果可以的话我早就做了，但是我并没有那种能力。”<br>“召唤完成，你跟Saber之间的联系应该打通了才对，可能还有别的方法吧。”凛摇着头<br>“算了，拿这种话安慰自己，也不是办法。我想你自己也明白吧，事到如今，也就只有一个办法了，如果你想救Saber，就只能用令咒，让她去攻击其他人。”<br>“让她去伤害那些无辜的人？”<br>“只有这样，才可以避免最坏的情况。要是你不想失去Saber，就只能用令咒，知道吗？”<br>“可是…”<br>Saber房间<br>士郎坐在昏迷的Saber旁边，思考着<br>“Saber已经快到极限了，在其他的Servant攻击以来，你要尽快做决定。”<br>用令咒让她去攻击其他人…只有这样，才能救Saber吗？<br>不知不觉中，士郎睡着了<br>不列颠<br>阿尔托利亚·潘德拉贡系着头巾，向国家教堂墓园走去<br>阿尔托利亚十五岁时，父亲尤瑟·潘德拉贡去世。根据梅林的寓言，骑士们希望在国家教堂墓园中以拔取石中剑的形式来选任新国王。一直隐藏身份的阿尔托利亚走到石中剑前，没有人注视着她。因为已经有太多骑士去尝试却失败了，甚至骑士们已经开始怀疑梅林寓言的真实性。<br>面对这把决定她命运的剑，响起了梅林的声音<br>“将此剑从岩石中拔起者，将会是不列颠之王。阿尔托利亚，在拿起那东西前，还是先仔细想想比较好。一旦拿起那把剑，直到最后你都将不再是人类，你会被所有的人类憎恨，并最终迎接悲惨的死亡吧。”<br>“我知道，我是自愿拔剑才来此地的。”<br>阿尔托利亚很清楚，一旦拔出石中剑，她将不再是过去的那个为了成为王而拼命学习、训练的小姑娘，而是一位真正的王。为了守护人民，自己的剑上必将染满鲜血，即使被抛弃、背叛、唾骂，她也再无回头之路。<br>不再有任何犹豫，阿尔托利亚仿佛理所当然一般拔出了那把‘必胜黄金之剑’。即刻起，时光长河便为王而冻结，王的身体和容颜停止了成长和衰老，永驻在十五岁的那一刻。<br>“我们的王乃是战神，不论大小战役，都冲在最前面，从不知战败为何物。”<br>“没有任何东西能够阻挡于亚瑟王飒爽的英姿。”<br>“自拔起选定之剑以来，就未曾变过。”<br>“王是不会老去的。”<br>“简直，犹如勇者的化身！”<br>士郎出现，看着士兵面前拿着剑的王<br>“王，谁是王？那是Saber？跟昨晚Saber用的剑不同，那个时候的剑去哪了？”<br>不知不觉中，天已经亮了<br>士郎睁开眼睛<br>“糟糕，我睡着了啊。”<br>看着昏迷的Saber<br>梦里的Saber和我所认识的Saber不太一样，做梦还会梦到这种情节吗？<br>怎么回事，看了那把剑，身体就异常的热<br>士郎擦着Saber头上的汗<br>你千万不能消失，Saber<br>“你只能用令咒让她去攻击其他的人。”<br>回想起凛的话和学校中的受害者，士郎陷入了沉思<br>院子中，士郎看着正在拉弓的Archer<br>“你有什么事吗？要问我弓道的事情，请恕我无可奉告。”Archer说着<br>“没人想要问你弓道的事情，我只是好奇你在做什么而已。”<br>“如你所见，我正在检查自己的状况。被Saber打伤的地方也治好了，总不能一直担任看守的角色，我可是服从凛的Servant。”<br>士郎看着Archer<br>没错，已经没有时间犹豫了，既然远坂和这家伙正式回归了战线，我也得尽快做出决定<br>“Saber的事我听说了，被一个不完全的Master给召唤出来，在没有魔力来源的状态下战斗，总有一天会消失的，这种事从一开始就注定了。”<br>“我绝对不会让Saber消失。”士郎转身准备离开<br>“看来你还是没有察觉到，那我就告诉你，Saber应该也明白自己用了宝具就会消失，恐怕，她本来打算到最后都不使用宝具的吧。尽管如此，她仍用了宝具的理由只有一个，Saber不顾自己的安危，选择了保护你，希望你千万不要忘了这一点！”<br>公园中，士郎独自坐在椅子上<br>为了打倒其他的Master，为了结束这场圣杯战争，就必须要有Saber才行<br>不对，就算没有这些理由，我也不想让Saber消失<br>如果用了令咒，即使Saber不同意，命令还是可以实行的，就像Rider那样，为了活下去而攻击别人，吸取魔力<br>捂着头，纠结着<br>不行，怎么能让Saber做那种事<br>“我还以为不在呢。”伊莉雅看着士郎<br>士郎睁开眼睛<br>“伊莉雅？”<br>“你好，士郎。”<br>伊莉雅走向士郎<br>“看你心事重重的样子，发生了什么事？”按着士郎的腿，看着士郎<br>“你怎么又一个人跑来这种地方？抱歉，我现在没有精力跟你聊天。”<br>“Saber快消失了，对不对？”<br>士郎看着伊莉雅<br>“伊莉雅？”<br>“就是因为士郎这个样子，才会让Rider的Master给跑掉了。”伊莉雅笑着<br>“对于战败的人，杀了不就好了吗。”<br>“那个时候，你该不会也在那里吧？”<br>“对，人家在那里。”<br>“什么…”<br>“不过在大楼里面顶多也就能观察情况而已。”伊莉雅对士郎使用魔眼<br>“伊莉雅，你…”<br>“这就动不了了啊，都是因为士郎你，一如既往的没有一点防备，竟然这么简单就被我抓到了，真是可爱。”伊莉雅笑着<br>“伊莉雅…”<br>“你就算挣扎也是白费功夫，大哥哥。大概马上就会出不了声了，不过别担心，人家呢，今天也不是过来聊天的。”<br>“你想要杀我？”士郎费劲地问着<br>“反正Saber都要消失了，那就早点解决不是很好吗，晚安，大哥哥。”<br>士郎闭上了眼睛<br>梦到了那把黄金之剑<br>黄金之剑是专为她打造的剑<br>我并不是想要，只是觉得很美，如果可以的话，我想要得到它<br>在梦里的话，只是想象一下应该不过分吧，如果想得到那把剑的话，单凭强化魔术是不行的，必须要多费些功夫，我记得，好像是要…是要怎么做来着？<br>伊莉雅城堡中，士郎睁开眼睛，吓了一跳<br>这到底是怎么回事？我被伊莉雅封住了意识，之后就…<br>士郎被绑在椅子上，挣扎着<br>“什么情况，到底发生了什么？”<br>看着窗外<br>“已经这么晚了。不快点回去的话Saber她…”<br>挣扎着，想将绳子解开<br>伊莉雅推开门<br>“啊，你终于醒了。”<br>伊莉雅穿着裙子，没有戴帽子<br>走到士郎旁边，“身体怎么样了，能发出声音了吧。”<br>“是啊，已经清楚的知道自己被人抓住了。”<br>“什么嘛，这还不满意？一般情况下，被抓到的敌人是要丢进地牢的哦。是人家让士郎进我的房间的。这里是树林中的城堡，没有人能来救你，也不会有人来捣乱。”<br>“为什么要带我来这种地方，要杀我的话在公园就能得手吧。”<br>伊莉雅坐到士郎面前<br>“为什么要杀你？人家并没有要杀士郎的念头耶，人家会杀其他的Master，不过士郎是例外嘛。问你哦，你要不要当人家的Servant啊，你要是同意的话，人家就不杀你。”<br>“你说什么？”<br>卫宫家<br>Saber睁开眼睛，感应到士郎遇到了危险，费劲地起身，“士郎。”<br>倚着墙，找着士郎<br>“士郎，你…在哪里？”<br>累得倒在了地上，“士郎。”<br>卫宫家门口<br>“士郎不见了？”凛问着Saber<br>“是，虽然还能感觉到他平安无事，不过，他离我们很远，恐怕是在敌方的阵地。我想向你借助力量。”<br>Archer走了过来<br>“别管她，凛。”<br>Saber和凛看着Archer<br>“士郎八成是在想事情的时候，一不留神被人抓走了。对于那种Master，没有义务伸出援手！”<br>“放尊重点！”Saber说着<br>“我们本来就是敌对的关系，既然你自己要去送死，也省得我们麻烦。”<br>Saber想要自己去救士郎，没走几步就倒在了地上，凛接住Saber<br>“你不能去，魔力不够你也不能武装不是吗？”<br>“我要去应战，我不能丢下士郎不管。”<br>看着虚弱的Saber，凛闭上了眼睛，思考着，做出了决定<br>“Archer。”<br>Archer回过头，看着凛<br>城堡中<br>“好不好，士郎，来当人家的Servant嘛。”<br>“你，你胡说八道什么啊！”<br>“可是，Saber一消失你不也就相当于输了吗？就算继续，做Master也没意义嘛。”<br>“没有，Saber还没有消失！”<br>“嗯？不过以她那种状态，马上就会被杀掉哦。士郎只要呆在这里就好了，人家会永远保护你的。”趴在士郎身上<br>“不行，你快下去，伊莉雅，你再怎么引诱我，我也…”<br>伊莉雅摆出闭嘴的手势<br>“真是的，你一点也看不清现状。听好哦，现在的士郎就像笼中鸟，你的生死由人家来定，不可以说会令人家生气的话哦。而且，人家都等了十年了。这么轻易就杀了你，那样也太没意思了。”<br>士郎有些惊讶<br>“人家再问你最后一次。士郎，我要你成为我的Servant。”<br>此时，Saber和凛正在大街上找着士郎<br>“伊莉雅，我是不会答应的。我还有Saber，所以我只能以Master的身份来战斗。”<br>“是吗？就连你都要背叛人家啊。”<br>伊莉雅往门口走着<br>“一直以来，人家都没有为难过你，不过也就到此为止了，你就在那边好好等着！”<br>凛和Saber来到了公园，看到了士郎坐过的椅子<br>“等等，伊莉雅，你要干什么？”<br>“人家要去杀了Saber，这么一来，士郎多少也会后悔吧。”<br>“不要！这件事跟Saber还有远坂都没有关系，我不能呆在伊莉雅的身边，是我自己的原因。”<br>“是吗，不过人家还是要杀了那两个人，杀了他们之后，再来就轮到士郎你了。既然你不愿意成为人家的Servant，我要你还有什么用。”<br>Saber扶着栏杆在桥上走着，凛跟在后面<br>“你要恨就恨我，你有什么理由杀Saber跟远坂？”<br>“其他的Master也不可能放任他们活着，这就是圣杯战争，不是吗？”<br>“笨蛋！别轻易说出杀人两个字啊！”<br>“哎呀，那还真是遗憾，人家已经杀过Master了哦，大哥哥。”<br>“什么？”<br>伊莉雅向士郎走了过来<br>“就是昨天的事，就连人家自己也没料到，原本以为大哥哥会把他解决掉。”<br>楼顶上，慎二逃到走廊内，看到了楼里的Berserker和伊莉雅，Berserker向慎二砍了过去<br>“对不起哦，都是因为士郎你不杀他，人家才动手的。其实人家也不喜欢这样多管闲事…”<br>伊莉雅笑着<br>“那我出门了，你就在这里想办法怎么逃出去吧。”<br>“伊莉雅！伊莉雅，等一下！”<br>伊莉雅推开门，离开<br>“得快点阻止她，她是认真的。”挣扎着<br>“可恶，身体…伊莉雅魔眼的影响，还残留在身体里吗？那样的话，虽然有点乱来，只好用魔力冲刷掉了。”<br>“同调，开始，基本架构，解明，构成材质，解明。”<br>魔力生成的很快，这是远坂让我吞下去的那颗宝石的功效吗？<br>士郎挣扎着，忽然，魔术回路打开，嘴里流出了鲜血<br>气喘吁吁地呼吸着<br>还差一点，等我，Saber<br>通往城堡的森林中<br>Saber在前面走着，凛跟在后面，Archer现身，跟着凛<br>士郎，你不会有事的</p>
<h3 id="第十四话-理想的尽头"><a href="#第十四话-理想的尽头" class="headerlink" title="第十四话 理想的尽头"></a>第十四话 理想的尽头</h3><p>“将此剑从岩石中拔起者，将会是不列颠之王。阿尔托利亚，在你握住剑柄之前，我劝你三思。你取得那把剑之后，你将不再为人。”<br>“Saber不顾自己的安危，选择了保护你，希望你千万不要忘了这一点。”<br>“问你哦，你要不要当人家的Servant啊？你要是同意的话，人家就不杀你。”<br>“你说什么？”<br>凛和Saber等人来到城堡面前<br>“爱因兹贝伦城堡，是这里没错吧？”凛问着一旁的Saber<br>Saber点着头，“嗯。”<br>“真是的，如果你们都清醒的话，你们应该不会忘了吧，对方的Servant是谁。”Archer说着<br>Saber想起了与Berserker的战斗<br>“无论有什么在等着我，都没有关系，对Servant而言，Master就是…”<br>“等等，Archer消除实体，Saber隐藏气息。”<br>Archer消失，凛好像察觉到了什么<br>忽然，城堡的门打开，伊莉雅穿着裙子走了出来<br>Saber和凛躲在树的后面，看着走出来的伊莉雅<br>伊莉雅斯菲尔，凛在心里默默地念着<br>伊莉雅停了下来，好像发现了什么，环视着周围<br>“是我多心了吗？”离开了城堡<br>“士郎。”Saber担心着</p>
<h4 id="十四话-理想的尽头"><a href="#十四话-理想的尽头" class="headerlink" title="十四话 理想的尽头"></a>十四话 理想的尽头</h4><p>城堡中，士郎在椅子上挣扎着<br>“还差一点。”<br>绳子解开了，士郎站了起来<br>“我得快点通知Saber他们。”<br>走到门口，推开门，观察着走廊，听到了脚步声<br>关上门，躲在房间里<br>“偏偏挑这个时候过来巡逻！”<br>拿起一个铁棒，在门口守着<br>门被打开，Saber冲了进来，喊着，“别动！”<br>看到守在门口的士郎，“士郎？”<br>士郎放下武器，“Saber？你怎么会在这里？”<br>“这是我该问的。”<br>“看来你比我们想象中过得好。这样是不是就没有我们出场的份了呢？”凛和Archer走了过来<br>“我不是说了吗，不用去管卫宫士郎的死活。”Archer说着<br>“连远坂跟Archer都来了…为什么？”<br>“是我请求他们帮忙的，因为你好像被伊莉雅斯菲尔绑架了。”Saber解释着<br>“再说，我们还算是合作关系。好了，在伊莉雅斯菲尔回来以前要快点离开。”凛和Archer走出了房间<br>大家一起向出口跑去<br>转弯处，士郎回过头，看到Saber倒在了地上<br>“Saber？”向Saber跑了过去<br>“我没事。”<br>“Saber，你的身体是不是还没好？”<br>“是的，说来惭愧，但是，我还是可以当士郎的后盾！”<br>“你说什么傻话啊，来，我扶你。”<br>“不需要。”<br>“Saber？”<br>Archer走了过来，对士郎说着<br>“算了吧。”<br>士郎回过头，看着Archer，“什么？”<br>“不要有想救Saber的念头，你到头来，根本什么都做不到。”<br>“你说什么？”生气地看着Archer<br>Archer闭上眼睛，默默地向前面跑去<br>Saber站了起来，“士郎，我们走吧。”<br>“嗯。”<br>城堡大厅楼梯上面，士郎一行人看到前面的出口，停了下来<br>“这里是…”士郎说着<br>“出口。看来我们来得及。”凛说着<br>“说是出口，这边其实是正门的入口吧。不知是该说这地方显眼呢，还是该说我们大胆。”士郎犹豫着<br>“既然对方不在，那走最短路线出去岂不是更好？快点，快走吧。”凛带头往楼梯下面的大厅走去<br>伊莉雅在楼梯上面走了出来<br>“什么嘛，已经要走了啊，难得来一趟，太可惜了。”<br>士郎一行人回过头，看着上面的伊莉雅<br>“伊莉雅斯菲尔…”凛说着<br>“你们好，你亲自过来找我，我很高兴，凛。”<br>凛没有说话<br>“怎么了，你这样不做声很没意思哦。难得给了你时间，我觉得留几句遗言应该不错哦。”<br>“是吗，那我就问你一件事。”<br>“远坂？”一旁的士郎担心着<br>“伊莉雅斯菲尔，我没有感应到你回来，该不会你一直躲着吧？”<br>“没错，我哪里都没有去。我只是在这里看着你们滑稽的样子而已。”<br>“出去的那个是冒牌货是吧？”<br>“对。人家是这座城堡的主人，不好好招待你们怎么行。招待我的贵宾！”<br>Berserker从天而降，出现在士郎一行人面前<br>Berserker站了起来，拿着刀，发出怒吼的声音<br>“不知道你们还有没有话要说。”<br>士郎一行人没有说话<br>“看来没有了。那么，开始吧！”<br>举起手，“我发誓，今天一个都不会放过！”<br>“士郎，你快逃。这边交给我。”刚说完，Saber因体力不支就要倒下<br>士郎扶着Saber，“你说什么傻话，我怎么可能那么做！”<br>“可是…”<br>凛看着士郎和Saber，思考了一会<br>转过头，对旁边的Archer说<br>“Archer能听到吗？不必太久，你一个人拖住他一会儿。”<br>“远坂…”士郎问着<br>“不可能，你是认真的吗，凛？居然叫Archer一个人抵挡Berserker。”Saber也跟着问了起来<br>凛继续说着<br>“而我们就趁这个机会逃走，知道吗？”<br>“很明智的判断。如果凛可以先逃的话，那么我也能逃脱得了。更何况单独行动…可是Archer的拿手绝活。”Archer走到Berserker面前<br>“真让人意外，你叫一个默默无名的Servant来阻挡我的海格力斯啊，想不到你也有可爱的地方嘛，凛？”<br>“话说回来，凛，我可以跟你确认一件事吗？”<br>“什么？”<br>“要我争取时间是无妨，不过…我把那玩意儿打倒也没关系吧？”带着觉悟问着凛<br>“Archer…”<br>凛思考着，仿佛已经知道了什么<br>“嗯，不用跟他客气。”<br>“那么，我就不辜负你的期望吧。”<br>“哼！那么狂妄的家伙，把他碎尸万段也无妨。动手，Berserker！”<br>Berserker开始发狂<br>“我们走吧！士郎，Saber！”凛对大家喊着，跑了出去<br>“可是…”士郎犹豫了<br>“士郎，除此之外别无他法了。”Saber也跑了出去<br>士郎转身，准备离开<br>“卫宫士郎！”Archer叫住了士郎<br>“听好，你不是战斗的料，你只是个创造者，别去想其他的事，你能做到的只有一件事，将这一件事发挥到极限吧！”<br>“Archer？”<br>Archer投影出两把刀<br>“别忘了，想象总是最强的自我。不需要外敌的存在，对你而言战斗的对象，除了自身的想象别无其他。”将一把刀扔向屋顶，屋顶裂开，石头掉了下来<br>“士郎！”凛喊着<br>士郎拼命地跑着，跳了起来，躲开了落石<br>“Archer。”士郎看着Archer<br>落石形成一道石墙，将士郎等人与Archer一行人分开<br>森林中，士郎扶着Saber与凛一起跑着<br>“往哪边走？”士郎问着凛<br>“这边。”<br>凛看着城堡，“Archer…”<br>城堡中<br>Berserker向Archer砍了过去，将Archer的衣服刮破，伊莉雅开心地笑着，显然是胸有成竹<br>几个回合下来，Archer已经遍体鳞伤<br>“完全躲过却是这个下场啊。”<br>“好样的，Berserker，快点干掉他。”<br>Archer再次投影出武器<br>伊莉雅看着很吃惊<br>Berserker再次向Archer砍了过去，Archer躲着<br>几刀下来，Berserker始终没有砍到Archer<br>Berserker将刀向Archer头上砍去，Archer用武器抵挡着，Archer被弹飞，撞到了墙上<br>Archer从墙上掉了下来<br>“好弱喔。眨眼的功夫就不行了吗？凭那种宝具就想挑战Berserker。”<br>伊莉雅误以为Archer刚才的连续武器投影就是他的宝具<br>“Berserker！”<br>“该说是名不虚传吗…”Archer说着<br>伊莉雅看着Archer，“他在笑？”<br>Archer跳到上面楼梯的栏杆上，Berserker跳起，向上面的Archer攻去<br>“剑由骨所成。”投影出一把武器，再次投影出一把弓，武器变成了剑<br>Archer拉着弓箭，向Berserker射了过去，击中了Berserker<br>一道白光直冲云霄<br>士郎和Saber看着城堡<br>“刚才的声音？”士郎问着<br>“恐怕是，Archer他…”Saber解释着<br>凛没有回头，“走吧。”继续向前面跑去<br>“远坂？”士郎叫住远坂<br>“我们必须得成功逃脱！”凛继续跑着<br>城堡的屋顶出现了一个窟窿<br>Berserker坐在地上，没有死<br>“Berserker？居然会采取防御的姿势，他到底是什么人？难不成，他是投影了宝具…”伊莉雅疑惑着<br>Archer站在上面，看着下面的Berserker<br>“普通的Servant的话，早就当场死亡了吧…”<br>Berserker再次站了起来，Archer向屋顶的窟窿跳去<br>“Berserker，追上去！”<br>Archer跳到了屋顶，站在屋顶的栏杆上<br>Berserker握着栏杆，向Archer砍了过去，Archer躲开，Berserker握着栏杆，翻上屋顶<br>“块头这么大身手倒挺灵活的。”<br>Berserker向Archer冲了过去，掉到了屋顶的窟窿里<br>“身如铁，血如火。”再次投影出两把刀，向Berserker扔去，Berserker将刀弹开<br>“我曾创造无数刀剑。”投影出两把刀，再次向Berserker扔去<br>刀击中Berserker，Berserker掉了下去<br>“什么？”伊莉雅看着掉下来的Berserker，很吃惊<br>“不为死亡所知。”再次投影两把刀<br>“亦不为人所知。”将两把刀放大<br>“力量撼山，亦能聚水。”将两把刀向从窟窿中出来的Berserker砍去<br>发生了爆炸，Archer躲开，捂着胳膊<br>“手臂废了吗？”<br>Berserker在火海中站了起来<br>“原来如此，的确是最强的Servant。”<br>Berserker向Archer砍了过去，Archer撞到了墙上，想起了自己的来历<br>Archer的真身是‘卫宫（Emiya）’。即是在未来为了拯救五百名人类而祈求奇迹，作为代价而英灵化的卫宫士郎。即fate stay night平行时空中卫宫士郎未来的一种状态。虽是无名的英灵，却把士郎所持的固有结界‘无限剑制(Unlimited Blade Works)’锻炼、操纵至极限，跟在场的英灵们势均力敌。<br>Archer走到Berserker面前，Berserker挥起刀<br>凛握着自己的手臂，很痛<br>“远坂？”士郎问着<br>“Archer…”Saber看着城堡<br>Archer被Berserker砍中，从楼顶掉了下去<br>凛捂着手臂跑着，“还没完，他还在拼命。”<br>伊莉雅走了下来，“不知道这样你有没有后悔。”<br>Archer躺在地上，回想起与凛发生的一切<br>抬起头，“我还以为，我全舍弃了。”<br>“还活着？怎么可能？Berserker，别再玩了，这家伙不大对劲，不准大意，不准犹豫，在你被杀以前杀了他！”<br>Berserker跳了下来<br>“你还是这么依旧不饶人啊，伊莉雅。”<br>Archer费劲地起来<br>伊莉雅很吃惊，感觉好熟悉，嘴里重复着：“伊莉雅…？”<br>“虽然我的败局无从改变，不过要结束可没这么容易。Berserker，尽管手下留情吧。在这期间，我要再拿走你两条命！”再次投影出一把刀，向大厅中的灯砍去<br>英灵卫宫此时已经知道Berserker拥有十二条命<br>灯灭了，屋内漆黑一片<br>“感应不到他。他跑了吗？”伊莉雅说着<br>忽然，月光从屋顶的窟窿照了进来，照着地上的Archer<br>“看样子，你没有得到月亮女神的庇佑喔。”伊莉雅很开心<br>“经受苦难而创造众多武器。”<br>“Berserker！”<br>Berserker再次向Archer挥起刀<br>“然而，那些手中将不再握有任何东西。如我所祈愿，无限剑制。”<br>Archer使用宝具，固有结界，无限剑制<br>伊莉雅费力地睁开眼睛<br>“这是，固有…结界。”<br>Berserker和伊莉雅进入Archer的固有结界当中<br>Berserker看着周围，注意到了Archer<br>Archer拔起地上的一把刀<br>“如你所见，你挑战的是无限剑制，剑戟的至高境界。大胆放马过来吧。”<br>Berserker向Archer攻了过去，Archer一只手拿着刀向Berserker冲了过去<br>忽然，树林中的乌鸦飞起，凛停了下来<br>士郎将Saber放下，走到凛旁边，“远坂？”<br>凛举起带有令咒的手，令咒消失了<br>“该不会！”<br>“伊莉雅斯菲尔马上就要追来了，我们快走吧。”凛伤心地往前走着<br>“喂！”士郎喊着<br>“动作要快。如果最后落到被他们杀死的下场，我可饶不了你！”握着拳头<br>士郎看着凛，忽然，Saber倒在了地上<br>“Saber？Saber！”<br>城堡中，Archer消失<br>伊莉雅往楼梯下走着<br>“他到底是何方神圣，单凭一个人就拿走了Berserker五条命？我们居然会被干掉五次，怎么会这样？”<br>看着一旁遍体鳞伤的Berserker<br>“你该不会没尽全力吧？Berserker，快点把伤给我治好，我们现在就要去杀了他们，知道吗！”<br>Berserker身上的伤开始恢复，伤口愈合了<br>城堡中，Archer的衣服开始消失，清晰地看到衣服下面的宝石，凛在学校救士郎时所丢下的宝石</p>
<h3 id="第十五话-十二试炼"><a href="#第十五话-十二试炼" class="headerlink" title="第十五话 十二试炼"></a>第十五话 十二试炼</h3><p>“卫宫士郎，听好，你不是战斗的料，你只是个创造者，别去想其他的事。你能做到的只有一件事，将这一件事发挥到极限吧。”<br>“Archer。”<br>森林中，士郎扶着倒地的Saber<br>“Saber。”<br>“士郎…”<br>“只能到这里了，你不能再走了。”<br>“你，你这是说的什么话？这种困境我经历过许多次了，我还可以继续跑。”拿开士郎的手<br>“就算经历过多次，身体难受就是难受不是吗？你呀，多少向人吐点苦水吧。”抱起Saber<br>“你这是做什么？”<br>“你稍微歇会儿吧。看你奔跑的那副面孔，我都要先晕了。”<br>“开什么玩笑，快放开我！你以为这点小事就可以让我倒下吗？”挣扎着<br>“别吵了，这是Master我的命令！”<br>“她不听话的话，就用令咒怎么样？”凛在一旁说着<br>Saber停止了挣扎，“太，太卑鄙了。”<br>“所以，你就安分一点吧。我们不快点的话，会被伊莉雅追上的。”</p>
<h4 id="十五话-十二试炼"><a href="#十五话-十二试炼" class="headerlink" title="十五话 十二试炼"></a>十五话 十二试炼</h4><p>士郎抱着Saber和凛一起跑着<br>Saber的身体好烫，得快点想个办法<br>“士郎…”<br>“你不要说话，一直以来都是你在救我，我不这样做的话，太不公平了！”<br>跑着跑着，士郎的脚崴了一下，抱着Saber撞到了树上<br>“士郎？”凛关心着<br>“抱歉，我脚被绊了一下，来，你再抓紧我。”再次抱起Saber<br>“不要再胡来了。”<br>“Saber…”<br>“士郎，你应该跟凛两个人逃才是。”<br>“怎么可能，刚才我只是不小心跌倒而已。这点小事根本不算什么！”<br>“凛，你应该赞同我说的吧。我希望你们将我留在这里，带着我，是逃不出去的。更重要的是，我已经撑不了多久了。”<br>“你说什么傻话！”<br>“好了好了，没时间给你们吵了，你们看那个。”凛指着远处的一座废墟<br>“废墟…”<br>废墟里，凛整理着床铺<br>“我们来的时候，Archer他找到的。说如果有个万一就躲在这里。”<br>士郎将Saber放在床上<br>“就算伊莉雅斯菲尔追上来，也要再花上一些时间吧。她要花不少功夫找我们的话，那我们大概可以躲到清晨吧。”远坂说着<br>“远坂，Archer他怎么样了？”<br>凛转过身，“我明明跟他说，只要拖延时间就好，那家伙…到最后还是那么讨厌。我不会让他白白牺牲，既然失去了Archer，我们就要在这里打倒Berserker。‘与其自怨自艾，不如立即行动’是我的信念。你也要有觉悟知道吗！”走到士郎旁边<br>“觉悟…”<br>“就算是Berserker，跟Archer战斗之后，也会或多或少受了些伤才对，而我也把珍藏的宝石全部带了过来，只要Saber恢复的话，肯定有方法能打破现状。”<br>士郎看着Saber，“可是要说让她恢复的方法…”<br>“她只是因为魔力耗尽才这么虚弱，只要给她补充一定数量的魔力，应该就能发挥出跟之前一样的实力。”<br>士郎站了起来，急切地问着“有办法吗？有的话，快告诉我！不过，我可反对让Saber去攻击人类。”<br>“在这片森林中，根本找不到可以摄取的人类灵魂，还有一种更可靠的办法，就是把士郎的魔术回路移植到Saber身上。”<br>“凛，那是说…”<br>“让你们俩成为能够共感的状态，好重新接好魂与魂之间的通道。因此，如果不移植魔术回路，士郎的力量就送不到Saber身上。”<br>“把我的魔术回路给Saber？”<br>“可是对魔术师来说，魔术回路，是比自己的性命还重要的东西。”Saber解释着<br>“是啊，就像搭错布满全身的神经线一样，这样的话，士郎就得承受由此带来的痛苦。”<br>“那样能成功吗？”士郎问着<br>“我会让它成功。不过，如果用掉了魔术回路，魔术师就会有个致命的缺陷，就是不管再怎么努力，这辈子都无法成为一个完全的魔术师。”<br>“这样做对士郎实在太…”<br>“不，就这么做！”士郎下着决心<br>“士郎？”Saber问着<br>“真的没问题吗？”<br>“你不也说过吗，为了那个家伙，我们几个非赢不可。”<br>“好。既然这样。”<br>凛抱着士郎的头，看着士郎<br>士郎紧张的将凛推开<br>凛解释着“只是仪式开始前的一点准备啦。再说我还得让Saber也努力这样做呢。士郎不紧张的话，会不平衡。”<br>“应该还有其他的替代方案不是吗？”Saber问着<br>凛坐到Saber旁边，准备解开Saber的领带<br>“凛，请稍等…”Saber没有成功阻止，领带被解开了<br>凛抱着Saber，“在移植前，要尽可能扩大接触面才行。”<br>“士郎，你在做什么？快过来阻止凛。”<br>士郎看着她们<br>“这个，就算你要我阻止…”<br>“现在停止的话，仪式不会成功。好了，士郎你快点过来。”<br>“我也要？”<br>“全都是为了提高成功的机率。”<br>士郎走了过去<br>树林中，伊莉雅带着自己的Servant寻找着士郎一行人<br>士郎和Saber在床上做着准备仪式，凛念着咒语<br>“仪式开始，抽引出他的灵魂，与她之源同调，吾之力将与他辅助，引领他至她的灵魂。苦痛、填满、混合、锈蚀，合而为一吧。”<br>士郎的灵魂从身体出来，进入到Saber体内<br>士郎从空中掉了下来，害怕地喊着<br>睁开眼睛，“这里是？Saber在哪…不对，这里已经是她的内在，所以，我只要靠近Saber的本质，再把魔术回路分给她就好了…”<br>看着周围，找着Saber<br>士郎的面前出现了一只凶猛的怪兽<br>怪兽向士郎飞了过去，士郎躲开<br>再次飞了过去，将士郎的一只胳膊咬了下来，士郎痛苦地叫着，回路移植成功了<br>Saber…<br>士郎…<br>Saber…<br>清晨，阳光照到了床上，士郎睁开眼睛<br>“士郎…”Saber看着躺在旁边的士郎<br>士郎将放在Saber身上的手拿开，惊慌地坐了起来<br>“早上好，Saber。”<br>Saber坐了起来，捂着衣服，“早上好，士郎。”<br>凛一个人坐在墙角休息着<br>Saber系着自己的领带<br>“你已经可以起来了啊？”士郎问着，很开心<br>“是的，我已经可以得到魔力的供给了。”<br>“这样啊，那就是成功了吧。”<br>“真的很对不起，士郎。在取得你的回路的时候，我努力将需求量压至最低限度，不过，那最低限度也太多了。”<br>“这没什么好道歉的。”<br>“可是…”<br>“我只是用强化这种等级的魔术，应该不会有什么负面影响。我想，应该只是移植了我平时没有用的回路。再说…我很清楚地感觉到，有种跟Saber连在一起的感觉。”<br>“你们俩看起来都很有精神呢。那就好，我们来开作战会议吧。”<br>凛继续说着<br>“作战其实很简单，为求胜利我们必须奇袭，而且既然要主动出击的话，就要一击取他首级，不给他反击的机会，我想这是必须的。”<br>“我有同感。”Saber说着<br>“在Berserker伤害我们以前先袭击他是吧？不过，我们能奇袭到他吗？”士郎问着<br>“的确是…有伊莉雅斯菲尔，可以确定，她轻易能感觉到你跟Saber的位置。”凛说着<br>“该不会发动奇袭的人是你吧？”<br>“那不是理所当然的，而且她的头号猎物是士郎你啊。所以我可以把气息隐藏起来。”<br>士郎一行人走了出来<br>“Saber，你的身体恢复到什么程度了？”<br>“一般的战斗，没有问题。”<br>“这就足够了。Saber跟士郎，你们就去吸引Berserker的注意，而我就躲起来找机会。士郎你就说些好听的话，哄住伊莉雅。”<br>“我知道了。只要说你逃掉了，伊莉雅她就会信的。那个孩子不会怀疑别人说的话。”<br>“有一个问题，我跟Berserker对抗是没问题，可是不能让士郎也这样做。”<br>“没有人要他那样做，士郎他要远离Saber，做好后方支援。”<br>“不可能，士郎他不擅长黑魔术。”<br>“等等，我想我应该有办法。”士郎拿起一根树枝，闭上眼睛，使用着魔法，手中的树枝变成了弓<br>凛和Saber很吃惊<br>“我已经抓到窍门了，然后只要用同样的方法弄到箭就行了。”<br>凛看着士郎，“总之，你有攻击的手段就再好不过。至于我，我就在上面观察，然后只要Saber一制造机会，我就用珍藏的宝石刺穿Berserker。”<br>“所谓宝石，说的是凛的魔术吗？”Saber问着<br>凛伸出手，将宝石拿出来<br>“这些是我懂事以来好像存钱那样一点点存下来的。好了，我们走吧。”凛离开<br>士郎叫住准备离开的Saber“Saber，你能不能答应我一件事。”<br>“什么事？”<br>“无论什么情况，我都希望你不要再用那个宝具。即使打倒了Berserker，可换来的却是Saber的死，我不要这样。”<br>“我明白了。以我现在的魔力，也不见得能打败Berserker。而且消失的话，我也无法取得圣杯了。”<br>“好，这才是一如既往的Saber。冷静得令人讨厌，我也放心了。”<br>“请问那话是什么意思？”<br>“不…”<br>“喂，你们在搞什么？”凛向他们挥着手<br>“走吧，免得又要被她念。”<br>“是啊，凛好像以此为乐的样子。”<br>Saber被石头绊到，士郎扶住了Saber<br>“你看你，不注意脚边可是很危险的喔。”<br>士郎看着Saber很害羞的样子，很意外<br>“Saber…你怎么了啊？”<br>“没有，只是手被你握着，我…”<br>士郎把手拿开，与Saber保持着距离<br>“我找到你们喽。”伊莉雅说着<br>凛翻到树上，躲藏起来，观察着<br>Saber走到士郎前面<br>伊莉雅向士郎鞠躬，“真是意外啊，我还以为你们一定会逃到最后一刻。咦？Saber恢复了啊。真可惜，认为这样就能赢我，倒是挺可爱的。不过很遗憾，士郎你就到此为止了。”<br>伊莉雅紧张了起来<br>“凛去哪了？”<br>“她跟我们分道扬镳了，八层早就出了森林了吧。”<br>“是吗？这片森林可是爱因兹贝伦的结界喔，凛出去的话，我马上就会知道。人家过后再找到她杀了她。不过，如果大哥哥来跟人家求饶的话，人家也不是不能放过你。”<br>“伊莉雅，这种战斗就不能不打吗？”<br>“不行，因为这是爷爷的吩咐，只要Berserker在的一天，人家就是爱因兹贝伦的主人，我要杀光其他的Master，把圣杯带回去才行。”<br>“我是Saber的Master。如果你不放弃当Master，人家就打倒Berserker叫你放弃！”<br>“是吗？那我就倾出全力杀死你。”伊莉雅身上的刻印亮起<br>士郎和Saber很吃惊<br>“那是刻印，是一般Master无法比拟的巨大刻印。”Saber解释着<br>“游戏到此为止。”<br>Berserker开始发狂<br>“能力…提升了。”士郎说着<br>“全给我杀光，Berserker！”举起手，命令着<br>Berserker向士郎一行人冲了过来，Saber拿着剑迎击<br>几个回合，Saber受伤了<br>“Saber？”士郎担心着<br>“力量的差距很明显对吧，只要稍微挥一挥剑，哥哥的Servant就消失了。”<br>Saber继续与Berserker战斗着<br>士郎握着树枝，使用魔法制造箭<br>起码能分散他的注意力…<br>树枝变成了箭，士郎拉着弓箭，向Berserker射了过去<br>Berserker没有受到任何伤害，看着向自己射箭的士郎<br>“Berserker，别理士郎，杀了Saber之后，怎么料理他都可以。”<br>Berserker继续向Saber攻了过去，Saber节节败退<br>士郎看着Saber<br>到头来…我还是什么都做不到吗…不管是保护Saber，还是跟她一起战斗，我能做到的事…我能做到的事…顶多不过就是…<br>回想起了Archer说过的话<br>“你能做到的只有一件事，将这一件事发挥到极限吧。想象，总是最强的自我。”<br>想象…<br>Saber被Berserker弹开<br>“Saber？”<br>我想要武器，弓箭行不通。我要剑，一把可以打败他的无敌之剑。<br>闭上眼睛，想起了那把石中剑<br>Berserker向Saber砍了过去，砍中了Saber，Saber铠甲被砍碎<br>Saber再次冲了过去，抵挡着Berserker，将Berserker弹开<br>“躲开，Saber！”<br>凛从树上跳了下来<br>“九八七，投入全部财富，敌影片甲不留。”<br>向Berserker扔出手中的宝石<br>Berserker砍碎了几个，但是有一个宝石刺到Berserker的一只胳膊上，胳膊被冻住<br>Berserker用另一只胳膊抓住了冲过来的凛<br>“我早料到会是这样，赢了。”将剩余的宝石扔向Berserker的头部，Berserker的头被炸飞<br>Berserker握着凛倒在了地上<br>“赢…赢了吗？”士郎问着<br>凛松了口气，看着Berserker的头<br>“不会吧，怎么可能，我明明把他的头炸飞了。”<br>“刮目相看喔，凛。想不到你也杀得了Berserker，哪怕只有这一次。不过非常遗憾，因为那家伙不杀死他十二次，他是不会死的。”<br>“十二次？”<br>“你也应该知道吧，希腊的英雄海格力斯为了赎罪而度过了十二项试炼，为此得到奖赏，成为不死之身。”<br>“备用的性命…复活魔术的多充加持…”<br>“所以那家伙不会那么容易就死掉，过去自己走过了多少趟鬼门关，就能续命多少次，这是一种不死的诅咒。那正是Berserker的宝具，十二试炼。”<br>Berserker的头重新出现<br>“刚才虽然Berserker因为你那一击而丧命了，不过他还有七条命。”<br>“不会吧…还要再杀这家伙七次才可以吗…”<br>“凛，快逃！”Saber喊着<br>“远坂！”士郎也跟着喊着<br>“Berserker，把那家伙捏碎！”<br>Berserker使劲捏着凛</p>
<h3 id="第十六话-誓约胜利之剑"><a href="#第十六话-誓约胜利之剑" class="headerlink" title="第十六话 誓约胜利之剑"></a>第十六话 誓约胜利之剑</h3><p>“我不会让他白白牺牲的，既然失去了Archer，我们就要在这打倒Berserker！”<br>“九，八，七，投入全部财富，敌影片甲不留！”<br>“Berserker，把那家伙捏碎！”</p>
<h4 id="十六话-誓约胜利之剑"><a href="#十六话-誓约胜利之剑" class="headerlink" title="十六话 誓约胜利之剑"></a>十六话 誓约胜利之剑</h4><p>Berserker捏着凛，Saber砍着Berserker，Berserker将Saber弹开，Saber倒在了士郎旁边。<br>“Saber！”士郎关心着。<br>“Berserker，快点杀了她！”伊莉雅命令着。<br>Berserker用力捏着凛，凛挣扎着。<br>Saber起来，再次冲了过去。<br>“Saber？”士郎喊着。<br>士郎看着拼命地Saber，挣扎着的凛，开心地伊莉雅。<br>“混蛋，给我放开她！”士郎向Berserker冲了过去。<br>“士郎！”Saber回头看着冲过来的士郎。<br>Berserker打飞士郎，士郎摔倒在地。<br>“士郎！”Saber关心着。<br>士郎费力地站了起来。<br>Saber看着士郎，“别傻了，够了，请快离开，Master！”<br>“放开她！”士郎捂着受伤的胳膊再次向Berserker走了过去。<br>Saber看着受伤的士郎，思考着。<br>忽然，士郎看到Saber在释放风王结界。<br>“不，不可以！”士郎对Saber命令道。<br>Saber依然继续着。<br>“不可以，不准用，Saber！”<br>士郎手背上的一个令咒消失了，结界停止了。<br>Saber虚弱地蹲在了地上。<br>“为，为什么？”Saber问着。<br>“已经别无他法了，不是吗？”Saber向士郎喊着。<br>士郎看着虚弱的Saber。<br>只是解放剑，就已经这个样子了，现在的你，无法使用那把剑，不过你等着。<br>士郎转过身，看着Berserker，回想起了Archer的话：现实中无法抗衡的对手，那就幻想出足以打倒他的东西。<br>闭上眼睛。<br>我来创造。<br>想着那把黄金剑。<br>你能做到的事充其量只有这些而已。<br>Berserker跳了起来，向士郎杀去。<br>我来为你准备…一把你能用的剑。<br>士郎投影出了黄金剑。<br>Saber看着那把剑，“那把…是我的剑…。”<br>士郎拿着那把剑，向杀过来的Berserker砍去，砍断了握着凛的手臂，手臂断了，Berserker痛苦地叫着。<br>凛掉到了地上，士郎向后退着。剑也碎了。<br>“再来一次，不该粉碎的剑粉碎了，是因为我的想象上有瑕疵才会如此。”<br>闭上眼睛，“投影，开始。”<br>Berserker痛苦地向士郎走去。<br>“我所该挑战的，是我自己，不得有半点误差和妥协。”<br>士郎再次投影那把剑。<br>Berserker向士郎砍去。<br>“士郎！”Saber担心着。<br>士郎抵挡着Berserker。<br>想定基层架构，复制构成材质，重现积累岁月，竭尽凌驾一切工程，于此，缔造幻想化之为剑。<br>士郎举起投影出的剑，与迎面攻来的Berserker战斗着，士郎再次被打飞。<br>“士郎！”Saber担心的喊着。<br>伊莉雅看着倒地的士郎，“明明不可能敌得过Berserker。”<br>士郎挣扎着站了起来。<br>“好不容易做出一把超越Berserker的剑，难道我就没有办法熟练运用吗？”<br>Berserker再次攻了过来，Saber挡住了攻击。<br>“士郎，把手给我。”Saber握着士郎的手。<br>两人举起剑，一起向Berserker攻了过去。<br>Berserker的武器被击碎，伊莉雅吃惊的看着。<br>剑刺中了Berserker。Caster用水晶球看着这一切。<br>“那就是，你的剑吗，Saber？”Berserker问着。<br>“这是，必胜黄金之剑，选定王者的石中剑，一把我永远失去的剑。”<br>“只不过是那个男人幻想出来的，一把无法再度现世的剑。不过，他那想象亦不容小觑。没想到，光是一击就将此身毁灭了七次。”<br>士郎手中的剑和Berserker一起消失了。<br>士郎咳嗽着，“士郎？”<br>“没事，我没事。”看着旁边的伊莉雅。<br>“不可能，Berserker…消失了吗？”<br>Saber做出攻击姿势。<br>“不可以，Saber！不要对伊莉雅出手。Berserker已经不在了，伊莉雅她…。”<br>伊莉雅跪在了地上，失落的伸出右手，看着风从手掌吹过。<br>士郎家中。<br>“你醒了，士郎。”<br>看着一旁的Saber，默默的应了一声。<br>“身体状况如何了？”Saber烦躁地转过身去。<br>“怎么啦，Saber？一大早就心情烦躁。”<br>“没什么，我只是做了场梦而已。”<br>“梦？”<br>被子里动了起来，士郎吓了一跳。<br>“好吵啊。”<br>士郎掀开被子，看到被子里的伊莉雅。<br>Saber看到伊莉雅躺在士郎怀里，有些生气。<br>士郎做着早餐，Saber端着盘子问着，“就用这些盘子啊？”<br>“嗯，麻烦你了。”<br>Saber用力放下盘子，士郎回头看着Saber。擦着盘子，想着早上躺在士郎怀里的伊莉雅。<br>“早上好，不好意思。”远坂穿着睡衣从屋里出来，走向了冰箱的位置。<br>“我喝杯牛奶，士郎。”<br>“早上好。”<br>“总觉得头好痛啊。咦，什么情况，大清早就下足了功夫嘛。”凛夸着士郎。<br>“对，和风汉堡。”<br>“你太懒散了呢，凛。”Saber说着。<br>“Berserker已经不在了，难免会懒散嘛。再说剩下的Servant，凭现在的Saber也可以轻松击退。”<br>“战斗中没有绝对。”<br>“你太谦虚了。亚瑟王出马的话，其他什么都不足为惧吧。”<br>“远坂，你发现Saber是什么人了吗？”士郎吃惊地问着。<br>“之前隐约察觉到，真正确认是在昨天。要说可以使用那种等级圣剑的英雄，也只有一个人而已。”<br>早餐中，凛问着：“士郎，接下来你有什么打算？”<br>“你说的打算是指什么？”<br>“那个在和室里睡觉的危险小朋友。”<br>“正确来说不是和室，而是士郎的房间。”Saber补充着。<br>凛看着士郎。<br>“不是…我…那个…。”士郎不知该怎么解释。<br>“士郎，我也想说居然会想要保护依莉雅苏菲尔，士郎你到底是怎么了？”Saber问着。<br>伊莉雅起床听着他们的谈话。<br>“总不能把她丢下不管吧。再说伊莉雅她还是个小孩。”<br>“都被她害成那样了你还讲这种话！”凛反驳着。<br>“只要有个人好好教她，伊莉雅就不会再做那种事。何况我不是为取Master性命才参战，而是为了结束战斗才参战的。”<br>伊莉雅从房间向士郎一行人走去。<br>“这么说，伊莉雅苏菲所做的事，你全都能原谅？”凛问着。<br>士郎看着凛和Saber，没有说话。<br>“Archer那笔账我可没打算原谅她。”<br>伊莉雅推开门，“什么嘛，Servant到最后不全都是会消失的吗。会在意那种事，表示你这Master不合格喔，凛。”<br>“你说什么！”凛起身，拍着桌子，很生气。<br>伊莉雅走了进来，向士郎敬礼。<br>“感激不尽，Saber的Servant替与你敌对的我着想，我衷心的表示感谢。”<br>士郎看着一旁的Saber，没有出声。<br>“开玩笑的啦，好香喔，这一份是我的吗？我太开心了。”激动的抱着士郎。<br>“把手放开，放肆！”Saber喊着。<br>伊莉雅看着Saber，“真讨厌，吃饭的时候还这样，真是没规矩。”<br>伊莉雅坐回了原处。<br>“士郎，藏匿依莉雅苏菲尔对我们百害而无一利。”Saber说着。<br>“但也不存在危险吧。伊莉雅已经不是Master了。”<br>“听好，士郎，那家伙还是Master你懂吗？我不是告诉你，就算失去了Servant，但只要令咒还在就还是Master吗。这点对Servant也是一样。就算失去了Master，离消失还是有段时间，这样的Servant跟她缔下契约的话。”<br>伊莉雅打断了凛，“人家不会跟其他的Servant联手的。伊莉雅的Servant永远都是Berserker。”回想起与Berserker种种经历，心情很失落。<br>忽然抬起头，“啊，但如果士郎输掉的话，那人家就接收Saber。”<br>“我丝毫没有打算要成为你的Servant。”<br>“随便，就算那样人家也无所谓。不管是人家赢了，还是Saber保护好士郎，结局都一样的嘛。”<br>大家看着伊莉雅。<br>“对我而言不一样，凛，你也说说士郎。”Saber说着。<br>“对不起，我刚才没有在听。你再说一次，Saber。”<br>“就是说，要反对依莉雅苏菲尔藏匿于此。”<br>“也没什么的啊。”<br>Saber和士郎感到有些意外。<br>“远坂，你刚才还…。”<br>“太好了。”伊莉雅再次激动的抱着正在说话的士郎。“我好高兴。”<br>“不许你有那种举动。”Saber起身，拍着桌子。<br>“伊莉雅，好了啦，快去吃早餐。”<br>凛看着士郎和伊莉雅，想着：士郎这个决定，说不定是个绝佳的妙策。<br>家中道场，士郎和Saber训练着，伊莉雅在旁边观看。<br>Saber将士郎击倒。<br>“痛…。”<br>伊莉雅看着士郎，“嗯？这真的是在锻炼吗？”<br>士郎疑惑的抬头看着伊莉雅。<br>“有一种Saber在避开你或者故意放水的感觉，看不出来她有认真在锻炼。”<br>“没有那回事！”<br>“不过，这么一说，和以前相比的确消极了些。应该再…，有那种正面交锋的感觉，不然就锻炼不了什么啦。”<br>“正…，正面交锋啊。可…，可是，那样子在一些情况下…，身体会碰撞到。”<br>“那我们是在对打啊，理所当然会碰撞啊。”<br>Saber有些害羞。“已经到午饭时间了。”走出了道场。<br>伊莉雅拿起料理，“好好吃，士郎很擅长做料理呢。”<br>“请等一下。”<br>“怎么了，Saber？”<br>“Saber。”<br>Saber拿起手巾，擦着伊莉雅嘴边的料理。<br>“诶，你这是什么意思？”伊莉雅摸着擦料理的位置，很疑惑。“Saber你不是讨厌我吗？”<br>“我对你并无敌意，而士郎也把你当作客人来招待。因此，我也必须尽上最低限度的礼节。”<br>士郎看着Saber，很开心。<br>晚上，浴室门前。<br>“流了一身汗。”士郎推开门，看到了正在洗澡的Saber。<br>“抱歉，对不起，我没想到你在里面。”<br>“真是非常对不起。现在能否请你暂时回避呢？士郎当然有洗澡的权利，我是不会限制Master到这种地步。不过，我的身体并不像凛一样，有着少女的体态。”<br>“Saber…。”<br>“我不太希望让士郎看见这种长肌肉的身体。你看着也很难受吧。”<br>“笨蛋，哪有…。”士郎转身看着Saber。<br>观察了一会说道：“那就这样了，我先出去了。”离开了浴室。<br>卧室中，“一切都正常呢。真不敢相信，用了那种程度的投影魔术。”凛按着坐在椅子上的士郎。<br>“投影？”<br>“对，就是将现实中的美术品或是名剑之类的东西，利用自己的魔力透过想象重现出来。不过，人类的想象不都是漏洞百出吗？无法复制出真品的一种半调子的魔术。”凛坐到床上。<br>“确实是马上就消失了。”<br>“而且投影很消耗魔力。Saber那把剑的魔力可是超出了你的容量。去仿造那把剑，跟自杀没两样。”<br>“对了，你知道Excalibur是什么东西吗？”<br>“说到Excalibur…，就是亚瑟王的代名词吧。听说是一把无所不能，刀刃不伤的宝剑。”<br>“果然，如我所料。听好，真正重要的呢，不是剑而是鞘。”<br>“鞘？”<br>“对，只要有鞘傍身亚瑟王就能滴血不流。换言之，就是不死之身。”<br>“那为什么亚瑟王还是死了。”<br>“对喔…。传说中Excalibur的剑鞘被人给偷走了。”<br>“你怎么了啊，干嘛在意那种事啊？”<br>“你很啰嗦啊！”远坂有些不麻烦。“我只是想说，‘有的话就所向无敌了’就这样而已嘛。我偶尔也会出点小错啊。”<br>“只有偶尔吗？”<br>远坂生气的把头伸过来。<br>士郎摇着手，“啊…，不…。”<br>晚上，仓库中。<br>虽然远坂跟我说了不要用…。<br>闭上眼睛。<br>投影，开始，想着那把剑。<br>睁开眼睛，看到Saber倚在门旁。<br>“原来你在这啊。”Saber问候着。<br>“嗯，睡不着，所以出来活动下脑筋。”<br>“每天不间断那样做。”<br>“能做就尽量，再说这也是老爸吩咐的日常课题。”<br>士郎和Saber相互看着对方。<br>“话说早上，你说你做了场梦吧。”<br>“Servant是不会做梦的。我所见到的是你的梦，是你的过去。Servant与Master在精神上也有着联系，联系越是强烈，就有可能会见到对方的过去，请你原谅。”<br>“那又不是你的错。话说回来，那场梦是…。”<br>“一场大的火灾。士郎和我很像，因此你的错误我也能明白，继续这样下去会如何，我也知道，因为我们太像了。”<br>“就是我不能犯下任何错误了吧。我可是要跟老爸一样成为正义使者。”<br>“所以说，那就是个错误。以前凛说过了，士郎自我奉献精神太强烈了。你从一开始，就没有将自己的性命计算在内不是吗？”<br>“我必须取得圣杯不可。但是，士郎你也需要圣杯，我会被你召唤出来是必然的，Master。”<br>Saber独自往卧室走去。<br>柳洞寺中，“战斗也进入了中盘，是吗？”葛木问着一旁的Caster。<br>“不，只要没有了Berserker，就没有什么值得我们畏惧的了。剩下来的只有Lancer和Saber。魔力的存量也将达到临界，再来只要有一个作为容器的魔术师，应该就可以强制召唤出圣杯。”<br>“魔术师吗？那就用不上我了。”<br>“请您放心，做祭品的魔术师，那其他的Master来用就可以了。既然是要做圣杯容器的素体，如果不是潜在能力优秀的魔术师就无法胜任。”<br>“就能力来说，这个小姑娘最适合。”水晶球出现了远坂凛的画像。“只是泼辣了点呢。”<br>“需要的只是魔术师的血统，只要作为素体很优秀，会不会用魔术根本毫无关系。看来你派的上用场呢，小姑娘。”间桐樱的画像出现在水晶球。</p>
<h3 id="第十七话-魔女的烙印"><a href="#第十七话-魔女的烙印" class="headerlink" title="第十七话 魔女的烙印"></a>第十七话 魔女的烙印</h3><p>“那把剑，是我的…。”<br>士郎和Saber杀死了Berserker。<br>遥远的不列颠群岛，亚瑟王举着宝剑。<br>“王舍弃了领土内的一个村庄，虽说是获得了胜利，但王也太冷酷了。就算不牺牲村庄，我军应该还是可以胜利的。亚瑟王根本不了解民心，无法了解民心的人，怎么可以统治国家呢？”<br>“Saber，Saber，Saber！”士郎从梦中醒来。</p>
<h4 id="十七话-魔女的烙印"><a href="#十七话-魔女的烙印" class="headerlink" title="十七话 魔女的烙印"></a>十七话 魔女的烙印</h4><p>士郎坐起来，思考着：<br>作为亚瑟王，她不是为了大家那么拼命了吗？可究竟为什么她却要遭受指责呢？为什么Saber到最后还是一直保持沉默呢？<br>回想起Saber说过的话：“我想负起生前未能负起的责任，那是我的愿望。”<br>确实那个时候，她也是这么说的。说想要重新再来一次。<br>早餐中，藤姐看着一桌子的菜肴，惊叹着：“看着好有食欲啊！”<br>“还有甜点哦。”樱把甜点拿了出来。<br>“甜点，是什么啊？”藤姐问着对面的樱。<br>“让你们期待下吧。”<br>“哎，告诉人家嘛。”<br>凛推开门，“早上好。”走了进来。<br>“看着好丰盛啊，今天是什么特别的日子？啊，对了，必须要介绍给间桐同学和藤村才行。”<br>“咦，什么？”<br>“其实…”<br>伊莉雅走了进来，打断了凛，看着一桌子的菜，“好香啊。”<br>凛指责着伊莉雅，“你啊你，这么没礼貌。额…实际上这个孩子是我的远房亲戚，她突然从国外回来要寄宿在这里。我也知道会很麻烦，能不能让她暂时跟我们合住呢？”<br>伊莉雅鞠着躬问候着大家：“我叫做伊莉雅斯菲尔，请叫我伊莉雅，姐姐们。”<br>“请多关照，你叫我藤村姐姐就行啦。”<br>“我叫做樱，请多关照。”<br>“虽然任性了点，但终究还是个小孩子，麻烦你们多照顾她。”凛说着。<br>伊莉雅品尝了料理，“好好吃啊。”<br>“还有呢，别客气哦。”樱说着。<br>“好。”<br>“哎呀，伊莉雅，你把‘我开动了’这几个词忘记了吗？”凛批评着。<br>“对不起，我开动了。哎呀，凛。”<br>“怎么了？”<br>“如果你不是很有食欲的话，我帮你吃嘛。”<br>“不需要你为我担心。”<br>凛和伊莉雅吃惊的看着藤村在快速的往碗里夹菜。<br>士郎推开门。樱问候着，“早上好，前辈。”<br>“樱，早上的工作你全做了啊。不好意思啊。”<br>“没什么的。”<br>士郎坐到Saber旁边，看着Saber。<br>“那个Saber，上次跟你说的…。”<br>“士郎吃饭说话，对消化不好。”<br>“对…，对不起。”士郎有些尴尬。<br>樱在一旁笑着。<br>“怎么了？”士郎问着樱。<br>“你俩感情真好啊。”<br>“是嘛？”<br>Saber和士郎互相看着对方，很害羞。<br>“汤很不错。”Saber说着。“士郎你最好也尝尝。”<br>凛向樱说：“不好意思，能不能帮我拿下酱油。”<br>“好。”<br>“谢谢。”<br>电视播报，“节目的中途为您插播一条刚接收到的消息。今日凌晨冬木市，5-2-11…。”<br>“又是瓦斯泄露意外。”藤姐说着。<br>樱低下头，念叨着，“意外…。”<br>早饭后，士郎和樱洗着碗筷。<br>电视继续播报，“起因不明的集体昏睡事件，到昨晚为止已超过30起。”<br>“总觉得好恐怖啊。我们学校也是因为奇怪的事而放假的。远坂和樱都要注意哦。”藤姐关心着。<br>“没关系的。”樱说着。<br>桌子上摆满了甜点，藤姐惊叹着：“哇，樱，你要选哪个，你可以先选哦。”<br>“我不用了，我还有客房要打扫。”<br>“樱，打扫之类的之后再…。”士郎挽留着樱。<br>“好好吃。”伊莉雅吃了起来。<br>“啊，伊莉雅，你好狡猾啊！”藤姐生气地喊着。<br>“哎呀，那边的看起来也很好吃呢。”<br>“你给我等下，伊莉雅斯菲尔，这个和那个是我和士郎的。”Saber说着。<br>“竟然都选好自己的了？”藤姐说着。<br>士郎提议，“真受不了你们，就猜拳决定吧。”<br>“好啊，我才不会输。”藤姐呐喊着。<br>藤姐，伊莉雅，Saber三人玩起了猜拳。<br>“剪刀石头布，平手再来，平手再来…。”<br>凛吃着甜点思考着。樱独自倚在门边，看着外面。<br>屋中，凛和Saber、士郎一起。<br>“刚才的新闻….。”<br>士郎接着凛，“你是说昏睡事件吗？”<br>点了点头，“到目前为止，规模开始变大了。潜藏在柳洞寺的Master，因为强敌Berserker消失了，开始为所欲为起来了。要是不管的话，会渐渐升级的吧。”<br>“必须尽早阻止。”<br>“暂且不说守在柳洞寺的Assassin，因为寺里面有人居住，用Excalibur的话，会比较困难。”<br>“那要怎么攻下才好呢！”<br>“你冷静点，士郎。必须再多调查下。”<br>伊莉雅趴着门，“大家是在开作战会议吗？让我也参加吧。”<br>“小孩子还是到院儿里去玩吧。”凛拒绝着。<br>伊莉雅走了进来，“不干，刚才就让我装乖小孩，我已经很累了。”<br>转个身，对凛继续说着，“我知道你们刚才谈论的事情的情报哦。要不要告诉你们呢？”<br>“你知道些什么吗？”士郎问着。<br>“刚才电视上播的那个，搞鬼的不是柳洞寺的Master，是Caster做的。”<br>“等，等一下，那个昏睡事件，应该是柳洞寺的Master干的吧？”凛问着。<br>“柳洞寺里有两个Servant，暗杀者Servant，Assassin，还有魔术师Servant，Caster。”<br>“也就是说一个Master有两个Servant？”士郎问着。<br>“是的，不过把Assassin召唤出来的是Caster。”<br>“怎么会，Servant要召唤Servant应该是不可…。”凛说着。<br>“可能，魔术师本身是有召唤Servant权力的。在这座城市，魔术最好的，你觉得是谁。”<br>“就是说啊，Caster是魔术师，所以她用她的能力召唤来了Assassin。那在柳洞寺的Master呢？”<br>“所谓的Master，对于本身就很强大的魔术师Caster来说，根本就不需要。原本她就是直接杀了召唤自己的Master后，躲进柳洞寺的。她现在的Master。既不是魔术师，也不是别的，就只是个普通人，只不过是Caster操纵的傀儡罢了。”<br>“竟然会有这种事。竟然亲手杀了与自己缔约的Master。”Saber说着。<br>“不足为怪了，因为那人的真实身份是美狄亚。”<br>“美狄亚？”士郎问着。<br>“就是希腊神话当中因背叛出名的魔女。没错，那就是Caster。这么一来的话，问题就只是Assassin啊。本来Caster就不是Saber的对手。”凛说着。<br>“也就是说，要攻进柳洞寺。”Saber说着。<br>“也是啊，也不能再这么放任灾情扩大下去了。”士郎说着。<br>“说的也是啊，如果柳洞寺的Master真的只是个普通人的话。”<br>“我不是说了，不是魔术师嘛。那种Master不需要考虑。”<br>“卫宫，你在吗？”门外有人喊着。<br>“怎么了，一成？”<br>“刚才因为学生会的事被葛木老师叫了过去，正好顺道来看看你过的怎么样。”<br>“这样啊，葛木老师也在学校啊。”<br>“是啊。今天也是一早就出门了。你也知道的，学生会可是随时有事情要忙。”<br>“等一下，你怎么知道葛木老师什么时候出门的？”<br>“住在同一个屋檐下当然会知道啊。”<br>“什么意思啊？”<br>“啊，我没跟你说嘛，真抱歉。葛木老师大概三年前就住在柳洞寺了。”<br>一成离开了卫宫家。<br>“你是说柳洞寺的Master是葛木老师，怎么可能呢？”士郎问着凛。<br>“老师也不是魔术师，跟刚才伊莉雅说的吻合，我们得去试一试了。”<br>“试，怎么试？”<br>“葛木老师是在学校的，对吧？我动些手脚让他晚点回家，我们就在街上袭击他吧，晚上行动。”<br>“可万一搞错了呢？”<br>“这样我们就能清楚知道，葛木老师到底是不是Master了。我轻轻地发个咒语，弄错的话也就感冒躺个两天左右吧，我会尽量手下留情的。没有时间再让你犹豫了，士郎。”<br>晚上，街上的一个胡同。<br>凛，士郎和Saber三人躲在胡同里。<br>“从学校到柳洞寺的话，这是必经之路。”士郎说着。<br>“在这附近我已经设了结界，从外面虽然一看就会暴露，不过万一打起来的话起码可以完美防备。”<br>“我说那个…，远坂，葛木老师真的会是柳洞寺的Master吗？”<br>“所以说我们就是准备确认下的啊。”<br>凛听到了脚步声，“嘘，来了。准备好了吗，士郎？”<br>葛木老师走了过去，凛冲出胡同，向葛木老师攻击咒弹，打中了葛木老师。葛木老师停了下来，但是没受任何伤害。<br>“对他没用？”凛说着。<br>葛木老师后背掉下来一件衣服。<br>“空间转移。”<br>衣服站了起来，Caster出现。<br>“我应该给过你忠告了，宗一郎大人。正因为会有这种事发生，所以我才觉得你得留在柳洞寺。”<br>“那倒也不是，猎物不是上钩了嘛。”<br>“说的也是，虽然也不算是什么大的猎物。好了，出来吧，愚蠢的魔术师。”<br>“Saber，准备好了吗？”凛问着胡同的Saber。<br>“士郎，我一打信号。”Saber说着。<br>不管了，上。<br>士郎投影后和Saber冲到凛的前面。<br>“等你干嘛啊？”凛感到意外。<br>“哎呀，很懂事嘛，小子。”Caster说着。<br>葛木回过头，“是卫宫和远坂吗？想不到不光是间桐连你们都是Master，虽说是魔术师，人生也还真是不幸啊。”<br>“葛木，你是被Caster操控了吗？”<br>“你为什么这么问，卫宫？问问题应该需要理由吧，说说看吧。”<br>“你不是魔术师，只是普通人对吧，所以我在想Caster干的那些事情，你是不是不知道。”<br>“Caster做的事情？”<br>“她在柳洞寺做下巢穴，一直在从城里的人身上收集魔力。最近的几起昏睡事件，全都是她搞的鬼，在继续这样置之不理的话，迟早会有人死掉的。”<br>“是这样啊。那是坏事吗，卫宫？”<br>“你说什么？”<br>“Caster真是拖拖拉拉的，杀了他们才更有效率。”<br>“混蛋。你是说就算把无辜的人卷进来，都无所谓吗？”<br>“无所谓。要说善恶的话我确实是在作恶，不过无论死了多少人都跟我无关。”<br>“葛木你到底是…？”<br>“我既非魔术师也对圣杯战争没有兴趣，我大概就是个杀人狂魔罢了。”放下手提包，摘掉眼镜。<br>Caster向士郎攻击，Saber将其挡住。<br>“这样的话在这里死掉也是无所谓的吧，Caster的Master。”Saber问着。<br>Saber向葛木杀了过去，葛木用身体挡住了Saber的剑。Saber退了下去。<br>“怎么可能？”<br>“Caster给我辅助。”<br>“遵命。”<br>葛木向Saber杀了过去。葛木赤手空拳跟Saber对打，打中了Saber。<br>再次攻了过来，Saber躲开了攻击。<br>“躲得好。与其说你是动态视力好不如说是你的直觉敏锐。”<br>Saber站了起来，再次向葛木攻击。葛木一把抓住了Saber的脖子，将Saber扔了出去。<br>“Saber！”士郎担心着。<br>“怎么会有这种事？”凛问着。<br>“你要是觉得Master的主要职责是在后方支援倒也不假，不过凡事都会有例外，也有我这样的，只能在前方作战的Master存在。Caster我应该命令过你杀了Master的吧。”<br>“真是非常对不起，不过就请让我做最后了结Saber，宗一郎大人请去解决Master们吧。”<br>“那就这样吧。”<br>士郎准备攻击，凛冲到士郎前面，向葛木攻击。<br>葛木上去给了凛一拳，“就算再优秀的魔术师，只要封住咒语就毫无威胁了。”<br>凛跪在了地上咳嗽着，很痛。<br>士郎拿着武器冲了过去，“可恶！”<br>葛木一拳就将武器打碎。<br>得阻止他，不阻止这家伙的话就死定了。不光是我，还有远坂，还有Saber。武器，我想有强力的武器。<br>对了，像那家伙手上拿的东西那样。想到了Archer：<br>“想象那些能帮你打到他的武器吧。因为你能做的也就只有这些了。”<br>“投影开始。”<br>动作怎么样都无所谓了。做出来，给我造出来…。一心想着强化跟复制根本没有差别。得快，会死的不光是我。<br>士郎投影出了Archer的武器，挡住了葛木的攻击。<br>凛捂着胸口看着士郎，“干将莫邪，为什么会。”<br>Saber在地上挣扎着。<br>士郎向葛木冲了过去，几个回合下去，士郎体力不支，跪在了地上。放下手中的武器，手腕流出了鲜血。<br>“Caster你的对手是我。”Saber站了起来，向Caster挥剑，Caster躲开。<br>Saber来到士郎旁边，准备进攻。<br>“等一下，话说我们还是不要进行野蛮的战斗了吧，要不要我们联手啊。”Caster向Saber提议。<br>“妖言惑众。”<br>凛走到Saber旁边，问到：“什么意思？”<br>“你们也是为了取得圣杯对吧，那就不需要战斗了。不用互相残杀也能拿到圣杯喔。”<br>士郎站了起来，“你说什么？”<br>“我已经完全了解了圣杯的组成了，只要你们肯协助的话，我也可以分给你们圣杯的恩惠哦。”<br>“你要怎么做？”凛问着。<br>“这块土地具备着能够召唤圣杯的灵脉，再来只要有召唤圣杯时充当核心的东西，和用来维持圣杯继续运行的大量魔力，就能将圣杯的力量拿到手。”<br>“听起来真的不错呢，可是，你说的那股大量魔力，到底要消耗多少人的魂魄才够呢？”凛说着。<br>“什么？”士郎有些吃惊。<br>“这个嘛，如果只是召唤圣杯，那用上整座城的人就够了吧。但如果让它继续动下去的话，那就不够了。不过你放心，还好现在到处都是人。用来加火的木炭，要多少有多少。”<br>要来加火的木炭，士郎想到了冬木市的那场火灾。<br>凛继续问着，“还有你说用来做圣杯召唤的核心的东西，应该是指魔术师吧。虽然能接触到圣杯的只有Servant，但能召唤出圣杯的只有Master。可是你的Master并不是魔术师，所以自然就会需要替代品的吧。”<br>“什么意思，需要魔术师是指？”士郎问着凛。<br>“就是祭品。那个女人想把魔术师当做祭品献给圣杯。”<br>“祭品这种说法太野蛮了，我只是拿来当做活化魔力的装置使用。只不过圣杯降临的瞬间，可能会负荷不了灵力而自然殆尽，就当做是光荣的牺牲吧。怎么样，你们不觉得与其全员被杀，不如牺牲一个人来实现另外一个人的愿望更好些吗？”<br>“士郎，凛，不能相信她。”Saber说着。<br>“那还用说。”<br>“真遗憾啊，不过除了你们之外，还有一位合适的魔术师。”牵起葛木的手，挥起衣服，和葛木消失。<br>“合适的魔术师？”凛思考着。<br>“难不成，那家伙的目标是伊莉雅！”<br>“Saber，拜托了。”<br>“是。”快速向卫宫家跑去。<br>推开门，看到了倒在地上的樱，“樱！”<br>扶起樱，“Saber，小姐。”<br>“樱，坚持住。”<br>樱向Saber刺了破除万物戒律之符。<br>“樱，樱。”<br>樱站了起来，“你太疏忽大意了，Saber。这是我的宝贝，它能将所有魔术契约无效化，破除万物戒律之符。”<br>“破除万物戒律之符？”<br>“虽说以这丫头的魔力还破除不了你的契约，不过却成功封住了你的杀手锏，是我赢了，你已经再无法使用圣剑了。”<br>“什么？”Saber跪在了地上。<br>士郎和凛赶了回来。<br>“Saber，你怎么了？”士郎关心着。<br>“樱，她被Caster…。”<br>樱走出了房间，外面下着雨。<br>士郎喊着樱，和凛向外面追去。<br>樱转过身，看着追来的士郎和凛，“这个丫头我拿去做圣杯的祭品了，她拥有潜在的魔术回路，想救她的话就来我的圣殿吧。”<br>樱飞向天空，消失了。<br>“樱，樱！”</p>
<h3 id="第十八话-决战"><a href="#第十八话-决战" class="headerlink" title="第十八话 决战"></a>第十八话 决战</h3>]]></content>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
  <entry>
    <title>命运之夜上（一至十二话）</title>
    <url>/2019/09/29/%E5%91%BD%E8%BF%90%E4%B9%8B%E5%A4%9C%E4%B8%8A/</url>
    <content><![CDATA[<p>命运之夜动画片，根据日本文字冒险游戏<a href="https://baike.baidu.com/item/fate%2Fstay%20night/35179">fate stay night</a>改编，讲述的是第五次圣杯战争，主人公：<a href="https://baike.baidu.com/item/%E5%8D%AB%E5%AE%AB%E5%A3%AB%E9%83%8E/3191065">卫宫士郎</a>和<a href="https://baike.baidu.com/item/%E5%89%91%E4%B9%8B%E9%AA%91%E5%A3%AB/9673172">Saber</a>（<a href="https://baike.baidu.com/item/%E9%98%BF%E5%B0%94%E6%89%98%E5%88%A9%E4%BA%9A%C2%B7%E6%BD%98%E5%BE%B7%E6%8B%89%E8%B4%A1/10500553">阿尔托利亚·潘德拉贡</a>）。<br>fate stay night总共有三条线路，五种不同的剧情，这里简单介绍一下</p>
<span id="more"></span>
<p>注：本篇文章有目录，在页面的右下角</p>
<h2 id="游戏结局介绍"><a href="#游戏结局介绍" class="headerlink" title="游戏结局介绍"></a>游戏结局介绍</h2><blockquote>
<p>一、“Fate”Saber路线<br>唯一结局：梦的延续<br>完成圣杯战争，完成与士郎的约定，破坏圣杯后，终于可以放下从者的身份，微笑着对士郎说出“我爱你”。得到解脱的王回到自己的时代，归还精灵之剑，带着王的骄傲，在树下平静地安息，2006年制作的Fate动画即以此作为结局之基础。<br>二、“Unlimited Blade Works”凛路线<br>1、True End：Brilliant Years<br>与士郎和Archer的相遇，使Saber坚定了自己的信念。带着对士郎的情感，Saber和Fate路线一样，继续走完她的旅途。Archer在朝阳下离去，将过去的自己托付给凛。士郎与凛经过残酷的战争后，士郎跟随凛学习魔术并定下相守一生的约定，在此结局中有透露凛即将在毕业后前往英国伦敦塔进修，并且邀约士郎一起前往伦敦，2010年制作的剧场版和2014年重制的Fate动画即以此作为结局之基础。<br>2、Good End：Sunny Day<br>即使经过两次圣杯战争的血战，Saber仍未明定自己的意念，因此Saber决定借助凛与士郎的魔力，以“使魔”这种不会涉及到圣杯规定的契约留于现世。与士郎、凛过着幸福的三人生活的同时也试着寻找自己的信念，2015年ufotable公开了以此为结局的UBW动画SP<br>三、“Heaven’s Feel”樱路线<br>至少完成Saber、凛路线其一之结局之后才可开通的游戏路线，所有的伏笔、真相皆于此路线中揭明，透过此路线的进程，玩家可完整的了解所谓圣杯战争真正的“样貌”。<br>1、True End：春天归来<br>伊莉雅丝菲尔以生命为代价留住士郎的魂魄，凛借助一个人偶使士郎复活。之后具有圣杯机能而拥有接近无限的魔力的樱以补充魔力的方式保持士郎的生命力。因为和圣杯连接的副作用，樱获得了巨大的魔力，美杜莎（Rider）也因此可以留在这个世界。凛从伦敦返回后，似乎也加入进来。在两年之后的春天，留在卫宫家的樱和士郎、美杜莎还有从伦敦留学回来的凛四人一起相约去赏花。剧场版Heaven’s Feel线的Fate动画即以此作为结局之基础。<br>在老虎道场第39回表示此线为游戏真正的结局。(奈须磨菇在后来已否定此线为真正结局。TYPE-MOON的世界是平行宇宙，即每个故事版本都可被视作“真正”发生。)<br>2、Normal End：樱之梦<br>士郎做出最后的投影以破坏几乎成型的圣杯，自身完全崩溃。得到救赎的樱在卫宫邸住下，一直期待与之相会，直到生命尽头。</p>
</blockquote>
<h2 id="动画作品介绍"><a href="#动画作品介绍" class="headerlink" title="动画作品介绍"></a>动画作品介绍</h2><p>2006年由<a href="https://baike.baidu.com/item/studio%20DEEN">Studio DEEN</a>改编制作为同名电视动画，以原作的Fate路线为主，并穿插其他两线的部分内容，于2006年1月6日播放至2006年6月16日，共24话，已完结。<strong>本篇文章介绍的就是这个。</strong></p>
<p>2010年由Studio DEEN以原作的Unlimited Blade Works路线改编制作为剧场版动画《Fate/stay night Unlimited Blade Works》，于2010年1月23日上映。</p>
<p>2014年由<a href="https://baike.baidu.com/item/ufotable">ufotable</a>以原作的Unlimited Blade Works路线改编制作为电视动画《Fate/stay night [Unlimited Blade Works]》，于2014年10月开始播放，共两季，全26话，已完结。</p>
<p>由ufotable以原作的Heaven’s Feel路线改编制作为剧场版动画《Fate/stay night [Heaven’s Feel]》，于2017年10月14日开始上映，全三章。<br>这里简单说一下HF线，共三章，分别为：<br><strong>命运之夜——天之杯：恶兆之花</strong>（2018年大陆上映）<br><strong>命运之夜——天之杯II：迷失之蝶</strong>（2019年大陆上映）<br><strong>命运之夜——天之杯III：春樱之歌</strong>（2020年8月15日台湾、日本同步上映）<br>即以春天归来为结局。</p>
<h2 id="分享歌曲"><a href="#分享歌曲" class="headerlink" title="分享歌曲"></a>分享歌曲</h2><p>在这篇文章中，分享几首我认为好听的音乐<br><strong>1.騎士王の誇り - 川井憲次</strong><br>骑士王的骄傲 - 川井憲次</p>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=448119&auto=0&height=66"></iframe>

<hr>
<p><strong>2.孤独な巡礼 - 川井憲次</strong><br>孤独的巡礼 - 川井憲次</p>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=448065&auto=0&height=66"></iframe>

<hr>
<p><strong>3.運命の夜 - 川井憲次</strong><br>命运之夜 - 川井憲次</p>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=448060&auto=0&height=66"></iframe>

<hr>
<p><strong>4.消えない想い - 芳賀敬太</strong><br>永不消失的思念 - 芳贺敬太</p>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=28854154&auto=0&height=66"></iframe>

<p><strong>消えない想い - 芳賀敬太</strong> 是游戏中HF线的主要歌曲，但是前两章HF剧场版动画片中并没有使用此歌曲（主题曲进行了重新创作）</p>
<hr>
<p><strong>5.oath sign - LiSA</strong><br>命运之夜前传第一季主题曲</p>
<p><audio controls src="https://music.163.com/song/media/outer/url?id=608404"></audio></p>
<p><strong>接下来是Fate路线分集剧情介绍</strong></p>
<h2 id="分集剧情"><a href="#分集剧情" class="headerlink" title="分集剧情"></a>分集剧情</h2><p>第四次圣杯战争<br>冬木市，火海中，Saber(阿尔托利亚·潘德拉贡)与Archer（吉尔伽美什）进行对决，很不幸，Saber并不是Archer的对手，Saber被Archer的宝剑刺得遍体鳞伤。另一面，卫宫切嗣（Saber的Master）也在与言峰绮礼（Archer的Master）进行对决，在决战中，卫宫切嗣杀死了虚假的“爱丽丝菲尔”但同时也受到了“此世全部之恶（Angra Mainyu；Avenger；安哥拉曼纽）”的诅咒，知道了圣杯即为此世全部之恶。卫宫切嗣由于拥有阿瓦隆剑鞘的治愈能力，最终将言峰绮礼杀死。为阻止安哥拉曼纽的诞生，在杀死Berserker（兰斯洛特）的Saber和Archer（吉尔伽美什）对决中，卫宫切嗣走到圣杯面前，Saber十分希望卫宫切嗣让她取到圣杯。但是，卫宫切嗣却利用令咒命令Saber毁掉圣杯，Saber拿着剑对着圣杯喊着不要，卫宫切嗣再次使用令咒命令Saber摧毁圣杯，最后Saber将圣杯摧毁，伤心的消失了，Saber回到了过去的战场——战场上，阿尔托利亚·潘德拉贡喊着：总有一天，我一定要夺得圣杯！<br>因在室内没注意到在天空中的“孔”，误劈小圣杯导致圣杯内的诅咒从孔中泄露，造成冬木市大火，第四次圣杯战争结束。Archer被圣杯内的诅咒淹没，并获得了肉身（即继续留在了现世），言峰绮礼也因Archer获得了肉身而复活。卫宫切嗣也被诅咒侵蚀身体。<br>切嗣在圣杯战争结束后的大火焚烧地中拼命寻找着幸存者，将阿瓦隆放入了唯一幸存的濒死少年卫宫士郎身体内从而救活了他，并作为他的养父隐居了下去。<br>切嗣在第四次圣杯战争中赢到了最后，但却失去了一切。在第四次圣杯战争结束时的大火中拯救了一名少年，给其取名卫宫士郎，作为他的养父在冬木隐居了下去。作为魔术师行动以外的时候，是一个极度尊重女性的人。对年幼的士郎说“令女孩子哭泣，日后必定会吃亏”。<br>切嗣经常丢下士郎一个人到世界各地去旅行，其实是去德国爱因兹贝伦城希望能救出他的亲生女儿伊莉雅丝菲尔·冯·爱因兹贝伦，但都未能如愿，因为在第四次圣杯战争最后关头由于切嗣的背叛，爱因兹贝伦家才功亏一篑。爱因兹贝伦的结界拒绝他进入。卫宫切嗣曾多次回来想接走伊莉雅，但因被诅咒侵蚀身体严重衰弱，无法突破爱因兹贝伦的结界。伊莉雅一直在家中等待父母回归，最终却等来父亲背叛了家族、抛弃自己在外面另外收养一个小孩的消息。</p>
<h3 id="第一话-起始之日"><a href="#第一话-起始之日" class="headerlink" title="第一话 起始之日"></a>第一话 起始之日</h3><p>10年后<br>“时机成熟了，参加的魔术师共有七名，他们被称为Master，使设着七种职位的Servant，为了唯一的圣杯而互相残杀，这就是圣杯战争。”<br>远坂凛拿着魔法书，念着召唤咒语<br>“宣告，汝身从于吾下，吾命运赋于汝剑，若遵从圣杯之归宿，遵从此意，此道者，回应吧，于此起誓，吾乃成就世间一切善行之人，吾乃传播世间一切罪恶之人，汝等缠绕三大言灵之七天，于抑止之轮降临吧。天秤之守护者啊。”<br>毫无疑问，最强的一张牌已经抽到手了<br>忽然发生了一阵小爆炸，远坂被弹开，“咦？”<br>快速跑向房间，撞开门，看到了自己召唤出的Servant,Archer<br>“哎呀哎呀，看来这一次，又被一个不得了的Master给抽到了呢”</p>
<h4 id="一话-最初之日"><a href="#一话-最初之日" class="headerlink" title="一话 最初之日"></a>一话 最初之日</h4><p>冬木市的废墟中，下着雨，卫宫士郎被卫宫切嗣所救。医院中，士郎躺在病床上，所有人都死了，活下来的就只有我一个<br>仓库中<br>“前辈，卫宫前辈”，士郎被间桐樱在睡梦中叫醒<br>“樱，早上好”<br>“早上好，前辈”<br>“哎？”<br>“时间还早，不过很少见呢，前辈也会睡过头”<br>“嗯，似乎在修理这东西的时候不知不觉睡着了，不好意思”<br>“哪里，我觉得前辈偶尔睡过头也是一件好事呢，这样我就有机会来照顾前辈了”<br>士郎看着樱，微微的笑着“不管怎么说，先去做早餐吧”，随即拍了拍衣服上的灰尘<br>“早餐的话我会准备的，前辈请不要着急，而且藤村老师也就快来了，我想先去换衣服比较好”<br>“说的也是，被藤姐看到这个样子估计会把我打飞的”<br>这所仓库是能让我静下心来的地方，小时候总是背着父亲来到这里，不知不觉这里就成为了我的基地，一直到现在。父亲卫宫切嗣已经过世五年了，父亲虽然住在这么宽大的武家住宅，但是他好像举目无亲，所以父亲留下来的，就由我这个养子继承了，我无法解决的难事，都由父亲认识的藤村老爷承包了。藤村老爷是住在附近的大地主<br>“士郎，还没好吗？”滕姐喊道<br>士郎推开门，穿上衣服。刚才发出呐喊的是那个人的孙女，也就是。。。<br>推开门，看见正在吃早饭的藤姐<br>“好慢啊，姐姐我等的脖子都长了”<br>这也算是父亲认识的人。士郎关上门走了进去<br>“樱，太宠爱着士郎的话，他可是会得寸进尺的”<br>“也不是宠着，因为前辈看起来很累的样子”，樱盛了一碗饭递给士郎<br>“倒是藤姐你才是”<br>“嗯？”<br>“每天早晚都在这里吃饭，难道不叫得寸进尺吗”<br>“我是要到士郎出人头地为止一直充当母亲，已经向切嗣发过誓了，所以有责任每天都来视察情况”<br>“樱，你已经抓住了味噌汤的精髓了呢”士郎对樱夸赞道<br>“都归功于前辈的指教”<br>“听我说话！”藤姐生气地喊着<br>早饭后<br>“迟到了，迟到了，迟到了，记得还要批卷子的”藤姐飞速的跑向学校<br>樱和士郎洗着碗碟<br>“藤村老师，今天的情绪特别高涨呢”<br>“是啊”<br>新闻播报<br>昨夜煤气泄漏事故中的受害者依然没有恢复意识<br>“又来了”士郎说到<br>新闻继续播着：据冬木警察所说他们会从今晨起全面调查该次煤气泄漏的原因<br>士郎接着说“最近新都的煤气泄漏事故出奇的多呢”<br>去学校的路上<br>樱是朋友的妹妹，也是学校里的后辈，一年前左右曾来我家为受伤的我做过饭，自那以后，不知不觉间她一直在照顾着我的生活<br>警车驶向了案发现场<br>“这是怎么了，前辈”樱问道<br>“不知道，不用太在意的，樱”<br>“是”<br>学生会办公室<br>“真是不胜感激”<br>“嗯，不用”<br>“我们学校在社团活动的经费周转方面存在着问题，文学社社员的待遇总是极差，特别是冬季的暖炉不足尤其严重，能修好吗？”<br>“嗯，大概是电线短路了，换一个新的应该能过冬吧”<br>“你真行，卫宫，能得到你的帮助我极端高兴”<br>“一成，你偶尔会说一些奇怪的话语呢”<br>“那个，不好意思，我需要集中注意力，你能不能先出去一下”<br>“是精密的作业呢，好，我就不打扰卫宫了”<br>总之，要说精密也的确是精密的作业呢。也就是说，我的做法并不同寻常。快要断的电热线有两处，看来还撑得住，电源的绝缘电线，可以通过绝缘胶解决<br>开始修理着暖炉<br>小的时候，父亲曾说过，联想并掌握事物的构造，单这种能力我很出色，但是，我作为魔术师的天分，完全是零<br>走廊中<br>士郎追上了一成<br>“修好了，一成”<br>“哦，太好了”<br>“班会差不多要开始了”<br>“是，是吗，抱歉，早晨拜托你做事结果害你迟到的话，我这做朋友的就太不合格了”<br>远坂凛在士郎和一成面前出现，并走进教室<br>士郎盯着走进教室的远坂凛发呆<br>“卫宫，你也看上那个远坂了吗？”<br>“什，什么叫看上远坂，谁会那样啊”<br>“二年A班，远坂凛，姿容秀丽，头脑聪明，不好的传闻一概没有，大部分男生都在憧憬着她，但是卫宫，坦白讲我无论如何也看不惯她”<br>士郎和一成走到教室，一成坐在椅子上<br>“看不惯是指……远坂的哪一点呢？”<br>“并没有到哪一点那种程度，没什么，只是我接受不了，当我没说过吧”<br>上课铃响起<br>“呜哇，迟到了，迟到了，迟到了，同学们！”，藤村老师气喘吁吁地从走廊跑向教室<br>“早上好”，冲进了教室，摔倒在了地上<br>“不要紧吧，老师”<br>“这不是很平常的事吗”<br>“喂，还活着吗”<br>“去捅她一下吧”<br>同学们议论着<br>“不如，大家一起做‘那个’吧”<br>“哦，是‘那个’啊”<br>“一..二..——起床了，老虎！”同学们齐声喊道<br>“不准叫我老虎！”<br>士郎趴在座子上尴尬着<br>班会中<br>“因此呢，请大家遵守放学后的时间，学校的闭门时间暂时改为六点，参加社团活动的人也不可以磨蹭哦”藤村老师温馨的提示道<br>“六点不是太早了吗，大河老师”<br>“后藤君，不称呼藤村老师的话老师可真的要生气了！”<br>“我会注意的”，吓得流汗<br>“那么今天的班会就到此为止，第三节的英语课再见”<br>葛木老师在走廊里看着手表，等待藤村老师老师出来<br>“请吧，葛木老师”，藤村老师开心的走出教室<br>“开始上课了，每天的值日礼仪”葛木老师说道<br>“起立”<br>下课铃响起，教学楼楼顶上<br>“Archer，发现其它Servant的动向了吗”远坂凛问道<br>“你忘记我的职位了吗，很遗憾，我并没有侦测远处敌人的能力”<br>“这样啊，侦测远处敌人魔力的能力恐怕只有Caster才会有”<br>“跟着我走，去探探情况吧”<br>午饭中<br>一成夹起士郎饭盒中的丸子<br>“给我一个吧”<br>“嗯，不过你的便当也未免太单薄了了吧，就算是寺院的继承人，也不是禁止开荤的吧”<br>“不是那种时代错误的问题，这只是我父亲的兴趣而已”<br>一成喝完茶水<br>“对了，你知道今晨在二町的十字路口发生的事件吗”<br>士郎回想起早上和樱看到的那一幕<br>“说起来是什么事件”士郎关切的问道<br>“杀人事件，虽然不清楚详细的情况，但据说是入室抢劫，受害者是四人家庭，杀死他们的凶器，虽然很不可思议，是长兵器，即是说似乎是使用了日本刀或长枪类的，新都每天都有煤气泄漏事故，而这边又有类似为了试刀的暗杀事件，这样一来，学校提早闭门也……”<br>士郎拍翻了便当<br>“怎么了”一成惊讶的问道<br>“那么，那个杀人事件的犯人被逮捕了吗？”<br>“没有，不要说逮捕了，现在是完全没有线索”<br>“卫宫，你的脸色不太好啊”<br>“这个……是吗？突然听到这种事情有些震惊”<br>士郎收拾着便当<br>“抱歉，这不是吃饭时应该提起的话题”<br>操场上<br>“喂，卫宫，不来观看观看练习吗”美缀朝士郎喊到<br>“在发什么呆啊”<br>也罢，那家伙偶尔也会这样的呢<br>士郎坐着车去打工的路上<br>“打工来得太早了啊”士郎看着时间，自言自语说着<br>走在冬木市的枯林<br>还是一如既往啊，为什么不种植上些草皮之类的呢？一直这么放着不管不是太可惜了吗<br>到底是为什么，我果然还是无法接受啊，父亲。<br>小时候<br>“为什么说不可能呢？”士郎问着父亲<br>“很困哪啊，因为士郎所说的是要去拯救一切”<br>“为什么很困难呢？父亲不是把濒死的我救了出来吗？那么，也应该同样去拯救大家才是啊”<br>“去拯救某个人，也就等于放弃了其他的人”<br>当然，现在的我已经能够理解父亲的话了<br>但是，即使如此我还是不情愿，因为，没有任何罪孽的人遭受了苦难，无论付出多大努力所能拯救的不过是极少数人，这不是很不公平吗不能拯救一切那不是真的，所以，所以我……<br>士郎做完了打工的活<br>“辛苦了”老板感谢着士郎<br>“卫宫君，做的真努力呢”老板娘说着<br>“今天还做了其他人的分呢”老板补充着<br>“别人的请求，他大概还没有拒绝过呢吧”<br>“对，真是个大人物”<br>“该说是大人物吗，怎么说呢，他看起来危险兮兮的”<br>士郎回家的路上，回想着那些事件<br>那把剑，Saber的那把剑<br>黑夜中，Servant已经开始行动，柳洞寺的Assassin，桥上的Lancer……<br>煤气事件，强盗杀人，这种时间在外面当然也见不到人影了<br>快要到家时<br>士郎面前出现了穿着紫衣服戴着紫帽子，披着白发的少女<br>少女与士郎擦肩而过<br>“不快一点召唤出来的话可是会死的哦，大哥哥”<br>士郎惊讶的转过头，少女已经不见了踪影<br>晚饭<br>“真是的，学生回来这么晚可是不行的”藤姐责骂到<br>“没办法啊，还要去打工”<br>“反正又是连别人的分都一起做了吧”<br>“去帮别人不是好事吗？”<br>“哎，该说是老好人好还是容易吃亏的性格好，不知道是不是像了切嗣，士郎从小时候起就是这样”<br>“那个，藤村老师，前辈从小时候起就是这样了吗”樱问道<br>“嗯，不能放着别人的困难不管的类型，士郎还是早熟的呢，小学的作文还写着‘我的梦想是成为正义的伙伴’呢”<br>“啊，真了不起啊”<br>“小时候说说也就罢了，但是士郎直到现在还是认真地这么想，姐姐我都担心得不得了了……”<br>“再胡乱说下去我可要生气了！”士郎冲着藤姐喊到<br>士郎看到藤姐身后的东西<br>“那个从刚才起就一直藏在身后的是什么？”<br>“哦，这个嘛，多下来的海报，我在想要不要送给士郎”<br>士郎生气的将海报抢了过来，卷起来<br>“我才不要这种东西！”说着便将海报砸向了藤姐，藤姐挥手拿起了另一份海报，将海报砸向了士郎<br>士郎的速度没藤姐的快，反被藤姐砸中了<br>一声巨响<br>“想和剑道五段的本人斗你还早了十年”<br>“不是这个问题吧，你在海报里夹了什么？”<br>“啊，抱歉，是初回特典附赠的豪华铁制版”<br>“铁制的啊！”<br>“前辈，不，不要紧吗？”<br>晚饭后<br>藤姐和樱与士郎告别<br>“那么我走了，晚安”樱向前辈说到<br>“嗯，晚安，藤姐，拜托了”<br>“交给我吧，走吧，樱”<br>“嗯”<br>仓库中<br>士郎握着钢管使用着魔法<br>“同调，开始，基本骨子，解明，构成材质，解明”<br>小时候<br>父亲在某天这样说到“我呢，是一个魔法师”<br>这是真的，学习了各种各样的神秘，与所谓的世界的构造靠近并且实行的正宗的魔法师，我敬慕着这样的父亲，对我来说，父亲是……是的，是英雄<br>我没有魔术方面的才能，也没有作为魔术师证明的魔术刻印，但似乎还是学会了一个能看得过去的魔术，那么，如果我继续对此专注下去的话，总有一天，我也能够像父亲一样<br>“听好了，士郎，所谓的魔术，是会引发争斗之物，所以不能在外人面前使用，又很难控制，所以训练不可以懈怠，但是最重要的事情是，魔术不是为了自己，而是为了别人而使用的力量。”<br>当然了，就像父亲拯救了我一样，我也要去拯救某些人，我要成为正义的伙伴，这句誓言我在任何时候都不会忘记<br>士郎放下了钢管，头上冒着汗<br>冬木市一座高楼的楼顶上<br>“怎么样？景致不错吧”远坂凛问道<br>“的确是个好地方，如果一开始就来这里的话，就没有必要去环游城镇了”<br>“这里所看到的，只是城镇的全景而已，不实际看到具体的地方去，不就没有办法掌握冬木的构造了吗”<br>“也并不是那样，不要小看Archer的职位，虽然看到邻城还有些困难，但是那座大桥有几颗铆钉我还是能看清的”<br>“真的吗”<br>Archer带着远坂凛在楼顶跳起<br>“我知道你是很优秀的Master，所以，这种发言我只觉得是你在试探我”<br>“如果让你感到不快，还真是抱歉”<br>“我没有感到不快，只是，今后将要发生在这座城市里的事如果你都要一一表示惊讶那我还真的受不了”<br>“我早就有心理准备了，早在十年前！”<br>“听到这句话我就放心了，凛！”</p>
<h3 id="第二话-命运之夜"><a href="#第二话-命运之夜" class="headerlink" title="第二话 命运之夜"></a>第二话 命运之夜</h3><p>“绝不会错，我抽中了最强的一张王牌”<br>“哎呀哎呀，这还真是，又被一个不得了的Master给抽中了”<br>“要救一个人，就代表放弃了其他人”<br>十年前远坂家门口<br>远坂凛的父亲与凛告别<br>“那我走了，之后的事你慢慢了解吧”<br>“是”<br>那个时候，还懵懂无知的我注意到，这个人，恐怕再也回不来了吧<br>战争来临了，不是国家与国家之间，而是仅仅由七名魔术师之间的斗争而引起的战争<br>“凛，总有一天圣杯会出现，而取得圣杯是我们远坂家族的责任，也是一条无法避免的路，你一个人也没问题的”<br>远坂凛躺在床上，手里拿着玉坠，回想起召唤Archer的过程<br>“没能召唤到Saber，为了召唤到最强的Servant，Saber，花了十年一路准备过来”<br>远坂凛家中，Archer与凛喝着茶水<br>“哎”<br>“还在想那件事啊？”<br>“别介意，我并不是对你不满意，我只是对自己没有做到与预期一样，感到无奈罢了”<br>远坂凛埋怨着自己<br>“你冲的红茶，真的很好喝”<br>凛夸赞着Archer<br>“谢谢你的赞美”<br>“说起来，Archer这个名字是弓兵的职阶吧？”凛问道<br>“我身为Master，自己Servant的真实姓名，来历，还有是来自哪里的英灵，这些我想我有权利知道，但是你该不会直到现在还想不起来自己的身世吧”<br>Archer没有回答<br>“Servant会不记得自己的真实姓名，这可能吗？”<br>“不清楚，总之，我记忆非常混乱，而且这也是你不完全的召唤所造成的”<br>“说什么呢？你想不起来自己是什么人，也硬要说成是我失手造成的吗”<br>“不完全是这样，算了，反正也不是很严重的缺陷，不用太在意”<br>“怎么能不在意呢，不知道你是什么英灵就无法制定作战计划，也不知道你到底强在哪里啊”<br>“关于这点，我只能这样告诉你”<br>“什么”<br>“凛，你是个优秀的Master，无论是令咒还是魔力，说你是最强的也不为过吧，而被这样的你所召唤出来的Servant我，当然是最强的”<br>“你夸奖我也没用”<br>“我只是实话实说罢了”<br>“算了，这样一来，敌人也不会知道我们的真实情况了，你的事我就暂不过问，就先说到这里”<br>凛站了起来<br>“圣杯战争是在七名魔术师和Servant之间发生的，不知道是不是都到齐了”<br>“这就不清楚了”</p>
<h4 id="二话-命运之夜"><a href="#二话-命运之夜" class="headerlink" title="二话 命运之夜"></a>二话 命运之夜</h4><p>卫宫家早饭<br>“又做这么多，这些吃的完吗”士郎惊讶的问道<br>“嘿嘿，这边是要带的午饭便当，当我的钱包要瘪的时候，谢谢你对我伸出援手，小樱”藤姐高兴的对樱说到<br>“藤姐拿来装便当用啊，让樱替你做便当，你滥用职权啊”<br>“没有，只要你不嫌弃和我是一样的菜色，花的时间都是一样的”<br>樱回复到，并将一碗饭递到士郎手中<br>“来”<br>“谢谢”<br>“怎样，士郎，不甘心的话中午就来弓道社吧，你来的话，我可以分你一点哦”<br>上学的路上<br>“哎，樱”<br>“嗯”<br>“你每天这样来帮我，我非常感谢，不过周六周日你可以休息，没有关系。再说樱也有自己的朋友圈吧”<br>“没有，我没有什么计划，周末也不出去玩，如果有那个，跟谁有约什么的，还是有个人事情的话就另当别论了”樱害羞地说着<br>“这样啊，不过，你也别太勉强自己了”<br>“是的，学长”<br>校门口<br>“啊，学长，你的手！”<br>士郎看到自己的手在流血<br>“哎，怎么弄得，大概是昨天晚上弄那些破烂的时候割到了吧，没事，也不痛，应该很快就会好了吧，不用太在意了”<br>“好，既然学长都这么说了”<br>“早上好，卫宫”美缀向卫宫问候到<br>“谁呀，原来是美缀啊”<br>“什么是谁啊？还是和原来一样冷淡啊。你呀”<br>“那，我先走了”樱对士郎说到<br>“学姐，我先走了”<br>“好”<br>“如何，你弓道练的怎么样”士郎对美缀问道<br>“一般啦，不过，下次过来看看吧”<br>“啊，如果你能顺便替我看好慎二那就更好了”<br>“慎二，他怎么了”<br>“他最近玩得有点过分，我一不注意，他就开始乱来了。前几天，故意叫刚持弓没多久的男生，在众多女生面前射靶，在射中之前，故意拿人家当笑柄”<br>“那，你该不会由着他。。”<br>“怎么可能任由他胡闹，但是我作为主将，也有很多事忙啊，也不能随时待在道场，所以当时才没能制止。慎二那家伙，我追问，他还想给我打哈哈混过去，真是够气人的”<br>“不过话说回来，慎二那家伙到底在想什么啊”士郎疑惑着<br>“严格指导跟看初学者笑话是两回事，这种道理他明明是知道的啊”士郎说着<br>“听说，好像是向人家告白被拒绝了，就是那个远坂凛”<br>“远……远坂……”<br>“慎二他不是自尊心特别强吗，结果自尊却被那个远坂无情的践踏”<br>走廊中<br>士郎追上慎二<br>间桐慎二，我上国中认识的朋友，也是樱的哥哥<br>“看你大清早就这么匆忙，卫宫，找我有什么事吗”<br>“没有啦，也不是非常重要的事，只是想问你最近在社团怎么样”<br>“啥……为什么我竟然要被退社的家伙操心。记录不断提升啊，因为有我在”<br>“这样啊，需要帮忙的话可以跟我说，像弓弦的调整和弓的修理，慎二不是不大擅长吗”<br>“因为我和卫宫不一样，对那些无聊的杂物不感兴趣，到时就看你的啦”<br>二年C班<br>藤村老师走进教室，士郎就在这个班级<br>二年A班<br>远坂凛坐在桌子上<br>“注意到了吗Archer”<br>“嗯，这附近能感应到敌人的存在，一直盯着我们，好像没有立刻攻过来的意思，他很慎重地在等待时机，这点还是可以看出来的”<br>楼顶上<br>“嗯，有意思，在人全离开以前就先静静等待吧”凛说到<br>学生会办公士郎盯着电视机思考着<br>“嗯，怎么了，从以前就有点状况了，然后到最近就完全不能用了”一成对卫宫说着<br>“我说啊，完全不能用的话，那就算叫我修也修不好啊”<br>“不行了吗”<br>“一成，能帮我去我柜子里把那工具箱过来吗”<br>“咦，那这么说”<br>“离不能用还早了点”<br>“这样啊，非常感谢”<br>放学后<br>士郎独自走在操场上<br>“怎么，卫宫，还没回去啊。你也太悠闲了，这么晚还在闲逛，我真羡慕你”慎二对士郎说着<br>“我也没闲逛，我刚是被一成叫去帮忙修学生会的东西而已”<br>“啊，被学生会叫去使唤了”慎二嘲讽到<br>“那，这边的杂事能不能也顺便帮个忙呢。我们的弓道社，东西是乱七八糟哦，而我又忙得分身乏术，不好意思，卫宫你来替我做可以吗”<br>“咦，那个不是藤村老师让间桐学长你去做的吗？”慎二旁边的女生说道<br>“不过，要是我留下来收拾好，店不就关门了吗？既然那个人肯代替我做，那有什么不好”<br>“可是这样不太好吧”<br>“你没有问题吧，卫宫”<br>“没有，没关系，反正我也很闲”<br>“好，那就说好了，我们走了各位”<br>“不过这样真的好吗？”<br>“没事没事，那个家伙啊，以前就一直喜欢帮别人做事”慎二和身旁的女生议论着<br>“真不可思议，他是笨蛋吗”<br>“喂，人家能听到的”<br>弓道社门前<br>“好，就趁这个机会彻底来个大扫除吧”<br>不知不觉已到了晚上<br>“看我的”，士郎开心的打扫着弓道社<br>楼顶上<br>“来了，好像他是在等待日落”凛说道<br>“要攻过来了”<br>“好重的杀气”<br>“哟，好美的夜晚”站在护栏上的另一位Servant说道<br>凛抬起头看着Servant<br>“那边的老兄也这么认为的吧”<br>凛吃惊的说着“他看得到，Archer”<br>“这家伙果真是Servant”<br>“确实如此，那么，明白这种情况的小姑娘，应该就是我的敌人没错吧”Servant回复着，并挥动着自己的长枪<br>“Archer！”凛迅速躲避，跳下了楼<br>“着地，拜托了”<br>“它的武器是长枪，我们必须得跑到宽敞的对我们有利的场所”<br>Servant出现在凛面前，凛退后<br>“Archer”<br>灵体化的Archer现身<br>“不错啊，懂得自己现身，这样正好”<br>“Lancer，你是Servant对吧”凛问道<br>“当然，你那边的Servant不像是正面单挑的类型，这么说，是Archer吧”，随机摆出攻击姿势<br>“也罢，遇上了只有打了试试，很好，放马过来吧”Lancer说道<br>“那么，怎么办呢，凛？我是早就准备好了”<br>凛思考着<br>“Archer，就在这里，让我见识到你的实力”<br>Archer投影出自己的武器，攻了过去<br>“明明是弓兵给我学什么剑士！”<br>Archer与Lancer打斗着<br>弓道社中，士郎听到了声音<br>“怎么了，在操场那边吗”<br>带着疑问，士郎走出了弓道社<br>护栏外，士郎看到Servant的对打<br>“怎么回事，那些家伙”<br>士郎吃惊的看着<br>“你这家伙，你是哪里的英灵，我可从没听过还有Archer是使用双刀的”Lancer问道<br>“反倒是你让人容易看清，这种程度的Lancer，世上只有一个人”<br>凶杀案，凶器是日本刀或长枪之类的<br>士郎回想起与一成的对话<br>Lancer发现了士郎<br>“什么人？”<br>士郎惊慌失措地逃走<br>Lancer追了上去<br>“坏了，竟然还有人留在学校”凛说道<br>士郎跑进教学楼，上了楼梯，进到了走廊<br>摔了个跟头，靠在墙边，累的坐到了地上<br>“刚才到底是怎么回事？”士郎气喘吁吁地说着<br>“哟”Lancer出现在士郎面前<br>士郎吓得后退<br>“你倒是跑挺快的嘛，也罢，是你运气不好，既然你看到了，那就去死吧”随即将长枪刺向了士郎的心脏<br>“俗话说，死人是不会说话的”<br>拔出长枪，士郎倒在了地上，Lancer离开<br>“这种，这种德行当得上正义的使者，才有鬼！”士郎对自己生气得说着，随即闭上了眼睛<br>凛和Archer来到走廊，看到倒地的士郎<br>是我的错，我的错。随即摇了摇头<br>我不是早做好会有牺牲者的觉悟了吗<br>“去追Lancer，Archer应该会回Master的地方才对，最起码要弄清楚那个Master的相貌！”<br>“是”Archer追了上去<br>凛来到士郎身边，蹲下来<br>“对不起，至少，你是我最后见到的人”<br>“骗人，别开玩笑了，为什么？为什么偏偏是你？”<br>凛拿出宝石玉坠，对士郎施展着魔法<br>对不起，父亲，你的女儿是个非常薄情的人<br>用虚构的器官伪装成破损的器官，在这段期间修复心脏<br>谁，是谁<br>爸爸，我明明发了誓，等我成了魔术师，一定会去拯救别人。明明发了誓的<br>凛离开了士郎<br>士郎睁开了眼睛，捂着伤口，很痛，看到了手上的鲜血<br>“我还活着”<br>看到了凛掉下的宝石<br>士郎家中<br>看到了樱留给学长的信<br>“给学长，我今天先回去了，晚安。 樱”<br>士郎倚在墙边<br>“那些家伙究竟是什么来头，绝不是人类。幽灵，不对，是实体在战斗，我也差点被杀死。不对，心脏被一枪刺穿，确实被杀死啊。不过，有人救了我一命”<br>凛家中<br>“成果如何？”凛对Archer问道<br>“抱歉，我想那个Master大概也很谨慎吧，不过起码知道，我们这边的城市没有Lancer的Master”<br>“是啊，那没办法了”<br>“真让人惊讶，想不到你竟然为了救目击者，使用了重要的宝石”<br>“要你管！宝石还有存量，别斤斤计较的”<br>“凛，我在意的是，你为什么要采取那样的行动，我们的战斗不能出现在常人面前的，万一被人看到，迅速将其灭口是规则所在。像Lancer，比起与我们战斗，更急着前去灭口。再说，他早晚也会发现目击者还活着吧”<br>士郎家仓库中的魔法阵开始出现<br>凛惊讶着<br>“是啊，目击者活着的话，Lancer不会置之不理的”<br>士郎家中<br>“是那家伙追上来了”士郎起身<br>“武器，有什么能当武器的”<br>握起了藤姐那天拿着的铁制版海报<br>惨了<br>不过，既然状况已经到了这种地步了，就只有硬着头皮冲了<br>“同调，开始，构成材质，强化结束”用魔法强化了海报<br>“放马过来吧，才不会像刚才……”<br>Lancer来到屋中，向士郎挥起长枪<br>士郎随即倒地，起来做起防御姿势<br>“哎呀哎呀，我还特意替你着想，让你不带痛苦地死去。不过，想不到有一天要杀同一个人两次。这次，可别失手了”将长枪举起，刺向士郎<br>士郎用海报挡住了长枪，使长枪刮到了手臂<br>“你这小子可真叫人吃惊，原来如此，心脏被刺穿还能保有性命，是这样啊。虽然微弱但的确感觉到魔力”<br>凛和Archer往士郎家赶去<br>“真拿你没办法，你总是给我添麻烦你知道吗”Archer对凛埋怨到<br>“嗯，我也这么觉得”<br>士郎与Lancer对打着<br>士郎撞碎了玻璃，逃到了屋外，往仓库跑去<br>Lancer追了上去，将士郎踢到了仓库门口<br>仓库中，魔法阵正在完成<br>士郎爬了起来<br>“捉迷藏的游戏，就玩到这里了”随即又将长枪刺向士郎<br>士郎躲进了仓库中<br>“死心吧”<br>“可恶”，士郎拿起海报反击，海报被Lancer打飞<br>手无寸铁的士郎正在接受着Lancer的审判<br>“收尾了，你很出乎我的意料，小兄弟，说不定，你就是第七人”<br>“第七人？”<br>“即使如此，也到此为止了”<br>士郎身后的魔法阵完成了<br>“开玩笑吧，好不容易被救了，我才不能这么简单的死掉，我才不能像这样，毫无意义的死掉，我绝不会乖乖地被你杀死”<br>那把剑，Saber的那把剑。士郎手上出现了令咒<br>令咒与魔法阵产生共鸣，魔法阵发出刺眼的光使士郎和Lancer睁不开眼睛<br>天空中赶来的凛和Archer也看到了刺眼的光芒在士郎家亮起<br>“那是？”凛吃惊地问道<br>Saber，在魔法阵中出现。迅速冲到士郎面前，向Lancer砍去<br>Lancer逃到仓库外面，士郎被Saber的剑气弹飞<br>身穿铠甲，黄色头发的少女出现在士郎面前<br>“Servant，Saber，遵从召唤降临于此。请问，你就是我的Master吗”Saber向士郎问道<br>士郎盯着眼前那位神秘的少女，感到不可思议<br>我说不出话，是因为事出突然，弄得我不知所措吗？不，不是这样，我只是因为眼前的少女，实在太过于美丽，让我失去言语</p>
<h3 id="第三话-开幕"><a href="#第三话-开幕" class="headerlink" title="第三话 开幕"></a>第三话 开幕</h3><p>士郎与Lancer打斗着<br>令咒与魔法阵产生共鸣，Saber出现了<br>“Servant，Saber，遵从召唤而来。我问你，你就是我的Master吗？”<br>“M……Master？”<br>“Servant，Saber，遵从召唤而来。Master，请指示。”<br>士郎按住出现令咒的手背，很痛<br>“从此吾剑与您同在，您的命运与我共存。至此，契约完成”<br>士郎没有说话<br>Saber注意到仓库外的Lancer，追了上去<br>“等……等一下”<br>士郎起身，追了出去</p>
<h4 id="三话-开幕"><a href="#三话-开幕" class="headerlink" title="三话 开幕"></a>三话 开幕</h4><p>Saber与Lancer在院子里打斗着<br>Saber用着无形之剑，Lancer稍稍处于劣势<br>“无形之剑。”士郎吃惊到<br>“卑鄙的家伙，居然隐藏自己的武器！”Lancer生气的对Saber说道<br>Saber攻了过去，Lancer被弹飞<br>“怎么了，Lancer，站着不动可有辱枪兵之名，你这边不攻过来的话，我就要过去了”<br>“在那之前有件事情要先问你。你的宝具，那是剑吗”<br>“谁知道呢。战斧，枪剑，不，说不定是弓箭”<br>“不要胡说了，Saber！”<br>Lancer做出攻击姿势<br>“我们是第一次见面，不想就此停手吗”Lancer问道<br>“我拒绝，我要在此打倒你”<br>“我这边原本只是打算视察一下情况，既然Servant出现了，就不打算久留了”<br>Lancer跳起<br>“你的心脏，我收下了”对Saber说道<br>Saber躲开Lancer的攻击<br>“穿刺·死棘之枪！”Lancer使出了攻击，击中了Saber<br>士郎吃惊地看着<br>Saber好像躲开了，但确实被刺中了<br>“诅咒？不，刚刚的逆转是遵循因果而生的吗”Saber捂着伤口说道<br>“你躲开了呢，我必杀的穿刺·死棘之枪。”<br>“穿刺·死棘之枪？你是爱尔兰的光之子吗？”<br>光之子：名为库丘林，凯尔特神话中最伟大的英雄。光之神“路”与阿鲁斯塔国王克诺亚的妹妹蒂希特拉之子<br>“穿刺·死棘之枪，突破一切防御的魔枪。起初便定下了贯穿心脏的这一结果，枪的轨迹配合那个结果而改变。”Saber说道<br>Saber站了起来<br>“这就是克朗之馆的看门犬所持有的被诅咒之猎枪吗？”Saber问道<br>库丘林年仅七岁时就徒手杀死了克朗之馆的看门犬，作为对痛失爱犬的克朗的补偿代替它作为忠实的看门狗。从此他就被称为库丘林（克朗之猛犬）<br>“逊毙了，明明使出这招却没有必杀会很糟的。真是的，太有名也该反省反省。虽然被人知道自己的真实身份就必须战至最后是Servant的规则，但不巧的是，我的Master是个胆小鬼，居然说如果枪被躲开就回来”<br>Lancer好像故意不杀死受伤的Saber，离开了院子<br>“你要逃吗？”Saber问道<br>“要不要追过来随便你。但是，到那时给我做好必死的觉悟！”Lancer离开<br>“等下！”Saber捂着伤口追着，但是没有追多远<br>“那家伙……”士郎说到<br>士郎追上了Saber，看到Saber的伤口复原<br>“你是何方神圣？”士郎问道<br>“并不是什么何方神圣，我是身为Saber的Servant。是你把我叫出来的，所以没有确认的必要吧”<br>“身为Saber的Servant？”<br>“是。所以请叫我Saber。”<br>“是吗？真是古怪的名字。我是卫宫士郎。那个，也就是说，我想问的是……”<br>“我知道，你不是正规的Master呢。”<br>“Master？”<br>“可是，即便如此你也是我的Master。既然定下了契约，我就不会背叛你。”<br>“稍，稍等一下，我的名字可不是Master！”<br>“那么就士郎。嗯，我也比较喜欢这个发音。”<br>初次见面，不应该叫卫宫吗？疑惑到<br>按着出现令咒的手背，很痛<br>“士郎，请为我治疗伤口。”<br>“难道是在对我说吗？对不起，我还不会使用那么困难的魔术。而且，那个伤不是已经愈合了吗？”<br>Saber无奈到<br>“那么就这样子好了，自动修复只能修复表面。但只打一场战斗的话，应该不会有什么大碍。”<br>Saber向院子外面跑去<br>“等一下”士郎叫到<br>Saber已经冲了出去，士郎跟在Saber后面<br>Saber向外面的Archer砍去，砍中了Archer<br>Archer身负重伤<br>“Archer，隐去！”凛用了一个令咒，将Archer送到了养伤的地方<br>Saber向远坂杀去<br>远坂向Saber扔出一个宝石进行防御，但是并没有阻挡住Saber，眼看Saber就要攻了过去<br>“住手，Saber！”士郎向Saber喊到<br>Saber停止了攻击，但是没有放下手中的隐形之剑，随时准备将其砍下去<br>“她是Archer的Master，必须在这里解决她！”<br>“你说的Master什么的我一点也不明白！我还不知道你究竟是什么！如果你愿意解释的话，我会好好听的。不要做这样的事情！”<br>“这样的事情指的是什么事？”<br>“咦”<br>“这样子的指示请恕我无法遵从。敌人必须要打倒。”<br>“女孩子不应该挥舞武器，更何况你现在受伤了！”士郎反驳道<br>“你准备什么时候才放下那把剑呢？”凛对Saber问道<br>“在敌人面前没有放下剑的理由。”<br>“原来堂堂身为Saber的Servant是会违背主人意愿的啊。”凛对Saber说着<br>Saber放下了剑，杀气消失了<br>“你是……远坂”士郎问道<br>“晚上好，卫宫。”凛走到士郎面前<br>士郎家中<br>凛用魔法将士郎撞碎的玻璃复原<br>“虽然，这点事情卫宫也可以轻易办到”<br>士郎吃惊地说“真厉害！这种事情我办不到啊。”<br>“这种东西无论在哪种流派都是基础中的基础啊！”凛疑惑到<br>“我只是跟父亲学了一些。基本什么的，入门什么的我还不大清楚。”<br>“啊？那么驾驭五大元素以及制造回路的方法也不清楚吗？”<br>“嗯……”士郎默默的点头<br>“那么你是外行人吗？”凛感到无奈<br>“也算懂些强化之类的魔术吧。”<br>“说到底还是些半吊子的魔术呢。那么除此之外其他都不行了吗？”<br>“嗯。大概吧。”<br>“为什么这样的家伙可以召唤出Saber啊？你连自己现在处于一个怎样的立场也不清楚吧。”<br>“立场？”<br>“你已被卷入了一个游戏。被称为圣杯战争。七名魔术师互相残杀的……”<br>“圣杯战争……？互相残杀……？”<br>“卫宫被选为了Master，在某只手上会有圣痕吧——三个令咒。那就是Master的证明。”<br>士郎看着自己手上的令咒<br>凛继续说着<br>“每数十年就会选中七名Master，每位Master都会各自被给予Servant，围绕着争夺圣杯而进行厮杀。我也是被选为Master的一人。只要令咒尚在，Servant就会遵从指示，令咒有着绝对的命令权。即使扭曲Servant的意向也令其必须服从的咒文，这就是刻印。但是因为每用一次都会减少。如果需要使用，就限制在两次好了。”<br>凛离开了士郎，走向旁边的Saber<br>“等一下，到底是怎么回事？”士郎追问道<br>“你看起来还是不完全状态呢。这也难怪，被一个没有作为Master的心理准备的见习魔术师召唤出来了。”凛对Saber说道<br>“嗯，士郎没有能够提供给我实体的能力。返回灵体，魔力的恢复都会很困难。”<br>“如果我是你的Master的话，明明两种情况都能很好处理的。”<br>“也就是说我不相称吗？”士郎问道<br>“当然的啦！呆子。”<br>士郎有些吃惊<br>“那么差不多该出发了吧。”凛说道<br>“出发？去哪里？”士郎问道<br>“监管这场战争的家伙所在地方。”<br>去往教会的路上<br>“喂，没有更像样点的衣服了吗？”凛对士郎问道<br>“这有什么办法，既然不肯卸下铠甲。”<br>Saber因不肯卸下铠甲而套着一件黄色大衣与其同行<br>教会门口<br>“负责监督的人就在这里吗？”士郎问道<br>“言峰教会”凛说道<br>“士郎，我留在这里。我是为了保护士郎而跟来的。既然目的地是教会，那么你也应不会离开这里了。”Saber对士郎说道<br>士郎与凛推开门<br>教会里黑漆漆一片<br>“远坂，这里的神父是个怎样的人呢？”<br>“是我的监督者。还有就是魔术方面的师兄。也算得上是第二个师父。”<br>“魔术师？教会的神父竟然会成为对他们而言是异端的魔术师？”<br>“所以一般的手段对付不了他。名字叫言峰绮礼，是爸爸的学生，已经认识了十年的冤家。可以的话我还真不想认识他。”<br>言峰绮礼走了出来<br>“我也是，不想要不尊敬师父的弟子。”绮礼对凛说道<br>“我把第七个Master带来了。虽然姑且算是个魔术师，但内在完全是外行人，所以我看不下去了。”<br>“请问你的名字叫什么呢？”绮礼问道<br>“卫宫士郎。”<br>“卫宫……士郎……”<br>绮礼回想起了卫宫切嗣<br>“你是Saber的Servant没错吧。”<br>“这不对。Master也好，圣杯战争也好，我根本不清楚这些。”<br>“这很严重呢。好吧，这也是凛第一次来拜托我，对卫宫士郎还真是感激不尽了。”<br>“听好了，Master不可以让给他人，一旦成为了也无法辞退。这令咒也可以称为圣痕，是给予Master的考验，不能因为方不方便而放弃。如果想辞退Master一职，没有比把圣杯拿到手实现自己的愿望更好的办法了。”<br>“实现愿望？”<br>“只要拿到圣杯，你的愿望，即使是把你里面积存的污泥全部挖出也办得到。对，即便想从头来过也可以如愿。所以你就许愿吧，如果那时候到来你必将会感谢自己被选中成为了Master。如果你想消除这肉眼所看不间的烧伤，只需接受那圣痕便行。”<br>“绮礼，别拐弯抹角的说活。我只是叫你给他说明规则”凛在一旁不耐烦的说道<br>“那就言归正传吧。这个战斗被称为圣杯战争。七名Master使设Servant展开的争夺战。我们也并非自愿进行着这样的蛮横，一切都是为了选拔与圣杯相称的Master的仪式。”<br>“怎么这样？圣杯不是……传说中的……”<br>士郎对圣杯产生了疑惑<br>“在这城市所出现的圣杯是真的。其证据之一，就是已经出现了Servant这种超越常理的奇迹。Servant是接近于精灵的存在，过去或是现代记载在传说中的英雄通过圣杯获得肉体的存在。他们通常都化作灵体伴随在Master身边。一旦需要，便转化为实体并进行战斗。”<br>“卫宫的Saber是例外。Master太无能了，所以无法化为灵体。”凛在一旁不屑的说道<br>绮礼继续说着<br>“和让死者复生相近的这仪式，已经称得上是魔法了。拥有如此力量的圣杯，将会给予持有者无限的力量。圣杯的真伪，在此事实面前根本就毫无意义。”<br>“知道了。就算圣杯真的存在，但也用不着相互残杀吧。圣杯如果真有那么厉害，大家一起分了不就行了？”士郎问道<br>“虽说是合乎道理的建议，可我们没有选择的余地。”绮礼解释着<br>“圣杯会自己挑选具备持有资格的Master，让他们争斗，并且选出唯一的持有者。挑选七名Master以及召唤Servant，一切都是圣杯自己进行的。这就是圣杯战争。被圣杯选中，为了获取它而相互残杀的降灵仪式。”<br>“就算只有一个人能被选中，但杀害其他的Master也……”士郎生气得说着<br>“等等，并没有绝对要Master之间相互杀害的规定。所谓的圣杯是灵体化的。只有同样身为灵体的Servant才能触及。对，圣杯战争就是要除掉自己以外的Servant。”凛对士郎解释道<br>“除掉自己以外的Servant……对了，只要自己的Servant存活下来的话，能触及圣杯的就只有那人自己了。”士郎回复到<br>“对，所以只要打到Servant，就没有必要杀害Master了”凛说<br>“那你就早点说嘛。那么，就算参加圣杯战争，远坂也不至于会送命吧”<br>士郎关心起了别人<br>“问你一件事，你认为你能打倒自己的Servant吗？Servant十分强大。对Master而言理所当然，即便同样身为Servant也难以打倒。可是，Servant一旦失去了Master便无法存在。即使如此……杀死Master就是消除Servant的最有效的手段。”绮礼说道<br>披着白发，穿着紫衣服带着紫帽子的少女带着自己的Servant朝着教会走来<br>“但是，失去Master的Servant并不会立刻消失，其他Master亦可以凭借令咒重新与其立下契约。失去了Master的Servant，亦可以和失去了Servant的Master重新立下契约，并且重返战场。”凛说道<br>“那么要是令咒用完的话呢？这样的话现在的Servant也可以获得自由，能和别的Master立契约了吧？”士郎问道<br>“没错，只要把令咒用完，便可以从Master这一职上解脱。不过这种魔术师别说是半吊子了，只能算是懦夫！”<br>士郎有些生气<br>“如果你要这么做的话，安全就由我来担保吧。这就是作为反复展开的圣杯战争的监督者的职责。在这城市所展开的圣杯战争，这是第五次了。前一次的战斗是在十年前。”<br>“你们是认真的吗？这种事情已经让它发生过四次了！？”士郎追问道<br>“过去的圣杯战争全都是十分惨烈的。Master们都被自己的欲望所驱使，只知道不分对象地残杀，因此，从第三次就开始派遣监督了，那就是我的父亲。而我继承了他的职位。”<br>“这样啊，所谓的圣杯战争还真是件差劲的事。”士郎说到<br>“不是吗，从前的Master都是些违反魔术师规则的家伙吧，让那些家伙拿到圣杯，任自己的私立私欲使用那会带来怎样的后果啊？如果让杀人不眨眼的家伙拿到了圣杯就不妙了吧。”<br>“无论怎样的人取得圣杯，魔术协会都不会干涉，我们所管理的，只有圣杯战争的规则。如果你不想这样，就自己赢到最后吧。与其寄希望于别人，这样做才是最可靠的。”<br>“多管闲事，我没有战斗的理由，对所谓的圣杯也没有兴趣！”<br>“那么对拿到圣杯之人所引起的是怎样的灾祸，也没有兴趣是吧？”<br>“比方说对十年前所发生的事，你也漠不关心是吧？”<br>士郎迟疑了<br>“之前的圣杯战争，最后不具有资格的人触碰到了圣杯。我不知道其Master希望怎么样。我们知道的，只有那时候留下来的灾祸的痕迹。”<br>士郎想起了那场火灾<br>“对，到现在为止还没有查明原因的那场火灾，正是圣杯战争所留下来的痕迹。”<br>“卫宫，你怎么了”凛问道<br>“不，没什么。那么，上一次的结果怎么样了？”<br>“也没怎么样。我不是说了，不具有资格的人触碰到了圣杯。亦有另外一个男人在此之前触摸过圣杯，可是那个男人回避了战斗，从而没有使圣杯完成。集齐七名Servant，并且时机成熟时圣杯就会自动出现。可是，圣杯没有认同回避了战斗的男人作为自己的持有者。”<br>“就是说，没有和其他Master分出胜负就拿到圣杯，也没有意义吧？上次第一个拿到圣杯的Master，真是太幼稚了”凛说道<br>“难道说，你就是那个Master？”士郎问道<br>“直到中途还是……但最后……我失去了Servant，被身为监督者的父亲保护了。话就说到这里，有资格拿到圣杯的，只有使设着Servant的Master。你们七人只剩下最后一人时，圣杯就会出现在胜者面前。再一次问你：卫宫士郎，你作为被选中的Master，有无为此圣杯战争而战斗的意向？”<br>士郎抬起头<br>“我要战斗。如果说十年前的火灾是因为圣杯战争，那我绝不能让那种事再次发生！”<br>“那决定了，好了，回去吧。”凛说道。<br>凛和士郎往外教会外面走着<br>“庆幸吧，少年。你终于可以如愿以偿了。只要没有明确的恶，你的愿望就不能得以实现，即便那对你而言是所不能容许的。正义还是需要与之对立的恶，对你而言，最崇高的理想与最丑恶的欲望，其意义是相同的。没什么，用不着去掩饰。作为人来讲，你的矛盾……那是很正确的。”<br>士郎、凛与教会外的Saber会和<br>“我已经尽了情意了。”远坂对士郎说着<br>“远坂你其实人很好啊。”<br>“什么，就算是奉承我我也不会手下留情的。”<br>Saber注意到靠近的少女<br>“士郎！”Saber警戒到<br>少女和身后的Servant出现在士郎面前<br>“晚上好，大哥哥。像这样的见面已经是第二次了呢。”少女对士郎问候到</p>
<h3 id="第四话-最强的敌人"><a href="#第四话-最强的敌人" class="headerlink" title="第四话 最强的敌人"></a>第四话 最强的敌人</h3><p>教会中<br>“如果你不想当Master的话，就只有得到圣杯才能实现自己的愿望，除此之外没有别的办法了。”<br>“如果你想消除拿到肉眼看不到的烧伤印记的话，你只要接受圣痕就行了。”<br>“卫宫士郎，身为被选上的Master，有没有在这场圣杯中战斗的意志？”<br>“我要战斗。”<br>教会外面<br>士郎看到对面的少女，身穿紫衣，带着紫帽子，系着淡紫色的围巾，因为身后的Servant过于高大，使得前面的这位少女显得过于矮小，Master与Servant高度形成了鲜明对比<br>应该说得上是少女过于渺小呢？准确的说是身后的Servant过于强大<br>“晚上好，大哥哥，我们又见面了。”少女对士郎问候到<br>“糟了，我们与那家伙的实力相差太大。”凛对士郎说<br>“初次见面，凛。”少女向凛鞠躬，打着招呼<br>“我是伊莉雅。伊莉雅斯菲尔·冯·爱因兹贝伦。这么说，你应该认识我了吧。”<br>“爱因兹贝伦……”凛好像想起了什么<br>伊莉雅微笑着说“客套话就到此为止吧。反正你们都要葬身于此了。那么，我要大开杀戒了哦！”<br>“动手，Berserker！”伊莉雅对Servant命令道<br>后面的巨人跳了起来，向士郎一行人杀去</p>
<h4 id="四话-最强之敌"><a href="#四话-最强之敌" class="headerlink" title="四话 最强之敌"></a>四话 最强之敌</h4><p>Berserker向士郎一行人杀了过来<br>“士郎，退后！”Saber冲了过去<br>“Saber。”<br>Berserker与Saber打斗着<br>“Saber！”士郎向Saber喊着，担心着Saber<br>Berserker拿着一把硕大的剑与Saber的隐形之剑打斗着<br>“那么一把硕大的剑，在他手中就像玩具一样。”凛很吃惊<br>“干掉她！干掉她！”伊莉雅开心地对Servant命令道<br>显然已是胜利在握<br>Saber与Berserker相比有些渺小，但是很灵活。<br>Saber在电线上进行闪躲，冲向了伊莉雅<br>Berserker很快的赶了过去，Saber被Berserker打飞，撞到了电线杆<br>“Saber！”士郎很担心<br>“Berserker，就在那里，一口气干掉她！”<br>Saber站了起来，再次与Berserker打斗着。<br>Saber好像不是Berserker的对手<br>Saber被剑气弹开，蹲在地上，捂着被穿刺·死棘之枪刺到的伤口，看来旧伤一直没有复原<br>“啊，那个是。”士郎想起了那场战斗<br>“Saber！住手。”并向Saber跑去，凛拉住了士郎<br>“远坂。”<br>远坂跑到士郎前面，举起右手<br>“四式射杀！”对Berserker使用魔法攻击<br>Berserker没有受到任何伤害<br>“怎么会有这么可怕的体格啊，这家伙。”凛吃惊的说<br>“这样也是徒劳，快跑啊，Saber。”士郎对Saber喊到<br>Berserker再次向Saber攻击，砍伤了Saber，Saber倒地<br>“Saber！Saber！”士郎再次向Saber跑去<br>Saber举起手不让士郎过来<br>士郎停住，“Saber？”<br>Saber利用隐形之剑费劲的站了起来，显然，已不能再进行战斗<br>看着遍体鳞伤的Saber，士郎心痛<br>“为什么要这么拼？”士郎说着<br>伊莉雅走到Berserker旁边“你们怎么可能赢呢？人家的Berserker啊，可是希腊最强的英雄。”自信地说着<br>“希腊最强的英雄？该不会是？”凛想起了些什么<br>“没错，就是传说中的海格力斯。”<br>“海格力斯！”凛很吃惊<br>另一面，Caster用魔法球观察着Saber一行人的战斗<br>“对，它与你们支配的英雄实力悬殊，是最强的怪物。”伊莉雅解释着<br>“听着，Berserker，她还会再生，所以先把她的头砍掉，再杀掉他吧。”<br>伊莉雅丝毫没有收手的意思，士郎看着受伤的Saber<br>“可是，我……”<br>再次看着Saber，“我……我……”<br>Berserker砍了下去，士郎冲了过去，推开倚着剑站在那的Saber，被Berserker砍到<br>士郎倒在血泊中<br>“士郎！士郎！”Saber很吃惊<br>凛也很吃惊，伊莉雅也是<br>“为什么要这样？”伊莉雅很疑惑<br>卫宫士郎，不应该是像爸爸那种抛弃家庭的那种人吗？为什么爸爸的养子会是这样的人，竟然为了保护Saber而去挡刀？<br>“算了，这样太无聊了。Berserker！”伊莉雅将Servant灵体化，准备离开<br>“凛，下次见面的时候我会杀了你的。”<br>凛回过神来<br>“你究竟在想些什么啊？真是的，明明帮不上什么忙，你还……”凛对倒在血泊中的士郎骂着<br>小时候<br>“小的时候，我曾经想做一个正义的使者。”卫宫切嗣对士郎说<br>“‘曾经’是什么意思啊……你放弃了吗？”<br>“嗯，很遗憾，英雄是有时间限制的。成人后，再自称英雄就很难了。我要是能早一点发现这件事就好了。”<br>“这样啊。那就没办法了。”<br>“是啊，完全没办法。”<br>“嗯。如果没别的办法，那就我来替你完成这个愿望吧。老爹已经是大人了，没法再成为英雄了。不过我的话，就没问题了吧。交给我吧，老爹你的梦想，我一定会实现的。”<br>“嗯……那我就安心了……”<br>爸爸闭上了眼睛，离开了士郎，士郎痛苦的流泪<br>士郎家中<br>士郎从睡梦中醒来，天已经亮了<br>“痛痛痛……”士郎捂着头<br>身上绑着绷带<br>漱了漱口，看到了水中的血<br>“这是什么情况？”<br>“昨天晚上，呃……”<br>推开门，看到了远坂在喝茶<br>“早安。抱歉啊，卫宫同学，我没打招呼就自己进来了。”<br>“为，为什么你会在我家里？”<br>“这里连好一点的茶都没有哎。茶包也是，至少也要常备三角茶包知道吗？”<br>“远，远坂，为什么你会……”<br>“等一下，你难道不应该先谢谢我把你抬回来吗？”<br>“抬回来？”<br>士郎看了看身体，摸摸头，好像回想起了什么<br>“啊，这么说来。”<br>想起了帮Saber挡刀<br>“对了，我还被那个怪物……哎，为什么我还活着？”<br>“那是之后你自行恢复的。”<br>“我自行恢复？”<br>“看起来，Saber似乎有自然治愈的能力。可能是那种能力流入你体内的原因吧。Servant向Master提供魔力，这种行为本来是不可能的。不过，Master本身也不正常。”<br>“你说的是什么意思啊？”<br>“竟然有Master想要救Servant，简直闻所未闻。如果你死了，Saber也是会随之消失的啊！”<br>士郎没有说话，凛搅拌着杯中的茶叶<br>“卫宫同学，接下来你打算怎么办？”<br>“我只是不想让十年前的悲剧再次重演而已。我对圣杯什么的没有兴趣。”<br>“我就知道你会这么说。你啊，说这种话你会被Saber杀掉的！”<br>“被Saber？”<br>“你以为Servant会无偿的服从人类吗？得到圣杯的人，能实现自己的愿望，这点对身为守护者的Servant来说也不例外。他们之所以会听从Master的召唤，是因为他们也想得到圣杯。他们也有想要实现的愿望。”<br>“为了圣杯，Saber……”士郎有些纠结<br>“可是，Saber她可是人啊！昨天晚上她流了那么多血！”<br>“Servant没有生死之分。就算死了，也只是回到原来的地方而已。”<br>“那也不能因此就互相残杀啊！”<br>“如果继续放任其他的Master不管的话，那些无辜的人也可能会死的啊！Servant的燃料是魔力，积蓄的魔力越多，就越能发挥生前的能力。”<br>“你究竟想说什么？”<br>“他们是灵体只要让他们吸取魂魄，就能够摄取养分。”<br>“什么？”<br>“为了增强魔力，甚至有Master让Servant袭击人类吸取他们的魂魄。”<br>“Servant竟然会吃人！怎么会……不可能……Saber……”<br>“那么你准备怎么做？不管别的Master做什么你都打算袖手旁观吗？”凛在一旁冲着茶<br>“那样的话，我就只有阻止他们了。”<br>“真是难以理解。不主动去打倒别的Master，但一有Master作恶，你就要出手阻止。你在自相矛盾你知道吗？”<br>凛将冲好的茶递到士郎面前<br>“我知道我想的太天真了。可是我想不出其他的方法了。”<br>“有一个问题，我可以说吗？”<br>“什，什么？”<br>“昨晚的那个Master绝对会卷土重来的。那女孩的Servant与我们的实力相差太大。如果只是坐视不管，结果就显而易见了。到时只怕你连自保都顾不上了。”<br>“那个Servant是叫海格力斯吧？”<br>“她还真是瞧不起我们啊。要是英雄的真名被人知道了，就等于把弱点暴露给敌人了。”<br>“啊，对了，Saber的名字是什么啊？”<br>“我看还是别让她告诉你比较好，你一副一不留神就在外人面前说漏嘴的样子。”<br>“外人是指……远坂你吗？”<br>“我可不记得跟你很熟哦！”<br>屋门口，凛穿着鞋准备离开<br>“不要出来送我啦。”<br>“这是为了感谢你把我抬回家。哎，我忘了说了，谢谢你。”<br>凛推开门，走了出去<br>“往后还是别把我当朋友看会比较轻松哦。”<br>凛将门关上，离开了<br>如果参加了圣杯战争，不把对方干掉就没法活下去，排除的方法可能会连累到与此无关的人们，不做点什么的话，我<br>你该高兴啊，少年，你的愿望终于要实现了<br>回想起冬木的那场大火，士郎难受地倒在了地上<br>不是那样的，我仅仅是想要拯救他人，不想看到别人死去<br>‘士郎退后！’，Saber当时想要保护我，明明自己都变成那个样子<br>“对了，Saber呢？”<br>远坂在回家的路上遇到了过来的樱<br>“早安，樱。”凛向樱问候到<br>“早安，你今天怎么这么早？”<br>“早睡早起我也做的到啊。”<br>“我不是那个意思。”<br>“我是出来散步的，散步。”凛解释着<br>“我先走了哈。”凛离开了樱<br>樱的鼻子很灵，闻到了远坂学姐身上血的气味<br>“血的……味道。”<br>“早安，小樱！”藤姐在樱的身后拍着樱的肩膀，向樱问候到<br>“藤村老师，早上好！”<br>“真是个舒服的早晨呢。这种时候好想来碗清爽的粥啊。”<br>“我记得好像有做好的蛤蜊佃煮。”<br>“咦，佃煮嘛。”<br>“而且，还加了浓汤勾芡。”<br>藤姐边点头边听着<br>“哇，大早上情绪高涨了呢！我要再来一碗！”<br>士郎在家中找着Saber<br>“房子里基本都找过了。”接下来就是<br>士郎在院子里低头思考着<br>那里了<br>士郎推开门，看到了Saber，走到Saber面前<br>看到Saber在那闭着眼睛休息，身上卸掉了铠甲，穿着一身女孩子应该穿的衣服<br>Saber睁开了眼睛，看着走到旁边的士郎<br>“你醒了啊。”Saber站了起来<br>“是啊，刚醒没多久。”<br>Saber走到士郎面前，抬起头对士郎说<br>“感觉你的精神不太好。”<br>“没，我已经没事了。”士郎将身子转了过去<br>“是吗？那么士郎，关于昨晚的事我有话想跟你说。”<br>“什么？”<br>“Master做出那样的举动，会让我很困扰。战斗是我的天职，士郎请履行好自己的职责。身为Master，你没有必要保护我，而且也没有理由这样做吧。”<br>“帮助女孩子需要理由吗？”士郎反驳着<br>Saber有点吃惊<br>“我重新问一次好了，我叫你Saber就可以吗？”<br>“是的。既然我以Servant的身份跟你结下了契约，我就是士郎的剑。”<br>“你是为了赢得圣杯战争的胜利吗？”<br>“士郎……”<br>“没，没什么。可是Saber，你跟着我胜算很小吧。”<br>“你的意思是，你没有战斗的意志吗？”<br>“战斗意志我是有的。”<br>是的，不管结果怎样。这就是我所决定的战斗，只是<br>“只是我没有胜算。”<br>“如果你没有胜算的话，我会替你创造条件。不惜用上所有可能的手段。”<br>“难道？你会为了获取力量而攻击人类吗？”<br>“那不属于我所说的手段。伤害手无寸铁的人是违反骑士精神的。”<br>士郎放心了许多<br>“但是，如果Master命令的话，我也只能服从了。作为践踏使役我的代价，请允许我领受一个你的刻印。”<br>“嗯，我是绝对不会让你做那种事情的。对不起。”<br>“嗯？”<br>“不经意间就羞辱了你。”士郎低头向Saber道着歉<br>“没有，请抬起头来。我才是，未能领悟士郎的意图，就草草下了结论。”<br>士郎微笑着看着Saber<br>“虽然尽是些我不懂的事，我们也只能在自己能力范围内尽力而为了。”<br>“士郎……”Saber点头，“是！”<br>士郎的肚子叫了起来<br>捂着肚子“啊……”<br>“饥饿是敌人，我们去吃饭吧，士郎。”<br>Saber与士郎向屋中走去<br>“哎，怎么了，士郎？”<br>“啊……对了，早餐吃日式料理你可以吗？”<br>“是，只要是能入口的东西，吃什么都可以。奢侈是敌人。”<br>“敌人……好多啊。”<br>“或许是。”<br>没错，虽然总是会发生令人难以置信的事，但还是存在可以相信的东西不是吗？Saber不是冷酷的杀人狂，Saber她是……</p>
<h3 id="第五话-两位魔术师《前篇》"><a href="#第五话-两位魔术师《前篇》" class="headerlink" title="第五话 两位魔术师《前篇》"></a>第五话 两位魔术师《前篇》</h3><p>“士郎！”<br>“下次见面的时候就会杀掉你。”<br>“Master有着那样的行为会让我很困惑。”<br>“Saber不是冷酷的杀手，Saber是……”<br>学校中，士郎坐在桌子上，回想着早上的事情<br>早饭前<br>“躲起来？”Saber疑惑道<br>“不……那个……因为樱不是魔术师，只是普通的女孩。”<br>“前辈，早饭要冷掉了。”樱喊到<br>“马上就来！”<br>“所以……对不起。这样你都不明白我想要说什么了。”<br>“不，我明白了。也就是说我在这里待命就可以了吧。”<br>“你明白就好了。”士郎关上门，走了出去<br>“送走樱以后，我马上就会回来。”<br>学校中<br>总觉得对她做了不好的事啊</p>
<h4 id="五话-两个魔术师《前篇》"><a href="#五话-两个魔术师《前篇》" class="headerlink" title="五话 两个魔术师《前篇》"></a>五话 两个魔术师《前篇》</h4><p>放学后，士郎家<br>“我回来了！”士郎喊着<br>“Saber？”士郎推开门找着Saber<br>看到Saber安详地在那睡着<br>关上门，走到Saber旁边<br>“什么啊，本来想要和你说说话才匆忙赶回来的……”<br>Saber睁开眼睛<br>“想要说些什么呢？”<br>士郎吓了一跳<br>“你醒着吗？”<br>“因为感觉到Master进了门。”Saber起身<br>“那种事也知道吗？身体已经没事了吗？”士郎关心着<br>“是的，身体已经差不多恢复了。因为一直睡到现在的缘故。”<br>“睡到现在？从早上起？”<br>“是的，战斗以外的时间要尽可能地睡才好。”Saber解释着<br>“从昨晚开始的吧？还真能睡……”<br>Saber警戒到<br>“有人在门口！”<br>“可能是樱吧。”<br>“那么我就在这里待命。”<br>士郎有点不好意思<br>“怎么了？”Saber问道<br>“没，真是对不起。”<br>“不，请别在意。”<br>晚饭中<br>“小樱，你的料理越来越棒了！”藤姐对樱夸赞到<br>“谢谢夸奖，但还不能担保是否美味。”樱很谦虚<br>“你在说什么呢？光看外表就知道不可能难吃了！”<br>士郎想着屋里的Saber<br>说起来，她……今天一整天都没有从那个房间出来过吧。大概以后也……<br>“好棒！好棒！这么可口的饭菜很久没吃到了！小樱，满分！”<br>“谢谢夸奖。”<br>“士郎，再来一碗。”藤姐对士郎说<br>士郎回过神来，看着旁边的空位，仿佛看到了Saber在那吃饭<br>“士郎，快一点。”藤姐将碗递到士郎面前<br>“对不起。”士郎帮着藤姐打饭<br>“前辈，你没有食欲吗？”樱担心的问着<br>“不，并不是那样的，只是……”士郎不知怎么开口<br>果然是这样……<br>“我数数，一二三……”藤姐数着菜里的丸子<br>“我们有三个人，所以就是每人八个。”<br>“等一下！”士郎站了起来，“你们就在这里等一下，我马上就回来。”<br>推开门，去找Saber<br>“Saber，Saber？”<br>推开门，“Saber。”<br>“士郎，这么突然，有什么事吗？”<br>“来一下，把你介绍给大家。”拉着Saber<br>“你是认真的吗？请等一下。”<br>“我不想这样。”<br>“但是。”Saber没有动<br>“别管了，走吧，接下来的事情总会有办法的。”<br>士郎将Saber带到大家面前<br>樱和藤姐很吃惊<br>“虽然有点晚了，我来介绍一下，她叫Saber，暂时住在我家。”<br>“士郎。”<br>“好了，Saber就坐那里吧。饭要大家一起吃才显得美味吧。”<br>“那的确是比较有效率，但是我……”<br>士郎坐下<br>“别客气了，以后Saber也要住在这里了，肉丸就一个人六个。”<br>藤姐生气了<br>“那样可不行！”<br>士郎捂着耳朵<br>“士郎，这到底是怎么回事啊？把这种外国女孩带回家，这里可不是旅馆啊！”藤姐疑惑着<br>“没什么关系吧，家里像旅馆一样大。一个人两个人什么的……”<br>“一个人两个人？难道除了她还有别人？”藤姐更吃惊了<br>“前辈，是那样的吗？”一旁的樱担心的问着<br>“不是的，连樱也是……在说些什么啊？”士郎也吃惊了<br>“但是……”樱看着站着的Saber<br>“不……所以说……”士郎解释着<br>“说起来她是哪里人啊？”藤姐问道<br>“要问是哪里人？是远方亲戚啊。”<br>“远方亲戚？”藤姐疑惑道<br>“难以置信。”樱也跟着说着<br>“是真的啊。虽然我也不是很清楚，但她是来投靠我老爸的。”<br>“这种谎话我怎么可能会相信！再说切嗣会认识外国人什么的……也不是不可能啦。”<br>“是吧。”<br>“即使这样也太奇怪了。”藤姐还是有些不相信<br>“你是为了什么到这里来的？”藤姐向Saber问道<br>Saber没有说话<br>“所以说Saber是……”<br>“士郎给我闭嘴！”，看着Saber，等着Saber的回答<br>“我只是听从切嗣的话而已，从所有敌人的手中保护士郎。”<br>藤姐无话可说了<br>“老师。”樱有些担心<br>“好，既然你这么说，就让我见识一下你的本事。”藤姐向Saber挑衅到<br>“本事？”士郎很疑惑<br>“是的，本——事——”藤姐捏着胳膊，很是自信<br>家中道场<br>藤姐拿着木剑，樱和士郎在一旁观看<br>“你如果比我强，就允许你入住。你如果比我弱就要回去，知道了吧。”<br>藤姐向对面的Saber说着<br>“没问题，但是这是什么道理？”<br>“不明白吗？不都说狮子会把自家孩子推向深渊吗？”<br>“真是乱来。”一旁的士郎说道<br>“士郎给我闭嘴！再说这样做还不都是为了你啊！”<br>“我明白了。总之让你心服口服就好了吧。”Saber说着<br>藤姐有些生气<br>“什么嘛，那种自信满满的说话态势！看着吧，要让我心服口服是很难的！！！”说完便向Saber攻了过去<br>藤姐完全不是Servant的对手！<br>“老师！”樱担心得说<br>Saber握了握没有武器的手，藤姐攻了过去，木剑还没砍到Saber，便被Saber弹飞<br>藤姐握了握没有木剑的手，看到Saber在身后拿着木剑<br>“这样能心服口服吗？”Saber问道<br>藤姐从后背又掏出了一把木剑，再次向Saber攻了过去，“别以为这样就赢了！！”<br>Saber握着手中的木剑准备回击，结果木剑变成了鸡毛掸子<br>“我拿下了！！！”藤姐攻了过来，砍了下去<br>握了握没有木剑的手，很是吃惊<br>Saber再次将木剑夺到自己手中<br>“咦……”<br>Saber扔掉鸡毛掸子，握着木剑<br>“你还要继续的话我可以奉陪，但是你应该已经明白了吧。”用木剑敲了一下藤姐的头，藤姐伤心得倒地<br>“士郎被‘奇怪的东西’夺走了。”很不服气，但是没有办法，很伤心<br>“‘奇怪的东西’是指什么啊……”士郎说着<br>晚上，卧室中<br>“是真的吗，藤姐。”<br>“当然了，即使认可了但作为老师怎么能让年轻的孤男寡女独处呢？今天我们就住下了。”<br>藤姐担心着士郎，决定与樱一起留下来<br>“那个，所以说Saber是……”<br>“不管怎么说她也是女孩子吧。”藤姐用手指示着Saber<br>“Saber就睡中间吧。”<br>“我很为难。我要守护士郎，所以恕我不能与你们同房……”<br>藤姐有些生气<br>士郎对Saber小声的说<br>“对不起，都摆出那种脸了，这大概已经是最大限度的忍让了。”<br>“但是……”Saber还是有些担心<br>“算了，房子有结界保护，我们要在屋内汇合也不是什么难事吧。”<br>“那么，晚安了。你们两位也晚安了。”<br>“是，晚安。”<br>“晚安。”<br>士郎离开了房间<br>Saber追了出来<br>“那个，有一件事想要问你。为什么把我介绍给大家？”<br>“问为什么，我也……”<br>“被她们知道我的存在是不利的，我还是像那样待命比较好。”<br>“比较好？什么比较好？”<br>好不容易把你介绍给大家，你却跟我说要回去原地待命<br>“即使Saber觉得好我也不要！那样是没有道理的吧。”士郎离开<br>夜晚中的冬木市<br>凛推开门<br>“这气味是怎么回事？”看到了倒地的人<br>“生命并无大碍，以这样子来看，等到早上被发现也不会有多大变化。Archer，把窗户打开！不用在这里待太久。”<br>凛用魔法消灭着使魔<br>楼顶上<br>“这样一来应该无法再继续夺取生气了。那么，设下机关的人的气息呢？”凛问着Archer<br>“非常遗憾……”<br>“是吗？Archer，伤势如何？”<br>“还过得去吧。”<br>“那就去追吧。”<br>“你来真的吗？虽然有所恢复，但还不足以与Servant战斗。”<br>“也是。但那家伙居然一边夺取第三者的生气，一边坐山观虎斗。”<br>“哎，放着易于打倒的对手不管，去追棘手的敌人。”<br>“你指的是卫宫同学吗？他就不用管了，反正无论如何都能收拾他。”<br>“那我问你，如果那个Master无所事事地出现在你面前，你打算怎么办？”<br>“到了那时候，就杀了他。”<br>士郎家早饭<br>“我开动了。”大家一起说着<br>Saber很熟练的用着筷子，藤姐夸赞到<br>“Saber，虽然是外国人但是筷子用的真熟练呢。”<br>“是的，毕竟习惯了。”拿起调味汁准备往豆腐里浇<br>“等等，这是调味汁，浇豆腐是用这个。”藤姐温馨提示着<br>“原来如此，感谢你的忠告。”<br>“给。”Saber接了过来，浇着豆腐<br>“好的，士郎，再来一碗。”藤姐将碗递到士郎面前<br>“别吃多了又睡下去了。”<br>“没事的没事的，不吃这点东西撑不到中午的。而且，小樱也在晨练时吃饭团呢。”<br>“你知道的吗？”樱有些不好意思<br>“最近吃的也多了呢。”士郎补充着<br>“连前辈也……”<br>“好了，饭好了。”向藤姐递过去<br>“樱，你一直都在考虑吃的东西吗？”Saber向樱问道<br>“没，没这回事。”随后打开了电视<br>新闻播报（新都又起煤气泄漏事件）<br>今早发现的受害者超过了50人，正在急诊病院抢救。而燃气感应机并没有运转。警方正在调查原因，同时抓紧确认受害者的身份<br>“又是新都？”藤姐问着<br>“最近这样的很多呢。”樱补充着<br>早饭后，士郎和Saber洗着碗碟<br>“那么，接下来拜托了。”藤姐向士郎说<br>“士郎，把被子放回到原来的房间吧。”<br>“已经不要紧了吗？”<br>“嗯。和Saber谈过之后，我断定不会出差错了，是吧？”老师对樱问道<br>“嗯。”樱点着头，“那么，我们走了。”向前辈挥手告别<br>“看来相处的不错呢。”<br>“是的，大河的人品很好，像她那样勇于直面他人并不为他人所欺的人很少有，知道她是士郎的监护人之后，便十分理解士郎的为人从何而来了。”<br>“你这话，我该不该高兴呢？真微妙。”<br>“这是在夸奖你。”<br>“是吗？”士郎很开心<br>“好了，我也差不多该准备一下了。”解下围裙，将围裙递到Saber手中<br>“今天也要去学校？”<br>“嗯。”<br>士郎看着担心的Saber<br>“都说了，我一个人也不要紧的。昨天不也和你说过吗，学校里有很多人的。”<br>“可是，也有Archer的Master在！”<br>“虽然这么说，但不至于会打起来的。而且，我在太阳下山之前一定会赶回来的。”<br>“看来我阻止也没用了。那么，请记住一件事。”<br>“什么？”<br>“虽然很遗憾，但以现状来看，我和士郎的融合度很低，当我感知到Master的危机时，很可能已经无济于事了。所以，当面临危机时，请士郎自行召唤我。”<br>“召唤，是指用这个吗？”士郎抬起令咒的手臂<br>“当面临最糟糕的境况时……”<br>“这样啊，我明白了。”士郎微笑着离开<br>“还有，士郎，昨晚我也想说的，现在最好优先考虑保护好你自己。”士郎没有说话，离开了家<br>学校的路上<br>保护好自己吗？的确是这样没错……但总觉得……<br>校门口，士郎感应到了结界，捂住自己的胸口<br>这甜得发腻的感觉是……<br>“怎么回事……刚才……”继续往校园里走着<br>树上的Rider观察着士郎<br>走廊中<br>并没有什么异状啊，虽然有着很强的不协调感……<br>远坂从墙角走了出来<br>“远坂。哟。”<br>看到没有带着Servant的士郎，远坂快速地离开了<br>“怎么了，那家伙？”士郎疑惑着<br>“那傻瓜，居然没有把Servant带来。”<br>回想起昨晚与Archer的对话<br>“如果那个Master无所事事地出现在你面前，你打算怎么办？”<br>“到那时候，就杀了他。”<br>中午，下课铃响起<br>士郎打开学生会教室的门<br>“一成，开饭吧！”<br>一成趴在桌子上，很困<br>“怎么，熬夜了吗？”<br>“最近似乎怎么睡都无法消除疲劳，所以只要一有空就睡。”<br>“这是怎么回事啊？”<br>“我自己也知道自己很矛盾，但既然无法消除疲劳，那就只有睡……”打起了呼噜<br>“看样子很严重啊。”<br>葛木老师敲着门“柳洞在吗？”<br>一成起来“老师。”<br>“关于今早弓道部的学生一事，似乎连家也没回。”<br>“那么间桐呢？”<br>“缺席。但现在还不能判断是否与那件事有关。学校暂且称他们是病假，所以千万不要泄底。”<br>“是的。”<br>“以上，打搅了。”葛木老师离开<br>“怎么回事啊？弓道部怎么了？”士郎问道<br>“也罢，卫宫也算是相关者，所以就告诉你吧。弓道部的主将美缀绫子从昨天起就下落不明。昨天傍晚，又有人看到他和间桐慎二在谈话。”<br>放学后<br>士郎往美缀的班级走去<br>“而偏偏这个间桐慎二又无故缺席是吧。”<br>“真的吗？”从教室走出来的同学在闲聊着<br>“等等。”士郎叫住她们<br>“美缀今天……”<br>“今天不是请假了吗？据说是感冒，但还真是少有呢！”<br>“是吗，谢谢。”<br>“那么去哪里？去吃什么好呢？”离开的同学继续聊着<br>士郎走进了美缀的教室<br>“已经没有人留下来了啊。结果还是一无所获呢。樱也说不知道，弓道部今天又是休息日。”<br>士郎在走廊里走着，看到了楼梯上的远坂<br>“远坂，你还没走啊。”士郎向远坂打着招呼<br>凛没有说话<br>“什么呀，没什么要说的话我先走了。”<br>“卫宫同学，你知道自己有多傻吗？”<br>凛往士郎方向走去<br>“什么傻不傻的？”<br>“Master竟然在没有Servant陪同的情况下悠哉地散步！就等于是在说‘请杀了我吧’。真是的，已经不单是没想法了，更让人无名火起……”撸起带有刻印手臂的袖子<br>“你在说什么啊？什么杀不杀的？战斗不是只有在没有旁人的地方才会进行的吗？光天化日下的学校根本就……”士郎有些吃惊<br>“说的也对，那么现在这里有旁人吗？”<br>凛举起刻印的手臂<br>“你要逃也可以，但不过是增加痛苦罢了。反正最后赢的是我。”远坂走到了士郎面前<br>“等一下，远坂，这里可是学校。可能还有人没走呢。”举起手阻止着<br>“那时候就等那时候再说吧。我的一贯方针是不可能错过眼前的机会。”把手指向了士郎<br>“你知道北欧魔术中名为‘咒弹’的诅咒吧。”<br>“记得是手指一指就能使对方的症状恶化的……”<br>“既然你知道，那就好说话了，不会连你的性命也夺去的，你就乖乖呆着吧。”说完便将咒弹发了出去<br>士郎躲开，“住手，远坂！”<br>远坂继续向士郎发着咒弹，士郎在走廊里逃跑<br>“你是认真的吗！”<br>“我当然是认真的。”<br>士郎倒地，“刚才的算什么，击中的话后果比脑炎还严重。”<br>“少啰嗦，靶子在移动，不知不觉就下中力道了。”继续向士郎发射<br>士郎连滚带爬的跑了起来，“这不就是所谓的某某持刀（疯子持刀，分外危险）了吗！”<br>“你就没别的话好讲吗！！”<br>士郎跳下了楼梯，由于高度过高，身体震得发颤<br>凛追了过来，从楼梯上跳起，裙子也跟着飘了起来，被士郎看到。<br>凛捂住裙子，落到了楼梯上，震得全身发颤<br>“居然忘记设下防御了……”凛说着<br>“比起这个，不更加注意一下不行……裙子下面……会被看见的……”士郎回过身来对追着的凛说<br>凛很生气，“杀……杀了你！”<br>士郎继续逃着，凛发着咒弹，喊着“休想逃！”<br>士郎逃进了一间教室，关上门，走到窗边<br>“从这里的话，勉勉强强可以跳下去。”<br>侍郎发现了窗边的结界<br>“结界！？是远坂！！”<br>远坂在门外念着咒语<br>“准备，防音，完成。”<br>士郎拿起了桌子<br>“能赶得上吗？”对桌子使用强化魔法<br>“同调，开始，基本骨子，解明，构成材质，解明。”<br>门外的凛<br>“瞄准，一齐射击。”对屋内的士郎准备进行魔法攻击<br>校园内，Rider在树上观察着这场战斗</p>
<h3 id="第六话-两位魔术师《后篇》"><a href="#第六话-两位魔术师《后篇》" class="headerlink" title="第六话 两位魔术师《后篇》"></a>第六话 两位魔术师《后篇》</h3><p>“从这里，应该能跳得下去。”<br>“结界？是远坂弄得吧？”<br>“准备，防音，完成。”<br>“赶得上吗？”<br>“同调，开始，基础架构，解明，构成材质，解明。”<br>“瞄准，一齐射击。”<br>远坂推开门，指着士郎的桌子，“发射。”<br>士郎用桌子挡着咒弹。远坂的攻击很猛，士郎的桌子有些撑不住，最终士郎的桌子被远坂的咒弹炸碎。</p>
<h4 id="六话-两位魔术师《后篇》"><a href="#六话-两位魔术师《后篇》" class="headerlink" title="六话 两位魔术师《后篇》"></a>六话 两位魔术师《后篇》</h4><p>士郎推开了门，捂着鼻子，从充满烟灰的屋子里走了出来，拿着木棒，没走几步就蹲在了走廊上<br>“咳，这样怎么来一决胜负啊？”<br>气喘吁吁的凛看着士郎走了出来<br>“你终于肯出来了啊，卫宫同学。”士郎拿着木棒站了起来。<br>“胜负已定，好了，把你那奇怪的武器丢了吧。反正你根本就没有胜算可言。”<br>士郎看着手里的木棒，“不试试看，怎么知道！累得连肩膀都在抖了，说话就不要那么大的口气了，笨蛋！”<br>远坂看着士郎，低头思考了一下<br>“哼，这样啊，我知道了。本想尽可能地下手轻点，看来我是多此一举了！”<br>远坂伸出手，准备再次发起咒弹<br>“先提前给你道个歉，如果待会一不小心把你给杀了，那可真是对不起了！”<br>“你来真的？”<br>“当然。你终于想明白了吗？最坏的情况是抽掉你手上的神经，不过总比你的命被人拿走好吧。我最后的忠告，把令咒交出来！”<br>“交出令咒……不行，这种事绝对不可能！”<br>“为什么？让我交出这个令咒？不就等于要我背叛Saber吗？”士郎问着凛<br>“给你三秒钟时间考虑，怎样选择自己的命运，你自己决定吧。”<br>“一，二，三秒，时间到。”<br>“卫宫同学，你的决定呢？”<br>士郎没有说话。忽然，走廊内传来一阵惨叫<br>远坂和士郎间的战斗停止<br>士郎回过头，“远坂，刚才那是？”<br>“惨叫声……是吧？”<br>士郎向惨叫声的位置跑了过去<br>“等……你知道在哪吗？”远坂问着，也跟着追了过去<br>“我怎么知道？反正就是从下面传来的。”士郎往楼梯下跑去<br>“等一下，笨蛋！你一个人……”追着的凛说着<br>士郎和凛看到了倒地的同学，士郎蹲在同学旁边，观察着<br>“只是晕过去了。”<br>“怎么可能仅仅是晕了过去，她的魔力之源不知道被谁抽走了！也就是生命力被人抽走了。如果不管的话，她会死的。”站着的凛说到<br>士郎看着倒地的同学，“会死？身上连点伤都没有，怎么就会……”<br>“虽然表面上看起来没事，但里面已经被抽光了。让开！这种程度的话……”凛走向了倒地的同学，拿着宝石，使用着魔法<br>士郎看着凛<br>这种认真的表情，好像在不久前……在距我很近的地方看到过。<br>士郎回想起了在走廊被Lancer刺中的夜晚，想起了被人所救<br>“不行，精神无法集中。帮我把那边的门关起来！”凛对站着的士郎说着<br>士郎走到门的旁边，准备关门<br>看到了一把短剑朝远坂射去。士郎伸手挡住了短剑，短剑扎在士郎的胳膊上消失了。<br>“卫宫同学。你的胳膊，你的胳膊受伤了。”<br>士郎捂着伤口，在门口旁边躲避<br>“远坂，那个女孩便拜托给你了。”朝着外面走去<br>凛站了起来，“卫宫同学。”担心着士郎<br>士郎捂着胳膊走着<br>居然把这种东西射向身为女孩子的……远坂的脸<br>士郎走到操场上<br>就在这附近，我能感觉得到。虽然不知道为什么，不过袭击那个女生的以及朝远坂丢短剑的那个人就在这附近<br>士郎看着弓道场<br>“在弓道场后面吗？”士郎向弓道场后面的树林跑去<br>“肯定没错，就在这里。”士郎在树林里走着<br>落日的余晖照着身边的树林，士郎看到了树后的人影，仿佛听到了慎二的声音<br>“慎二……”士郎停了下来，朝着声音方向望去<br>“喂，是慎二吗？你不是请假了吗？”朝着声音方向走去<br>忽然，手臂很痛，Rider跳了出来，刮伤了士郎的脖子（Rider下手很轻）<br>士郎跪在地上，捂着伤口，很痛，看到了手上粘有鲜血<br>Rider出现在士郎面前<br>“Servant……”士郎很吃惊<br>Rider向士郎攻了过去，士郎拿着手中的木棒还击，士郎摔了个跟头，Rider消失了<br>在哪里？跑到哪里去了？那个家伙一定在盯着这边。可恶，对手是Servant，我怎么可能会赢！再攻过来一次我就完蛋了，肯定会被杀死的。<br>士郎观察着周围<br>对了，只要用令咒召唤Saber的话<br>如果感到了危险，我希望士郎你主动召唤我<br>回想起Saber与Berserker的战斗<br>“不行，不能召唤她。”士郎摇着头<br>我的身体还能动，也有武器在手，场地对我不利的话，那就换个地方。即使要召唤Saber，也要等我竭尽所能了以后再说<br>“真叫人意外，你不用令咒吗？”躲在暗处的Rider向士郎问着<br>“不幸的是使用的次数有限啊。哪能因为这种小事就用！”<br>“是吗？太过要强的话，小心会后悔！”<br>士郎仔细看着四周，“在哪里，你到底躲在哪？”<br>士郎的胳膊不知被什么东西拽起<br>“面对一个没有Servant的Master，我怎么能使得出全力。我看我也换个方式吧，我会温柔的杀了你。”<br>士郎看到了Rider，Rider用铁链向士郎攻去<br>士郎用木棒一挡，便将铁链和Rider弹飞，很开心<br>“哈，没什么了不起的嘛，跟其他的Servant比起来你的魄力差远了。”说完便向树林外跑去<br>只差一点了，行得通<br>“不，到此为止了。”Rider拎起铁链，士郎倒地<br>Rider走到士郎旁边<br>“你从一开始就已经被我抓住了。”<br>士郎手臂再次被拽起<br>“怎……怎么回事？”<br>“你还不明白吗？刺在你手上的是连着我的锁链的桩子。”<br>“你的……桩子。”插在士郎胳膊上的桩子出现了<br>桩子连着Rider手中的锁链<br>Rider拽起锁链，士郎被掉在了空中<br>士郎握住桩子，想将其拔出<br>“真是勇敢啊，总是做出伴随着痛苦的选择。”<br>士郎拼命拔着桩子，但是没有成功<br>“对了，你刚才好像说了一句令人颇感兴趣的话。你说我比不上其他的Servant，不先将你的认知修正过来怎么行！”<br>Rider再次向士郎拎起了锁链，还没有攻击到士郎<br>凛在Rider身后出现，用咒弹攻击着准备进攻的Rider，Rider躲开攻击，凛用咒弹打断了连在士郎胳膊上的锁链<br>士郎掉在了地上，Rider消失了<br>“卫宫同学，你没事吧？”凛向士郎跑去<br>凛包扎着士郎的伤口<br>“只是先做了个急救措施而已哦。对了，刚才那家伙是？”<br>“我也不太清楚，不过应该是Servant吧。”<br>“Master是谁？”<br>“事出突然……”<br>“这样啊。虽然我知道除了我们之外，学校里还有Master。”<br>“你知道？”<br>“附在学校的结界，你应该有察觉到吧。”<br>想起早上走在校门口时的感觉<br>的确，是有种不好的感觉<br>“这么说……那个女生就是被设下结界的家伙攻击的吗？远坂，那个女孩怎么样了？”<br>“放心吧，已经有所好转了。”<br>“太好了。”士郎看着站起来的凛<br>“干嘛啦，一直盯着人家的脸看！我先声明啊，我可没有在学校设什么结界。不要会错意。”<br>士郎站了起来<br>“我知道你不会做那种事。”<br>“那你干嘛？”<br>“我是说要不要继续，刚才的后续。要继续吗？”<br>凛知道了士郎要说的意思<br>“这个……总觉得很扫兴，今天就到此为止。”<br>“那趁着咒文还没失效我们快走吧。”<br>士郎来到了远坂家，天已经黑了<br>“不治疗导致手臂坏死的话不就变得像是我的责任吗？”凛看着士郎手臂上的伤口<br>“伤口基本都愈合了。痛吗？”<br>“嗯，看样子，是不疼。”<br>“被Berserker砍成两半的时候也是这样，卫宫同学你自然治愈的能力很不寻常。我看果然是有种力量从Saber流进了你的体内。”<br>士郎家中<br>Saber在屋中徘徊着，担心着士郎<br>“虽然我听不太懂，不过意思是说，只要跟Saber有契约存在，那不管我怎么受伤，都有办法救治是吗？”<br>“我觉得你还是不要太依赖那个比较好。如果说治疗你伤口的是Saber，那每治疗一次，Saber也应该会相应地消耗魔力才对。”<br>凛清洗着士郎胳膊上的伤口<br>“这代表什么你知道吗？”<br>“对喔。Saber的魔力消耗了，我也没办法替她恢复魔力。”<br>凛将士郎的伤口包扎好，站了起来<br>“所以你以后别那么莽撞。”<br>看着包扎好的伤口<br>“你说学校里还有一个Master是吧？你也不知道他是谁吗？”<br>“可以感觉得到有这个人，不过没有办法确定是哪个人。可以确定的是，这人品行相当的恶劣，哪怕要拿所有的学生做活祭品，那家伙也要让自己的Servant变强。”<br>“拿学生做活祭品？那家伙脑子有病吧。”<br>“现在结界不就覆盖在学校吗，虽然看起来还没有完成，但只要一发动，恐怕所有在学校的人都会衰弱致死的。”<br>“这种事怎么能让他得逞！”<br>“我也没有打算坐视不管，为了阻止结界的发动，我才会把学校四处都检查了一遍。”<br>原来凛放学后一直在检查着结界<br>“所以你才在学校待的那么晚啊。”<br>“是的。不过，看到有个Master悠闲的到处闲逛，火气一下子就冲了上来，结果就走了个岔道。”说完，喝起了拿在手里的茶<br>“抱歉。”坐在沙发上的士郎低头说着<br>“不说这个，我有个提议。要不先暂时休战。”<br>“休战？”<br>“对。经过今天发生的事，我们是Master的事，不都被敌人知道了吗。学校的那个Master品质恶劣，就我个人来说，比起你来，我更想先收拾他。所以在那之前，要不先一起去找学校的Master？”<br>“说的也是。如果能跟远坂结伙的话就会可靠多了。”<br>“慢着！我可没有要当你的伙伴。我只是在破坏掉学校结界之前跟你定下休战协议而已。”<br>“敌人的敌人就是朋友，说的就是这种事吧。”<br>“当然。不过，休战期间我会祝你一臂之力的，只要卫宫同学你没有背叛我。”<br>“是吗？”士郎起身向凛走去，“这样的话，那没问题，往后请多多指教了。”把手伸到凛面前，准备与凛握手<br>“虽然时间不长，不过你可要好好派上用场哦。”凛与士郎握手<br>“好。”<br>士郎家，Saber看着门外，担心着士郎<br>“Saber妹子，怎么啦？”藤姐向Saber问道<br>“士郎回家时间这么晚，我在想不会是出了什么事吧？”<br>“八成又去打工了。不说这个，你猜今晚的晚餐是什么？”<br>“从刚才就传来一阵炸豆腐的香味，这股味道，促进了人体想要摄取碳水化合物的欲望。我想这是樱的拿手料理。”<br>“好准！”<br>“小樱。”藤姐高兴地跑了回去，“油炸豆腐还没有好吗？”<br>Saber回过头来，继续看着外面<br>密室中，点着蜡烛。间桐慎二坐在沙发上，看着已经没有意识的美缀同学，对着身后的Rider说<br>“遇到意外的麻烦了呢。不过算了，只要在学校准备的东西一完成……”<br>凛家中<br>“原来如此，也就是说，卫宫同学你不是正式的魔术师继承者啊。卫宫同学的父亲，在传承给你魔术刻印之前就去世了对吧？”<br>“是的。不过我想他应该也没有打算继承给我。老爸他，反对我成为魔术师。”<br>“这么说也难怪你会跟个外行没两样了。你不懂魔道的知识吧？”<br>“嗯。我能用的只有强化魔术而已。”<br>墙上的石英钟显示时间已经是晚上七点十分<br>“像今天，我也只是强化了桌子拿来当盾。”<br>“等一下，你为什么连这种事都说出来？”<br>“什么为什么？”<br>“就算是暂时休战了，但我们彼此是敌人，这点还是没有变。再者，对魔术师来说，自己能用的魔术应该要隐藏到底，不是吗？”<br>“事到如今再瞒着你，也没意义吧。而且，魔术并不是什么需要拼命隐瞒的东西，老爸也这么说过。”<br>“什么！他真是这样告诉你的？”<br>“是啊。他大概是想说不要受限于规则吧。他还说，要是你不想做魔术的锻炼了，随时都可以放弃。”<br>凛站了起来<br>“别开玩笑了！”<br>“远坂？”<br>“你的父亲根本不是魔术师，还有被那种人训练出来的你也一样！”<br>“你生什么气啊？”士郎很疑惑<br>“虽然我的确算不上什么魔术师。”<br>“我不是说那个！我不能原谅的是……”<br>凛迟疑了一会<br>“对不起，我乱了分寸。”<br>“你说不能原谅……是指什么？”<br>“对魔术师而言，魔术不光是属于自己的东西，而是由父母传给子女，一代一代延续下来的生命成果，将它传授给自己的后代，是身为魔术师的义务。可是，你的父亲却……放弃了那个义务。那种事，那种事，我绝不能原谅。你的父亲，在作为魔术师之前，首先选择了做你的父亲。”远坂回想起了与父亲的分别<br>“远坂。”<br>“抱歉，这种事跟你说了也没用，我还……”<br>士郎站了起来，“不会，没关系啦。”<br>墙上的时钟响起，已经到了八点<br>士郎看着钟，“我得回家了……”<br>“那，以后就在学校交换搜查的Master的情报吧。先约好明天的中午时间在学校的屋顶见怎么样？”<br>士郎点着头，“好的。”<br>“Archer。”灵体化的Archer现身，出现在凛身后，士郎吓了一跳<br>“短期间内我们是合作关系，所以卫宫同学的安全就拜托你了。不可以偷袭他喔！”<br>“嗯，明白。”<br>Archer将士郎送到士郎家外的一条街<br>“送到这里就好，赶紧回远坂的身边去吧。”<br>“不用你说我也是这么打算的。我可不记得要听你使唤。”<br>士郎回过头，看着身后的Archer，“你这家伙……”<br>“从凛的话听来，本以为你是个连只虫也不杀的和平主义者，看来你在感受敌意的方面还颇有一手。”<br>“想打架的话我随时奉陪，像圣杯战争这种愚不可及的游戏，我只想尽早把它结束掉。”<br>“不杀任何人，也不做任何牺牲吗？”<br>“有什么好奇怪的？”<br>“没，对于你那天真的想法，我没有任何意见。不过，问你个问题。”<br>“什么？”<br>“在跟Rider的一战当中，你没有用令咒是吧？我看你也没有自大到，以为自己能对付得了Servant。当时你为什么不召唤Saber？”<br>“不行吗？我没有义务回答你！”<br>“我大概猜得到。与其要他人来承受痛苦，不如自己全部承担下来，是吗？真矫情得让人想吐啊。”<br>“你没资格来教训我！”<br>“有你这种乳臭未干的家伙做Master，只会让Saber的负担变得沉重吧。”<br>Saber在家中穿着睡衣，看着窗外，担心着<br>“我才没有给Saber添什么负担！只要由我来代替她战斗不就行了吗！”<br>“Saber希望你这样做吗？”<br>Saber将窗关上<br>Archer闭上眼睛叹起气来，“算了，跟现在的你说什么都是白费力气。话说，你真的打算不战斗就结束圣杯战争吗？”Archer往回去的方向走着<br>“我说过了，该战斗的时候我会战斗！”<br>“不过，谁也不会杀你有意见吗？”<br>“以为自己背负痛苦就能拯救天下苍生，真是痴人说梦！只要你还抱着这种幻想，那么理想与现实的摩擦，就会使‘冷酷’不断地增长。”<br>“你到底想说什么！”<br>Archer跳了起来，“你要走的路就是这样，毫无意义的幻想，迟早会有一天会在现实的面前破灭。即使这样，你依然能毫不犹豫地去追求你的理想吗，卫宫士郎！”Archer离开<br>士郎回到家中，推开门，看到正在睡觉的Saber，准备关门<br>“是你回来了吧，士郎？怎么这么晚才回来？”Saber睁开眼，看着门口的士郎<br>“我没事啦，对不起，让你担心了，Saber。”<br>“士郎。你没事真是太好了。”闭上了眼睛<br>士郎关上门，椅在家中柱子的旁边<br>我可以毫不犹豫地去追求我的理想吗<br>“那家伙，到底想对我说什么？”<br>天空中，月亮很圆</p>
<h3 id="第七话-蠢动"><a href="#第七话-蠢动" class="headerlink" title="第七话 蠢动"></a>第七话 蠢动</h3><p>“真是勇敢啊，总是做出伴随着痛苦的选择。”<br>“伤口已经愈合得差不多了，会不会痛？”<br>“嗯，好像不疼。”<br>“话说，你真的打算不战斗就结束圣杯战争吗？”<br>“该战斗的时候我会战斗！”<br>卫宫家早上<br>樱推开门，“学长，饭菜差不多都做好了喔。”<br>士郎穿着衣服<br>“知道了。不好意思哦，最近都在麻烦你一个人做饭。”<br>“哪里，不用介意。毕竟我本来也喜欢做饭。那个……Saber呢？”<br>“她啊，还在睡，看她昨天睡得很晚，想让她多睡一点。”<br>“这样子啊，那学长你快点过来哦。”樱走向了厨房<br>士郎回想起昨晚与Saber的对话<br>“士郎，你没事真是太好了。”<br>她是在担心我吧，担心我的安危<br>士郎往厨房走去，听到了开门声<br>Saber推开门，看着士郎<br>“Saber？哎呀，原来你醒了。”<br>Saber站了起来，“士郎，你为什么违背了诺言？”</p>
<h4 id="七话-蠢动"><a href="#七话-蠢动" class="headerlink" title="七话 蠢动"></a>七话 蠢动</h4><p>早餐中<br>Saber胃口很好，一直在吃<br>樱和藤姐有些吃惊<br>“小樱，Saber妹妹她现在在吃第几碗？”藤姐问道<br>“已经是第四碗了。”说完Saber又将碗递到了樱面前<br>“再来一碗。”Saber向樱说着<br>“啊，好。”<br>“昨晚发生什么事了吗？”藤姐小声对士郎问着<br>“也不知道算不算有啦。啊，不说这个了，藤姐，你动作在不快点的话……”<br>“快点？不是还没到七点吗？”<br>“不是啦，我不是指时间。”<br>藤姐看了看桌子上的菜，没想到都快被Saber吃光了<br>Saber放下筷子，“我吃饱了。”<br>藤姐把盘子端起来，“纳豆都吃光了！”<br>Saber站了起来，“失陪了。”说完便往屋内走去<br>“好过分！呜……”端着盘子的藤姐很伤心，“这可是人家的活力来源啊……”<br>“出什么事了吗？”樱向学长问道<br>“没有啦。”<br>回想起早上与Saber的对话<br>“都跟你说了，我也是没办法啊。”<br>“我应该说过，遇到危险的时候请召唤我。”<br>“不是啦，都说了，也没那么危险。或者说根本找不到时间召唤你。”<br>“被Rider袭击，还不算危险吗？”<br>“这个……”<br>“士郎你仍然缺少身为Master的自觉，和凛联手的事也是这样。我希望你事先跟我商量下。”<br>“你反对吗？”<br>“不。相反，我赞成没有知识的士郎去向凛学习。但是凛本来是我们的敌人，跟她接触应该要更加谨慎。”<br>“虽说如此。可是远坂的话没问题啦，她……”<br>看着Saber的表情，士郎没有继续说<br>“学长？学长？”樱叫着学长<br>士郎回过头来，看着樱<br>“那个……我这段时间暂时不去弓道社，所以没有晨练。那个……所以……可以的话我们一起去上学好不好？”<br>“好。那我们就快点把桌子收拾干净吧。”<br>“好的。”樱很开心<br>士郎和樱穿着鞋，樱回过头<br>“怎么了？”士郎向樱问着<br>“那个。”樱指着身后的Saber<br>士郎吓了一跳<br>Saber穿上鞋，跟了出来<br>“等一下，你要去哪里？”士郎叫住Saber<br>“当然是和你一起走！因为保护你是我的职责所在。”<br>凛推开门，Saber吓了一跳<br>“凛！”<br>身后的士郎和樱很吃惊<br>“远坂？”士郎疑惑着<br>“果然，事情变成这样了啊。”外面的凛说着<br>“怎么连你都跑出来了啊？拜托，这样不是更乱了吗？”士郎疑惑着<br>“远坂学姐。”一旁的樱说着<br>“小樱？对了，社团休息了。”<br>“学姐为什么会……”<br>“今天开始，我打算跟卫宫同学一起上学，你没有听说吗？”凛走向樱的旁边<br>樱看着学长，凛对士郎使着眼神<br>士郎摸着头，“啊，对啊，我都忘了这回事了。”<br>“这样子啊。”樱有些伤心<br>“不是，就是说……怎么说呢，三个人一起走比较有意思，不是吗？”士郎解释着<br>“你们在做什么？”Saber问道<br>“都说了，Saber你先等一下啦。说到哪里了，照顺序现在是……”士郎有些懵<br>“我……先出门了。”樱伤心的说着，独自一人走了出去<br>士郎追着樱，“樱！”，没有追上<br>“唉，你也真是的。昨天回到家的时候，你就应该料到会发生这种事吧！”凛对士郎说着<br>“多少要想一想好不好。”凛很无奈，往Saber走去<br>“喂，你要干什么？”<br>“她一起跟上来你会很为难吧。”<br>“话是这么说，可是，现在的Saber哪有那么容易……”<br>学校的路上，凛和士郎一起走着<br>“竟然真的被说服了。”<br>“很简单啊，因为Saber的目的很清楚，只要告诉她达成目的会有什么得失不就行了吗。”<br>“嗯，的确是这样没错。”<br>“一般来说，像卫宫同学这样一点力量也没有的Master，没有人会认为他会两手空空地到处晃悠。”<br>“如果Saber没跟在旁边的话，反而会令对方心生恐惧。会不会是陷阱呢？想着就不敢贸然出手。”<br>听完这句话，士郎停了下来，思考着<br>凛看着士郎，“我说错了吗？”凛走到了士郎前面，没有等士郎<br>“有道理，远坂她，不容小觑！”<br>凛和士郎一起走到了学校门口<br>士郎用手倚着墙，很难受<br>“怎么了？”<br>“又是那个。”<br>“那个？”<br>“一经过这里，我偶尔会感觉到，一种不对劲的感觉，大概是难以呼吸的感觉，或者说是空气甜得让人恶心这种奇怪的感觉。”<br>“我想，大概是结界的关系。结界的效力已经强到一定程度了。”<br>“是这样吗？”<br>“如果放任不管的话，再有两三天就会发动了。”<br>“两三天？”士郎很吃惊<br>“嘘，太大声了，我不是说‘如果放着不管的话’吗？”<br>一成从他们身后走来，看到凛和士郎在一起<br>“哇哦！”<br>“你用哇哦跟人打招呼的啊！”凛生气得回过头，看到了一成<br>“一成？”士郎问着<br>一成很吃惊，指着远坂，“为……为什么你会跟远坂在一起，卫宫？”<br>“呃，你问我，我也……”<br>一成向士郎身边走去，推着眼镜，“起床后我就有种不祥的预感，没想到原来是个凶兆。别说了，快点到这里来。”说着便把士郎拽了过来<br>“小心毒传染到你身上，她的毒啊！”<br>凛叹着气，很无奈，“看来是没办法在这里继续说下去了。”走到士郎旁边，“午休时间屋顶见。”<br>“嗯，好。”<br>凛离开<br>士郎看着学校，“结界吗？”<br>教室中，士郎看着没来的慎二的座位，回想起在树林中仿佛看到慎二<br>课间休息<br>“卫宫，你中午怎么打发？”一成向士郎问着<br>“今天不用管我了，我已经跟别人约好了。”<br>“难道是跟远坂？”一成很吃惊<br>“别去，千万别靠近她！”<br>“我说你啊，在你看来是这样。不过别人看远坂那个样子，其实她也没那么坏。”士郎解释着<br>一成更吃惊了<br>“为时已晚了吗？她的毒已经沁入了全身，终于连我的话都听不进去了吗？”一成抓住士郎，拼命地摇着，吸引了班级其他同学的注意<br>午休<br>士郎在走廊走着<br>“真受不了。不过远坂那家伙，还真是被人误会得不浅啊。不过算了，也不完全是误会。”看到了楼梯上的樱<br>“学长。”<br>“樱。”<br>樱低下头，“对不起，我先走了。”说完便往楼梯下走去<br>“樱！樱！樱！”士郎追着樱，“樱，你等一下！”<br>屋顶上，凛一个人在等着士郎，“慢死了！”<br>楼下<br>“唉，是这样吗？”樱问着士郎<br>“对啊，今天早上远坂会来，是因为她有点话要跟我说，明天她就不会来了，Saber也会待在家里。”<br>“是这么回事啊。”樱很开心<br>“所以从明天开始，就会恢复原状了。”<br>“好了。”樱站了起来，“那我先走了。”开心地离开了学长<br>“啊，樱！”士郎叫住樱<br>“慎二的行踪，还没有找到吗？”<br>“对，他没有回家。”<br>“这样啊，谢谢你。”<br>樱向士郎鞠躬，离开了学长<br>士郎坐了下来，“慎二。”回头一看，吓了一跳，凛不知何时坐在了旁边<br>“午休时间屋顶见，我有告诉你吧！”<br>“不是啦。”<br>“你该不会想跟我说你忘了吧？”<br>“不是，我记得，只是我在走廊上遇到了樱。”<br>“樱？”<br>“早上那场混乱不是让她为难了吗，所以。”<br>“是吗？”<br>凛站了起来，往屋顶走去<br>“喂，等一下。”<br>屋顶上<br>“我先从最沉重的话题开始说起，刚才学校接到了通知，说找到绫子了。虽然性命没有大碍，但是无论怎么叫她，几乎都没有反应。医院方面说是中毒的症状，但实际上恐怕是……”<br>“Servant！”士郎很吃惊<br>凛点着头，“大概是Master下令袭击的吧。现在张开的结界也是这种，只要一发动，结界里面的人的精神就会被溶解吸收的，极其没有人性。使用一切的手段，让Servant去汲取力量就是他的目的吧。”<br>“那个Servant，就是我昨天交过手的……”<br>“Rider。虽然没有确凿的证据，不过会那样想应该是理所当然的吧。”<br>士郎想起了慎二<br>可是我也没有证据能证明他就是Master<br>“你怎么了？”<br>“没，没什么。”<br>“总之现在只能去延缓结界的发动。”<br>“延缓，办得到吗？”<br>“结界是Servant设下的高等的东西，要破坏是不可能，不过，可以通过破坏掉它的咒刻来达到延缓发动的效果。”<br>“咒刻？”<br>“没错。所谓的结界，一经设下就会四处产生咒刻，一面共鸣一面扩展范围，咒刻就会产生新的咒刻，逐渐扩展结界范围，效力越来越强。最后，会将对象整个包覆起来。所以只要破坏掉咒刻，就可以暂时地减弱结界的效力。只不过，就算咒刻被破坏了，但只要经过一段时间就会得到其它咒刻的帮助，从而恢复原状，所以会没完没了。”<br>“这样啊。”<br>“直白一点讲就是把冷水加进快要沸腾的热水，好让水不会马上被烧开。现在也只有这个办法。”<br>“那，我该做什么？”<br>“总是就是先找出咒刻再说。照你的方式来说就是……有感觉不对劲或者是空气很甜，试着去找出这种地方。”<br>“比如说，是那里。”士郎指着<br>“拜托，能这么简单就找到的的话我就不会那么辛苦了，我可是聚精会神，蹦起了神经，然后才一个一个找了出来。”凛向着士郎指着的地方走去<br>“这是。”使用着魔法<br>“消去，摘出手术，第二节。消去，摘出手术，第二节。”咒刻被破坏了<br>“刚才那是咒刻？”<br>“是啊。说不定你有找出这类东西的天分，这下不是变得有趣了吗？卫宫同学，放学后留下来哦。说不定能给那个在暗地里偷偷摸摸的Master一个措手不及。”<br>“可是，Saber她……”<br>“不要紧，有我跟着，而且，Archer也在。”凛指着士郎的身后<br>士郎回过头，“他在吗？”<br>“是啊，我让他灵体化了。”<br>“是吗？”士郎回想起那晚与Archer的谈话<br>“怎么了？”<br>“没事，我只是在想，你跟他处得还挺好的嘛。”<br>放学后，凛和士郎开始行动<br>教室里，士郎指着<br>“这边？”凛问着士郎<br>“嗯，在那附近。”<br>凛走了过去，“Bingo，消去，摘出手术，第二节。”使用着魔法<br>“看来刚才不是被你蒙中的。”<br>“看来的确是这样。”<br>“那就让我们去一一破坏掉它们吧！”<br>“好！”<br>凛和士郎充满了动力<br>士郎找着咒刻，凛破坏着咒刻<br>墙上，垃圾堆，暖炉<br>棚顶<br>士郎扒着梯子，凛在梯子上破坏着棚顶的咒刻，士郎看着凛的裙子，不由得产生了尴尬，默默地将头低了下去<br>男厕所<br>凛很尴尬，士郎请凛进去，凛犹豫着，一鼓作气，走了进去<br>不知不觉天已经快黑了<br>屋顶上<br>“还有感觉到其它的吗？”凛问着士郎<br>“没有，已经差不多没了。”<br>“是吗？不过清理到这样应该就够了吧。对方大概也想不到一天之内会有这么多的咒刻被破坏掉，这样一来他肯定会有所行动。”<br>“这是揪出他尾巴的大好时机对吧？”<br>“没错。来吧，快点现身吧，给我添了这么多麻烦的混蛋，你可要好好偿还我！”<br>士郎看着凛，“看你那张笑容，让人不由得背脊发冷唉。”<br>吹起了一阵凉风，凛感到了一丝凉意<br>“笨蛋！都因你说了奇怪的话，现在才真的冷起来了吧。真是的！”凛埋怨着士郎<br>士郎摸了摸兜，掏出来了两瓶饮料<br>“要喝吗？”<br>“看你那张脸，真是想不到你还挺有心的嘛。”<br>“要夸我的话，拜托你直接一点好不好！”<br>凛接过了饮料，一起看着夕阳<br>“不过，要买的话下次记得要买奶茶知道吗？其它饮料只会让我降低对你的感谢，所以请多加注意！”凛握着饮料<br>“好啦。如果下次我还记得的话。话说回来……”<br>“怎么了？”<br>“没有，我只是在想，你这个人还真是在装乖。学校第一的模范生，想不到嘴巴这么毒，就像一成说的，真是个骗子。”<br>“是被骗的人自己笨吧。隐藏自己的底细，可是魔术师首要任务。”<br>“也是啦。”士郎喝着饮料<br>“再说，我是远坂家的继承人，不做一个完美的模范生，我根本没脸去见天堂的父亲。”凛将饮料打开<br>“天堂？”<br>“是啊，他在我小的时候就去世了，不过活了这么久，也算是安享天年了，我也不伤心就是了，毕竟我是个魔术师。”凛将饮料递到嘴边，没有喝<br>士郎和凛都在思考着<br>“骗人。人死了难免会伤心吧，更何况那个人是自己的父亲，不用拿毕竟是魔术师这种话来欺骗自己的心情。”<br>凛闭上眼睛，“说的也是，卫宫同学说得对，正确到让我无法反驳。”喝着手中的饮料<br>“差不多该回家了。”凛和士郎往楼下走着<br>学校门口，凛和士郎告别，“明天见。”<br>“嗯。”<br>“卫宫同学，要早点回家哦！不要到处闲逛知道吗？”<br>“怎么了？你在担心我啊，远坂。”<br>“才……才不是呢！我们已经合作了，你要是被淘汰出局的话，会打乱我的计划，只是这样而已！再见，哼！”凛转过身，朝家中走着<br>士郎看着远去的凛，转过身，准备回家<br>忽然，“怎么回事？”，士郎倚着墙边，很难受<br>”这种感觉是怎么搞的，怎么会这么浓？粘稠稠，像蜜糖一样。”<br>士郎转过身，凛已经不见了踪影，看着手上的令咒，想起了Saber<br>只是去确认一下的话<br>走进了学校，看着弓道社<br>“这里，对了，没有来这里，明明就是最可疑的地方。”<br>推开门，走了进去<br>看到了墙上的魔法阵，吓了一跳<br>“这是。”士郎观察着，将手靠了上去，手被魔法阵弹开，“对了，去找远坂。”<br>回过头，看到了Rider，更吃惊了<br>“Rider？”Rider向士郎走去，士郎看着Rider，准备使用令咒<br>“你那样用下去好吗，卫宫？”<br>“慎二吗？”<br>慎二笑着走了出来<br>“慎二！”<br>“你可以退下去了，Rider。”Rider消失，慎二走向了士郎<br>“慎二，果然是你……”<br>“卫宫，要不要偶尔来玩玩啊？来我家里。”</p>
<h3 id="第八话-不协调的旋律"><a href="#第八话-不协调的旋律" class="headerlink" title="第八话 不协调的旋律"></a>第八话 不协调的旋律</h3><p>“Saber？”<br>“为什么违背了诺言？我应该说过，有危险的时候请召唤我。”<br>“午休的时候屋顶见，我有这样告诉过你吧！”<br>“不是啦。”<br>“你该不会想说你忘了？”<br>“怎，怎么回事？”<br>“你可以退下去了，Rider。”<br>“别摆出那么吓人的脸嘛。”慎二对生气的士郎说着<br>“看上去，卫宫也是被迫当上Master的吧？事实上我也是，明明不想打，却被卷进什么圣杯战争，弄得一身麻烦。”<br>“那个结界算什么！设下了这种东西，还说你不想打！”<br>“这个学校有个叫远坂的，天生的魔术师吧。我自然也会想留一手防卫措施。”<br>“就算这样你也不该设下这样的结界啊！”<br>“你也知道，我这人讨厌打架，而且，我们不是老朋友吗？”</p>
<h4 id="八话-不协调的旋律"><a href="#八话-不协调的旋律" class="headerlink" title="八话 不协调的旋律"></a>八话 不协调的旋律</h4><p>间桐家中，卫宫与慎二在沙发上坐着<br>“卫宫，你已经有两年没来过我家了吧？喂！”慎二问着坐在对面的士郎<br>“嗯。”<br>“啊，就让我的留在身边吧，因为我害怕你的Servant。”<br>慎二身后站着自己的Servant，Rider<br>“虽然嘴上说，让我信任你，结果自己的态度却是那样啊！”<br>“那不然，你也可以把Servant叫出来啊。对啊，这样不错，那样的话我们也能了解彼此，而且非常的公平。我的已经让你看过了，你的能不能也让我看看呢？”<br>“我拒绝。既然你有警戒的话，那不就行了吗？”<br>“切！还是这副德行，没用的东西！那算了，进入正题吧。”<br>慎二继续说着<br>“要不要跟我合作啊，卫宫？说实话，虽然当上了Master，我还是很不习惯，我想跟一个可以信任的人联手。”<br>“在这之前我有一件事想问你，先是美缀的事，攻击她的是……？”<br>慎二低着头<br>“她出了那种事，我也感到很痛心，很有可能是被谁的Servant给攻击了吧。当然我可以发誓绝对不是我。”<br>士郎疑惑着<br>“是吗？那再问一个问题，你是怎么当上Master的？”<br>“间桐一家，代代都是魔术师。”<br>“你说什么？”<br>“话虽如此，但已经是完全没落的一族了。现在的我们，不是魔术师，只是在学习相关知识。”<br>“难不成樱也在学习魔术吗？”<br>“你还真是一无所知呀，如果有两个小孩，那可以成为继承人的只有长男，而另一个人，不能成为继承人的。要么就是让他一无所知地长大，要么就是送给别人家当养子。”<br>“是吗？那樱就跟圣杯战争没有关系，是吧？”<br>“我不能使用魔术，而你没有知识，你不觉得这样刚好吗？让我们同心协力一起解决当前的敌人吧！解决那个远坂凛！”<br>士郎有些吃惊<br>“解决远坂？”<br>“那个女的，好像蛮信任你的，而我则是因为没有魔术回路，所以不会被其他Master察觉到存在，如此一来，我们联手的话，肯定能将远坂打倒。”<br>士郎思考着<br>“先等一下！远坂说过，学校里还有一个魔术师，如果说你不会被远坂的雷达扫中，那……”<br>“就是说学校里有第四个Master在，对吧？”<br>“第四个……”<br>间桐家中点着蜡烛<br>“不过，我觉得太相信远坂也不大好吧。说不定攻击美缀的就是她哦。”<br>士郎站了起来<br>“卫宫？”<br>“话就说到这里，我跟远坂，迟早免不了会有一战。不过现在我可以相信她，我想让自己相信她。”<br>“也好，这样的话，我就暂时静观其变。”<br>“抱歉，不能助你一臂之力，慎二。”士郎转身准备离开<br>“啊，对了。为了证实我的诚意，我就告诉你一件事吧。虽然我不知道是谁，不过有个Master拿柳洞寺来作巢穴。”<br>“柳洞寺？在一成的家里吗？”<br>“照我的Servant的说法，有个魔女藏在里面正在大规模收集灵魂的样子。话虽如此，我也没打算要对她出手。”<br>“收集灵魂……？魔女……？”<br>Rider将士郎送到间桐家门口<br>士郎停住，转过身，对身后的Rider说<br>“那个，刚才柳洞寺的事是真的吗？”<br>士郎看着没有说话的Rider，“也是啦，抱歉，互相为敌还要问你一些有的没有的。”转过身准备离开<br>“那座山里住有魔女是事实，如果你想挑战的话请小心！那个魔女，对男人这种生物可是了如指掌。”<br>士郎转过身，“谢谢你的忠告。啊，另外，慎二就拜托你多照顾了，所以就拜托你保护他了。”<br>“真是善良呢，你这个人。”<br>柳洞寺门口，有个Servant在守着<br>柳洞寺有Master吗？<br>回家的路上，士郎看着山上的柳洞寺<br>绿灯亮起<br>“绿灯了哦，卫宫。”一成向士郎问候到。<br>士郎回过头，“啊，一成。”<br>“怎么了，看你一直往山里看？”<br>“我问你，你家寺院最近有没有什么变化？”<br>“变动就像家常便饭，毕竟有五十位修行僧一起生活，不过也没有太戏剧性的变化。山里每天都很安稳，正是安稳才是日常生活。对了，说到变化，我老爸招待了一个他认识的很漂亮的客人进来，弄得大家的心都静不下来。”<br>“女性……尼姑吗？”<br>“不是，反正是有原因的，在婚礼之前，房间是借给她的。不过她真是个非常漂亮的人，连我都被她给吸引住了。”<br>传来一阵动物的叫声，士郎直勾勾地看着一成<br>一成紧张了起来<br>“啊，不行，不行！所以我才说女色碰不得啊，女色啊！”<br>一成自己转过身，握着双手敬礼，“镇定点，一成！”<br>士郎看着绿灯再次亮起<br>“啊，绿灯了。我走了，一成。”<br>一成继续念叨着，“色即是空，空即是色，修行不足，啊！”<br>士郎家中<br>“我回来了！”<br>Saber生气得看着回来的士郎，士郎吓了一跳<br>“好晚呢，士郎！”<br>Saber身后的凛说，“你跑到哪里摸鱼了啊？我还在担心你是不是被攻击了。”<br>“啊，你来了啊，远坂。你来得正好，我有话跟你说。”<br>三人坐在桌子旁，喝着热水，讨论着<br>“柳洞寺里有Master？”凛问着<br>“是啊，好像是有个正在收集灵魂的魔女。最近案件的犯人说不定就是她。”士郎回答<br>“那个叫做间桐慎二的人物，说的话，有几分可信度呢？”一旁的Saber问着<br>“这个我也没法说，不过一成说的那个女性的客人很可疑。”<br>“间桐一家，我一直以为早就没落得差不多了。也对，如果有魔导之书的话，也是能当得上Master的吧。然后呢，你是怎么回答的他，士郎？他不是问你要不要联手吗？”凛问着<br>“那个啊，我拒绝了。就算要回答，也要先跟你说过才行。”<br>“啊？嗯。这么说也是呢。”<br>“还是我又太快下结论了？”士郎微笑地问着凛<br>凛转过头，“没什么啦。那是对你个人的邀请，所以我也没资格说什么。”<br>“如果慎二说的是真的，那他目前应该不会成为我们的敌人。Rider本人也比我想象中要正直。不过，Lancer或是Berserker不是一副英雄的的样子吗？可是，Rider却没有那种感觉。总觉得，她跟其他Servant哪里不大一样。”士郎说着<br>“这我不大明白，你可以解释一下吗，凛？”Saber问着<br>“从理论上的话，可以。Master与Servant其实彼此是蛮像的，也就是说清高的Master召唤出来的就会拥有相近灵格的Servant。而内心曾深受创伤的Master，所召唤出来的Servant也会有相似的伤。心术不正的Master，有的时候就会召唤出嗜血成狂的杀戮者，士郎感觉到的，就是这个差异吧。这样的话，慎二跟Rider给的情报就不能信。虽然我不知道是什么Master，不过选柳洞寺那种偏僻地方当阵地，一般说是不可能的哦！”<br>“关于这点，我有不同的意见，那座寺院坐落在灵脉上，是收集灵魂最好的据点。”Saber反驳道<br>“等一下！如果柳洞寺真的是那么重要的场所的话，为什么其他人会眼睁睁地忽视它？”凛问着<br>“那座山施张着结界，虽然对血肉之躯的人类没有影响，但是我们Servant只要踏进一步，能力就会下降。”<br>“还挺棘手的呢……只有我跟士郎的话，要打赢魔女的胜算很低。”<br>凛一直叫着卫宫士郎的名字，士郎感觉很奇怪<br>“总觉得。”士郎插了一句<br>“怎么了，士郎？”Saber问着<br>“没有了，从刚才开始我总觉得哪里不大对劲，有种奇怪的感觉。”<br>“是什么重要的事吗？”<br>“有可能，知道的话我会说出来。”<br>“不管怎么说，既然知道了那里有Master，我想就应该要攻过去。士郎？”Saber问着<br>“不行！目前先不要对那里出手比较好。”<br>“什么，那我们一直以来养精蓄锐是为了什么？”<br>“既然是那种会想得那么周到的人，就绝对会设陷阱，没有事先计划就冲进去，只是自寻死路。”<br>“有危险是当然的，可是……”<br>凛挥手打断了对话<br>“我也赞成士郎。”<br>“凛？”Saber疑惑着<br>“要去对方的大本营，最起码要等我们知道那里有什么Servant。再说，我的身体也还没有完全恢复。”<br>“就这样决定了，可以吧，Saber？”<br>凛和士郎拒绝了Saber，Saber忍着没有回答<br>“好了，这件事就告一段落了。”凛收拾着自己的行李<br>“那个包包是干嘛的？”士郎问着<br>凛拎着行李，转向士郎，“我的房间，让我决定选哪一间怎样？”<br>士郎看着开心的凛，“什么？”<br>“从今天起我要寄住在这里，既然我们合作了，那住一起也是应当的，对吧？”<br>凛找着房间<br>“没有专用的工作室怎么行呢。”<br>“远坂，你等一下啦！”士郎阻止着凛<br>“问你哦，燃烧之类的器材我可以跟你借吗？”<br>“喂！远坂，你有没有在听啊？喂！”<br>“从家里带来的话会给行李加重，所以我没带来。喂，那边是？”<br>“哇，这不是还有独立的一间嘛。”<br>Saber在后面默默地走着<br>柳洞寺<br>“如你所知，如果将寺院整个密封，那整个地脉就会停滞，也就是说，唯有通往寺里的那条参道不能施张结界，现在已经击退了数名Servant，不过，以后敌方的攻击会越来越激烈吧。山门的防卫，不得有一丝懈怠！”Caster对Assassin说着<br>“我明白了，我尽力达成你的愿望吧。”<br>士郎家中<br>凛整理着自己选好的房间<br>“嗯，这样子差不多就可以了吧。”<br>“喂！我可没同意你住在这里耶！”<br>“那个，空调怎么用啊？”<br>士郎很生气<br>“拜托你听别人讲话好不好！”<br>“关于房间，我也有一个要求，我觉得我应该和士郎睡在同一个房间。”Saber说着<br>“你突然说啥啊？应该说，我怎么可能跟女孩子一起睡！”<br>“睡眠中的护卫是Servant的任务，不在同一个房间的话我无法保护你。”<br>坐在一旁的凛说着，“Servant就是Servant，没有必要当人看。”<br>“不是那样说好不好。”<br>“啊，受不了了。”<br>“算了，跟士郎讲这些也没用吧。”<br>士郎转过头，看着说话的凛<br>“你从什么时候开始，只叫我的名的啊？”<br>“有吗？”<br>“刚才我觉得不对劲，就是因为你这样叫我吧。”<br>“请不要扯开话题。我房间的问题还没有定下来呢。”Saber说着<br>“当然不可以啊，你再说下去，我就用令咒叫你听话喔！”士郎举着令咒的手，Saber看着，很生气<br>“把只有三次的命令权花在‘不要保护我’这种命令上，那将来还怎么打，要是被敌人袭击的话怎么办？”<br>“关于这一点，看来是不用担心哦，因为这栋房屋施张着结界，如果有偷袭，马上就能察觉到，这样的话，在被攻击之前，马上就能赶到他身边不是吗？”坐在椅子上的凛解释着<br>“就是这样的，你明白了吧，Saber？”<br>厨房中<br>凛穿着围裙，打开冰箱，看着里面的食材<br>“晚餐就采用轮班制吧。今天呢，作为见面礼就由我来下厨吧。”<br>“你真的要住下来啊？”<br>“然后，关于今后的方阵……”<br>“喂！你听我说话！”<br>“Rider和柳洞寺的魔女，我们姑且就先静观其变。我们现在的问题是伊莉雅斯菲尔·冯·爱因兹贝伦跟Berserker哦。”<br>“Berserker。”<br>凛关于柳洞寺的一句话惊醒了Saber<br>“将她作为我们最大的障碍不会有错的。召唤出了超一流的英雄，而且还能让他狂暴化加以支配，的确，要那样必须有强大的魔力，就是那样的虽然不甘心，不过以Master的能力来说，我们差那个女孩太多了。”<br>凛用刀削着苹果<br>“据说，Archer的眼睛就好比老鹰的双眼，让他来看守房子的周围怎么样？”Saber问着<br>“我也是那么打算的。不过，要是Berserker攻过来的话，我们也就只好逃命了。”<br>士郎在那思考着，没有说话<br>“咦，怎么了，士郎，肚子饿了吗？”凛问着<br>“不是啦，我记得你不是不想跟人太亲近吗？”<br>“咦？哼哼，是这么回事啊。”凛想到了些什么<br>“什么啊？”<br>凛拿着水果刀走到士郎跟前，小声地对士郎说<br>“放心吧，我不会把你的Saber抢走的。”<br>“你，你，你这个人。喂，那样拿很危险的！”<br>“哎呀，我说错了吗，那对不起啦。”<br>门铃想起，樱拎着食材来到士郎家，看到了学长跟远坂在一起<br>“卫宫学长！啊。”，樱很吃惊，食材掉到了地上<br>士郎很对不起樱，凛欢迎樱<br>“欢迎光临。”<br>“远坂学姐，你那件围裙？”<br>“呃，这是因为……那个，说来话长。”士郎解释着<br>凛捏着士郎的后背<br>“我呢，要寄宿在这里了。”<br>樱更吃惊了<br>“有很多原因，所以我请远坂暂时住在这里一阵子。啊，话虽如此，也只是短期而已……”凛使劲捏着士郎的后背<br>“这件事是我跟士郎决定好的，已经定下来了。这是什么意思你明白吧，间桐同学？”<br>“你要我明白什么？”<br>“意思就是，你不用再来照顾士郎了。来了也只是会给我们带来麻烦。而且不来也是为了你好。”<br>樱的眼里含着泪水，“我不明白，我不明白远坂学姐你说的那些话。”捡起地上的食材，走进了屋里<br>爱着士郎的樱为了士郎表现出了自己坚强的一面<br>“等一下，你。”凛看着走进去的樱<br>“前辈，我借用一下厨房。”<br>“啊，不用了，晚餐……远坂……”<br>“吓了我一跳，我还是第一次看到樱讲话这么带刺。”<br>“以后这个家有可能会成为战场。为了不把其他人招惹进来，我才好心劝她的。”一旁的凛说着<br>“你那是好心啊？我还以为你是在欺负她！”<br>藤姐推开门，开心地喊着，“士郎，我来吃晚饭啦！”睁开眼，看到了远坂<br>“哎？远坂同学？你怎么会在这里？”<br>“那是因为，从今天开始她要寄宿在这里吧。”<br>“啊，寄宿啊，这样啊，来寄宿啊。”藤姐想了想，感觉哪里不太对<br>晚饭<br>藤姐拍着桌子，站了起来<br>“慢着！来寄宿是怎么回事啊，士郎！不光是Saber，就连同年级的远坂同学都一起同居是怎么回事！这是哪门子言情喜剧啊？”拽起了士郎，拼命地摇着<br>“姐姐我这次绝对饶不了你！”<br>“老，老师，就算了吧。”一旁的樱向老师求情<br>“真是的。”藤姐说着<br>“想要我救你吗？”凛对士郎说着<br>“拜托了，我期待远坂你的政治手腕。”<br>“OK，那我就小露几手替你了事了吧。”<br>凛忽然站了起来，藤姐看着凛，“嗯！”把士郎推向一边<br>“你摆那种正儿八经的脸也吓不到我！作为一名老师，要我让同年级的男女同居门都没有！”<br>“不瞒您说，我家里正在进行全面性的大装修，本来想在完工以前住在饭店的，不过我跟卫宫同学商量的时候，他很亲切地说我住他家就可以。”<br>“嗯，这的确很像士郎的风格。”<br>Saber在想着柳洞寺<br>“住饭店的话花很多钱，而且也不是学生该有的样子，这样的话还是住在同学的家里能学得到东西。”凛说着<br>“你说的我明白了，可是年轻男女共处一个屋檐下，实在说不过去！”<br>“卫宫同学跟Saber早就开始住一起了，看样子没有什么问题发生，还是老师您认为他会有什么不轨的举动吗？”<br>樱在一旁听着，有些伤心<br>“这话说的太过分了，人家士郎可正直了，他绝对不是那种会让女孩子哭的那种男生！”<br>“那这样就可以放心了不是吗？我也相信卫宫。”<br>士郎家门口<br>“呜，我竟然说不过学生。”藤姐哭着离开<br>“那，我先告辞了。”樱向学长告别<br>“好，不好意思引起这么大的骚动。”<br>“没关系，我也相信学长的为人。”<br>“呃。”<br>樱向士郎鞠躬<br>“晚安了。”樱离开<br>“士郎。”一旁的Saber说<br>“嗯？”<br>“关于柳洞寺魔女的事，你不能再改变一下想法吗？”<br>“还在提那个啊！说了不行就是不行，那摆明了就是陷阱！”<br>“从一开始我就没有认为可以毫发无伤地获得胜利，哪怕陷阱会将我的身体穿透，但只要头没掉，我就能打下去。”<br>“别说傻话，世上哪有受伤也无所谓的道理！作为Master，我不能让Saber你冒这个险！”<br>“Servant免不了会受伤，因为害怕受伤而逃避战斗，我不能原谅自己的Master做出这种事！”<br>“好啊，我也不用你原谅！再说你的伤还没有完全康复吧。”<br>“不会影响战斗，请不要替我操这个心。”<br>回想起Saber被Berserker打败<br>“在这之前你不是被Berserker打败了吗？你打算重演我跟你一起倒下的悲剧吗？要我再像上次一样的死法我可不要！”<br>Saber有些吃惊<br>“你说那个不是很卑鄙吗，士郎？”<br>“总而言之，要我们主动进攻还不是时候，知道了吧。”<br>“我明白了，既然Master这么说的话。”Saber转身离开<br>深夜，士郎与凛已经睡着<br>Saber走到士郎房间外，摸着门低头思索着<br>独自走到门外，转过身，看着房子里的士郎<br>士郎，你太天真了，你这样只会死在其他Master的手中<br>跳了起来，换上铠甲，向柳洞寺跑去<br>柳洞寺，Assassin在寺门口守护着，看着往这快速驶来的Saber<br>“快点过来吧，我的敌人啊。”</p>
<h3 id="第九话-月下流丽"><a href="#第九话-月下流丽" class="headerlink" title="第九话 月下流丽"></a>第九话 月下流丽</h3><p>“要不要跟我联手啊，卫宫？”<br>“第四个人……”<br>“你还真是个好人。”<br>“那包是什么？”<br>“我的房间，就让我自己来选嘛。”<br>“关于我的房间我也有个要求，我觉得我应该和士郎睡一间房。”<br>“你这说的什么乱七八糟的。”<br>“慢着！来寄宿是搞什么啊？士郎？”<br>Saber看着房子<br>士郎，你还是太天真了。这样下去你只会被其他Master干掉<br>月光下，通往柳洞寺的路很清晰<br>Saber往山上的柳洞寺跑着<br>爬着楼梯，冲到了柳洞寺门前<br>柳洞寺门前，Assassin拿着刀，在门口等着<br>“你是……”Saber问道<br>“Servant，Assassin，佐佐本小次郎。”</p>
<h4 id="九话-月下流丽"><a href="#九话-月下流丽" class="headerlink" title="九话 月下流丽"></a>九话 月下流丽</h4><p>通往柳洞寺的路上，Rider在树上埋伏着，看着Saber与Assassin<br>Saber放下手中的武器<br>“我也真是的，既然你自报家门，依据骑士的礼节，我也该报上自己的名号才是。你叫小次郎是吧。Servant，Assassin，我是……”<br>“很好。”Assassin走了下来<br>“原来对手是个报上名就必会以名回敬之人，这么看来，是我不懂礼了。”拿着刀，走到Saber面前，Saber防备着<br>“不知真名，也无所谓，对我而言，要了解敌人，这把刀就够了。本来所谓的Servant就是这样。”举起刀，指着Saber，“不是吗，Servant，Saber？”<br>“原来如此，的确如你所说。”Saber向后跳起，与Assassin保持着距离<br>“那就好。那么，我们来场决斗吧，Saber。”<br>Saber与Assassin均摆出了攻击姿势<br>Saber冲了上去，Assassin冲了下来，打斗着<br>卫宫家<br>士郎忽然醒来，捂着胸口，很痛。感应到了Saber在战斗<br>怎么回事，胸口好痛。Saber？<br>士郎起来，推开门，喊着“Saber？”<br>Saber房间中空空如也<br>那家伙……不会是……<br>柳洞寺，Assassin将Saber从楼梯上逼退下去，Saber再次冲了上来<br>Rider突破结界，冲到了柳洞寺内<br>Rider站了起来，看到了屋顶上的使魔<br>使魔跳了下来，向Rider攻去<br>寺门口<br>“的确是很难对付，没想到看不见的剑这么棘手。我的剑法乃是魔招，如果是一般人，我一击便能取下首级，而你竟然能抵御这么久。我很兴奋，Saber！”Assassin对下面的Saber说着<br>“怎么了，你没道理只有这点水平吧，你那把看不见的剑，该不会是空有虚名吧？”<br>“我看你能狂妄到什么时候！”Saber再次冲了上去，向Assassin砍了过去，Assassin躲过了攻击<br>“目测，刀身长约三尺有余，宽约四寸左右。”<br>Saber停了下来，很吃惊<br>士郎骑着自行车，往山上柳洞寺驶去<br>这家伙真是够了……<br>士郎拼命地蹬着<br>柳洞寺门口<br>“没有使用任何魔术，交手时间并不长，你就测出我的剑了吗？”Saber问着上面的Assassin<br>“差不多了吧，Saber。”<br>“嗯？”<br>“别再隐瞒自己的实力了。”<br>“你是说我对你收下留情了是吗？”<br>“你敢说没有吗？我不知道你打什么算盘，不过你剑不出鞘地战斗，是在小看我吗？也罢，就到此为止吧，既然你舍不得亮剑，那就先让你见识我的秘剑吧。”Assassin走了下来，拿起自己的刀<br>“做好防备，不然你死路一条，Saber！”<br>Saber举起自己的剑防备着<br>Assassin举起自己的刀，“秘剑，燕返！”向Saber攻了过去<br>Saber躲开了攻击，退到了下面<br>“不错，你居然躲开了。”<br>Rider在院内攻击着使魔，Caster走了出来<br>“还真有本事，你的Master，以Saber做诱饵潜入我的阵地。”<br>“随你怎么说，我只是遵从Master的指示而已。”<br>Rider攻击着使魔，向Caster攻了过来，Caster用魔法挡住了Rider的攻击，并用魔法攻击着Rider<br>“三骑士的Servant我不知道，但是面对骑兵，我是不会输的。”<br>士郎骑到山下，看到了通往柳洞寺的楼梯<br>“可恶！”丢下自行车，向山顶跑去<br>“飞燕会感知大气的震动，并随之改变飞行的方向，那么只要围堵它的退路即可。第一刀挥向飞燕，躲开的飞燕，以第二刀加以包围，不过它们非常敏捷，要想成事，就必须一气呵成，两刀要近乎同时发动。”Assassin说着<br>“刚才的剑法，并不是这么简单！那个瞬间，你确实有两把剑，多重次元曲折现象，不带任何魔术，光凭剑技，就达到了宝具的境界！”<br>“只可惜站的位置不好，燕返的轨迹本来有三道，如果再宽一些，横向就能再加上一刀。”<br>Saber很吃惊<br>“我痛恨自己被召唤在这样的凡尘俗世，不过这也只到今晚为止，生前没能实现决斗，若能来一场厮杀，让我可以尽情挥舞秘剑，那我受招于此，也算有意义了。”<br>“原来如此。确实，你不是个我随便就能应付得了的对手。”<br>Assassin走了下来，“你终于准备亮剑了吗，Saber？”举起手中的刀<br>Saber准备使用宝具<br>“我振下的一击，你受得住吗？Servant，Assassin？”<br>Saber开始释放风王结界，造成强烈的风暴使四周都在震动<br>Saber手持之剑，依靠剑上的风王结界扭曲光线使其隐形达到“不可视之剑”效果，而并不是什么“透明的武器”<br>“这是……”Caster疑惑着<br>Rider趁机逃出了柳洞寺<br>风暴吹着往柳洞寺赶去的士郎，“Saber？”<br>“哼，如台风一般猛烈，不过不可能只有这种程度。”Assassin拿着刀，向Saber走去，“更深层次的东西，让我见识见识吧，Saber！”<br>士郎艰难地往山上赶着，“Saber？”<br>风暴很大，“什么情况，这样怎么靠近！”<br>Saber吸收着士郎的魔力，令咒的手很痛<br>“这是……该不会是Saber的魔力……”<br>“搞什么，身体还没完全恢复，太乱来了。”<br>“Saber！”艰难地往上走去，看着上面<br>忽然，士郎看到旁边树林中的人影，“什么人？”<br>人影消失，Assassin注意到了那个人影，Saber的剑也不再聚集着力量<br>“暂且到此为止吧，Saber。有个家伙想偷看你那把剑，再打下去恐怕胜负就不只是你我之间的事了。”Assassin放下手中的刀，向寺内走去<br>“等等。”Saber追了上去，“你不打算决出高下吗，Assassin？”<br>“如果你想通过这道山门的话，我就和你做个了断。不过，遗憾的是，我的任务就只有如此，更何况，此时节外生枝，对你而言，又何尝不是一种侥幸呢？”<br>“看，来接你了。趁那个偷窥的蠢货，将目标转向那小鬼之前，快走吧。”Assassin消失了<br>士郎走到Saber旁边，“Saber。”<br>“喂，Saber！”看着上面的Saber<br>魔力消耗过多，Saber身上的铠甲消失，Saber晕了过去，从上面掉了下来<br>士郎接住Saber，“Saber！”<br>看着怀中睡着的Saber，士郎的怨言消失了<br>背着昏迷的Saber，回到了家中，将Saber放到了地上<br>看了这张睡脸，想说的话也说不出口了<br>抱起Saber<br>“哟……在这种地方做那种事啊。趣味还真特别呢。”远坂从一旁说道<br>“远坂？”<br>“我没意见，你继续吧。”<br>士郎摇着头，“不是！你误会了，误会大了。”士郎独自站了起来，“我是要带Saber回房间……不是……是扶回房间。那个，你可以明白吗？”<br>“可以。嗯……差不多吧。”<br>“少来了，你刚才那种口气，根本就是不明白！”<br>“Saber一个人去战斗，然后士郎去阻止她，对吧？”走到Saber旁边<br>“嗯……”<br>“我扶她回房。”凛扶起Saber，“士郎，你先去泡茶吧。”<br>“泡……泡茶？”<br>凛扶着Saber往房间走去，“我对你们俩刚才的事有点兴趣。我带了茶具，在橱柜的右手边内侧。”<br>“知道了。”<br>士郎倒着热水<br>“这样泡吗？”<br>凛走了过来<br>“士郎，有空吗？”<br>“好，我现在去。”士郎看到了凛后面的Saber<br>凛接过士郎泡的茶，“好，辛苦了。”<br>“为什么……你不是睡着了吗？”士郎问着Saber<br>“刚醒来一下，只不过是身体单方面让机能停止而已，睡眠不会持续太久。”凛解释着<br>“这……这样啊。”士郎低头思考了一会<br>“Saber，你为什么那么做？”<br>三人坐在桌子旁，喝着茶<br>“我前往柳洞寺和Servant，Assassin打了一场，因为发觉有第三名Servant存在，中断了战斗。”Saber说着<br>“不是，我想问的是，你为什么去战斗？”士郎问着<br>“Servant战斗很正常，你身为Master，为何阻止我战斗？”<br>“这，那是因为那个……”士郎不知怎么回答<br>“你这样，有真的想要在圣杯战争中活下去吗？”<br>“这，我，那个……”<br>“我说了，女孩不能受伤，那种事，身为男人绝对无法置之不理。”<br>“你是把我这个武人当女性看待吗？请更正你刚才的话。”<br>“那个，Saber或许是很厉害。别计较这种小事，笨蛋。”<br>凛在一旁默默地喝着茶<br>“计较小事不是你吗？”<br>士郎站了起来<br>“总是，如果要让你去战斗，我宁愿自己上场！”<br>Saber也站了起来<br>“士郎的防守跟纸一样弱！”<br>“你刚才那句话还真很啊，Saber。”<br>“你太小看Servant了，想靠血肉之躯打倒英灵，你凭什么这么狂妄？”<br>“不是的，Saber。士郎并没有小看Servant。”凛插了一句<br>Saber和士郎看着凛，凛喝着茶，继续说着<br>“他……只是单纯地不希望你受伤，是吧？”<br>“没……没有的事。我没有……”<br>“你明知道单凭自己是打不过Servant的，不是吗？”<br>士郎没有回答<br>“不想让Saber受伤，所以就算胡来也要战斗，明知打不赢，却想要赢，就算死了，也无所谓。他那个人，就是别人比自己重要。”<br>听完凛的这句话，Saber看着士郎，思考着<br>“士郎。”<br>“什么？”<br>“我可以允许你战斗，不过这样的话我也有自己的想法。”<br>“所以，我就问是什么啊！”<br>“剑术训练，只要你有时间，我就教你剑术。如果你同意，我也会同意你的意见。”<br>“你的意思是，你同意以后我参与战斗是吗？”<br>“别闹了，好不好！就算教士郎剑术，也打不过Servant，不是吗？”凛说着<br>“那也比什么都不懂强吧，至少会减少战斗时的犹豫，其他的就看士郎本人的决心了。”<br>“好啊，如我所愿。”<br>“我说你现在可不是悠闲地练习的时候。”凛阻止着士郎<br>“当然，这是战斗。让士郎体验一次……不……别说一次，只要时间允许，要让他经历‘战斗结果的死亡’，习惯战斗。我休息了。”Saber离开<br>“士郎快去休息，因为明天会让你在道场拼命练习，明天见。”<br>“啊，Saber！”<br>凛站了起来，走到士郎旁边<br>“你让她动真格了呢。”<br>“她那样，是生气了吗？还是……”<br>“谁知道呢。不过，既然决定了，你就勇敢地去等死吧。我会给你送终的。”<br>“那还真是多谢哦。”<br>Saber独自在走廊里走着<br>如果要让你去战斗，我宁愿自己上场</p>
<h3 id="第十话-和谐的幕间"><a href="#第十话-和谐的幕间" class="headerlink" title="第十话 和谐的幕间"></a>第十话 和谐的幕间</h3><p>“Assassin之Servant，佐佐小次郎。”<br>“还真了得呢，你的Master。以Saber为诱饵，然后潜入我的阵地。”<br>“就到此为止吧，Saber。有不速之客想要窥视你那把剑。”<br>卫宫家早上<br>士郎擦着地板，“大概就这样了。”<br>洗完脸，推开门，看见远坂穿着睡衣走了出来，吓了一跳<br>“远坂？”<br>“早安。起得真早啊，你。”晃悠悠地走了进去<br>“你没问题吧？”<br>走着走着，远坂倒在地上睡着了<br>“喂，远坂！”</p>
<h4 id="十话-和谐的幕间"><a href="#十话-和谐的幕间" class="headerlink" title="十话 和谐的幕间"></a>十话 和谐的幕间</h4><p>卫宫家门口<br>藤姐喊着，“出发了啊。”<br>士郎没有跟着出来<br>“前辈？”樱问着<br>“怎么了，要迟到了哦。”藤姐对士郎说<br>“我今天在家休息。”<br>“什么啊，士郎没有不舒服的地方吧？”藤姐问道<br>“伤口在痛了。你想想看，气温一下降旧伤就会发作的。”<br>“嗯？这是骗人的吧，士郎？”<br>“对不起，饶了我吧，藤姐。”<br>“藤村老师，其实是……”一旁的远坂想要解释<br>“别说了，远坂！”士郎阻止着凛<br>“并不是说讨厌去上学，只是觉得这里必须完成的事更为重要。”<br>藤姐看着士郎思考着<br>“真是的，士郎从以前就是这样，一旦有超重要的事的时候，从不肯说明缘由。远坂同学，小樱，走吧！”<br>“再见！”藤姐向家中的士郎告别<br>家中道场<br>“让你久等了，Saber。”<br>看着Saber没有穿铠甲<br>“就以这打扮进行训练吗？”<br>“有什么问题吗？”<br>“还以为你会穿上铠甲呢。”<br>Saber站了起来<br>“抱歉，是我失态了，我马上去换上铠甲。”<br>“不用了，女孩子本来就不适合那种装扮，而我也觉得这样打扮的Saber比较好，所以不用去换了。”<br>士郎握了握空空如也的双手，“那么，赶快开始吧。”<br>Saber与士郎练习着<br>Saber用木棒敲中了士郎的头，士郎的武器掉地<br>“我会让士郎好好体验一下真正战斗的感觉的。把这当成实战来比试吧。”<br>“只管搏杀就行了吗？”捡起武器，再次攻了过去<br>Saber刺中了士郎的胸部，士郎倒地<br>费劲地爬了起来，“好痛，我想骨头肯定断了。”<br>“只是单纯的瘀伤，稍后就会恢复的吧。”<br>士郎捡起武器，“不要说的这么简单！”<br>Saber将士郎的武器弹开<br>“首先应该等待恢复。”<br>“不要！至少要打到你一下！”<br>“虽然知道你很倔强，但没想到竟然到了如此地步！”<br>“我就是讨厌失败！”<br>“总之请先放下竹刀。如果你自身不处于准备万全的状态的话，无论打斗多少次都是没有意义的。”<br>“那么……”士郎坐到了地上，躺着进行休息<br>不知打斗了多少次，士郎依然没有刺到Saber，但是始终没有放弃<br>士郎的武器被Saber弹飞，士郎冲了过去，捡起武器，累得气喘吁吁<br>“还没完呢！”再次攻了过去<br>士郎气喘吁吁地趴在地上，“魔鬼！”<br>“我已经尽量地没有手下留情了。”<br>士郎倚在墙上<br>“我居然只打斗了两小时就不行了。”<br>“不，这不是什么可耻的事情。士郎的进攻很专心，很有力道。你的热忱甚至让我忘却了对付。”<br>士郎转过头，“我去喝点热水。”<br>“休息一下吧。”Saber走开<br>士郎喝着水，看着一旁的Saber，回想起凛说的话<br>“你以为Servant会无偿地服从人类？之所以会回应Master，是因为自己也想得到圣杯。为了实现各自的愿望。”<br>“喂，Saber，我想问你一个问题。”<br>“是什么？”<br>“那个……Saber之所以会助我一臂之力，是因为想得到圣杯吧？Saber呢，是为了什么而寻求圣杯的呢？”<br>“只要得到了圣杯，就等于拥有了能实现任何愿望的万能道具，只是想得到而已，有什么不可以的吗？”<br>“不是的，我不是指这个。得到了圣杯，Saber想实现的愿望是什么？我想知道这个。”<br>士郎转过身，背对着Saber<br>“并不是想要刨根问底。”<br>“回答这个问题，是作为Master的命令吗？”<br>“不想说的话就算了。本来自己的愿望就不是全都可以说给别人听的，抱歉了。”<br>“不，身为Servant，的确必须对Master表明自己的愿望。我寻求圣杯的理由，是为了履行某个义务。为了完成生前没有履行的义务，而需要圣杯的力量。”<br>“生前……？是成为Servant之前的事情吗？”<br>Saber点着头<br>“但是，亦说不定我只是想要重来一次而已。”<br>“是吗？那我就放心了。我还想如果Saber的愿望和远坂一样是征服世界那样的话该怎么办？”<br>“凛听到的话会生气的，她即便得到圣杯，也不会做让世界陷入混乱的事。”<br>“是吗？看她那独裁者的风范，就觉得唯独不能把圣杯交给她呢。”<br>Saber的肚子咕咕叫起<br>“刚才那是？”士郎问着<br>“似乎是肚子饿了，热衷于锻炼所以没注意。”<br>“该吃午饭了呢。我出去买点东西好了。”士郎起身<br>骑着自行车，在商店买完食材，街上看到了鲷鱼烧，买了几个<br>然而，为什么会露出那样的表情呢？<br>想着Saber说出自己的愿望<br>而且，想重来一次是……<br>忽然，有人拉着坐在自行车上士郎的衣服<br>转过头，原来是伊莉雅，士郎吓得从自行车上掉了下来<br>士郎坐在地上往后退着，指着伊莉雅，“你，你是……”<br>“贵安。”伊莉雅向士郎问候着<br>“你还活着呢，大哥哥。”<br>士郎防备着<br>“该不会是想在这里开打吧？”<br>“咦？为什么要打呢？”<br>伊莉雅转过身，看着天上的太阳<br>“太阳公公出来的时候是不可以战斗的。”<br>“但是你，你是叫？”<br>“我叫伊莉雅斯菲尔·冯·爱因兹贝伦。太长了，叫我伊莉雅就可以了。大哥哥叫什么名字呢？”<br>士郎站了起来<br>“我？我叫卫宫士郎。”<br>“围攻色狼？”<br>“是卫宫士郎！”<br>“爱米……牙色狼？”<br>“卫宫士郎！”<br>“胃公十郎？”<br>士郎有些无奈<br>“觉得绕口的话叫士郎就行了。”转过身，整理着自行车<br>伊莉雅跟着推着自行车的士郎<br>“今天没有带Berserker来，因为大哥哥也没带Saber，彼此彼此。”<br>士郎回过头，“什么叫彼此彼此！”<br>伊莉雅抱住士郎的胳膊<br>“我有很多话想和你说呢。”<br>“有什么话呢？”士郎甩着伊莉雅<br>“和一般小孩子都会很要好的说话吧？”<br>“Master之间的感情能好吗？而且还打过一次，不如说是敌人吧，敌人！”<br>“对我来说才不是敌人呢？但如果做个好孩子的话，要放过士郎也是可以的哦。”<br>“什么乱七八糟的！”将伊莉雅甩开<br>“啊！”<br>士郎拉住伊莉雅，伊莉雅很伤心<br>“怎么，大哥哥讨厌我吗？”<br>看着伊莉雅，士郎的心软了<br>“知道了，和你说说话就行了吧？”<br>伊莉雅开心地点着头，“嗯！”朝着前面跑去<br>“那么，快过来吧，否则就不管你了哦，士郎！”<br>公园中<br>士郎坐在椅子上，伊莉雅在玩着平衡木<br>“那么，你想知道Saber的事吗？”<br>“这种话题太无聊了，换一些更有趣的！”<br>“那么伊莉雅喜欢怎样的话题啊？”<br>“我又没怎么和人说过话，所以，交给士郎了。引导女士乃是男士的职责吧。”<br>伊莉雅从平衡木上掉了下来，躺在了士郎的怀里<br>“喂。”<br>伊莉雅靠着士郎<br>“伊莉雅，难道说……你觉得冷吗？”<br>抱着伊莉雅<br>“嗯，我比较怕冷。”<br>“是吗？毕竟今天的寒风很刺骨呢！”<br>“对了，伊莉雅是从哪里来的？这名字听上去十分像贵族。”<br>“不是像，本来就是贵族。我是在爱因兹贝伦的古老城堡里出生的，总是很冷，下着雪呢。”<br>“在寒冷的国家出生的话，应该习惯了寒冷的才对啊，一般来说。”<br>“习惯是习惯了，但还是不喜欢。我比起寒冷更喜欢温暖。不过，我很喜欢白雪，我的头发白白的，就像白雪一样。爸爸也是这么说的。”<br>伊莉雅回想着小时候，在城堡外面，自己坐在父亲卫宫切嗣的肩膀上，欣赏着下雪的景色，很开心<br>“的确，伊莉雅的头发就像白雪一样，仿佛是冰雪的妖精呢。”<br>“对吧？这头发啊，可是从母后那里继承的我的骄傲。”<br>看着她这副表情，还真难以相信，这女孩就是那Berserker的Master<br>伊莉雅看着士郎<br>“士郎从父亲那里继承的又是什么呢？”<br>“嗯？父亲给我的东西？”<br>“我没有像伊莉雅那样继承身体方面的特征，但是，我得到的东西并不亚于此。”<br>“诶，真好呢。咦？可是……根据刚才所说的来讲……士郎没有继承魔术刻印吗？那么，你不是Master吗？”<br>“不，是Master啊。我是没有魔术刻印的半吊子，不像伊莉雅那样正宗的魔术师。”<br>“我虽然是Master，但是没人教过我魔术啊。”<br>“啊？那你没有从父母那里继承魔术刻印吗？”<br>“是啊。魔术刻印不是为了成为Master才需要的东西吗？”<br>士郎转过头<br>“那……那个，虽然是Master但不是魔术师……感觉有点微妙呢。”<br>“指的是什么？”<br>“没什么，我对此也并不怎么理解。”<br>伊莉雅坐到了旁边<br>“说起来，伊莉雅住在哪呢？”<br>伊莉雅用手指着<br>“那边，不是有一大片茂密的树林吗？在那深处有一所洋馆，据说圣杯战争的时候就要住在那里。”<br>“你一个人来的吗？”<br>“嗯，偷偷溜出来的。塞拉和莉丝身为女仆却叨唠个不停，说什么着凉对身体不好，老把我关在房间里。今天算是奖励。”<br>士郎拿起旁边的鲷鱼烧<br>“要吃吗？”<br>“这是什么？”<br>“第一次看到鲷鱼烧吗？”<br>“鲷鱼烧？那个，这……给我的吗？”看着士郎<br>“很甜的哦。”<br>伊莉雅击着掌，很开心，接过了鲷鱼烧<br>“谢谢你。”<br>咬了一口，看着士郎，“好好吃。”<br>士郎和伊莉雅一起吃着<br>假如我有妹妹，差不多就是这种感觉吧<br>伊莉雅仿佛听到了Berserker的声音，看着自己住着的城堡，起身<br>“我得回去了，Berserker醒来了。”快速地向自己的城堡跑去<br>士郎起身，看着远去的伊莉雅，看着手中的鲷鱼烧<br>这边，Saber还在等我呢<br>傍晚，学校楼顶<br>远坂与间桐慎二谈论着<br>士郎骑着自行车往家中赶去<br>我会见了伊莉雅一事，还是瞒着Saber和远坂吧<br>刚才和伊莉雅并没有牵扯上Servant或是Master，只是讲了些无关紧要的话然后分别了，仅此而已<br>卫宫家中<br>士郎做着饭<br>“抱歉呢，Saber。马上就好了，马上。”<br>晚上<br>“我回来了，有什么变动吗？”远坂问着士郎<br>“没有，这里没什么事，学校呢？”<br>“关于结界一事也毫无进展，但发生了件极其无聊的事。”<br>远坂吃着桌子上的水果<br>“慎二那家伙要我和他联手。”<br>“什么？”士郎很吃惊，“那之后呢？”<br>“当然拒绝了。但他却还不死心，由于他太过没完没了，所以……”<br>学校楼顶上，凛拒绝了慎二，并打了慎二一拳<br>“我并没有打算和半吊子的Master联手。同伴的话，我已经有卫宫同学了，他要远比你值得信赖。”<br>“卫宫？！”<br>“卫宫和你……”<br>凛独自离开<br>“然后，就把他丢在那了。”<br>士郎摸着头，有些懊恼<br>“真是的，远坂根本不知何为手下留情。”往澡间走去<br>推开门，走了进去，看到了正在洗澡的Saber<br>士郎立刻退了出去，关上了门，倚着墙，快速地呼吸着<br>Saber打开门，士郎看着Saber没有穿衣服走了出来，立刻将头抬起，看着棚顶，很尴尬<br>“没能体察到士郎想要入浴的意向，这是我的过失。但是，像这样准备完毕却不入浴是十分没有效率的，希望你能让步。”<br>士郎看着棚顶，尴尬地说不出话来<br>“你耳根都红透了，如想凉凉身子，那应该去走廊。”<br>“那……就这样吧。”士郎躲避着，慢慢转过身<br>“这是场事故，绝不是我想偷看你裸体。”<br>“请看着我。”<br>士郎慢慢将头转了过去，顿时又将头转了回来，深深地呼着气<br>“我想说的是……即便是看到了我的肌肤也勿须放在心上，在作为女性之前我首先是作为Servant，所以不需要为诸如此类的事操心。”<br>“你在说什么呀！别告诉我……你即便被看到了裸体也不会因此感到不好意思！”<br>“为何需要不好意思？”<br>士郎低着头，无话可说，飞速地向外面跑去<br>“总之，抱歉！”<br>客厅中<br>凛拿出一个灯泡，指着灯泡，对士郎说<br>“强化这个给我看看。”<br>士郎握着灯泡，开始使用强化魔法<br>灯泡碎了，士郎睁开眼睛，看着碎了的灯泡<br>“没想法了？”<br>“你指什么？”<br>“你的慌乱无度，发生过什么吗？”<br>“并没有，抱歉了。”<br>“还好我事先预料到了。”凛从包中拿出一块宝石<br>“给你，吞下这个。来。”将宝石塞到士郎嘴里<br>“是糖果吗？”<br>“一口气吐下去。”<br>士郎将宝石吞下<br>“好难吃，这是什么？”<br>“宝石。”<br>“宝石！？”<br>士郎有些晕，渐渐看不清远坂<br>“喂，这到底是？”<br>“知道你很难受，但要忍住。魔术师和普通人的区别就在于有无控制魔术回路的开关。只要是魔术师，一旦在体内制造了魔术回路，接下来只需拨动开关就能控制魔力大小了。你每天都在从头创造魔术回路的无意义之事。刚才让你吞下去的，是让封闭在你体内的开关强制打开的装置。”<br>“开关是……”<br>“马上就会明白的了。只要在头脑中浮现出开关的映像，就能轻而易举地打开魔术回路了。”<br>士郎晃着头，渐渐清醒<br>“我是不是该感谢远坂你呢？”<br>“合作者的你也脆弱的话，连我也会跟着倒霉的。那么，继续吧。而且强化和投影比起来根本就是基础中的基础。”凛再次拿出一个灯泡<br>“投影……是什么？”<br>“投影简单来说就是复制物体的魔术，与强化不同，全是靠自己的魔力创造的，不过难度很高，而且制造的武器也会很快消失。算了，无论怎样士郎都没有那方面的才能呢，至少把强化掌握了吧。”<br>士郎躺在门口，Archer出现<br>“魔术回路被打开了吗？精炼了不少啊。”<br>“干什么啊，我可没事找你哦！”<br>“我也一样，我可无法忍受凛为此等事而苦恼。”<br>士郎起身<br>“我让你的Master烦恼了还真是抱歉哪。”<br>“看来凛也搞错了哪，天才无法知晓凡人的烦恼。凛太过优秀，所以未能注意到，用正统的方法指导你这魔术师废材只会是白费功夫。”<br>“想吵架吗？”<br>“我只说一次，好好听着。一旦到了战斗，卫宫士郎绝无胜算，无论做什么你都无法与Servant抗衡。”<br>“什么？”<br>“那至少要想象。如果在现实中敌不过，那就在想象中战胜它好了。你能做到的，也就仅限于此了。”<br>Archer转过身<br>“看来我也出问题了，居然为应该杀掉的敌人提出忠告。”Archer消失</p>
<h3 id="第十一话-鲜血神殿"><a href="#第十一话-鲜血神殿" class="headerlink" title="第十一话 鲜血神殿"></a>第十一话 鲜血神殿</h3><p>“为了了却在生前未能履行的责任。”<br>“因此想要圣杯的力量，你说生前…”<br>“啊啊…”<br>“你好。你还活着啊，大哥哥。”<br>“啊啊…”<br>“真是服了你了。”<br>“为什么？”<br>“因为你的乱来，发生了什么事吗？”<br>“没有，真是抱歉啊。”<br>“我也预想到了。”<br>“哼…看来凛也搞错了。”<br>早上，卫宫家道场<br>士郎和Saber训练着，凛在一旁观看<br>士郎气喘吁吁地倚在墙上休息<br>“上午的练习，先到这里吧。”Saber对士郎说<br>凛走了过来，“不过Saber，你真是冷静呢，陪士郎打了三个小时，连眉头都没皱过一下。”<br>“可能是因为我握剑的时候没有带人感情的原因，所以我也没有特别去在意。”<br>“难道这就是女性持剑时该有的心态？体格上已经赶不上别人，所以内心绝不能输给别人。”<br>“不是的。我根本没有想过自己是女性，亦从未被人当做女性对待。我生来就是为了战斗的，所以去在意性别是没有意义的。”<br>“嗯？好了…”凛走到士郎旁边<br>“嗯？”<br>凛看着士郎<br>“接下来该我来上课了。”凛对地上的士郎说着<br>“都不让休息啊？”<br>凛拽着士郎，“需要你做的事可是堆积如山呢！”<br>拽着士郎离开道场<br>“等等…”<br>“喂，远坂。”<br>“我知道了。我知道了。”</p>
<h4 id="十一话-鲜血神殿"><a href="#十一话-鲜血神殿" class="headerlink" title="十一话 鲜血神殿"></a>十一话 鲜血神殿</h4><p>房间里，地上摆满了灯泡<br>“继续昨天的课程，把这些灯强化。”凛对士郎说着<br>“这些全部吗？”<br>“我出去一会，在我回来之前完成，知道吗？拜拜。”<br>士郎坐在灯泡前<br>“回忆起昨晚的感觉…”<br>握着灯泡<br>“同调，开始。”<br>灯泡碎了，不知碎了多少，一直没有成功<br>凛打开士郎的仓库，Saber跟了进来<br>“凛，你在干什么？”<br>凛看着仓库地上的杂物<br>“他到底是什么人啊…真难以置信。Saber，你发现这件事了吗？”<br>“没有，我不知道。我是骑士，并不是魔术师。”<br>“他也不是什么魔术师。说起魔术，不管怎样也终究是等价交换，再怎么神秘，也不过是把东西从别的地方移到这里而已。”凛拿起地上的水壶<br>“但是他不一样，他把不存在于任何地方的东西拿了过来，他不知道自己可以办到什么，可能是我也想错了，他其实并不擅长强化，那家伙根本就是专为某种魔术而生的！”<br>“士郎他知道吗？”Saber问着<br>“应该不知道吧，看他那么笨！”生气地将水壶扔到地上<br>灯泡几乎都碎了<br>“一个也不成功的话，又会被远坂说吧。”<br>忽然，电话铃声响起<br>士郎走到电话旁边<br>“喂，我是卫宫。”<br>学校走廊，慎二倚在墙上正在给卫宫打电话<br>“哟，卫宫。看你今天也请假了，是身体不好吗？”<br>“有什么事吗？”<br>“什么啊，真冷淡。我可是因为有事想告诉你，才给你打电话的。”<br>“有事告诉我？”<br>“有件事一定要和你说，但是你不是请假了吗。远坂在你那吗？”<br>“暂时不在，她有事离开了一会儿。”<br>“这样正好。身为有着相同烦恼的朋友，我想私下和你聊聊，现在来学校吧。啊，当然，这件事不要对远坂说哦。”<br>“慎二，你…”<br>电话断了，士郎感觉事情不对，穿上衣服，向学校跑去<br>学校走廊静悄悄的，一个人也没有<br>“奇怪，现在应该是下课时间啊…”<br>忽然，士郎感觉不对劲，倚着墙，捂着脖子，很难受<br>“这…怎么回事？”<br>费劲地起来，看着窗外出现了结界，推开教室的门，同学和老师都晕倒在了地上<br>士郎回想起了那场火海，手背上的令咒亮起<br>“敌人要来了…的意思吗？”<br>“哟，卫宫！”<br>士郎抬起头，看到了对面的慎二<br>“看你比我想象的精神还好，那就再好不过了。怎么样，还喜欢吗，这种场面？”<br>“是你做的吗，慎二？”<br>“当然是我。我知道你要来，所以马上发动了结界。时间可是不好把握呢，你知不知道？太快的话你会跑掉，太慢的话你又会撞上。我自己很想看到你脸色苍白的样子，所以我才不想只是启动结界。”<br>“你有话要说，也是骗我的对吧？”<br>“我现在才要开始说，我和你究竟谁比较优秀，这一点要让远坂好好知道才行。”<br>慎二笑出声来<br>“你说自己没有战斗的意愿，也是骗人的吧？”<br>慎二指着士郎<br>“都是因为你跟远坂，我好心邀请你们一起战斗，结果你们却拒绝了我。当然我也是尽可能不想发动这东西。”<br>“停下！你知不知道自己在做什么！”<br>“你凭什么命令我。想要我停下，起码要跪下来恳求吧。真受不了，藤村和你都一个德行，完全搞不清自己的立场。”<br>“你说藤姐怎么了…”<br>“发动结界后，她居然还能动，其他人都东倒西歪地倒着，她还能摇摇晃晃地走到我身边，说什么‘叫救护车’，很了不起对吧，难道这就叫做老师的楷模吗？”<br>士郎握着拳头，很生气<br>“但是，我自然不可能去叫那东西，可是她还是死抓着我不放，我就一个不耐烦。”<br>嘭，慎二将藤村老师踢开<br>“踹了一脚她就一动不动了，那种情况下，她会不会第一个死啊。”再次笑出了声<br>“最后说一遍，把结界给我停下来，慎二！”<br>“那么不爽的话，那就凭实力来阻止我啊。”<br>“是吗，那事情就简单了。”向慎二冲了过去<br>慎二举起魔法书<br>“哼…真是愚蠢得可以。”向卫宫使用魔法攻击<br>“愚蠢的人是你，慎二！”士郎躲开了攻击，与Saber的训练起了效果<br>慎二很吃惊<br>“和Saber的剑击相比，你这点程度…”<br>“不要啊…别过来！”<br>士郎就要冲了过去，Rider出现，向士郎拎起铁链<br>“很…很好，Rider。别和他客气！”<br>Rider对士郎进行攻击，刺到了士郎的胳膊<br>Rider将士郎刺伤，但是没有下狠手<br>“你在干什么呀，Rider？玩够了吧，快点解决他！”<br>Rider将剑刺向士郎胸部，士郎叫着<br>“难以置信，我手中的兵器居然杀不了你。那么。”Rider将士郎踢到窗外<br>士郎从楼上掉了下来<br>就这样死去吗？就这样谁也不能救就…<br>就这样…谁也不能救就先死掉吗<br>士郎挣扎着，看着令咒的手<br>不，十年前是这样没错。不过现在的我有…<br>“过来，Saber！”<br>令咒生效了<br>Saber从地面出现，蹦起来，接住了士郎<br>将士郎放到地上<br>“士郎！”<br>“现在没时间解释，情况你知道吧，Saber。”<br>“请等一下，士郎，在那之前必须先为你治…”<br>Saber准备治疗士郎的伤<br>“Rider就交给你了，只有你才能打败她。”士郎拒绝着Saber的治疗<br>“可是…”<br>“得快点阻止结界！不然藤姐和班上的人都会死的！你如果说不的话，我就用令咒了。”<br>“不用，我明白了。请下达指令吧，Master。”<br>士郎站了起来，“打倒Rider，慎二交给我。”<br>“是。”士郎和Saber一起向楼上跑去<br>结界笼罩着这个学校，士郎和Saber爬着楼梯<br>走廊里<br>Rider向士郎攻了过去，Saber推开士郎与Rider打斗着<br>“出现了呢！”Rider对Saber说着<br>“我会在这里解决Rider，你去对付Rider的Master！”<br>“交给我吧！”士郎向慎二跑去<br>“剩下的就都交给你了，都怪你不早点杀了卫宫，事情才会变成这样！”慎二对Rider责骂道，躲避着冲过来的士郎<br>Rider与Saber继续打斗着<br>士郎追着慎二<br>“慎二！”<br>“别过来，别过来啊！”拼命地跑着<br>慎二将走廊里的拖布踢倒，跑着，对士郎使用魔法攻击<br>士郎捡起拖布，将拖布掰断，拿着木把<br>“同调，开始。”强化着木棒，用木棒将慎二的魔法攻击打散<br>慎二害怕地逃着，士郎继续追着<br>“Rider，你在搞什么，Rider！”<br>“果然名不虚传啊，Saber。”Rider说着<br>士郎追上了慎二，“慎二！”向慎二打了一拳<br>捏着慎二的脖子<br>“把结界停下来，慎二！”<br>“开…开什么玩笑，谁要听你的！”<br>士郎使着劲，“那我只好杀了你。”<br>“哼…虚张声势，最好是你下得去手。”<br>“我和你以魔术师的标准来看都是个门外汉。不过，我确实从中学到了一件事，再怎么掩饰，魔术也是一种扼杀自我来伤害他人的方法，所以，魔术师杀魔术师，这是我最先有的觉悟。看来这件事，没人教过你。”<br>士郎继续用力<br>“等…等等，我知道了。我认输了，卫宫。我马上就停下结界…”<br>“Rider！把鲜血神殿停下来！马上停下来！”<br>“哼…”Rider收回了攻击姿势，结界停止了<br>“这样可以了吧。”慎二握着士郎的手，想将手拿开<br>“松开手！”<br>“慎二，把令咒丢掉，这样我就不会再和你起冲突了。”<br>“开什么玩笑，我怎么可能做那种事！要是我把令咒丢掉，我就不能再让Rider服从我了。那样的话，我…”<br>“去言峰教会就行了，对于退离战线的Master那边会给予保护。”<br>Rider向慎二冲了过去<br>“士郎！”Saber警戒道<br>士郎松开慎二，躲到一旁<br>Rider站到了慎二前面<br>慎二捂着脖子咳嗽着，“Ri…Rider。”<br>“现在我们要离开这个地方。”<br>Saber跑了过来，“士郎，快退后！Rider打算全部解放维持结界的魔力！”<br>“解放魔力？”士郎问着跑来的Saber<br>“Ri…Rider，你想做什么？连卫宫的Servant都打不赢，就别自作主张！”慎二说着<br>“的确，我打不过Saber，但是请放心，我的宝具凌驾于其他的Servant，无论对方是什么人，都无法阻碍我的疾驰。”<br>Saber冲到士郎前面，保护着士郎<br>Rider拿出短剑，插向了自己的脖子<br>周围的人很吃惊<br>鲜血形成魔法阵<br>“士郎，离远一点，Rider打算使用宝具！”<br>走廊里亮起白光，玻璃碎了，墙和地面破烂不堪<br>Saber站起来，Rider和慎二已经不见了<br>“看来就像她说的，只是为了离开而使用宝具。”<br>士郎站了起来，很难受<br>“士郎？”<br>士郎倒在了地上<br>“士郎！”<br>火海中，士郎漫无目的地走着，倒在了地上<br>好难受，好难受，只是活着，就觉得好难受，直接让我消失，也许还好受些<br>卫宫切嗣走到士郎面前，看着倒在地上的士郎<br>我还记得那个表情，就好像被救的人是他自己一样，那张高兴的脸令我觉得那就是转折点，从等待死亡的懦弱，转变成想要活下去的坚强，之后，我只是一味追随爸爸的脚步，我忘不了他那时候的表情，只是想要带着他的幻影<br>对，如果以后我也能露出像老爸那样的笑容的话，那会是多大的救赎呢…<br>卫宫家<br>躺在床上的士郎睁开眼睛<br>“醒来的话，你应该有话要说吧？”远坂问着士郎<br>“远坂，原来你在啊。”<br>凛皱着眉<br>“什么叫原来你在啊！我一直在一旁看护你，结果你这态度倒挺自大啊！”<br>“是这样啊，谢谢你，又给你添麻烦了。”<br>远坂摸着头<br>“还…还好啦，也不是什么大不了的事。”<br>士郎起身，“我还好。”<br>忽然，士郎紧张起来<br>“远坂，学校怎么样了？我在那之后怎么了？”<br>“学校那边有绮礼帮忙，你不用担心大家的事。虽然不少学生被送进了医院，不过都没有性命之忧。”<br>“是吗…我的身体也是言峰替我治好的吗？”<br>“那是你自己治好的，和Berserker那个时候一样，总之单就伤口愈合这点来讲，你的恢复力加个‘超’字都不为过，不过我想这点你也不知道原因吧？”<br>“怎么可能有…我自己都感觉莫名其妙。”<br>“总而言之，你要感谢Saber知道吗？怎么做到的我不知道，不过你的身体能这样，十有八九多亏了Saber。”<br>“Saber啊…”<br>家中道场，Saber穿着铠甲在里面<br>“Saber。”<br>士郎走到Saber面前，Saber睁开眼，看着士郎<br>“士郎，醒过来了啊。”Saber站了起来<br>“我有一堆的话要和你说。把我一个人留下独自去赴约，一个人去战斗，还毫不为自己的身体着想，你知不知道，这每一项都是通向死亡的愚蠢行为！”Saber生气地对士郎说着<br>“你这样不断逼我就那么有趣吗？”<br>“这…那个…”<br>“今天我一定要好好听听你是怎么想的！”<br>“对不起，我真的很蠢。”士郎对Saber鞠躬道歉<br>“你生气也是应该的，让你担心了真对不起，只要Saber在的一天，我再也不会一个人单打独斗。”<br>“士郎，你的意思是…？”<br>“把你的力量借给我吧，我一个人是赢不了其他的Master的，我需要你的帮助，这点我已经清楚地明白了。”<br>“那么，你是承认你过去所做的是错的，对吧？你专心做好后方的支援，战斗的工作交给我。”<br>士郎抬起头<br>“不是，我没觉得我做错了，现在我也依然不想看到Saber受伤，如果Saber要战斗的话，我也要一起才行。”<br>“你怎么还说这种话…”<br>“只有这一点，我是不会让步的。只让Saber一个人去战斗，我办不到！”<br>Saber思考了一会<br>“这么顽固，实在是很像你的作风。事到如今，也不用我再回答了吧。我是你的剑，除了我以外，谁还能成为你的力量呢。”<br>士郎和Saber握着手<br>凛走了过来<br>“你们俩在干嘛呀？”<br>士郎和Saber将手松开，很尴尬<br>凛走到Saber旁边，“有情况的样子哦。该不会是背着我偷偷开了作战会议之类的吧？”<br>“不是那样的！我只是想看看Master的身体恢复的怎么样了，给他把脉而已。”<br>“唉…那你把脉的方法还真特别呢。算了，这个。”凛拿着一个包裹<br>“那是什么？”士郎问着凛<br>“给Saber换的衣服，小心一点哦。强制召唤而武装的话，衣服可是会消失得一干二净的。”将衣服递给Saber<br>Saber接过衣服<br>“谢谢你，麻烦你了。”<br>“不过，你一直穿这种朴素的衣服好吗？干嘛对这套衣服这么执着啊，Saber？”<br>Saber低着头<br>“因为士郎说我穿着很好看。”</p>
<h3 id="第十二话-划破天际"><a href="#第十二话-划破天际" class="headerlink" title="第十二话 划破天际"></a>第十二话 划破天际</h3><p>“是你做的吗，慎二？”<br>“过来，Saber！”<br>“慎二！”<br>“把结界停下来，慎二！”<br>“开，开什么玩笑，谁要听你的！”<br>“士郎！”<br>晚上，慎二拿着魔法书在街上走着<br>看着街上的人<br>“全部，全部，全部，全部，全部破坏掉，全部给我破坏掉吧！”<br>撞翻了垃圾桶，朝着天空大喊着，很生气</p>
<h4 id="十二话-划破天际"><a href="#十二话-划破天际" class="headerlink" title="十二话 划破天际"></a>十二话 划破天际</h4><p>卫宫家，士郎打着电话<br>“啊，是这样啊，只是疲劳而已是吗？咦，真的吗？不愧是藤姐。啊，不用，没关系。好，请替我向她问好。好的，再见。”<br>“大河怎么样？”一旁的Saber问着<br>“说已经会要求再来一碗米饭了。”<br>医院中，藤姐吃完一碗，喊着，“再来一碗。”<br>“虽然想去看她，不过在那之前，还有件事不得不处理。”<br>“没有必要非得在今天追捕到Rider和她的Master。”<br>“Saber。”<br>“如果要战的话，等到士郎的伤治好再说也不晚。”<br>“那就错了，Saber。要说优先顺序的话，我的身体状况应该排到后面才对。慎二在展开那种结界之前，我要分开他跟Rider。”<br>“因为不想再有昨天那样的牺牲是吗？不是为了打倒Rider的Master，而是只为那样的理由而战。”<br>“不是，我是想要慎二负起责任，要打倒Rider也是为了这个。而且为了不要有牺牲而行动，是理所当然的吧。这是战斗之前的问题。”<br>“是吗？既然Master这么说，那我只能服从了。”Saber离开<br>“Saber？”<br>桌子旁，大家一起讨论着<br>“然后呢，说要找出慎二，应该是有胜算才这么说的吧，士郎？”凛喝着茶，问着<br>“这，你说胜算是指对慎二吗？”<br>“没有胜算就想对其他Master出手，要是你这样讲，我会笑喔。”<br>士郎摸着脸，不知怎么回答<br>“啊哈哈哈哈。”凛笑了<br>“如果只是跟Rider战斗是没有问题的，跟她直接交过手的士郎应该也很明白。”一旁的Saber说着<br>“是这样吗？”凛问着<br>士郎坐了下来<br>“Rider打不过Saber，如果是一对一的战斗，我觉得不会输掉的。”士郎说着<br>凛吃着桌子上的饼干<br>“什么嘛，还是有胜算不是吗？”<br>Saber和士郎互相看着对方<br>“干嘛啊，一副没有干劲的表情，难道还有其他的问题不成？”<br>“听我说，远坂。明明她被凌驾于自己的Saber给逼到绝境，但Rider最后还是能带着慎二逃走了。那个东西，我想就是Rider的宝具了吧。”<br>“意思是Rider属于宝具更胜于本人的类型是吗？”凛问道<br>“我当时没能确认清楚，不过从类别上来说，那近似于凛的魔术。”Saber说着<br>“这样很奇怪吧，用现代的魔术的话，根本就伤不了你不是吗？”凛问着<br>“是的，神秘在更强的神秘面前会被无效化，能够穿透我的铠甲的神秘，只有你们所说的魔法，或是存在于神秘里的幻想种而已。”<br>“使用魔法，你想说Rider是魔术师吗，Saber？”<br>“不是，我感觉不到她有魔力，那个宝具和Rider本身的能力没有关系。与我的剑还有Lancer的枪不同，那恐怕不属于‘对人宝具’吧？”<br>“对人宝具？”士郎问着<br>“我的剑只是为打倒人所造的武器，就算带有再强的魔力，再强的诅咒，它的用途也不会超过对人的领域。”<br>“那么Rider的宝具是？”士郎问着<br>“就可能是‘对军宝具’吧。敌人是人类是石头都没有关系。就是，简单地说‘对人宝具’就是没有弹数限制的手枪，‘对军宝具’则是只有一发的飞弹。”凛说着<br>“什么，等一下，飞弹跟手枪要怎么比？原来如此啊，就是说要跟Rider战斗的话，就要在她使用宝具前打倒她是吗？”士郎问着<br>凛鼓着掌<br>“说得对，战斗拖得越久，形式就会对我们不利。”<br>凛站了起来<br>“好了，慎二搜索队，恕我没空参加。”远坂推开门<br>“远坂？”<br>“我还有事要做，我等你们的好消息。”<br>间桐家门口<br>士郎和Saber感应着<br>“果然不在这里。”Saber说着<br>“从他的个性来讲，首先想到的就是向我们复仇。”<br>“那言下之意，Rider的Master会想再次张开结界？”<br>“八九不离十吧，没错。那种规模的结界，一接近应该就能感觉到，要找的不是慎二。”<br>“而是结界。吓我一跳，有一套呢，士郎！”<br>“拜托，我可不是想都不想就行动的！走吧，慎二要发动结界的话，不会选这个镇而会选新都。”士郎准备离开<br>Saber叫住了士郎<br>“这样好吗，士郎！”<br>士郎回过头，看着Saber<br>“这里不是樱的家吗？既然来了的话，是不是该打声招呼？”<br>士郎看着间桐家，低着头思考着<br>“还是算了，我不想把樱卷进这场战斗里。”<br>Saber和士郎离开<br>黄昏，街上<br>士郎和Saber感应着结界<br>Saber摇着头，Saber和士郎准备离开<br>士郎难受地低下身子<br>Saber回过头，“士郎，你感觉到什么不一样了吗？”<br>看到士郎很累的样子，跑了过来，扶着士郎<br>“士郎，这边来！”拉着士郎<br>“等等，还有别的建筑物…”<br>“喂！”<br>树林中，椅子旁边<br>“怎么了啊，这里什么都没有，Saber你也知道吧？”<br>“别说了，请坐在这里！”将士郎按到椅子上<br>士郎想要起来，有些头晕<br>“奇怪。”<br>“看来你终于感觉到自己身体的状况了，士郎。伤都还没有治好，非要勉强自己才会这样。”<br>“抱歉，我会尽快让身体能动起来，你稍微等我一下。”<br>“看来跟你说再多，都是白搭。”<br>Saber坐到士郎旁边<br>“你不想一个人休息的话，我陪你一起，休息也是战斗的一部分。”<br>Saber靠近士郎，士郎害羞着<br>“士郎，你的脸色好像比刚才还要差！”<br>士郎挪着身子，“没有，我可没有想歪喔。”<br>“想歪？”<br>“呃，没什么。”<br>“虽然躺下来会比较好，要说这附近能够休息的地方的话。”<br>Saber看着周围<br>一对情侣在椅子上很开心的休息着，男生躺在女生的腿上<br>Saber看着士郎，士郎很紧张<br>“士郎。”Saber拍着自己的腿，让士郎躺着<br>“你愿意的话，就躺这里吧。”<br>士郎拒绝着<br>“不要紧啦，我乖乖坐着，马上就好了。”倚着椅子，开始休息<br>士郎梦到了那场火海被父亲救起<br>撑开眼睛，天已经黑了<br>“咦，我睡着了啊。”<br>“是啊，睡了一个小时左右。”<br>“你为什么没叫我啊，都说了没时间休息。”<br>“休息是必须的行为。”<br>士郎站了起来<br>“虽然身体确实是好多了，不过既然要休息的话，在别的地方会更好吧。”<br>“士郎很在意这个地方吗？”<br>“是的，我好像没跟你说过，我以前曾在附近住过。发生了一场火灾，我的父母还有家都烧光了，就在那个时候老爸救了我，于是我就当了他的养子。听说这里是上次战争的场所，那场战争的幸存者我，却成为了Master，真是讽刺！”士郎往前走着<br>“士郎，因为这个，所以不想有牺牲者是吗？正因为你是圣杯战争的牺牲者，所以你不愿意他人和你有相同的遭遇。”<br>“可也能是更单纯的理由吧。”<br>Saber疑惑着<br>“十年前，我在这里被老爸救了的时候，只是觉得很高兴。不过，只有自己存活，总觉得很不开心。每个人都希望自己能够得救，但结果获救的却只有我一个人，所以，如果想回报那些死去的人，至少应该要预防接下来的事，要是再发生那样的事，那才是真的没有脸去见那些死去了的人。”<br>“你没有想要救自己吧。比起自己你总是优先考虑别他人，这虽然很伟大，不过这样的话，有一天你一定会后悔的。士郎应该要更珍惜自己。我们走吧，呆在这里的确会给你带来困扰。”<br>高楼下，树的旁边<br>“想到的地方都找了，还有其他该去的地方吗？”Saber问着<br>士郎看着地图<br>“这个嘛，我记得这前面确实有个工厂。”<br>“士郎！”<br>“嗯，就在这附近吗？”<br>“不，似乎还不到那么短的距离，但是我们确实被人监视着。这恐怕是对我们的挑战吧。我现在就追寻魔力的来源，请多加小心，Master！”<br>士郎和Saber向魔力方向走着<br>“Saber，小心，不大对劲！”<br>“嗯，但是。”<br>“士郎！”Saber跳起，挡住了攻击<br>Rider在楼上像蜘蛛一样匍匐着<br>“Saber，那家伙！”<br>“我这就追上去，士郎你待在这里。”<br>Saber跳起，换上铠甲，追着楼上的Rider<br>Rider是想到楼顶上去吗？这样，Rider的Master慎二就在<br>Saber与Rider一起往楼顶驶去，Rider用铁链攻击着Saber，Saber与Rider打斗着<br>“看来你不擅长在高处作战呢，Saber。”<br>Saber再次攻了过去<br>“你那自豪的剑，在这里毫无用武之地吧。”<br>Rider踢开Saber，说着<br>“不过，请放心，我马上就让你解脱。”<br>士郎坐着电梯，忽然电梯停住<br>“可恶，为什么没升到顶楼啊！”离开电梯，向楼顶跑去<br>伊莉雅和Berserker看着向楼顶跑去的士郎<br>Saber和Rider到了楼顶<br>Rider的宝具出现了，Saber很吃惊<br>那是一匹白马，长着翅膀的白马，Rider骑在白马上面<br>Rider向Saber攻去，Saber用剑还击<br>“想不到竟然是足以匹敌魔法的幻想种天马！”<br>Rider骑着马在天空飞着，再次向Saber攻了过去<br>士郎拼命地跑着，担心着Saber<br>Saber完全敌不过那匹白马<br>Saber费劲地站了起来<br>“真叫人吃惊，表里不一，你还挺硬朗的。”Rider说着<br>“想不到会拿出神之宝物，看样子你罪孽不浅啊，Rider！”<br>“过去我不过就是你们轻视的东西，因此我所驾驭的也只有那些被你们驱逐的可怜的孩子而已。”<br>“原来如此。我知道你心术不正，看来你根本不是英灵而是恶鬼之类的吧。”<br>“尽情地诅咒自己的无能吧。就凭你，连我孩子的一根寒毛都碰不到！”Rider再次攻了过来<br>士郎不在<br>Saber低下身子躲过攻击<br>等待Rider毫无防备的那一刻，只要努力防御，挡住她的攻击<br>士郎推开门，到了楼顶，Saber很吃惊<br>“士郎！”<br>士郎看到了天上的白马，很惊讶<br>“士郎，为什么？”<br>士郎的出现打乱了Saber的计划<br>慎二笑出了声<br>“慎二！”士郎生气地喊着<br>“看到了吧，卫宫，这就是我跟你实力的差距！”<br>“你在哪里，慎二！”士郎看着四周<br>“你和你的Servant都到此为止了，客气什么，彼此都这么熟悉了，我会让你不带任何痛苦地死去。动手，Rider，先收拾那个女的，连一只手脚都别给我留下哦。”<br>Rider拉着白马，准备再次进攻<br>士郎向Saber跑去，“Saber！Saber！”<br>Saber看着跑来的士郎，“士郎。”<br>看着即将攻过来的的Rider，Saber即使魔力不足，也依然开始使用宝具，除此之外，别无他法<br>风王结界开始释放，造成强烈的风暴压迫阻止着过来的士郎<br>“Saber！”士郎喊着<br>“娱乐节目到此结束了，Saber。”Rider摸着自己的天马<br>“我的宝具因为过于强大，用了的话，会引人觊觎。不过，在这里的话就不必担心遭人窥视。”Rider的手中出现了缰绳<br>“那就是你的宝具吗，Rider？”Saber问着<br>“没错，这孩子太过温柔不适合战斗，不用上这种东西，它是不会打气精神来的。”拉着缰绳<br>“去死吧，Saber！”<br>天马拼命地叫着，向Saber冲了过去<br>Saber看着士郎和Rider<br>“风啊。”Saber说着<br>“那个是？”士郎看着Saber<br>“Rider。”Saber看着即将过来的Rider<br>“骑英的缰绳！”向Saber冲了过来<br>Saber拿着剑<br>“你刚才说这个地方不会引人注目对吧，我有同感，在这里的话，丝毫不必担心会烧毁地面。”<br>Saber将风王结界释放，不可视之剑现身，那是一把黄金剑<br>将风王结界释放了以后会造成强烈的风暴压迫，然后在这风压中，现出金色的王者之剑<br>士郎吃惊地看着，“黄金的，剑？”<br>Saber带着觉悟，使出了自己的宝具<br>“誓约胜利之剑！”<br>向Rider砍了过去<br>剑迹划破长空，Rider消失了<br>凛在间桐家门口看到了高楼上的剑迹，很惊讶，看着间桐家<br>凛与樱做了约定，交换条件是樱一周内不来士郎家，然后一周之后凛搬出士郎家，将樱赶出了卫宫家。<br>樱拉开窗帘，看着自己的Servant，Rider消失，念着咒语<br>士郎看着Saber手中的黄金剑<br>那把剑是<br>“Saber。”<br>慎二的魔法书开始烧毁<br>“啊啊，烧起来了，令咒要烧掉了。”<br>“慎二！”士郎喊着<br>慎二逃走<br>“等一下，慎二！”<br>忽然，听到了有人倒下的声音<br>回头一看，Saber趴在了地上<br>“Saber？”<br>由于魔力消耗过度，铠甲和剑消失了<br>士郎跑到Saber旁边，“Saber！”<br>抱着Saber，“Saber，喂，振作一点啊！Saber！”<br>Saber昏迷着，气喘吁吁，很累的样子<br>“Saber！”士郎朝着着天空大声地喊着</p>
<h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>十三至二十四话剧情介绍请点击<br><a href="https://akbcd.github.io/2019/09/30/%E5%91%BD%E8%BF%90%E4%B9%8B%E5%A4%9C%E4%B8%8B/">命运之夜下</a></p>
]]></content>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
  <entry>
    <title>文件系统</title>
    <url>/2019/09/06/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/</url>
    <content><![CDATA[<p>前段时间安装Linux操作系统，需要往U盘里面导入一个4Gb多的文件，有的U盘空间够用，但是导不进去，其实是U盘文件系统的问题，这里就科普一下文件系统</p>
<span id="more"></span>
<p><strong><a href="https://baike.baidu.com/item/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/4827215?fr=aladdin">百度百科</a></strong><br>文件系统是操作系统用于明确存储设备（常见的是磁盘，也有基于NAND Flash的固态硬盘）或分区上的文件的方法和数据结构；即在存储设备上组织文件的方法。操作系统中负责管理和存储文件信息的软件机构称为文件管理系统，简称文件系统。文件系统由三部分组成：文件系统的接口，对对象操纵和管理的软件集合，对象及属性。从系统角度来看，文件系统是对文件存储设备的空间进行组织和分配，负责文件存储并对存入的文件进行保护和检索的系统。具体地说，它负责为用户建立文件，存入、读出、修改、转储文件，控制文件的存取，当用户不再使用时撤销文件等。</p>
<hr>
<p>以下介绍几种U盘常见的文件系统</p>
<hr>
<p><strong>FAT</strong></p>
<hr>
<p>在Win 9X下，FAT16支持的分区最大为2GB。我们知道计算机将信息保存在硬盘上称为“簇”的区域内。使用的簇越小，保存信息的效率就越高。在FAT16的情况下，分区越大簇就相应的要大，存储效率就越低，势必造成存储空间的浪费。并且随着计算机硬件和应用的不断提高，FAT16文件系统已不能很好地适应系统的要求。在这种情况下，推出了增强的文件系统FAT32。同FAT16相比，FAT32主要具有以下特点：<br>同FAT16相比FAT32最大的优点是可以支持的磁盘大小达到32GB，但是不能支持小于512MB的分区。<br>基于FAT32的Win 2000可以支持分区最大为32GB；而基于 FAT16的Win 2000支持的分区最大为4GB。<br>由于采用了更小的簇，FAT32文件系统可以更有效率地保存信息。如两个分区大小都为2GB，一个分区采用了FAT16文件系统，另一个分区采用了FAT32文件系统。采用FAT16的分区的簇大小为32KB，而FAT32分区的簇只有4KB的大小。这样FAT32就比FAT16的存储效率要高很多，通常情况下可以提高15%。<br>FAT32文件系统可以重新定位根目录和使用FAT的备份副本。另外FAT32分区的启动记录被包含在一个含有关键数据的结构中，减少了计算机系统崩溃的可能性。</p>
<hr>
<p>建议：如果U盘容量较小，推荐使用FAT32，FAT16几乎已被淘汰，但是FAT32有一个缺点，不能存储容量大于4GB的文件</p>
<hr>
<p><strong>exFAT</strong></p>
<hr>
<p>（全称Extended File Allocation Table File System，扩展FAT，即扩展文件分配表）是Microsoft在Windows Embeded 5.0以上（包括Windows CE 5.0、6.0、Windows Mobile5、6、6.1）中引入的一种适合于闪存的文件系统，为了解决FAT32等不支持4G及其更大的文件而推出。对于闪存，NTFS文件系统不适合使用，exFAT更为适用。相对FAT文件系统，exFAT有如下好处：<br>1·增强了台式电脑与移动设备的互操作能力<br>2·单文件大小最大可达16EB（就是理论值，16×1024×1024TB，1TB=1024G）<br>3·簇大小可高达32MB<br>4·采用了剩余空间分配表，剩余空间分配性能改进<br>5·同一目录下最大文件数可达65 536个<br>6·支持访问控制<br>7·支持TFAT<br>采用该文件系统的闪存盘不支持Windows Vista ReadyBoost。Windows Vista SP1支持该文件系统。<br>请注意：exFAT只是一个折中的方案，只为U盘而生。<br>超过4GB的U盘格式化时默认是NTFS分区，但是这种格式是很伤U盘的，因为NTFS分区是采用“日志式”的文件系统，需要记录详细的读写操作，肯定会比较伤闪盘芯片，因为要不断读写。</p>
<hr>
<p>win 7/win xp可能需要安装补丁提供对U盘exFAT文件系统的支持，解决了U盘不能存储大于4GB文件的问题，适用于闪存盘，容量在64GB及以上</p>
<hr>
<p><strong>NTFS</strong></p>
<hr>
<p>NTFS文件系统是一个基于安全性的文件系统，是Windows NT所采用的独特的文件系统结构，它是建立在保护文件和目录数据基础上，同时照顾节省存储资源、减少磁盘占用量的一种先进的文件系统。使用非常广泛的Windows NT 4.0采用的就是NTFS 4.0文件系统，相信它所带来的强大的系统安全性一定给广大用户留下了深刻的印象。Win 2000采用了更新版本的NTFS文件系统NTFS 5.0，它的推出使得用户不但可以像Win 9X那样方便快捷地操作和管理计算机，同时也可享受到NTFS所带来的系统安全性。<br>NTFS 5.0的特点主要体现在以下几个方面：<br>1.NTFS可以支持的MBR分区（如果采用动态磁盘则称为卷）最大可以达到2TB，GPT分区则无限制。而Win 2000中的FAT32支持单个文件的大小最大为2GB。<br>2.NTFS是一个可恢复的文件系统。在NTFS分区上用户很少需要运行磁盘修复程序。NTFS通过使用标准的事物处理日志和恢复技术来保证分区的一致性。发生系统失败事件时，NTFS使用日志文件和检查点信息自动恢复文件系统的一致性。<br>3.NTFS支持对分区、文件夹和文件的压缩。任何基于Windows的应用程序对NTFS分区上的压缩文件进行读写时不需要事先由其他程序进行解压缩，当对文件进行读取时，文件将自动进行解压缩；文件关闭或保存时会自动对文件进行压缩。<br>4.NTFS采用了更小的簇，可以更有效率地管理磁盘空间。在Win 2000的FAT32文件系统的情况下，分区大小在2GB～8GB时簇的大小为4KB；分区大小在8GB～16GB时簇的大小为8KB；分区大小在16GB～32GB时，簇的大小则达到了16KB。而Win 2000的NTFS文件系统，当分区的大小在2GB以下时，簇的大小都比相应的FAT32簇小；当分区的大小在2GB以上时（2GB～2TB），簇的大小都为4KB。相比之下，NTFS可以比FAT32更有效地管理磁盘空间，最大限度地避免了磁盘空间的浪费。<br>5.在NTFS分区上，可以为共享资源、文件夹以及文件设置访问许可权限。许可的设置包括两方面的内容：一是允许哪些组或用户对文件夹、文件和共享资源进行访问；二是获得访问许可的组或用户可以进行什么级别的访问。访问许可权限的设置不但适用于本地计算机的用户，同样也应用于通过网络的共享文件夹对文件进行访问的网络用户。与FAT32文件系统下对文件夹或文件进行访问相比，安全性要高得多。另外，在采用NTFS格式的Win 2000中，应用审核策略可以对文件夹、文件以及活动目录对象进行审核，审核结果记录在安全日志中，通过安全日志就可以查看哪些组或用户对文件夹、文件或活动目录对象进行了什么级别的操作，从而发现系统可能面临的非法访问，通过采取相应的措施，将这种安全隐患减到最低。这些在FAT32文件系统下，是不能实现的。<br>6.在Win 2000的NTFS文件系统下可以进行磁盘配额管理。磁盘配额就是管理员可以为用户所能使用的磁盘空间进行配额限制，每一用户只能使用最大配额范围内的磁盘空间。设置磁盘配额后，可以对每一个用户的磁盘使用情况进行跟踪和控制，通过监测可以标识出超过配额报警阈值和配额限制的用户，从而采取相应的措施。磁盘配额管理功能的提供，使得管理员可以方便合理地为用户分配存储资源，避免由于磁盘空间使用的失控可能造成的系统崩溃，提高了系统的安全性。<br>7.NTFS使用一个“变更”日志来跟踪记录文件所发生的变更。</p>
<hr>
<p>机械硬盘适用的文件系统，NTFS分区是采用“日志式”的文件系统，需要记录详细的读写操作，肯定会比较伤闪盘芯片，因为要不断读写。U盘不建议使用</p>
]]></content>
      <tags>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>社会实践心得体会（2019大二下学期）</title>
    <url>/2019/09/01/%E7%A4%BE%E4%BC%9A%E5%AE%9E%E8%B7%B5%E5%BF%83%E5%BE%97%E4%BD%93%E4%BC%9A%EF%BC%882019%E5%A4%A7%E4%BA%8C%E4%B8%8B%E5%AD%A6%E6%9C%9F%EF%BC%89/</url>
    <content><![CDATA[<center>社会实践心得体会</center>

<p>&emsp;&emsp;成长，是一种经历；经历，是一种人生的体验。人生的意义不在于我们拥有了什么，而在于从中我们体悟到了什么。生命的短暂与存在的永恒之间锻造了自我，拥有真正的价值和真实的幸福。暑假社会实践活动给了我们一个锻炼自我的平台，让我们有所体会、有所启迪、有所感悟，让我们更好的成长！<br>&emsp;&emsp;由于家在农村，再加上自己的一些个人原因，不能到什么企业或公司实习，经过一番思考，决定到村里的人参种植基地去帮着做一点事。我们常说火车跑得快，全靠车头带。农村，有着淳朴的人情，美好的传统习俗，但由于知识的缺乏，也有好多糟粕。一方面，大学生有着良好的知识，有新思维，对国家的政策理解的较多，到农村去实践，可以戒掉自己的心高气傲，学会吃苦耐劳的精神，体会农村人艰苦朴素的生活作风，这是在物欲横流的大城市里所没有的东西，同时也可以增加大学生的见识。用自己的知识去服务社会，回报社会，也是推动我国迅速发展的一支重要力量。另一方面，农业在我国是一个基础产业，也是一个国家在大力发展的产业，国家深切关注农业、农民、农村，在知识相对落后的农村，更需要我们当代大学生去指导，告诉他们国家的相关政策。科学技术是第一生产力，要发展社会主义新农村，就必须提高农民的科技水平，让农村对政府的相关政策有充分的了解。尽管国家对农村很重视，前段时间还有农村振兴计划，但是，现在的农村，有钱的人家生活条件很好，但相比城市差距还是较大，没钱的人家，生活条件依然艰苦，尽管有国家的专项扶持。<br>&emsp;&emsp;废话不多说，直接进入主题。去年的暑期社会实践，是去大榛子基地帮忙摘榛子，让我对农村有了初步的感悟。今年决定换个地方去实践，即人参种植基地。夏天的人参已经长得很大了，有五个叶的，四个叶的，还有当年的人参种子出的苗，一个叶子。在参地，有这几样活可以做：参地拔草、参地打药、参地放雨等。拔草这个任务有点艰巨，要仔细看人参的每一个池床，看到草就要拔。打药总共有三样事需要做。需要有人拌药，有人整理运输药液的水管，最后一个就是打药了。我做的就是这三个中的一个。参地放雨就是将参地上面的塑料布卷起来，让雨浇到地里。<br>&emsp;&emsp;参地打药要选一个没有雨的日子，要好是连续两天没有雨，这样打完药才会让人参更好的吸收。我和工人们一起到了参地，他们把药都找出来，我把药倒进药桶里，然后往药桶里放水，并拿着棍子在水桶里进行搅拌。工人们启动打药机，我的任务便是每过一段时间便用棒子在药桶里搅拌几下，让农药在水中更快的溶解。看着打药的工人在参地里打药，药业喷到自己的身上，打完药后，自己的裤子都已经湿了半截，深深地体会到了农民干活打工的不容易与艰辛。看着在参地拔草的农民，每天早上露水很大，也要到参地拔草，只为了那一天一百多元的工钱，越想越是不容易。农民每天起早贪黑，拼着、忍着、干那么重的农活，每天的工钱不到两百，很多的农民都已经累出了病。农村和城市的差距真是显而易见。只希望国家能多多关注农村。让农民不再像现在这样这么累，挣那么少的钱。<br>&emsp;&emsp;时间竟然悄无声息地从指间溜走，体验了农村的艰苦、农民的不易，但我会永远记住这个暑假，记得这次社会实践活动，记得与我相处的每一个人，记得我经历过的每一件事。虽然只是短短的几十天，但是这次体验让我记忆犹新。那些细微的感动和琐碎的记忆以及深刻的体会将一直在我的生命中潺潺地流淌。<br>&emsp;&emsp;我知道我们社会实践的目的虽不在于此，但这些小事却又是生活中必不可少的一部分。因为生活中的考试往往是无形的，不像真正的考试一样用白纸黑字将问题摆在我们面前，可以十分清晰的检验我们。一些与人生相关的话题就是在我们的一言一行中找到答案，这有关我们是否真诚，是否充满爱心。<br>&emsp;&emsp;虚伪挟不来真情，冷酷也挟不来热枕。多替他人着想，多帮助别人，才能活得更舒坦、更有质量。人与人的相处，更重要的是心灵的沟通，彼此坦诚相待，只要人与人都有一颗明亮而温暖的心，这个世界会更加美好！<br>&emsp;&emsp;暑假社会实践，终究会成为过去，终究会成为永远，终究会被记忆尘封。但是它给我的启示将会影响我的一生，让我在人生的道路上越走越好。当人生的年轮驶过若干年后，那么深深的的车辙将会始终笔直如一！<br>&emsp;&emsp;也许我们能从书本中学到好多理论，但只有经历过实践之后，才知道有些知识是书本上永远学不来的东西，暑期社会实践看到了农村目前的现状，国家的政策和农民的行动还没有一致起来，我们还需要一起努力，相信建设社会主义新农村和构建社会主义的前途一片光明！实践留给我们很多的思考，使我们这些读圣贤书的人也开始关心窗外事。</p>
]]></content>
      <tags>
        <tag>大学</tag>
      </tags>
  </entry>
  <entry>
    <title>新学期新起点</title>
    <url>/2019/08/31/%E6%96%B0%E5%AD%A6%E6%9C%9F%E6%96%B0%E8%B5%B7%E7%82%B9/</url>
    <content><![CDATA[<p>新学期新起点<br>新学期开始了，新的学期，新的开始，新的方向，大学时光转眼间已经过去了一半，剩下的两年，过的要充实些<br>有了目标才会有动力<br>本学期目标<br><strong>英语四级证书</strong><br><strong>考试不挂科</strong>（哈哈，这也是个目标）<br><strong>驾驶证</strong></p>
]]></content>
      <tags>
        <tag>大学</tag>
      </tags>
  </entry>
  <entry>
    <title>行车日志（集安到长春）</title>
    <url>/2019/08/27/%E8%A1%8C%E8%BD%A6%E6%97%A5%E5%BF%97%EF%BC%88%E9%9B%86%E5%AE%89%E5%88%B0%E9%95%BF%E6%98%A5%EF%BC%89/</url>
    <content><![CDATA[<p>坐了好几次集安到长春的客车了，记录些事情（隧道名称可能不准确）</p>
<span id="more"></span>
<p>集安到通化高速未开通<br>14：50集安发车<br>途径隧道<br>新华1号隧道<br>新华2号隧道<br>新华3号隧道<br>湾沟1号隧道<br>湾沟2号隧道<br>福利隧道<br>板庙隧道(2km左右，相比较长)<br>柳树河隧道(2km左右，相比较短)<br>17：50到梅河服务区<br>19：50到长春</p>
<hr>
<p>集安到通化高速开通<br>13：00集安发车<br>集安到通化途径隧道<br>迎宾岭隧道<br>高台子隧道<br>五女峰隧道（7930m）<br>矿山隧道<br>前进隧道<br>砬子沟隧道<br>湾湾川隧道<br>太安隧道<br>二密隧道<br>15：20到梅河服务区<br>17：40到长春</p>
]]></content>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
  <entry>
    <title>电信光猫HS8145V配置说明</title>
    <url>/2019/08/09/%E7%94%B5%E4%BF%A1%E5%85%89%E7%8C%ABHS8145V%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E/</url>
    <content><![CDATA[<p>说明：此文章仅是备份光猫信息以及部分光猫功能介绍（HS8145V5与此相同）</p>
<h2 id="光猫备份内容"><a href="#光猫备份内容" class="headerlink" title="光猫备份内容"></a>光猫备份内容</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">光猫登陆地址：http://192.168.100.1/</span><br><span class="line">如果无法进入页面，将ip固定为192.168.100.2</span><br><span class="line">用户名（超级管理员）：</span><br><span class="line">telecomadmin</span><br><span class="line">密码：</span><br><span class="line">admintelecom</span><br></pre></td></tr></table></figure>
<p>进入后<br>开启路由模式方法<br>WAN-&gt;WAN配置-&gt;新建</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">使能WAN：勾选</span><br><span class="line">封装类型：PPPoE </span><br><span class="line">协议类型：IPv4</span><br><span class="line">WAN类型：路由WAN</span><br><span class="line">服务类型：INTERNET</span><br><span class="line">使能VLAN：勾选</span><br><span class="line">VLAN ID：3425</span><br><span class="line">802.1p优先级策略：使用指定值</span><br><span class="line">802.1p优先级：0</span><br><span class="line">MRU：1492</span><br><span class="line">用户名：宽带用户名</span><br><span class="line">密码：宽带密码</span><br><span class="line">使能LCP请求检测：不选</span><br><span class="line">绑定项：不选</span><br></pre></td></tr></table></figure>
<p>以下内容不用动，点击应用<br>LAN-&gt;LAN口工作模式<br>全部勾选<br>若光猫内部日期不对，点击<br>系统工具-&gt;时间设置</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">自动同步网络时间服务器 勾选</span><br><span class="line">时间区域：选择自己所在区域</span><br><span class="line">WAN名称：选择自己开路由模式的WAN</span><br></pre></td></tr></table></figure>
<p>点击应用<br>最后<br>保存配置并重启<br>位置：<br>系统工具-&gt;配置文件</p>
<h2 id="光猫GPON改EPON、双模"><a href="#光猫GPON改EPON、双模" class="headerlink" title="光猫GPON改EPON、双模"></a>光猫GPON改EPON、双模</h2><p>在CMD中输入telnet 192.168.100.1回车<br>如果telnet命令不好使，可能是没有启动此功能<br>开启方法：<br>在启用或关闭Windows功能中，找到相应telnet功能，开启</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">账号root</span><br><span class="line">密码admin</span><br><span class="line">WAP&gt;su回车</span><br><span class="line">Su_WAP&gt;shell回车</span><br><span class="line">WAP(Dopra Linux) # cd /mnt/jffs2回车（注意cd命令后有一个空格）</span><br><span class="line">WAP(Dopra Linux) # vi hw_boardinfo回车</span><br><span class="line">找到obj.id =&quot;0x00000001&quot; ; obj.value = &quot;1&quot;; &amp;#710;m</span><br><span class="line">把obj.value = &quot;1&quot;改成2   (1代表GPON,2代表EPON,4代表E/G双模)</span><br><span class="line">把光标移动至数字，按i进入编辑模才能改。改好后按ESC退出，</span><br><span class="line">然后输入 : wq ！ (注意： 冒号感叹号要打上) ， 回车</span><br></pre></td></tr></table></figure>
<p>参考网址：<br><a href="http://www.chinadsl.net/thread-152813-1-1.html">http://www.chinadsl.net/thread-152813-1-1.html</a></p>
]]></content>
      <tags>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>数学建模实习报告</title>
    <url>/2019/07/12/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1%E5%AE%9E%E4%B9%A0%E6%8A%A5%E5%91%8A/</url>
    <content><![CDATA[<p>2019年吉林省大学生数学建模省赛赛题A<br>获奖情况：成功参赛奖<br>[实习名称] 数学建模实习<br>[实习时间] 共2 周<br>2019年4月15日-2019年4月19日，2019年6月2、16、22、23、29日<br>[所用机时] 20学时<br>[实习地点] 理学院机房<br>[实习项目和内容]<br>&emsp;&emsp;2019年吉林省大学生数学建模省赛赛题任选一题<br>&emsp;&emsp;2019年吉林省大学生数学建模竞赛赛题A<br>&emsp;&emsp;<strong>CBA联赛争冠问题</strong><br>&emsp;&emsp;中国男子篮球职业联赛（China Basketball Association），简称（CBA联赛），是由中国篮球协会所主办的跨年度主客场制篮球联赛， 创办于1995年，中国最高等级的篮球联赛。由最初的12支代表队发展到今天的20余支代表。假设在今年CBA联赛有十四支球队进行常规赛和季后赛两个阶段进行，其中每场比赛必须有胜负，且每支球队编号固定。每支球队在每场球赛中的临场发挥水平的综合评分数据如表数据.xls文件所示，每支球队约100个历史评分数据。<br>&emsp;&emsp;请根据历史数据，分析探讨下列问题：<br>&emsp;&emsp;（1）请估算出每支球队夺冠的概率，并预测前四名的球队。<br>&emsp;&emsp;（2）根据附件综合评分的具体情况，定性分析中国CBA联赛十四支球队的水平。<br>&emsp;&emsp;（3）结合国内CBA联赛的实际情况，根据你们的研究结果，从夺冠概率的角度，针对(1)预测的前四名，提出你们关于如何最大概率夺冠的合理化建议。<br><a href="%E8%AF%95%E9%A2%98A%E6%95%B0%E6%8D%AE.xlsx">试题A数据.xlsx</a><br><strong><center>对球队临场发挥水平的分析</center></strong><br><strong><center>摘要</center></strong></p>
<p>&emsp;&emsp;本文我们通过逐差法计数得到频数视为概率，随后用全概率公式计算出各队夺冠概率排序，解决了问题一，用聚类分析，以及多个统计量来定性分析解决问题二，随后从赛制，球员等角度分析回答了问题三。<br>&emsp;&emsp;针对问题一，为了联系临场发挥的综合评分（以下简称综合评分）与夺冠概率，我们通过计算通过逐差法，Mi-Nj，得到某队X综合评分大于另一队的频数n，Pr=n/M<em>N(当M</em>N足够大时)，我们可以将Pr视为事件X队与另一球队相遇时胜出的概率并通过求平均值得Pz，将Pz进行排序，得到前八如下图：</p>
<div align="center"><img src="1.png" /></div>

<p>&emsp;&emsp;再运用全概率公式，求出各队夺冠概率如下图：</p>
<div align="center"><img src="2.png" /></div>

<p>&emsp;&emsp;针对问题二，对综合评分的多个属性如平均值，中位数，标准差用SPSS软件进行了计算，分析，并做出了各队综合评分的散点图，箱型图，多方面定性分析得到各球队的水平。<br>&emsp;&emsp;针对问题三，我们由问题（1）所求得的夺冠概率，再根据赛制，我们提出对于概率排在前四的球队的夺冠建议，球员的身体素质影响着整支球队的综合评分，我们从球员身体素质的力量和体力方面，分析CBA球员现状，并从提出外援对球队的影响。<br>关键词：正态分布 逐差法 全概率 聚类分析</p>
<p><strong>一、问题重述</strong><br>&emsp;&emsp;中国男子篮球职业联赛（China Basketball Association），简称（CBA联赛），是由中国篮球协会所主办的跨年度主客场制篮球联赛， 创办于1995年，中国最高等级的篮球联赛。由最初的12支代表队发展到今天的20余支代表。假设在今年CBA联赛有十四支球队进行常规赛和季后赛两个阶段进行，其中每场比赛必须有胜负，且每支球队编号固定。每支球队在每场球赛中的临场发挥水平的综合评分数据如表数据.xls文件所示，每支球队约100个历史评分数据。<br>&emsp;&emsp;请根据历史数据，分析探讨下列问题：<br>&emsp;&emsp;（1）请估算出每支球队夺冠的概率，并预测前四名的球队。<br>&emsp;&emsp;（2）根据附件综合评分的具体情况，定性分析中国CBA联赛十四支球队的水平。<br>&emsp;&emsp;（3）结合国内CBA联赛的实际情况，根据你们的研究结果，从夺冠概率的角度，针对(1)预测的前四名，提出你们关于如何最大概率夺冠的合理化建议。</p>
<p><strong>二、问题假设</strong><br>&emsp;&emsp;1、假设在所有比赛中，双方都是全力以赴，没有任何防水或者刻意保存实力的行为，每场比赛都反应了他们实力的真实水平<br>&emsp;&emsp;2、假设综合评分的高低决定该场比赛的胜负<br>&emsp;&emsp;3、假设常规赛比赛季后赛比赛都是系统，常规赛以排名进入季后赛</p>
<p><strong>三、符号说明</strong><br>&emsp;&emsp;Mi-某一球队第i个综合评分数据<br>&emsp;&emsp;Nj-某一球队第j个综合评分数据<br>&emsp;&emsp;n-某队所有综合评分大于另一队的频数<br>&emsp;&emsp;Pr-某队与另一队相遇时获胜的概率<br>&emsp;&emsp;M,N-任意队的样本数量<br>&emsp;&emsp;X-任意队伍,X=A,B,…,N<br>&emsp;&emsp;Pz-某队遇到其它所有队伍时胜出概率的求和并取平均（z=A,B,…,N）</p>
<p><strong>四、问题分析</strong><br>问题一：<br>&emsp;&emsp;题目要求估算出每队夺冠的概率，而所给的数据只有综合评分，我们想到若所有球队的综合评分都是符合正态分布的，并且相关性系数较低，则可判定各队的综合评分是相互独立的。以综合评分的高低来作为获胜的决定条件，这样可以通过计算各队正态分布曲线之间高出部分作为获胜的概率，经过计算，我们发现此方法得出结果误差过大，舍弃了这个方案。<br>&emsp;&emsp;随后我们想到可以通过逐差比较大小的求频数代替概率，计算各队与其他球队相遇时获胜概率大小，排序可得到季后赛的排名，通过使用全概率公式求出每支球队的夺冠概率，和前四的球队。<br>问题二：<br>&emsp;&emsp;由于所给的数据只有一项，那么就需要从综合评分的不同属性去分析，基于我们问题的假设，我们做出各队的散点图，散点图，箱型图等以定性分析各球队的水平。<br>问题三：<br>&emsp;&emsp;现实CBA的比赛的成绩是与题中不同的，而影响成绩需要考虑的因素也多的多，赛制、球员的临场发挥、教练的指导、球员的身体和心理状态、场因、战术等等，在现实里，2018~2019赛季的队伍达到了24支，队伍数量的增多意味着比赛数量的增多。我们由（1）中获得的数据从不同方面分析得出最大概率的夺冠建议。</p>
<p><strong>五、模型的建立与求解</strong><br>问题一：<br>&emsp;&emsp;我们将每个球队的每一个综合评分Mi(1&lt;=i&lt;=球队样本量)与其他球队的每个综合评分进行大小比较，并以n计算其数量，当<code>M*N</code>（M，N为任意俩队的样本量） 足够大时，由假设，我们可以以<code>n/N*M</code>作为某队遇到另一队时胜出的概率。<br>&emsp;&emsp;我们通过C语言编程计算得各队的概率<code>Pi*j</code>（代码见附录）如图所示：</p>
<div align="center"><img src="3.png" /></div>

<p>&emsp;&emsp;计算每个队遇到其它所有队伍时胜出概率的求和并取平均：<br>&emsp;&emsp;&emsp;&emsp;<code>PX=ΣPi*j/13</code>（X=A,B,…,N,1&lt;=i&lt;=14，1&lt;=j&lt;=14）<br>&emsp;&emsp;并对每个队的P进行排序，以作为季后赛的排名，排在前8以外视为无缘夺冠，概率排名如下：</p>
<div align="center"><img src="4.png" /></div>

<p>&emsp;&emsp;随后我们根据对阵图，从夺冠的概率回溯使用全概率公式，经过计算，我们最终得出各队的夺冠概率，排名如下：</p>
<div align="center"><img src="5.png" /></div>

<p>&emsp;&emsp;从表可知，N的夺冠概率最大，接近1，N、L、B、C排在夺冠概率的前四。<br>问题二：</p>
<div align="center"><img src="6.png" /></div>

<p>&emsp;&emsp;由各球队的散点图来看，几乎每支球队都有综合评分达到非常高，达到15以上的时候，和非常低，达到0下的时候，这时我们可以知道，分部在[0,10]区间里值较大区间点的多少，才是影响获胜的主要因素。</p>
<div align="center"><img src="7.png" /></div>

<p>&emsp;&emsp;由各队的箱型图来看，B,C,D,O,N队的综合评分的中位数较大，并且分布在较高数值的较多，而A，E，I，M队中位数较低，综合评分也分布在较低<br>&emsp;&emsp;通过SPSS软件求出各球队的各统计量如下：</p>
<div align="center"><img src="8.png" /></div>

<p>&emsp;&emsp;从各队的均值来看，B,C,L,N均值较高。从标准差来看，A,C,D,G,H的离散程度较高，由此看来，C队虽然综合评分的均值较高，但是过于评分离散程度较高，发挥不稳定。<br>&emsp;&emsp;综合评判可以知道由多方面的因素影响着各球队的综合评分，综上我们判定N,L,C,B,D的水平在第一阶梯，F,J,K的水平在第二阶梯，H,I,A,E,的水平在第三阶梯。<br>问题三：<br>&emsp;&emsp;对于赛制方面，在题（1）中，我们由综合评分分析计算出了进入季后赛的八名队伍，通过全概率公式预测出了前四名的球队。我们的研究结果表明，前四名队伍中N队的夺冠概率最大，与第四名的夺冠概率相差0.4490。结合国内CBA联赛的实际情况，我们知道，季后赛采用的是交叉淘汰赛，而根据我们计算的结果，夺冠概率第一的球队将与夺冠概率第四的球队比赛，这样夺冠概率第一的球队将拥有绝对优势。在此基础上，如果想要最大概率夺冠，夺冠概率在前四名的队伍，应该在常规赛中把握好自己进入季后赛的名次，尽量避开与夺冠概率高于自己的球队进行比赛。<br>&emsp;&emsp;针对身体素质来说，身体素质是衡量一个篮球运动员好坏的重要指标，世界篮球运动的发展存在三大流派分别是美州流派，欧州流派和亚州流派，而其中美州流派一直是强势流派，而CBA也一直向强势的美，欧俩个流派学习，而美州流派打法需要高大的球员、优秀的身体素质、技术和战术，而在近年来的国际比赛中，CBA除了缩短了身高差距外，其他方面并没有补足。<br>&emsp;&emsp;从力量方面来说，篮球是一项身体对抗很强的运动，而CBA的球员在力量上普遍较弱，缺少训练，我们对专项力量训练的研究太少，也缺少相关的教练，我们急需完整的理论体系去完备这方面的基础和相应的人才。<br>&emsp;&emsp;在体力方面，体力是一个球员能否维持发挥表现的重要身体素质之一，而在2018-2019赛季，CBA的队伍数量达到了24个，球队数量的增加也会导致比赛场数的增加，球员的体力对球队综合评分的影响也就更加显著，而综合评分影响着夺冠概率，在此进行一下对球员的体力简单分析。<br>&emsp;&emsp;体力是篮球运动员重要的身体素质之一，CBA总体赛事较长，是一个对运动员的机体功能有较高要求，机体内环境变化较为剧烈的耐力性项目。运动生理方面的不少研究已经表明：当机体进行剧烈运动因疲劳而导致体力不支时，对运动能力起重要作用的几种要素，如力量、动作的准确性、神经肌肉的协调性、投篮的准确度、速度、反应和灵敏等水平也随之下降。显然，体力是篮球运动员重要的身体素质，充沛的体力是充分发挥战术水平的重要保证。<br>&emsp;&emsp;从外援方面来说，NBA远比CBA的发展更为成熟，球队的经营，球员的训练，以及训练球员的模式和相应的教练等等都比CBA要好，引进球员会提高球队的整体水平，比赛的对抗性也会增强。<br>&emsp;&emsp;综合以上讨论的方面，作如下总结：<br>&emsp;&emsp;1.调整进入季后赛的排名，规避与夺冠概率高于自身的球队对抗<br>&emsp;&emsp;2.加强球员身体素质，如力量和体力的训练<br>&emsp;&emsp;3.合理引进外援</p>
<p><strong>六、模型的评价与推广</strong><br>&emsp;&emsp;由于题目给出的球队每场发挥水平的综合评分，没有相对应的求解公式，该模型是假设综合评分高的在这场比赛中胜出，有一定的局限性和不确定因素，通过逐个进行相减并计数，这样增加了很多计算量，有一定的缺陷。在所有比赛中，可能会出现违规或者刻意保存实力的行为，这将影响我们模型的准确度。<br>&emsp;&emsp;我们假设综合评分的高低决定该场比赛的胜负，这与实际情况有差别，可能会导致该模型产生误差。我们假设常规赛比赛季后赛比赛都是系统，常规赛以排名进入季后赛，在季后赛中有很多场比赛，则可能会导致该模型产生误差。<br>&emsp;&emsp;总体来讲，本文提出的模型具有很高的实用推广价值，而且算法时间空间复杂度都不高，能有效地得到各球队得冠概率，提高了区分球队水平的正确率，促使其能更好地服务于大众。</p>
<p><strong>附录一：</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line"><span class="type">double</span> a[<span class="number">100</span>]=&#123;<span class="number">7.1176</span>,<span class="number">2.2277</span>,<span class="number">1.4709</span>,<span class="number">3.2451</span>,<span class="number">-1.0167</span>,<span class="number">3.7467</span>,<span class="number">-0.8594</span>, <span class="number">5.8930</span>,<span class="number">15.1128</span>,<span class="number">3.5268</span>,<span class="number">3.1088</span>,<span class="number">2.8862</span>,<span class="number">1.3510</span>,<span class="number">2.6266</span>,<span class="number">3.1659</span> ,<span class="number">6.7114</span> ,<span class="number">3.9648</span> ,<span class="number">0.7315</span> ,<span class="number">4.1742</span> ,<span class="number">2.8870</span> ,<span class="number">4.1709</span> ,<span class="number">0.8809</span>,<span class="number">7.5232</span>,<span class="number">4.0276</span> ,<span class="number">5.3884</span>,<span class="number">3.4588</span>,<span class="number">1.6154</span>,<span class="number">8.0679</span>,<span class="number">8.1514</span>,<span class="number">0.3381</span>,<span class="number">1.7937</span>,<span class="number">3.1732</span>,<span class="number">5.5154</span>,<span class="number">1.3679</span>,<span class="number">1.5872</span>,<span class="number">1.6976</span>,<span class="number">0.6262</span>,<span class="number">3.5651</span>,<span class="number">3.0210</span> ,<span class="number">4.7958</span>,<span class="number">4.3812</span>,<span class="number">7.4927</span>,<span class="number">0.9309</span>,<span class="number">6.6398</span>,<span class="number">3.4517</span>,<span class="number">2.6526</span>,<span class="number">2.2947</span> ,<span class="number">2.9144</span>,<span class="number">6.2282</span> ,<span class="number">4.0276</span>,<span class="number">7.2034</span> ,<span class="number">4.8607</span> ,<span class="number">3.6502</span>,<span class="number">1.0257</span>,<span class="number">5.2374</span>,<span class="number">3.9957</span>,<span class="number">7.0915</span>,<span class="number">0.7314</span>,<span class="number">8.3372</span>,<span class="number">3.8094</span>,<span class="number">4.5826</span>,<span class="number">0.8312</span>,<span class="number">0.7459</span>,<span class="number">3.5113</span>,<span class="number">3.6801</span>,<span class="number">4.0060</span>,<span class="number">3.7667</span>,<span class="number">3.6638</span>,<span class="number">2.335</span>,<span class="number">2.2999</span>,<span class="number">5.0975</span>,<span class="number">1.8378</span>,<span class="number">1.5738</span> ,<span class="number">0.1933</span>,<span class="number">3.6023</span>,<span class="number">5.9281</span>,<span class="number">4.6291</span>,<span class="number">0.5034</span>,<span class="number">7.4574</span>,<span class="number">1.3621</span>,<span class="number">3.0872</span>,<span class="number">3.8822</span>,<span class="number">2.3076</span> ,<span class="number">3.7172</span>,<span class="number">4.7408</span>,<span class="number">9.4676</span>,<span class="number">2.0660</span>,<span class="number">3.2764</span>,<span class="number">2.6157</span>,<span class="number">-0.5312</span>,<span class="number">0.0257</span>,<span class="number">1.6282</span>,<span class="number">2.6138</span> ,<span class="number">-3.2993</span>,<span class="number">6.7465</span>,<span class="number">-2.9712</span>  , <span class="number">6.9816</span>,<span class="number">4.2585</span>,<span class="number">2.9851</span>,  <span class="number">0.5773</span>&#125;;</span><br><span class="line"><span class="type">double</span> b[<span class="number">98</span>]=&#123;<span class="number">7.2052</span>, <span class="number">6.6085</span>,<span class="number">12.1095</span>,<span class="number">8.1197</span> ,<span class="number">3.0699</span> ,<span class="number">7.4225</span>,<span class="number">10.2722</span> , <span class="number">3.5797</span>,<span class="number">0.8035</span>,<span class="number">9.7338</span>,<span class="number">6.1664</span>,<span class="number">1.1769</span> ,<span class="number">4.6561</span>,<span class="number">4.6649</span> ,<span class="number">7.0562</span> ,<span class="number">0.7853</span>,<span class="number">7.4803</span>,<span class="number">-1.8892</span>,<span class="number">7.3984</span>,<span class="number">9.5608</span>,<span class="number">4.5730</span>,<span class="number">2.6047</span>,<span class="number">7.5508</span>,<span class="number">7.2049</span>,<span class="number">3.8679</span> ,<span class="number">-0.6892</span>,<span class="number">3.5095</span>,<span class="number">6.5184</span>,<span class="number">0.8308</span>,<span class="number">7.1725</span> ,<span class="number">5.4116</span>  ,<span class="number">4.7091</span> ,<span class="number">4.5204</span>,<span class="number">5.1609</span>,<span class="number">6.7330</span>,<span class="number">3.4089</span>,<span class="number">2.7794</span>,<span class="number">8.3107</span>,<span class="number">8.0128</span>,<span class="number">2.5394</span>,<span class="number">7.1316</span>,<span class="number">5.8205</span> ,<span class="number">9.3855</span>,<span class="number">4.6046</span>,<span class="number">10.1265</span>,<span class="number">7.2105</span>,<span class="number">6.0897</span>,<span class="number">15.0750</span>,<span class="number">3.7790</span>,<span class="number">0.0528</span> ,<span class="number">0.5684</span> ,<span class="number">7.1280</span>,<span class="number">2.5077</span>,<span class="number">5.1540</span>,<span class="number">2.4075</span>,<span class="number">3.0523</span>,<span class="number">6.4992</span>,<span class="number">1.4561</span>,<span class="number">5.0167</span>,<span class="number">5.3964</span>,<span class="number">0.8922</span>,<span class="number">2.8153</span>,<span class="number">2.2531</span>,<span class="number">8.8240</span>,<span class="number">5.5472</span> ,<span class="number">2.9685</span>,<span class="number">5.4311</span>,<span class="number">3.3630</span>,<span class="number">3.6001</span>,<span class="number">6.1275</span>,<span class="number">6.5722</span>,<span class="number">2.5947</span>,<span class="number">1.0243</span>,<span class="number">6.0073</span>,<span class="number">5.9574</span>,<span class="number">7.0551</span>,<span class="number">7.2266</span>,<span class="number">0.2532</span>,<span class="number">0.5005</span>,<span class="number">4.7586</span>,<span class="number">3.8284</span>,<span class="number">5.643</span> ,<span class="number">11.1432</span>,<span class="number">5.1285</span>,<span class="number">-4.6920</span>,<span class="number">1.9881</span> ,<span class="number">6.1702</span>,<span class="number">2.30814</span><span class="number">.8260</span>,<span class="number">6.5808</span>,<span class="number">3.7133</span>,<span class="number">9.3313</span>,<span class="number">14.5866</span>,<span class="number">0.2396</span>,<span class="number">6.6813</span>,<span class="number">5.1407</span>,<span class="number">3.6041</span>&#125;;</span><br><span class="line">	<span class="type">int</span> i,j,n=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">100</span>;i++)&#123;</span><br><span class="line">		<span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;<span class="number">98</span>;j++)&#123;</span><br><span class="line">			<span class="keyword">if</span>(a[i]&gt;b[j])&#123;</span><br><span class="line">n++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%ld&quot;</span>,n);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>附录二：</strong></p>
<div align="center"><img src="9.png" /></div>

<p><strong>附录三：</strong></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; clear</span><br><span class="line">&gt;&gt; a=load(<span class="string">&#x27;2.txt&#x27;</span>); </span><br><span class="line">&gt;&gt; b=zscore(a);</span><br><span class="line">&gt;&gt; r=corrcoef(b);</span><br><span class="line">&gt;&gt; <span class="comment">%d=tril(1-r);</span></span><br><span class="line">&gt;&gt; syms d;</span><br><span class="line">&gt;&gt; d=nonzeros(d)&#x27;; </span><br><span class="line">&gt;&gt; d=pdist(b&#x27;,<span class="string">&#x27;correlation&#x27;</span>);</span><br><span class="line">&gt;&gt; z=linkage(d,<span class="string">&#x27;average&#x27;</span>);</span><br><span class="line">&gt;&gt; h=dendrogram(z);</span><br><span class="line">&gt;&gt; set(h,<span class="string">&#x27;Color&#x27;</span>,<span class="string">&#x27;k&#x27;</span>,<span class="string">&#x27;LineWidth&#x27;</span>,<span class="number">1.3</span>);</span><br><span class="line">&gt;&gt; T=cluster(z,<span class="string">&#x27;maxclust&#x27;</span>,<span class="number">6</span>);</span><br><span class="line">&gt;&gt; <span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">1</span>:<span class="number">6</span>;</span><br><span class="line">tm=<span class="built_in">find</span>(T==<span class="built_in">i</span>);</span><br><span class="line">tm=<span class="built_in">reshape</span>(tm,<span class="number">1</span>,<span class="built_in">length</span>(tm));</span><br><span class="line">fprintf(<span class="string">&#x27;第%d类的有%s\n&#x27;</span>,<span class="built_in">i</span>,int2str(tm));</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">第<span class="number">1</span>类的有<span class="number">7</span></span><br><span class="line">第<span class="number">2</span>类的有<span class="number">3</span>  <span class="number">6</span></span><br><span class="line">第<span class="number">3</span>类的有<span class="number">2</span>  <span class="number">9</span></span><br><span class="line">第<span class="number">4</span>类的有<span class="number">5</span>  <span class="number">8</span></span><br><span class="line">第<span class="number">5</span>类的有<span class="number">1</span>  <span class="number">13</span>  <span class="number">14</span></span><br><span class="line">第<span class="number">6</span>类的有<span class="number">4</span>  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span></span><br></pre></td></tr></table></figure>

<p><strong>附录四：</strong></p>
<div><img width=50% src ="4-1.png"/><img width=50% src ="4-2.png"/></div>
<div><img width=50% src ="4-3.png"/><img width=50% src ="4-4.png"/></div>
<div><img width=50% src ="4-5.png"/><img width=50% src ="4-6.png"/></div>
<div><img width=50% src ="4-7.png"/><img width=50% src ="4-8.png"/></div>
<div><img width=50% src ="4-9.png"/><img width=50% src ="4-10.png"/></div>
<div><img width=50% src ="4-11.png"/><img width=50% src ="4-12.png"/></div>
<div><img width=50% src ="4-13.png"/><img width=50% src ="4-14.png"/></div>

<p>[感想与收获]<br>&emsp;&emsp;在这次的数学建模中，我负责的主要是第三小题。本次的数学建模实习，收获了许多，其中不免遇到了许多困难，但是我们都一起克服过去。这次的数学建模比赛，我们选好了题目后，在第一题中就没有了思路。通过网上查询资料、询问老师，渐渐的找到了思路。总体来说，第一题的计算量很大，花费了很长时间才将第一题的前四名计算出来。通过这次的数学建模实习，知道了数学建模在学习中的重要性，知道了数学建模是把一个具体的实际问题转化为一个数学问题，然后用数学方法去解决它，之后我们再把它放回到实际当中去，用我们的模型解释现实生活中的种种现象和规律。<br>&emsp;&emsp;数学建模是一个经历观察、思考、归类、抽象与总结的过程，也是一个信息捕捉、筛选、整理的过程，更是一个思想与方法的产生与选择的过程。它给学生再现了一种“微型科研”的过程。数学建模教学有利于激发学生学习数学的兴趣，丰富学生数学探索的情感体验;有利于学生自觉检验、巩固所学的数学知识，促进知识的深化、发展;有利于学生体会和感悟数学思想方法。同时指导老师自身具备数学模型的构建意识与能力，能够指导和要求学生通过主动思维，自主构建有效的数学模型，从而使数学课堂彰显科学的魅力。<br>&emsp;&emsp;通过建模，与别人的交流，发现参加数学建模的同学大都自信，乐观，个人能力比较强，而且交流能力强，这都是数学建模所培养的，虽然建模只有短短的几天几夜，但是锻炼的能力确是其他的活动无法培养出来的，不同人的感受不一样，有文章说培养了创新能力，运用知识能力和计算机能力等，但是我觉得这些是远远不够得，只有亲身经历，才会体会到数学建模的无穷魅力。<br>&emsp;&emsp;通过这次的数学建模实习，知道了数学建模的几点要求：一个是问题一定源于学生的日常生活和现实当中，了解和经历解决实际问题的过程，并且根据学生已有的经验发现要提出的问题。同时，希望同学们在这一过程中感受数学的实用价值和获得良好的情感体验。当然也希望同学们在这样的过程当中，学会通过实际上数学探究本身应该说在平时教学当中，老师有些在课堂上也是这样教学的，它更重要的意义就是引导老师增加一种教学方式，首先就是这个问题就是有点儿全新性，解决的方案不是很明了，这样学生要有一个尝试，一个探索的过程并能通过查询资料等手段来获取信息，之后采取各种合作的方式解决问题，养成与人交流的能力。<br>&emsp;&emsp;数学建模培养的不仅仅是学生解决问题的能力，更是对问题的思考能力。这次的数学建模，让我了解了很多数学方法，包括但不限于全概率公式、定性分析、逐差法、聚类分析等。有的数学知识是在所学课程中没有讲到的，这就需要我们在网上查询资料自学，有时可能会感到很累，但是坚持到最后就是胜利。数学建模是一种创新过程，在思考方法和思维方式上与其他课程有着较大区别，它需要我们在学习时能冷静地单独思考，并且要有一定的问题分析能力。<br>&emsp;&emsp;我相信随着科技的不断创新发展，数学建模在其中的地位会越来越高，作为一个大学生，学好数学建模是非常重要的。<br>[参考文献]<br>[1] 张然.赛前准备与临场发挥[J] .中国排球, 1999, (1).<br>[2] 徐春林.赛场上的变化[J] .中国排球, 1994, (12).<br>[3] 马红宇.我国射击运动员面临的出国参赛环境及其应对措施[J] .<br>中国体育科技, 2002, (1).<br>[4] 黄汉平.优秀男子排球队比赛得失分规律的研究[J] .中国体育科<br>技, 1994, (3).<br>[5]阮奎.论影响排球运动员临场发挥的场因及其克服[J].体育科技文献通报,2008(06):35-37<br>[6]王溪源,宋鹏威,司亚晨,裴宗斌.论羽毛球运动员临场发挥的心理因素[J].青少年体育,2017(06):123-124.<br>[7]张振东，蒋健涛，王敏娜.基于逐步回归分析的2011-2012年CBA常规赛前八强得分能力研究［J］ .河南师范大学学 报（自然科学版），2013，41（2）：169-172.<br>[8]黄松峰，林媛. 第30届奥运会中国男篮低得分的归因分析［J］ . 福建师范大学学报（自然科学版），2016，32（4）： 118-124.<br>[9]张飙.2014-2015赛季CBA总决赛冠亚军队RSR综合评价分析［J］ .武汉体育学院学报，2015，49（11）：82-87.<br>[10]张森.对联赛和联赛替补球员的研究［D］ .郑州：河南大学，2009.<br>[11]CBA官网<br>[12]聚类分析：<br><a href="https://baijiahao.baidu.com/s?id=1627240444851676548&amp;wfr=spider&amp;for=pc">https://baijiahao.baidu.com/s?id=1627240444851676548&amp;wfr=spider&amp;for=pc</a><br>[13]CBA球队数据：<br> <a href="http://cbadata.sports.sohu.com/ranking/teams/2018/0/1">http://cbadata.sports.sohu.com/ranking/teams/2018/0/1</a><br>[14]彭延春.高水平职业篮球运动员力量训练理论及CBA力量训练模式的研究[D].北京体育大学,2007.<br>[15]马春林.CBA联赛引援变迁与中国竞技篮球运动发展的瓶颈[J].北京体育大学学报,2012,35(01):26-31.</p>
]]></content>
      <tags>
        <tag>大学</tag>
      </tags>
  </entry>
  <entry>
    <title>网络程序设计实习</title>
    <url>/2019/07/12/%E7%BD%91%E7%BB%9C%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%AE%9E%E4%B9%A0%E6%8A%A5%E5%91%8A/</url>
    <content><![CDATA[<p>java实习：机票销售系统<br>[实习名称]  网络程序设计实习<br>[实习地点]  理学院机房<br>[实习时间]  第18周<br>[系统环境]  Win10、JDK、Eclipse、记事本<br>[所用学时]  20学时<br>[实习目的]<br>&emsp;&emsp;网络程序设计实习是信息与计算科学专业学生学习完《网络程序设计》课程后，进行的一次全面的综合训练，网络程序设计实习的目的是加深对理论教学内容的理解和掌握，进一步熟悉Java开发环境，熟悉用Java完成一个应用程序的设计过程，掌握有关编辑、调试和整合程序的方法和技巧。通过此设计，了解Java语言的特点；熟悉Java程序的编写；体会Java语言在问题求解中的特点。使学生较系统地掌握程序设计及其在网络开发中的广泛应用、基本方法及技巧，为学生综合运用所学知识，利用软件工程为基础进行软件开发、并在实践应用方面打下一定基础。</p>
<hr>
<p>一、设计题目<br>机票销售系统</p>
<hr>
<p>二、设计要求<br>机票销售系统主要包括查询、订票、退票、管理用户、管理航班、管理城市、订票记录、重置系统等功能，各个功能的具体描述如下：<br>1）查询<br>可以查询某个航线的情况（如：输入航班号，查询起降时间、起飞抵达城市、航班票价、票价折扣、确定航班是否满仓）<br>2）订票<br>订票情况可以存在一个数据文件中，结构自己设定，可以定票，如果该航班已经无票，可以提供相关可选择航班<br>3）退票<br>可退票，退票后修改航班数据文件<br>4）管理用户<br>修改系统管理用户，该项功能包括删除账户、注销账户、解除注销<br>5）管理航班<br>录入航班：可以录入航班情况（数据存储在一个数据文件中，数据结构和具体数据自定）<br>删除航班<br>6）管理城市<br>添加和删除城市，信息记录在数据库文件city.txt当中<br>7)订票记录<br>显示订票记录<br>8)重置系统<br>将航班信息和录入的城市等信息清空，但不清空账户信息</p>
<hr>
<p>三、设计分析（包括需求分析）<br>1、设计分析<br>随着我国市场经济的快速发展和信息化水平的不断提高，如何利用先进的管理手段，提高机票销售系统的水平，是当今社会所面临的一个课题。提高企业的管理水平，必须全方位地提高企业的管理意识。只有高标准、高质量的管理才能满足航空公司的发展需求。面对信息时代的挑战，利用高科技手段来提高航空公司售票管理系统无疑是一条行之有效的途径。在某种意义上，信息与科技在企业管理与现代化建设中显现出越来越重要的地位。航空公司售票管理系统方面的信息化与科学化，已成为现代化生活水平步入高台阶的重要标志。<br>利用计算机实现航空信息管理势在必行。对于航空公司来说，利用计算机支持管理部门高效率完成航空信息管理的日常事务，是适应现代航空公司制度要求、推动航空公司由劳动型管理走向科学化、规范化的必要条件；而航空信息管理是一项琐碎、复杂而又必须十分细致准确的工作，航线信息的管理,客户信息的管理,票务信息的管理,绝对不允许出错，如果实行手工操作,需手工填制大量的表格,这就会耗费工作人员大量的时间和精力，而且安全度也不理想,利用计算机进行航空公司信息工作的管理，不仅能够保证各项信息准确无误、快速输出，同时计算机具有手工管理所无法比拟的优点，例如：检索迅速、查找方便、可靠性高、存储量大、保密性好、寿命长、成本低等。这些优点能够极大地提高航空信息管理的效率,也是企业的科学化、正规化管理,与世界接轨的重要条件。<br>（1）经济可行性分析<br>本系统开发简单但要耗去一定的时间，所用的开发工具和软件都差不多是免费的。而且，由于系统能够在未来较长的一段时期内稳定地发挥作用，这对于航空公司自动化管理，节省公司的人力、物力资源等都有很大的帮助。由此可见，开发此系统在经济上是完全可行的。<br>（2）技术可行性分析<br>从目前IT业界比较流行的数据库开发、管理软件来看，对于航空管理这一类对数据要求比较严格的企业，Eclipse和记事本的结合无疑是在实际应用中较为成功的一种解决方案，并且省去了连接ACCESS数据库的种种问题。为用户提供了软件开发一直坚持的非常友好、操作简单的用户界面、完善强大的数据库操作功能和简洁明了的数据库接口。所以技术实行起来相对会容易。<br>2、需求分析<br>（1）系统需求<br>机票销售系统是可基于任何操作系统上，通过对目前大量出现在网络上的航空订票系统的分析和总结，然后根据航空运作特点，研究一套适合于广大乘客需要、企业认可的航空订票系统。要求系统有简单易懂的视图操作界面，大力提高系统的交互性和可操作性，尽可能减少使用人员的不便，让他们更简单、更快捷、更方便的进行操作。另外，要求系统具有较强的稳定性、可维护性、可移植性、扩充性。同时，实现控制各种用户系统权限，从而保证系统安全性。通过对已有的航空订票系统的研究，结合这些系统存在的优缺点而设计本系统。<br>（2）功能需求<br>1.机票销售系统，因为涉及到查询，所以考虑利用图结构进行存储。每一个城市作为图中的一个节点，利用邻接矩阵结构进行表示图结构，两节点之间用定义的航班信息结构体进行表示。如果为NULL 则表示没有两城市之间没有航线。然后输入两城市名称后，可以利用改写后的迪克斯特拉或者弗洛伊德算法进行查询。<br>2.然后作为订票系统，则应该可以预定三十日以内的飞机票。所以我们建立三个文件夹：flight_record、month_flight_information、booking_record</p>
<ul>
<li>flight_record 用来存储城市间的航班信息；</li>
<li>month_flight_information 用来存储三十日内每天的航班信息（每日打开软件会根据flight_record文件夹中的信息进行自动更新）；</li>
<li>booking_record用来存放订票记录</li>
</ul>
<p>3.为方便管理使用，该系统一个登陆界面根据登陆人群不同分为两个使用界面，分别是用户界面和管理界面。用户在注册的时候，系统会先进行身份证号是否合法验证和查重，如果已经存在则让其联系管理员。</p>
<hr>
<p>四、数据库文件和关系表的结构设计<br>1、用户表<br>用户表用于存储用户的户名、证件号、密码、状态信息，当用户注册成功后这些信息会自动记录在数据库中，以便用户查询。</p>
<hr>
<p><strong>表1 用户表</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">字段名    数值类型    说明</span><br><span class="line">username  String   用户姓名</span><br><span class="line">userName  String   身份证号</span><br><span class="line">password  String   密码</span><br><span class="line">userDate  String   状态</span><br></pre></td></tr></table></figure>
<p>2、航班表<br>航班表用于存储航班号、价格、座位数、折扣、起飞时间、到达时间、起飞城市、抵达城市信息</p>
<hr>
<p><strong>表2 航班表</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">字段名       数值类型    说明</span><br><span class="line">hangBanHao   String   航班号</span><br><span class="line">jiaGe        String   价格</span><br><span class="line">zuoWeiNumber String   座位数</span><br><span class="line">zheKou       String   折扣</span><br><span class="line">qiFeiTime    String   起飞时间</span><br><span class="line">landTime     String   到达时间</span><br><span class="line">qiFeiCity    String   起飞城市</span><br><span class="line">landCity     String   抵达城市</span><br></pre></td></tr></table></figure>
<p>3、客户订票记录表<br>客户订票记录表用于存储姓名、证件号、航班、出发日期、订单编号、状态</p>
<hr>
<p><strong>表3 客户订票记录表</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">字段名       数值类型    说明</span><br><span class="line">username     String   姓名</span><br><span class="line">userName     String   证件号</span><br><span class="line">hangBanHao   String   航班</span><br><span class="line">qiFeiTime    String   出发日期</span><br><span class="line">tableDingDan String   订单编号</span><br><span class="line">DingDanState String   状态</span><br></pre></td></tr></table></figure>
<p>4、城市表</p>
<hr>
<p><strong>表4 城市表</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">字段名    数值类型    说明</span><br><span class="line">city      String   城市</span><br></pre></td></tr></table></figure>
<hr>
<p>五、数据库实现<br>1、用户信息数据库<br><img src="%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF%E6%95%B0%E6%8D%AE%E5%BA%93.png"><br><strong>图5-1 用户信息数据库</strong></p>
<hr>
<p>部分代码：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>((checkID(ak1)||adName.equals(<span class="string">&quot;admin&quot;</span>))&amp;&amp;!ak1.equals(<span class="string">&quot;&quot;</span>)&amp;&amp;!ak2.equals(<span class="string">&quot;&quot;</span>))&#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">fileName</span> <span class="operator">=</span> <span class="string">&quot;users.dat&quot;</span>;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    <span class="type">String</span> <span class="variable">ak2MD5</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">                    ak2MD5= MD5password.MD5(ak2);</span><br><span class="line">                    <span class="type">FileWriter</span> <span class="variable">writer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileWriter</span>(fileName,<span class="literal">true</span>);</span><br><span class="line">                    BufferedWriter outWriter=<span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(writer);</span><br><span class="line">                    outWriter.write(adName+<span class="string">&quot;&amp;&amp;&quot;</span>+ak1+<span class="string">&quot;&amp;&amp;&quot;</span>+ak2MD5+<span class="string">&quot;&amp;&amp;1&quot;</span>);          <span class="comment">//用户姓名、身份证号、密码、账户状态 （1为正常，0为注销）</span></span><br><span class="line">                    outWriter.newLine();</span><br><span class="line">                    outWriter.close();</span><br><span class="line">                    writer.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e1) &#123;</span><br><span class="line">                    e1.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>2、航班信息数据库<br><img src="%E8%88%AA%E7%8F%AD%E4%BF%A1%E6%81%AF%E6%95%B0%E6%8D%AE%E5%BA%93.png"><br><strong>图5-2 航班信息数据库</strong></p>
<hr>
<p>部分代码：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">                <span class="type">String</span> <span class="variable">strzhekou</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">				<span class="type">String</span> <span class="variable">strqifei</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">				<span class="type">String</span> <span class="variable">strdaoda</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">				strzhekou = strzhekou + zheKouList.getSelectedValue().toString();</span><br><span class="line">				strqifei = strqifei + qiH.getSelectedValue().toString() + <span class="string">&quot;:&quot;</span> + qiM.getSelectedValue().toString() + <span class="string">&quot;:&quot;</span></span><br><span class="line">						+ qiS.getSelectedValue().toString();</span><br><span class="line">				strdaoda = strdaoda + daH.getSelectedValue().toString() + <span class="string">&quot;:&quot;</span> + daM.getSelectedValue().toString() + <span class="string">&quot;:&quot;</span></span><br><span class="line">						+ daM.getSelectedValue().toString();</span><br><span class="line">				<span class="keyword">if</span> (!hangBanHao.getText().equals(<span class="string">&quot;&quot;</span>) &amp;&amp; !jiaGe.getText().equals(<span class="string">&quot;&quot;</span>)</span><br><span class="line">						&amp;&amp; !zuoWeiNumber.getText().equals(<span class="string">&quot;&quot;</span>) &amp;&amp; !strzhekou.equals(<span class="string">&quot;&quot;</span>) &amp;&amp; !strqifei.equals(<span class="string">&quot;&quot;</span>)</span><br><span class="line">						&amp;&amp; !strdaoda.equals(<span class="string">&quot;&quot;</span>) &amp;&amp; !boxChuFa.getSelectedItem().toString().equals(<span class="string">&quot;&quot;</span>)</span><br><span class="line">						&amp;&amp; !boxDaoDa.getSelectedItem().toString().equals(<span class="string">&quot;&quot;</span>)) &#123;</span><br><span class="line">					<span class="type">String</span> <span class="variable">recordTxt</span> <span class="operator">=</span> hangBanHao.getText() + <span class="string">&quot;-&quot;</span> + jiaGe.getText() + <span class="string">&quot;-&quot;</span> + zuoWeiNumber.getText() + <span class="string">&quot;-&quot;</span></span><br><span class="line">							+ strzhekou + <span class="string">&quot;-&quot;</span> + strqifei + <span class="string">&quot;-&quot;</span> + strdaoda + <span class="string">&quot;-&quot;</span> + boxChuFa.getSelectedItem().toString()</span><br><span class="line">							+ <span class="string">&quot;-&quot;</span> + boxDaoDa.getSelectedItem().toString() + <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">					FileIOImp.write(<span class="string">&quot;./flight_information/&quot;</span>, recordTxt, <span class="literal">true</span>, <span class="string">&quot;flight_record.txt&quot;</span>);</span><br><span class="line">					<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">30</span>; i++) &#123;</span><br><span class="line">						FileIOImp.write(<span class="string">&quot;./month_flight_information/&quot;</span>, recordTxt, <span class="literal">true</span>, Tool.getAftertime(i) + <span class="string">&quot;.txt&quot;</span>);</span><br><span class="line">					&#125;</span><br><span class="line">					JOptionPane.showMessageDialog(<span class="literal">null</span>, <span class="string">&quot;录入成功！&quot;</span>);</span><br><span class="line">				&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">					JOptionPane.showMessageDialog(<span class="literal">null</span>, <span class="string">&quot;录入信息不正确，\n请确认无遗漏信息后进行录入！&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>3、城市信息数据库（部分截图）<br><img src="%E5%9F%8E%E5%B8%82%E4%BF%A1%E6%81%AF%E6%95%B0%E6%8D%AE%E5%BA%93.png"></p>
<hr>
<p>部分代码：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">addCitys</span><span class="params">(String citynames)</span> &#123;</span><br><span class="line"></span><br><span class="line">		<span class="type">String</span> <span class="variable">lineString</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">		<span class="type">int</span> <span class="variable">judgeh</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">		String[] citysArray = <span class="keyword">new</span> <span class="title class_">String</span>[<span class="number">1</span>];</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			<span class="comment">// 测试语句System.out.println(&quot;文件名&quot;+filename);</span></span><br><span class="line">			<span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;./city/citys.txt&quot;</span>);</span><br><span class="line">			<span class="type">FileReader</span> <span class="variable">fr</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileReader</span>(file);</span><br><span class="line">			<span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(fr);</span><br><span class="line">			<span class="keyword">while</span> ((lineString = br.readLine()) != <span class="literal">null</span>) &#123;</span><br><span class="line">				citysArray = lineString.split(<span class="string">&quot;、&quot;</span>);</span><br><span class="line">				<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; citysArray.length; i++) &#123;</span><br><span class="line">					<span class="keyword">if</span> (citynames.equals(citysArray[i])) &#123;</span><br><span class="line">						judgeh = <span class="number">1</span>;</span><br><span class="line">						<span class="keyword">break</span>;</span><br><span class="line">					&#125;</span><br><span class="line"></span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			fr.close();</span><br><span class="line">			br.close();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (judgeh == <span class="number">1</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			FileIOImp.write(<span class="string">&quot;./city/&quot;</span>, <span class="string">&quot;、&quot;</span> + citynames, <span class="literal">true</span>, <span class="string">&quot;citys.txt&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<hr>
<p>六、系统总体设计<br>本系统包含两个子系统，其中用户所使用的是用户系统，而管理员所使用的是管理系统，管理员具有添加数据和删除数据的权限。每个子系统包括了若干子功能模块，每个子功能模块完成相应的处理操作功能。其中管理员的权限是最大的。基本设计流程如图6-1所示：<br><img src="6-1.png"><br><strong>图6-1</strong></p>
<hr>
<p>由图可知，当系统启动后，用户需要通过验证进入自己相应的系统。系统根据用户名和密码判断用户所要进入的系统，当是管理员用户登录时会进入管理员界面功能模块，否则进入用户界面功能模块。成功登录后，用户可以完成权限限制内的操作，即当前可以操作的功能模块。用户操作时，系统自动判断用户所想要调用的功能子模块，并提交给用户，在用户完成操作后可以退出系统。<br>1、用户界面<br>用户界面提供机票销售最基本的功能，即查询、订票、退票和我的订票记录功<br>能。<br>2、管理界面<br>提供较为完善的管理功能，同时也包括用户界面的功能，在用户界面具有的<br>功能前提下加入了以下功能：<br>1）管理用户：修改和删除用户表中的数据，包括删除、注销和解除注销用户<br>2）管理航班：对航班信息进行修改，包括导入航班、修改和删除航班<br>3）订票记录：查询所有用户的订票记录<br>4）管理城市：增加和删除城市表里的城市<br>5）重置系统：对航班信息进行重置，即清空数据</p>
<hr>
<p>七、系统详细设计与实现<br>1、登录注册模块<br>(1) 登录功能<br>用户进入系统登录界面，输入身份证号、密码，点击登录按钮实现登录系统的功能。用户输入身份证号，密码，然后后台接收数据后，进行验证。登录成功后，进入其相应的页面<br><img src="1-1.png"><br><strong>图1-1 用户登录界面</strong></p>
<hr>
<p>(2) 注册功能<br>用户进入系统注册界面，输入姓名、身份证号、登录密码，点击注册按钮实现注册用户的功能。后台判断身份证号、密码、姓名输入是否正确，正确即注册成功，返回姓名，身份证号和登录密码，如图1-3所示，否则即注册失败。<br><img src="1-2.png"><br><strong>图1-2 用户注册界面</strong></p>
<hr>
<p><img src="1-3.png"><br><strong>图1-3 注册成功界面</strong></p>
<hr>
<p>2、用户界面模块<br>(1)查询功能<br>查询航班功能，右侧提示相应的航班信息，如果没有相应航班，则提示无直达航班，图2-1<br><img src="2-1.png"><br><strong>图2-1 查询界面</strong></p>
<hr>
<p>(2)订票功能<br>选择相应的航班，点击订票，即可订票。图2-2<br><img src="2-2.png"><br><strong>图2-2 订票成功界面</strong></p>
<hr>
<p>(3)    退票功能<br>订票成功后可以退票，点击退票后，提示：退票成功，感谢您的使用！图2-3<br><img src="2-3.png"><br><strong>图2-3 退票成功界面</strong></p>
<hr>
<p>3、管理界面模块<br>用户进入系统登录界面，输入身份证号、密码，如果身份证号注册时用户名为admin时，进入的系统页面即为管理员界面<br>管理界面在用户界面的基础上增加了5个模块，如图3-1<br><img src="3-1.png"><br><strong>图3-1 管理界面</strong></p>
<hr>
<p>（1）管理用户<br>包括删除账户、注销账户、解除注销，图3-2<br><strong>图3-2 管理账户</strong><br><img src="3-2.png"></p>
<hr>
<p>（2）管理航班<br>包括导入航班、修改航班、删除航班，图3-3，图3-4<br><img src="3-3.png"><br><strong>图3-3 管理航班</strong></p>
<hr>
<p><img src="3-4.png"><br><strong>图3-4 录入航班信息</strong></p>
<hr>
<p>（3）订票记录<br>查询所有用户的订票记录，图3-5<br><img src="3-5.png"><br><strong>图3-5 客户订票记录</strong></p>
<hr>
<p>（4）管理城市<br>增加和删除城市。图3-6<br><img src="3-6.png"><br><strong>图3-6 添加和删除城市</strong></p>
<hr>
<p>（5）重置系统<br>对航班信息进行重置，清空数据</p>
<hr>
<p>八、结论<br>&emsp;&emsp;机票销售系统，顾名思义，就是一个卖机票的系统。当我们选完实习题目，我们的压力挺大。要做一个完整的系统，以现阶段所学的全部java知识，我认为我们很难做出来一个完整的系统，由于课时有限，很多的知识都没有学到。当我们选了这个系统，就意味着我们要做出来这个系统，所以，我们不得不求助于巨大的网络资源。在网上查询各种相关机票系统的报告，里面都是一些部分代码，并没有完整的系统代码。经过我们的多番努力，终于找到了一个完整系统代码，通过我们的删减和改造，出现了我们实习报告中的系统。<br>&emsp;&emsp;经过这次实习，我从中学到了很多课本没有的东西，制作一个系统的工作量很大，里面的代码很多，自己深有体会。在写代码的过程中，会遇到各种各样的报错，调错需要有一定的耐心，不然这个错误根本调试不出来。<br>&emsp;&emsp;总之，这段时间，我看到了自己本身存在着许多问题，也会遇到这样那样的问题，之前老师教过的知识，在实际操作中却没有想起来，深刻体现了自己在学习和复习中的懒惰。讲完的知识，当时听明白了，但是课后不去复习，等到自己上手实践时仍然不会。每个知识都需要自己的巩固和练习，不然学过就像没学一样。当前的时代日趋复杂，不掌握一定的知识储备和实战经验是难以在实际工作中应付自如的。<br>&emsp;&emsp;学无止境，虽然现阶段的java知识虽不足以支撑我们完成一个系统项目，但是我们可以通过课外学习，加深自己的知识储备，我将坚持不懈地努力学习软件技术知识，并用于指导实践。对现软件行业来说，技术变化较快，在这方面我要加强自我学习。光说不做，不行。在以后的学习知识，通过多看、多学、多练来不断的提高自己的技能。这样才能不断的丰富自己，让自己不提前被这个竞争激烈的社会所淘汰。不断锻炼自己的胆识和毅力，提高自己解决实际问题的能力及沟通能力，积极、热情、细致地的对待每一件事。我相信，在我的知识不断储备以及完善之下，自己将来一定会做出自己喜欢和有用户需求的系统。<br>&emsp;&emsp;总结这段时间的实习生活，使我受益匪浅，受益一生，这将为我选择软件事业而自豪，选择软件事业而骄傲，更加坚定了我成为软件人的决心和信心，我有能力和毅力来走这条路。</p>
<hr>
<p><strong>参考原作系统网址：</strong><br><a href="https://blog.csdn.net/vcx08/article/details/76336111">https://blog.csdn.net/vcx08/article/details/76336111</a><br>对原作表示衷心的感谢，谢谢分享！</p>
<hr>
<p><strong>分享修改后的机票销售系统</strong></p>
<p><a href="Air ticket sales system.zip">Air ticket sales system</a></p>
]]></content>
      <tags>
        <tag>大学</tag>
      </tags>
  </entry>
  <entry>
    <title>yilia主题常见问题及解决办法下</title>
    <url>/2019/06/28/yilia%E4%B8%BB%E9%A2%98%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95%E4%B8%8B/</url>
    <content><![CDATA[<p>这个主题我很喜欢，因为开发者不维护了，用着时间长了，发现了很多bug<br>记得前段时间写了一个<a href="https://akbcd.github.io/2019/06/27/yilia%E4%B8%BB%E9%A2%98%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/">yilia主题常见问题及解决办法</a>，内容有点长<br>最近又发现了几个问题，这次再来写一个<strong>yilia主题常见问题及解决办法下</strong></p>
<span id="more"></span>
<h2 id="1-微信分享二维码失效"><a href="#1-微信分享二维码失效" class="headerlink" title="1.微信分享二维码失效"></a>1.微信分享二维码失效</h2><p>微信分享二维码不显示，是百度生成二维码失效导致，换一个在线生成网址二维码的API接口即可</p>
<h3 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h3><ul>
<li>定位文件<code>themes\yilia\layout\_partial\post\share.ejs</code>，修改微信分享img标签</li>
<li>将<code>//pan.baidu.com/share/qrcode?url=</code>改为<code>//qr.liantu.com/api.php?text=</code>即可（如果依然不显示，修改为<code>http://qr.liantu.com/api.php?text=</code>再试）</li>
</ul>
<p>这里分享一个文章：<a href="https://blog.csdn.net/wang1006008051/article/details/79753051">在线生成网址二维码的API接口</a><br>根据自己的需求更改在线生成网址二维码的API接口</p>
<h2 id="2-浏览器控制台出现GET-https-litten-me-9005-badj错误提示问题"><a href="#2-浏览器控制台出现GET-https-litten-me-9005-badj错误提示问题" class="headerlink" title="2.浏览器控制台出现GET https://litten.me:9005/badj错误提示问题"></a>2.浏览器控制台出现<code>GET https://litten.me:9005/badj</code>错误提示问题</h2><p>关于访问litten.me:9005的问题，这个主题的作者之前为了更好地完善这个主题，有时候会收集用户的客户端信息，详情请见<a href="https://github.com/litten/hexo-theme-yilia/issues/528">https://github.com/litten/hexo-theme-yilia/issues/528</a>，不过这个请求是异步的，不会影响博客加载速度，而且作者已经不维护了，所以关不关都行。<br>如果不想被统计（或不想让控制台报错），看解决办法</p>
<h3 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h3><ul>
<li>定位文件<code>themes\yilia\source\main.0cf68a.js</code></li>
<li>在文件中查找<code>//litten.me:9005/badjs/</code></li>
<li>将这段代码所在的函数删除</li>
</ul>
<p>我删除的内容（就是将<code>192:</code>到<code>193</code>之间的内容全部删除）</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">192</span>: <span class="keyword">function</span>(<span class="params">e, t, n</span>) &#123;</span><br><span class="line">        <span class="string">&quot;use strict&quot;</span>;</span><br><span class="line">        <span class="keyword">function</span> <span class="title function_">o</span>(<span class="params">e</span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> t = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&quot;(^|&amp;)&quot;</span> + e + <span class="string">&quot;=([^&amp;]*)(&amp;|$)&quot;</span>,<span class="string">&quot;i&quot;</span>)</span><br><span class="line">              , n = <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">search</span>.<span class="title function_">substr</span>(<span class="number">1</span>).<span class="title function_">match</span>(t);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span> != n ? <span class="built_in">unescape</span>(n[<span class="number">2</span>]) : <span class="literal">null</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> r = <span class="title function_">n</span>(<span class="number">388</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="title function_">n</span>(<span class="number">197</span>),</span><br><span class="line">        <span class="variable language_">window</span>.<span class="property">BJ_REPORT</span>) &#123;</span><br><span class="line">            <span class="variable constant_">BJ_REPORT</span>.<span class="title function_">init</span>(&#123;</span><br><span class="line">                <span class="attr">id</span>: <span class="number">1</span></span><br><span class="line">            &#125;),</span><br><span class="line">            <span class="variable constant_">BJ_REPORT</span>.<span class="title function_">init</span>(&#123;</span><br><span class="line">                <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">                <span class="attr">uin</span>: <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">origin</span>,</span><br><span class="line">                <span class="attr">combo</span>: <span class="number">0</span>,</span><br><span class="line">                <span class="attr">delay</span>: <span class="number">1e3</span>,</span><br><span class="line">                <span class="attr">url</span>: <span class="string">&quot;//litten.me:9005/badjs/&quot;</span>,</span><br><span class="line">                <span class="attr">ignore</span>: [<span class="regexp">/Script error/i</span>],</span><br><span class="line">                <span class="attr">random</span>: <span class="number">1</span>,</span><br><span class="line">                <span class="attr">repeat</span>: <span class="number">5e5</span>,</span><br><span class="line">                <span class="attr">onReport</span>: <span class="keyword">function</span>(<span class="params">e, t</span>) &#123;&#125;,</span><br><span class="line">                <span class="attr">ext</span>: &#123;&#125;</span><br><span class="line">            &#125;);</span><br><span class="line">            <span class="keyword">var</span> i = <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">host</span></span><br><span class="line">              , a = top === <span class="variable language_">window</span></span><br><span class="line">              , u = !(<span class="regexp">/localhost/i</span>.<span class="title function_">test</span>(i) || <span class="regexp">/127.0.0.1/i</span>.<span class="title function_">test</span>(i) || <span class="regexp">/0.0.0.0/i</span>.<span class="title function_">test</span>(i));</span><br><span class="line">            a &amp;&amp; u &amp;&amp; <span class="variable constant_">BJ_REPORT</span>.<span class="title function_">report</span>(<span class="string">&quot;yilia-&quot;</span> + <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">host</span>);</span><br><span class="line">            <span class="keyword">var</span> l = <span class="title function_">o</span>(<span class="string">&quot;f&quot;</span>)</span><br><span class="line">              , c = <span class="string">&quot;yilia-from&quot;</span>;</span><br><span class="line">            l ? (a &amp;&amp; <span class="variable constant_">BJ_REPORT</span>.<span class="title function_">report</span>(<span class="string">&quot;from-&quot;</span> + l),</span><br><span class="line">            r.<span class="title function_">set</span>(c, l)) : <span class="variable language_">document</span>.<span class="property">referrer</span>.<span class="title function_">indexOf</span>(<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">host</span>) &gt;= <span class="number">0</span> ? (l = r.<span class="title function_">get</span>(c),</span><br><span class="line">            l &amp;&amp; a &amp;&amp; <span class="variable constant_">BJ_REPORT</span>.<span class="title function_">report</span>(<span class="string">&quot;from-&quot;</span> + l)) : r.<span class="title function_">remove</span>(c)</span><br><span class="line">        &#125;</span><br><span class="line">        e.<span class="property">exports</span> = &#123;</span><br><span class="line">            <span class="attr">init</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>
<ul>
<li>删除函数的调用</li>
<li>依然是这个文件搜索<code>192</code>，会看到<code>n(386),n(192);</code>，将<code>n(192);</code>删除，<code>n(386),</code>改为<code>n(386);</code></li>
</ul>
<p>到此，问题解决</p>
<h2 id="3-yilia主题移动端目录问题"><a href="#3-yilia主题移动端目录问题" class="headerlink" title="3.yilia主题移动端目录问题"></a>3.yilia主题移动端目录问题</h2><p>如果目录文字过长，你会发现如下问题<br><img src="https://tva1.sinaimg.cn/large/007X8olVly1g8asg89qimj30ci0k9dl9.jpg"><br>目录左侧溢出，如果想解决，参看以下解决办法</p>
<h3 id="解决办法-1"><a href="#解决办法-1" class="headerlink" title="解决办法"></a>解决办法</h3><ul>
<li>修改移动端css</li>
<li>定位文件<code>themes\yilia\source\main.0cf68a.css</code>，查找<code>@media screen and (max-width: 800px)</code>，在下面添加以下内容</li>
</ul>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.toc-container</span><span class="selector-class">.tooltip-left</span> <span class="selector-class">.tooltip-east</span> <span class="selector-class">.tooltip-content</span> <span class="selector-class">.toc-article</span>&#123;</span><br><span class="line">    <span class="attribute">max-height</span>: <span class="number">350px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: smaller</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.toc-container</span><span class="selector-class">.tooltip-left</span> <span class="selector-class">.tooltip-east</span> <span class="selector-class">.tooltip-content</span> <span class="selector-class">.toc-article</span> <span class="selector-class">.toc</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">250px</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.toc-container</span><span class="selector-class">.tooltip-left</span> <span class="selector-class">.tooltip-east</span> <span class="selector-class">.tooltip-content</span> <span class="selector-class">.toc-article</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">    <span class="attribute">white-space</span>: normal</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>第一个样式是修改目录高度以及文字大小</li>
<li>第二个样式是修改目录宽度</li>
<li>第三个样式修改目录文字是否换行（pc端页面，标题文字设置的不换行，所以出现了目录左侧溢出）</li>
</ul>
<p>修改完效果如下：<br><img src="https://tva1.sinaimg.cn/large/007X8olVly1g8l6bgvggyj30dx0n042t.jpg"></p>
<h2 id="4-yilia主题控制台两个警告提示"><a href="#4-yilia主题控制台两个警告提示" class="headerlink" title="4.yilia主题控制台两个警告提示"></a>4.yilia主题控制台两个警告提示</h2><h3 id="不匹配的结束标记。"><a href="#不匹配的结束标记。" class="headerlink" title="不匹配的结束标记。"></a>不匹配的结束标记。</h3><p>通过控制台，可以发现问题提示在p标签</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">q-show</span>=<span class="string">&quot;jsonFail&quot;</span> <span class="attr">style</span>=<span class="string">&quot;padding: 20px; font-size: 12px;&quot;</span>&gt;</span></span><br><span class="line">            缺失模块。<span class="tag">&lt;<span class="name">br</span>/&gt;</span>1、请确保node版本大于6.2<span class="tag">&lt;<span class="name">br</span>/&gt;</span>2、在博客根目录（注意不是yilia根目录）执行以下命令：<span class="tag">&lt;<span class="name">br</span>/&gt;</span> npm i hexo-generator-json-content --save<span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">            3、在根目录_config.yml里添加配置：</span><br><span class="line"><span class="tag">&lt;<span class="name">pre</span> <span class="attr">style</span>=<span class="string">&quot;font-size: 12px;&quot;</span> <span class="attr">q-show</span>=<span class="string">&quot;jsonFail&quot;</span>&gt;</span></span><br><span class="line">  jsonContent:</span><br><span class="line">    meta: false</span><br><span class="line">    pages: false</span><br><span class="line">    posts:</span><br><span class="line">      title: true</span><br><span class="line">      date: true</span><br><span class="line">      path: true</span><br><span class="line">      text: false</span><br><span class="line">      raw: false</span><br><span class="line">      content: false</span><br><span class="line">      slug: false</span><br><span class="line">      updated: false</span><br><span class="line">      comments: false</span><br><span class="line">      link: false</span><br><span class="line">      permalink: false</span><br><span class="line">      excerpt: false</span><br><span class="line">      categories: false</span><br><span class="line">      tags: true</span><br><span class="line"><span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="解决办法-2"><a href="#解决办法-2" class="headerlink" title="解决办法"></a>解决办法</h4><p>p标签不能嵌套pre标签（通过控制台查看元素可以发现p标签和pre标签是并列出现的，浏览器将外层的p标签变成了两个p标签，与pre标签并列），将<code>&lt;/p&gt;</code>移至pre标签之前，取消嵌套</p>
<h3 id="注释结尾的字符不符合要求。应为-“-gt-”-字符。"><a href="#注释结尾的字符不符合要求。应为-“-gt-”-字符。" class="headerlink" title="注释结尾的字符不符合要求。应为 “--&gt;” 字符。"></a>注释结尾的字符不符合要求。应为 <code>“--&gt;”</code> 字符。</h3><p>我发现问题出现在预加载注释上<br><code>&lt;!-- element will get class pswp__preloader--active when preloader is running --&gt;</code><br><code>--</code>符号出现了问题</p>
<h4 id="解决办法-3"><a href="#解决办法-3" class="headerlink" title="解决办法"></a>解决办法</h4><p>这个就是一个简单的注释，在部分浏览器会出现提示，将<code>--</code>符号误以为注释结尾，本身没有问题<br>如果想改的话，将<code>--</code>改为<code>——</code>，控制台提示消失</p>
<h2 id="5-移动端归档页面（非主页）内容过短导致样式问题"><a href="#5-移动端归档页面（非主页）内容过短导致样式问题" class="headerlink" title="5.移动端归档页面（非主页）内容过短导致样式问题"></a>5.移动端归档页面（非主页）内容过短导致样式问题</h2><p>归档页面，随笔页面，这些页面差不多，如果最后一页内容过短，点击所有文章，背景色和背景层的高度出现问题<br>先来看看问题的图片</p>
<div><img width=49% src ="https://tva1.sinaimg.cn/large/007X8olVly1g8hosohy91j30cg0m83zu.jpg"/> <img width=49% src ="https://tva1.sinaimg.cn/large/007X8olVly1g8hoso7yjxj30cf0m60ym.jpg"/></div>

<p>最后一页内容过少，导致点击所有文章按钮，所有文章和背景层的背景色没有将页面充满，使页面的下半部分出现了白色透明背景</p>
<h3 id="解决办法-4"><a href="#解决办法-4" class="headerlink" title="解决办法"></a>解决办法</h3><p>这个问题只出现在移动端页面，我的方法是通过js解决</p>
<ul>
<li>找到控制移动端动画的js代码</li>
<li>在js代码中添加判断，网页可见区域高度是否小于屏幕分辨率的高度</li>
<li>如果小于，对id=”container”的div标签添加height属性</li>
<li>height的值为屏幕分辨率的高度，使所有文章和背景层的背景色将页面充满</li>
</ul>
<h4 id="具体实现方法"><a href="#具体实现方法" class="headerlink" title="具体实现方法"></a>具体实现方法</h4><ul>
<li>1.在主题中查找<code>document.querySelector(&quot;#container&quot;).addEventListener(&quot;scroll&quot;</code>，这段代码是在一个叫<code>function s()</code>的函数<br>我对js代码进行了解压缩，看得直接明了些</li>
<li>2.<code>function s()</code>是移动端页面才执行的函数，通过下面的判断可以看出（因为问题只出现在移动端，所以只在控制移动端js的代码中添加）</li>
<li>3.在<code>function s()</code>函数中添加判断(在<code>document.querySelector(&quot;#container&quot;).addEventListener(&quot;scroll&quot;</code>之前添加即可)</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">s</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">//开始添加</span></span><br><span class="line">    <span class="comment">//添加比较body总高度与浏览器页面可用高度</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">clientHeight</span> &lt; <span class="variable language_">window</span>.<span class="property">innerHeight</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> n = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#container&quot;</span>);</span><br><span class="line">        <span class="keyword">var</span> height = <span class="variable language_">window</span>.<span class="property">innerHeight</span>;</span><br><span class="line">        n.<span class="title function_">setAttribute</span>(<span class="string">&quot;style&quot;</span>, <span class="string">&quot;height:&quot;</span> + height + <span class="string">&quot;px&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//结束</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#container&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;scroll&quot;</span>,</span><br><span class="line">    <span class="keyword">function</span>(<span class="params">t</span>) &#123;</span><br><span class="line">        <span class="title function_">a</span>()</span><br><span class="line">    &#125;),</span><br></pre></td></tr></table></figure>
<p>这里解释一下为什么判断网页可见区域高度是否小于屏幕分辨率的高度<br>如果不添加这个判断，会对所有的页面都添加这个height属性，移动端css中</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#container</span>, <span class="selector-tag">body</span>, <span class="selector-tag">html</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: auto;</span><br><span class="line">    <span class="attribute">overflow-x</span>: hidden;</span><br><span class="line">    <span class="attribute">overflow-y</span>: auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>height:auto</code>便失去了意义<br>附上几个获取高度的属性</p>
<blockquote>
<p>网页可见区域高：document.body.clientHeight（body总高度）<br>网页可见区域高：document.body.offsetHeight（body总高度）<br>网页正文全文高：document.body.scrollHeight（body总高度）<br>浏览器页面可用高度：document.documentElement.clientHeight/window.innerHeight<br>屏幕分辨率的高：window.screen.height（屏幕分辨率高度）<br>屏幕可用工作区高：window.screen.availHeight/screen.availHeight（屏幕分辨率高度）</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;body总高度：&quot;</span>+<span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">clientHeight</span>)<span class="comment">//body总高度</span></span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;body总高度：&quot;</span>+<span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">offsetHeight</span>)<span class="comment">//body总高度</span></span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;body总高度：&quot;</span>+<span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollHeight</span>)<span class="comment">//body总高度</span></span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;浏览器页面可用高度：&quot;</span>+<span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientHeight</span>)<span class="comment">//浏览器页面可用高度</span></span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;浏览器页面可用高度：&quot;</span>+<span class="variable language_">window</span>.<span class="property">innerHeight</span>)<span class="comment">//浏览器页面可用高度</span></span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;屏幕分辨率的高：&quot;</span>+<span class="variable language_">window</span>.<span class="property">screen</span>.<span class="property">height</span>)<span class="comment">//屏幕分辨率高度</span></span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;屏幕分辨率的高：&quot;</span>+<span class="variable language_">window</span>.<span class="property">screen</span>.<span class="property">availHeight</span>)<span class="comment">//屏幕分辨率高度</span></span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;屏幕分辨率的高：&quot;</span>+screen.<span class="property">availHeight</span>)<span class="comment">//屏幕分辨率高度</span></span><br></pre></td></tr></table></figure>
<p>这里用的是document.body.clientHeight和window.innerHeight</p>
<h2 id="6-手机端主页分页过多，点击某一页，出现下一页标签换行"><a href="#6-手机端主页分页过多，点击某一页，出现下一页标签换行" class="headerlink" title="6.手机端主页分页过多，点击某一页，出现下一页标签换行"></a>6.手机端主页分页过多，点击某一页，出现下一页标签换行</h2><p>页数过多，点击中间的一页可能会出现下一页标签换行一半，即 <code>下一页</code>在上一行，<code> »</code>在下一行<br>换行的问题解决不了，分页过多，一行显示不下，自然会把多余的内容挤到下一行来，即使你把上下页标签的margin属性设为0，可能暂时没有问题，但是随着文章越来越多，迟早会被挤下来</p>
<h3 id="这里解决一下a标签：下一页-»-换行一半问题"><a href="#这里解决一下a标签：下一页-»-换行一半问题" class="headerlink" title="这里解决一下a标签：下一页 » 换行一半问题"></a>这里解决一下a标签：下一页 » 换行一半问题</h3><p>既然a标签换行不可避免，但是换行一半是可以避免的<br>将上下页a标签转为行内块<br>当a标签的大小不足以使它在一行显示，a标签内容会全部换行，而不会出现换行一半的现象<br>即在css中对<code>#page-nav .extend</code>添加<code>display:inline-block;</code></p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 添加上下页标签转为行内块 */</span></span><br><span class="line"><span class="selector-id">#page-nav</span> <span class="selector-class">.extend</span> &#123;</span><br><span class="line">	<span class="attribute">display</span>:inline-block;</span><br><span class="line">	<span class="attribute">color</span>:<span class="number">#4d4d4d</span>;</span><br><span class="line">	<span class="attribute">margin</span>:<span class="number">0</span> <span class="number">27px</span>;</span><br><span class="line">	<span class="attribute">opacity</span>:<span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="7-手机端开启目录，页面出现了滚动条"><a href="#7-手机端开启目录，页面出现了滚动条" class="headerlink" title="7.手机端开启目录，页面出现了滚动条"></a>7.手机端开启目录，页面出现了滚动条</h2><p>yilia主题，移动端适配有很多问题，之前的页面滚动动画、返回顶部按钮和目录，开发者应该是没有对移动端进行适配测试（可能是先在pc上实现，再往移动端适配）<br>开发者已经不维护这个主题，本人在移动端启用发现了很多问题<br>移动端文章开启目录，点击所有文章按钮，页面右侧会出现滚动条，关闭所有文章后，页面弹动效果中也会出现滚动条</p>
<h3 id="解决办法-5"><a href="#解决办法-5" class="headerlink" title="解决办法"></a>解决办法</h3><ul>
<li>在<code>themes\yilia\source\main.0cf68a.css</code>中查找<code>.mid-col.show</code>，添加<code>overflow: hidden</code></li>
</ul>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 添加overflow: hidden */</span></span><br><span class="line"><span class="selector-class">.mid-col</span><span class="selector-class">.show</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: none;</span><br><span class="line">    <span class="attribute">opacity</span>: .<span class="number">9</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>在移动端css下，即<code>@media screen and (max-width: 800px)</code>下，隐藏<code>#container</code>标签滚动条</li>
</ul>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 隐藏滚动条 */</span></span><br><span class="line"><span class="selector-id">#container</span>::-webkit-scrollbar &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>问题解决</p>
<h2 id="8-代码块行号显示错乱"><a href="#8-代码块行号显示错乱" class="headerlink" title="8.代码块行号显示错乱"></a>8.代码块行号显示错乱</h2><p>这个问题是<code>white-space: pre-wrap;</code>自动换行造成的</p>
<h3 id="解决办法-6"><a href="#解决办法-6" class="headerlink" title="解决办法"></a>解决办法</h3><p>在<code>themes\yilia\source\main.0cf68a.css</code>中查找<code>white-space: pre-wrap;</code>，将其删除</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 删除white-space: pre-wrap; */</span></span><br><span class="line">pre &#123;</span><br><span class="line">    <span class="attribute">overflow</span>: auto;</span><br><span class="line">    <span class="attribute">white-space</span>: pre;</span><br><span class="line">    <span class="attribute">word-wrap</span>: break-word</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用不自动换行的<code>white-space:pre;</code>样式，代码块溢出部分会自动在底部出现滚动条，行号错乱问题就没有了。<br>如果代码下面的滚动条看不见，在css中添加</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* figure滚动条优化 */</span></span><br><span class="line"><span class="selector-class">.article-entry</span> <span class="selector-tag">figure</span>::-webkit-scrollbar-thumb,.article-entry figure::-webkit-scrollbar-thumb:hover&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#bbbbbb</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>修改滚动条颜色（滚动条默认颜色与代码块背景色冲突）</p>
<h2 id="9-文章内的超链接超出页面问题"><a href="#9-文章内的超链接超出页面问题" class="headerlink" title="9.文章内的超链接超出页面问题"></a>9.文章内的超链接超出页面问题</h2><p>当页面进行缩放时，这个区域可能会超出页面。</p>
<h3 id="解决办法-7"><a href="#解决办法-7" class="headerlink" title="解决办法"></a>解决办法</h3><p>css中对a标签添加<code>word-wrap: break-word</code>属性<br>指定如果足够长得话，应该换行：</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 添加word-wrap: break-word */</span></span><br><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: transparent;</span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#08c</span>;</span><br><span class="line">    <span class="attribute">word-wrap</span>: break-word</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>博客</tag>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>yilia主题常见问题及解决办法</title>
    <url>/2019/06/27/yilia%E4%B8%BB%E9%A2%98%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/</url>
    <content><![CDATA[<p>这个主题本身挺好的，可是也有一些问题。<br>以下内容为自己发现的问题及解决办法(作者很长时间不更新主题了，所以有问题就要自己动手解决)<br><strong>说明：本篇文章有目录，问题分析可以不看，直接看解决方法</strong></p>
<span id="more"></span>
<h2 id="1-主题首页，第一页的底部，出现了Prev选项"><a href="#1-主题首页，第一页的底部，出现了Prev选项" class="headerlink" title="1.主题首页，第一页的底部，出现了Prev选项"></a>1.主题首页，第一页的底部，出现了Prev选项</h2><p><img src="1.png"></p>
<hr>
<p>第一页和最后一页出现了上一页和下一页本不应该出现的标签，其实是作者为了美化博客主题而特意添加的<br>这里提供删除方法</p>
<hr>
<p><img src="2.png"></p>
<hr>
<p>我的想法是直接把这个选项删除</p>
<h3 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h3><ul>
<li>主题文件进入<code>themes\yilia\layout\_partial</code>,找到<code>script.ejs</code>文件，打开用编译器寻找<br><code>if(t&amp;&amp;!document.querySelector(&quot;#page-nav .extend.prev&quot;)&amp;&amp;(t.innerHTML=&#39;&lt;a class=&quot;extend prev disabled&quot; rel=&quot;prev&quot;&gt;&amp;laquo; Prev&lt;/a&gt;&#39;+t.innerHTML),t&amp;&amp;!document.querySelector(&quot;#page-nav .extend.next&quot;)&amp;&amp;(t.innerHTML=t.innerHTML+&#39;&lt;a class=&quot;extend next disabled&quot; rel=&quot;next&quot;&gt;Next &amp;raquo;&lt;/a&gt;&#39;)</code></li>
</ul>
<hr>
<p><img src="3.png"></p>
<hr>
<ul>
<li>把这段代码所对应的函数注释，或者把<code>&amp;laquo; Prev</code>和<code>Next &amp;raquo;</code>删除</li>
</ul>
<hr>
<p><img src="4.png"></p>
<hr>
<ul>
<li>注释后效果</li>
</ul>
<hr>
<p><img src="5.png"></p>
<hr>
<h2 id="2-语言配置问题"><a href="#2-语言配置问题" class="headerlink" title="2.语言配置问题"></a>2.语言配置问题</h2><p>查了各种资料，hexo博客修改语言，做了很多尝试，都不好使。既然是国人写的，为什么默认上一页和下一页是英文，反正我是看不惯。网上修改主题语言可能对别的主题有效，但是对yilia主题一点效果也没有。（yilia主题中上一页和下一页的英文是写死的，只能手动更改）</p>
<h3 id="解决方法（将上一页和下一页改为中文）"><a href="#解决方法（将上一页和下一页改为中文）" class="headerlink" title="解决方法（将上一页和下一页改为中文）"></a>解决方法（将上一页和下一页改为中文）</h3><ul>
<li>在主题文件中用编译器查找<code>&amp;laquo; Prev</code>和<code>Next &amp;raquo;</code>，然后将所有的<code>Prev</code>修改为上一页，<code>Next</code>修改为下一页（只需要更改.ejs文件中的即可）</li>
</ul>
<p><strong>注：<code>&amp;laquo;&amp;raquo;</code>对应的字符为<code>«»</code></strong></p>
<h3 id="补充说明"><a href="#补充说明" class="headerlink" title="补充说明"></a>补充说明</h3><p>yilia主题网页语言配置有一个问题，谷歌浏览器每次刷新页面都会提示是否翻译为中文，其实是lang的语言和本地系统语言不一致造成的。<br>网页源代码中html没有添加lang属性，这里提供一个解决办法</p>
<h4 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h4><ul>
<li>定位文件<code>themes\yilia\layout\_partial\head.ejs</code>，在里面找到html标签</li>
<li>将<code>&lt;html&gt;</code>修改为<code>&lt;html lang=&quot;&lt;%= config.language %&gt;&quot;&gt;</code>，导入站点配置文件引入的language</li>
<li>问题解决，刷新页面不再提示翻译为中文</li>
</ul>
<h2 id="3-随笔a标签点击后样式不改变（移动端）"><a href="#3-随笔a标签点击后样式不改变（移动端）" class="headerlink" title="3.随笔a标签点击后样式不改变（移动端）"></a>3.随笔a标签点击后样式不改变（移动端）</h2><ul>
<li>从github网站cloning最新的yilia主题，配置成功后，应该还记得两个a标签：主页、随笔</li>
<li>主页还好，你点击后，进入相应的页面，主页a标签的样式变了，但是当你点随笔的时候，进入相应的页面后，随笔a标签样式没有变。这个问题困惑了我很久，最开始以为，只有主页的样式能变，但是我错了，作者的那个博客，里面有相册这个标签，它的样式是可以变的，还有所有文章(有的起名为归档 <code>所有文章: /archives/</code>)标签，样式也可以变，唯独自己的随笔a标签被点击时，样式没有任何变化。</li>
<li>感觉这个是主题作者知道的问题，但是还没有修复，可能不会修复了</li>
<li>观察了一下，当你点完标签后，那些标签都被加了一个class属性，值为：active，唯独你随笔标签，它就不加那个class属性，添加class属性的函数找到了一个，不知道是不是，感觉没有什么问题，文件目录<code>themes\yilia\source-src\js\mobile.js</code>，重点是修改不起作用</li>
</ul>
<hr>
<p><img src="6.png"><br><del><strong>解决办法（自行研究）</strong></del><br><del>- 既然tag标签样式不能变，那就都不让变，像pc端那样，加一个手指单击切换样式，不改变样式，在<code>themes\yilia\source\main.0cf68a.css</code>中查找<code>.header-menu li a.active</code>，把<code>a.active</code>改为<code>a:active</code></del></p>
<hr>
<p><img src="7.png"></p>
<hr>
<p><strong>皇天不负有心人，经过我的多番探索，找到了解决方法</strong><br><strong>问题分析</strong></p>
<ul>
<li>1.首先，这个是点击a标签后，在a标签上添加了一个class属性：active,然后通过css改变点击后a标签的样式。（添加样式的方法只能是js语句）</li>
<li>2.定位文件 在主题文件中用编译器查找<code>.js-header-menu li a</code>，在文件目录<code>themes\yilia\layout\_partial</code>找到<code>script.ejs</code>文件，你会查询到以下代码(我的代码经过规范化整理，并非在一行显示)</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">i</span>(<span class="params">t, n</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> r = <span class="regexp">/\/|index.html/g</span>;</span><br><span class="line">        <span class="keyword">return</span> t.<span class="title function_">replace</span>(r, <span class="string">&quot;&quot;</span>) === n.<span class="title function_">replace</span>(r, <span class="string">&quot;&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">o</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> t = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;.js-header-menu li a&quot;</span>), n = <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">pathname</span>, r = <span class="number">0</span>, e = t.<span class="property">length</span>; r &lt; e; r++) &#123;</span><br><span class="line">            <span class="keyword">var</span> o = t[r];</span><br><span class="line">            <span class="title function_">i</span>(n, o.<span class="title function_">getAttribute</span>(<span class="string">&quot;href&quot;</span>)) &amp;&amp; (<span class="number">0</span>,</span><br><span class="line">            h.<span class="property">default</span>)(o, <span class="string">&quot;active&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>没错，就是这两个函数，通过<code>return t.replace(r, &quot;&quot;) === n.replace(r, &quot;&quot;)</code>来判断，如果返回值为真，即添加class样式。</li>
<li>问题就出现在了<code>n.replace(r, &quot;&quot;)</code>，用alert语句，当你点随笔时，界面会出现<code>tags%E9%9A%8F%E7%AC%94</code>,没错，就是中文乱码问题，添加alert语句<code>alert(t.replace(r, &quot;&quot;))</code>，显示<code>tags随笔</code></li>
<li>从这你应该看出,当你点随笔时,语句<code>return t.replace(r, &quot;&quot;) === n.replace(r, &quot;&quot;)</code>不可能为真，因此也就不会执行<code>(0,h.default)(o, &quot;active&quot;)</code>代码，即不会添加active属性。（归档标签为archives,没有中文，所以能添加样式）<h3 id="解决方法-1"><a href="#解决方法-1" class="headerlink" title="解决方法"></a>解决方法</h3></li>
<li><code>n = window.location.pathname</code>获取url路径，有中文时出现乱码，解决中文乱码问题。中文乱码原因：url中文加密</li>
<li>运用url解码函数<code>decodeURI()</code>,将加密的中文翻译回中文</li>
<li>修改<strong>i函数</strong>传参<code>i(n, o.getAttribute(&quot;href&quot;))</code>,把n改为<code>decodeURI(n)</code></li>
<li>注：<code>o.getAttribute(&quot;href&quot;)</code>获取到的url可能也会出现加密，取决于博客所用的hexo版本，如果加密，添加相应的解码函数即可</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">i</span>(<span class="params">t, n</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> r = <span class="regexp">/\/|index.html/g</span>;</span><br><span class="line">        <span class="keyword">return</span> t.<span class="title function_">replace</span>(r, <span class="string">&quot;&quot;</span>) === n.<span class="title function_">replace</span>(r, <span class="string">&quot;&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">o</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> t = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;.js-header-menu li a&quot;</span>), n = <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">pathname</span>, r = <span class="number">0</span>, e = t.<span class="property">length</span>; r &lt; e; r++) &#123;</span><br><span class="line">            <span class="keyword">var</span> o = t[r];</span><br><span class="line">            <span class="title function_">i</span>(<span class="built_in">decodeURI</span>(n), o.<span class="title function_">getAttribute</span>(<span class="string">&quot;href&quot;</span>)) &amp;&amp; (<span class="number">0</span>,</span><br><span class="line">            h.<span class="property">default</span>)(o, <span class="string">&quot;active&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>运用alert语句<code>alert(n.replace(r, &quot;&quot;))</code>，界面显示<code>tags随笔</code>，到此问题解决</li>
<li>在<code>themes\yilia\source\main.0cf68a.css</code>中，<code>.header-menu li a:active</code>，把<code>a:active</code>改回<code>a,active</code>,或者添加语句<code>,.header-menu li a:active</code></li>
</ul>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.header-menu</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span><span class="selector-pseudo">:active</span>,<span class="selector-class">.header-menu</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span><span class="selector-class">.active</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#eaeaea</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#a0a0a0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>即保留<code>.header-menu li a:active</code>，解释一下为什么要保留，这个是点击事件样式，加上的话效果显示更好（可以让你更好的确认你是否点击了这个标签）</li>
</ul>
<hr>
<h2 id="4-css和js文件中的代码看不懂"><a href="#4-css和js文件中的代码看不懂" class="headerlink" title="4.css和js文件中的代码看不懂"></a>4.css和js文件中的代码看不懂</h2><p>css和js代码，在编译器中打开，我也真是无语，代码全部写在一行里，放眼望去，根本看不懂，好在我还是学过前端的人，但是，我看着都很费劲。<br>这是对css和js代码进行压缩，优点是：节省空间，提高网页加载速度</p>
<h3 id="解决方法-2"><a href="#解决方法-2" class="headerlink" title="解决方法"></a>解决方法</h3><p>有压缩就会有相应的解压缩，上百度上搜索相应的解压工具（或格式化工具），一般都是网页，将要解压的代码粘到里面，点击格式化或解压缩即可</p>
<ul>
<li>定位文件<code>themes\yilia\layout\_partial\script.ejs</code>,这个是ejs文件，ejs是一个JavaScript模板库，用来从JSON数据中生成HTML字符串。里面第一个script标签中有很多js代码，而且写在一行。比较了一下，这里面的js语句与<code>themes\yilia\source\mobile.992cbe.js</code>中的语句几乎是一模一样（特地比较了一下，就是把个别参数换了个名字，有的代码简写，本质上根本没变化）。<del>这里我就不太理解了,<code>script.ejs</code>写了那么多js代码，为什么不把<code>mobile.992cbe.js</code>导入代替script标签中的js代码？这个就同为什么不把css样式直接写在style标签中，而是要link导入一个道理。</del>将代码写在网页中，提高了加载速度，写在网页中的js比<code>themes\yilia\source\mobile.992cbe.js</code>中的小，而且严谨</li>
<li>修改文件<code>script.ejs</code>,将<code>mobile.992cbe.js</code>导入代替script标签中的js代码，并将第一个script标签和其中的js代码删除（script是双标签）</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;&lt;%=config.root%&gt;./mobile.992cbe.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;&lt;%=config.root%&gt;./main.0cf68a.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    !<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        !<span class="keyword">function</span>(<span class="params">e</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> t=<span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;script&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;body&quot;</span>)[<span class="number">0</span>].<span class="title function_">appendChild</span>(t),t.<span class="title function_">setAttribute</span>(<span class="string">&quot;src&quot;</span>,e)</span></span><br><span class="line"><span class="language-javascript">        &#125;(<span class="string">&quot;&lt;%=config.root%&gt;slider.e37972.js&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">    &#125;()</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>&lt;script src=&quot;&lt;%=config.root%&gt;./mobile.992cbe.js&quot;&gt;&lt;/script&gt;</code>语句用于引入<code>mobile.992cbe.js</code></li>
<li>之前在<code>script.ejs</code>修改的代码在<code>mobile.992cbe.js</code>中再修改一遍，或者，将<code>script.ejs</code>中第一个script标签中的js代码去替换<code>mobile.992cbe.js</code>中的代码，在最后一句加上一个<code>;</code>（其它js文件中代码结尾都有<code>;</code>）。</li>
</ul>
<hr>
<h2 id="5-手机浏览器，网页中的个别样式无法实现，当然，电脑端的也有"><a href="#5-手机浏览器，网页中的个别样式无法实现，当然，电脑端的也有" class="headerlink" title="5.手机浏览器，网页中的个别样式无法实现，当然，电脑端的也有"></a>5.手机浏览器，网页中的个别样式无法实现，当然，电脑端的也有</h2><p><strong>先说一下电脑端的问题，个人觉得不需要解决，看以下两张图片</strong></p>
<hr>
<p><img src="10.png"><br>Microsoft Edge浏览器</p>
<hr>
<p><img src="11.png"><br>Google Chrome浏览器</p>
<hr>
<p>很明显的tag标签样式不兼容，一个是方框，一个是按钮，暂时没找到解决方法，其实没什么影响（这是个别标签样式不兼容导致）<br><strong>手机端的兼容问题比较严重</strong><br>在我的手机自带浏览器中，博客页面往下滑，你会看到一个效果<br>当顶部主页和随笔标签要滑出屏外时，那两个标签会自动在顶端悬停，看图片（主题作者博客测试 网址：<a href="http://litten.me/">http://litten.me/</a>）</p>
<hr>
<p>左面是是手机自带浏览器显示的效果，这个动画设计的很好，代码我不会。右面是有兼容问题的浏览器(Microsoft Edge测试，Google Chrome显示效果相同)</p>
<div><img width=50% src="12.jpg"/><img width=50% src="13.jpg"/></div>

<p>右面的没有左面的效果，那两个标签直接就滑上去了，但是有一个标签下来了，最左边那个多功能标签，没有背景色，白色的字体，不仔细看都看不出来<br>这个问题起初我以为是我把主题某个配置文件改了导致的，但是作者博客在Chrome浏览器中测试的结果跟我一样，看来不是我以为的问题，而是这个博客的通病。某个动画效果在这几个浏览器中不兼容。整了将近一下午，也没找到解决办法，主要是前端的知识学的不够，现在学java了，前端的知识忘得更多了。<br><strong>解决方法（自己研究）</strong></p>
<ul>
<li>既然有一个标签能下来，有时可能看不见，那就让它可见，添加一个背景色，与上面的颜色相同（因为这个标签是从上面移动下来的，如果颜色不一样，看着很不协调），将背景色改为透明</li>
<li>代码修改:<code>themes\yilia\source\main.0cf68a.css</code>中查找<code>.btnctn</code>，在里面添加一行代码<code>background: rgba(77, 77, 77, 0.5)</code>前提是之前没改过上面的背景颜色，如果改过，前三个值改为自己的rgb颜色，如果是十六进制颜色，自行转换，后面的0.5为透明色</li>
</ul>
<hr>
<p><img src="14.png"></p>
<hr>
<ul>
<li>效果如下（图片左上角）</li>
</ul>
<hr>
<p><img src="15.png"></p>
<hr>
<ul>
<li>按钮加了一个背景色，背景色透明，让人能够清晰地看到那个按钮（个人觉得不是很好看），在动画不生效的手机浏览器中这样显示，生效的浏览器会显示生效的动画页面</li>
</ul>
<p><strong>皇天不负有心人，经过我的多番探索，找到了解决方法</strong><br><strong>问题分析</strong></p>
<ul>
<li>既然是代码兼容问题，就要先找到执行此动画的代码，也是js代码</li>
<li>因为是a标签悬停，所以要找到a标签样式属性。在浏览器控制台可以看到<code>class=&quot;header-menu js-header-menu&quot;</code>,开发者对代码的规范性还是有的，用到js的样式，都有js标注。</li>
<li>定位文件。在主题中，用编译器查找<code>js-header-menu</code>，如果你照着我之前将<code>mobile.992cbe.js</code>导入代替<code>script.ejs</code>中第一个script标签中的js代码，那么会在<code>mobile.992cbe.js</code>中找到如下代码,如果没有照做，代码应该在<code>script.ejs</code>文件中</li>
</ul>
<hr>
<p><img src="16.png"></p>
<hr>
<ul>
<li>这个函数与上面的函数关联</li>
</ul>
<hr>
<p><img src="17.png"></p>
<hr>
<ul>
<li>问题就出现在了这几个函数上了。通过使用alert语句，查询出了端倪。</li>
</ul>
<hr>
<p><img src="16.png"></p>
<hr>
<ul>
<li>这个函数中</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">a</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> t = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.js-overlay&quot;</span>)</span><br><span class="line">            , n = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.js-header-menu&quot;</span>); </span><br><span class="line">        <span class="title function_">f</span>(t, <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollTop</span>, -<span class="number">63</span>, <span class="number">2</span>, <span class="number">0</span>),</span><br><span class="line">        <span class="title function_">f</span>(n, <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollTop</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">0</span>)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>document.body.scrollTop</code>的值始终为0，导致了上面对应的函数</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">f</span>(<span class="params">t, n, r, e, i</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> o = <span class="title function_">u</span>(t)</span><br><span class="line">            , f = <span class="title function_">c</span>(t) - n;</span><br><span class="line">        <span class="keyword">if</span> (f - r &lt;= i) &#123;</span><br><span class="line">            <span class="keyword">var</span> a = t.<span class="property">$newDom</span>;</span><br><span class="line">            a || (a = t.<span class="title function_">cloneNode</span>(!<span class="number">0</span>),</span><br><span class="line">            (<span class="number">0</span>,</span><br><span class="line">            d.<span class="property">default</span>)(t, a),</span><br><span class="line">            t.<span class="property">$newDom</span> = a,</span><br><span class="line">            a.<span class="property">style</span>.<span class="property">position</span> = <span class="string">&quot;fixed&quot;</span>,</span><br><span class="line">            a.<span class="property">style</span>.<span class="property">top</span> = (r || f) + <span class="string">&quot;px&quot;</span>,</span><br><span class="line">            a.<span class="property">style</span>.<span class="property">left</span> = o + <span class="string">&quot;px&quot;</span>,</span><br><span class="line">            a.<span class="property">style</span>.<span class="property">zIndex</span> = e || <span class="number">2</span>,</span><br><span class="line">            a.<span class="property">style</span>.<span class="property">width</span> = <span class="string">&quot;100%&quot;</span>,</span><br><span class="line">            a.<span class="property">style</span>.<span class="property">color</span> = <span class="string">&quot;#fff&quot;</span>),</span><br><span class="line">            a.<span class="property">style</span>.<span class="property">visibility</span> = <span class="string">&quot;visible&quot;</span>,</span><br><span class="line">            t.<span class="property">style</span>.<span class="property">visibility</span> = <span class="string">&quot;hidden&quot;</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            t.<span class="property">style</span>.<span class="property">visibility</span> = <span class="string">&quot;visible&quot;</span>;</span><br><span class="line">            <span class="keyword">var</span> s = t.<span class="property">$newDom</span>;</span><br><span class="line">            s &amp;&amp; (s.<span class="property">style</span>.<span class="property">visibility</span> = <span class="string">&quot;hidden&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>if (f - r &lt;= i)</code>的判定始终为false，从而执行else语句，导致没有了那个动画效果</li>
<li>相关代码（可自行分析）</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">u</span>(<span class="params">t</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> n = t.<span class="property">offsetLeft</span>, r = t.<span class="property">offsetParent</span>; <span class="literal">null</span> !== r; )</span><br><span class="line">            n += r.<span class="property">offsetLeft</span>,</span><br><span class="line">            r = r.<span class="property">offsetParent</span>;</span><br><span class="line">        <span class="keyword">return</span> n</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">c</span>(<span class="params">t</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> n = t.<span class="property">offsetTop</span>, r = t.<span class="property">offsetParent</span>; <span class="literal">null</span> !== r; )</span><br><span class="line">            n += r.<span class="property">offsetTop</span>,</span><br><span class="line">            r = r.<span class="property">offsetParent</span>;</span><br><span class="line">        <span class="keyword">return</span> n</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">f</span>(<span class="params">t, n, r, e, i</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> o = <span class="title function_">u</span>(t)</span><br><span class="line">            , f = <span class="title function_">c</span>(t) - n;</span><br><span class="line">        <span class="keyword">if</span> (f - r &lt;= i) &#123;</span><br><span class="line">            <span class="keyword">var</span> a = t.<span class="property">$newDom</span>;</span><br><span class="line">            a || (a = t.<span class="title function_">cloneNode</span>(!<span class="number">0</span>),</span><br><span class="line">            (<span class="number">0</span>,</span><br><span class="line">            d.<span class="property">default</span>)(t, a),</span><br><span class="line">            t.<span class="property">$newDom</span> = a,</span><br><span class="line">            a.<span class="property">style</span>.<span class="property">position</span> = <span class="string">&quot;fixed&quot;</span>,</span><br><span class="line">            a.<span class="property">style</span>.<span class="property">top</span> = (r || f) + <span class="string">&quot;px&quot;</span>,</span><br><span class="line">            a.<span class="property">style</span>.<span class="property">left</span> = o + <span class="string">&quot;px&quot;</span>,</span><br><span class="line">            a.<span class="property">style</span>.<span class="property">zIndex</span> = e || <span class="number">2</span>,</span><br><span class="line">            a.<span class="property">style</span>.<span class="property">width</span> = <span class="string">&quot;100%&quot;</span>,</span><br><span class="line">            a.<span class="property">style</span>.<span class="property">color</span> = <span class="string">&quot;#fff&quot;</span>),</span><br><span class="line">            a.<span class="property">style</span>.<span class="property">visibility</span> = <span class="string">&quot;visible&quot;</span>,</span><br><span class="line">            t.<span class="property">style</span>.<span class="property">visibility</span> = <span class="string">&quot;hidden&quot;</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            t.<span class="property">style</span>.<span class="property">visibility</span> = <span class="string">&quot;visible&quot;</span>;</span><br><span class="line">            <span class="keyword">var</span> s = t.<span class="property">$newDom</span>;</span><br><span class="line">            s &amp;&amp; (s.<span class="property">style</span>.<span class="property">visibility</span> = <span class="string">&quot;hidden&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">a</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> t = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.js-overlay&quot;</span>)</span><br><span class="line">            , n = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.js-header-menu&quot;</span>);</span><br><span class="line">        <span class="title function_">f</span>(t, <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollTop</span>, -<span class="number">63</span>, <span class="number">2</span>, <span class="number">0</span>),</span><br><span class="line">        <span class="title function_">f</span>(n, <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollTop</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">0</span>)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="解决方法-3"><a href="#解决方法-3" class="headerlink" title="解决方法"></a>解决方法</h3><ul>
<li><code>document.body.scrollTop</code>的值始终为0，那就查询一下这段代码是什么意思</li>
</ul>
<blockquote>
<p>获取当前页面滚动条纵坐标的位置：document.body.scrollTop与document.documentElement.scrollTop<br>获取当前页面滚动条横坐标的位置：document.body.scrollLeft与document.documentElement.scrollLeft<br>1.各浏览器下 scrollTop的差异:<br>IE6/7/8：<br>可以使用 document.documentElement.scrollTop；<br>IE9及以上：<br>可以使用window.pageYOffset或者document.documentElement.scrollTop<br>Safari:<br>safari： window.pageYOffset 与document.body.scrollTop都可以；<br>Firefox:<br>火狐等等相对标准些的浏览器就省心多了，直接用window.pageYOffset 或者 document.documentElement.scrollTop ；<br>Chrome：<br>谷歌浏览器只认识document.body.scrollTop;<br>注：标准浏览器是只认识documentElement.scrollTop的，但chrome虽然我感觉比firefox还标准，但却不认识这个，在有文档声明时，chrome也只认识document.body.scrollTop.<br>由于在不同情况下，document.body.scrollTop与document.documentElement.scrollTop都有可能取不到值，那到底网页的scrollTop值怎么得到呢？难道又要用JavaScript进行判断？<br>其实不必。因为document.body.scrollTop与document.documentElement.scrollTop两者有个特点，就是同时只会有一个值生效。比如document.body.scrollTop能取到值的时候，document.documentElement.scrollTop就会始终为0；反之亦然。所以，如果要得到网页的真正的scrollTop值，如果不考虑safari，可以这样：<br>var sTop=document.body.scrollTop+document.documentElement.scrollTop;<br>这两个值总会有一个恒为0，所以不用担心会对真正的scrollTop造成影响。一点小技巧，但很实用。</p>
</blockquote>
<ul>
<li>这个介绍中，明确说了<code>document.body.scrollTop</code>在不同浏览器上的不同情况，的确有兼容问题。而且文章中说<strong>谷歌浏览器只认识document.body.scrollTop</strong>，但是我就是在谷歌浏览器上测试效果的，很显然谷歌是不认<code>document.body.scrollTop</code>的，因为值始终为0。文章中有提到<strong>因为document.body.scrollTop与document.documentElement.scrollTop两者有个特点，就是同时只会有一个值生效。比如document.body.scrollTop能取到值的时候，document.documentElement.scrollTop就会始终为0；反之亦然。</strong>所以运用文章中的方法<code>var sTop=document.body.scrollTop+document.documentElement.scrollTop;</code>测试，方法的确有效，alert后，那个值不为0了。当然，可能会有浏览器<code>document.body.scrollTop</code>和<code>document.documentElement.scrollTop</code>都识别的情况，因此，提供一个<code>||</code>语句判断，即<code>var sTop=document.body.scrollTop||document.documentElement.scrollTop;</code>。</li>
<li>这里介绍一个属性<code>window.scrollY</code>，用这个也可以</li>
<li>代码修改如下：</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">a</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> t = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.js-overlay&quot;</span>)</span><br><span class="line">            , n = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.js-header-menu&quot;</span>)</span><br><span class="line">            , sTop = <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollTop</span> || <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span>;</span><br><span class="line">        <span class="title function_">f</span>(t, sTop, -<span class="number">63</span>, <span class="number">2</span>, <span class="number">0</span>),</span><br><span class="line">        <span class="title function_">f</span>(n, sTop, <span class="number">1</span>, <span class="number">3</span>, <span class="number">0</span>)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>声明一个sTop变量，<code>var sTop = document.body.scrollTop || document.documentElement.scrollTop;</code>，将这个变量传到<strong>f函数</strong>中，在浏览器上测试出现了效果。（js效果实现）</li>
</ul>
<hr>
<p><img src="18.png"></p>
<hr>
<ul>
<li>补充：个人觉得作者开发这个效果其实是省去了回到顶端按钮的实现，因为那几个悬停在顶部的a标签就是回到顶部后所拥有的标签，而且效果很好，看着也很舒服</li>
<li>回到上面<strong>解决方法（自己研究）</strong>，将按钮添加背景色属性删除（效果实现后，这段代码很显然是用不到了）<h2 id="浏览器主题主页面右侧出现了双滚动条"><a href="#浏览器主题主页面右侧出现了双滚动条" class="headerlink" title="浏览器主题主页面右侧出现了双滚动条"></a>浏览器主题主页面右侧出现了双滚动条</h2>个别浏览器可能会出现出现双滚动条<h3 id="解决办法-1"><a href="#解决办法-1" class="headerlink" title="解决办法"></a>解决办法</h3>在css文件中查找pc端样式<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#container</span>,<span class="selector-tag">body</span>,<span class="selector-tag">html</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">overflow-x</span>: hidden;</span><br><span class="line">    <span class="attribute">overflow-y</span>: auto</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
将<code>overflow-y: auto</code>删除，问题解决<h2 id="6-yilia主题分享的一些问题（移动端）"><a href="#6-yilia主题分享的一些问题（移动端）" class="headerlink" title="6.yilia主题分享的一些问题（移动端）"></a>6.yilia主题分享的一些问题（移动端）</h2>接着上面的效果实现，发现了一个问题。手机端进入到某个文章，上面的那几个a标签有时不能点击。电脑浏览器控制台发现，在那几个a标签上隐藏了一个微信分享的div标签（里面有微信分享二维码），虽然看不到，但是它却在那几个a标签的上面。看了一下开发者的博客，标签没有在那个地方隐藏，而是真正的隐藏。这个让我很困惑。<br>折腾了几次，找到了问题。如果微信分享二维码存在（即图片路径有效），那么微信分享的div标签即真正隐藏，如果无效，那它就会在顶部的那几个a标签上面隐藏（z-index的值大于那几个a标签的值），而使你不能点击那几个a标签<h3 id="解决方法-4"><a href="#解决方法-4" class="headerlink" title="解决方法"></a>解决方法</h3>定位文件<code>themes\yilia\source\main.0cf68a.css</code>，在里面查找<code>.page-modal</code>，添加css：<code>display: none;</code><br>细心的你也许会发现，在开发者对css打包前，<code>themes\yilia\source-src\css\share.scss</code>文件中<code>.page-modal</code>有<code>display: none;</code>这个属性，但是被开发者注释了<br><code>display: none;</code>这个属性，决定着二维码出现时的动画，不添加这个属性，二维码会有一个从上到下出现的动画效果<h3 id="不添加display-none-属性的完美解决办法："><a href="#不添加display-none-属性的完美解决办法：" class="headerlink" title="不添加display: none;属性的完美解决办法："></a>不添加<code>display: none;</code>属性的完美解决办法：</h3>定位文件<code>themes\yilia\source\main.0cf68a.css</code>，在里面查找<code>.page-modal</code>，删除css：<code>z-index: 1001;</code><br>在里面查找<code>.page-modal.ready</code>或<code>.page-modal.in</code>，添加css：<code>z-index: 1001;</code><br>在<a href="https://akbcd.github.io/2019/10/31/yilia%E4%B8%BB%E9%A2%98%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95%E4%B8%8B/">yilia主题常见问题及解决办法下</a>文章中解决了分享二维码不显示的问题<h2 id="7-yilia主题移动端页面没有返回顶部按钮"><a href="#7-yilia主题移动端页面没有返回顶部按钮" class="headerlink" title="7.yilia主题移动端页面没有返回顶部按钮"></a>7.yilia主题移动端页面没有返回顶部按钮</h2>说到这个返回顶部按钮，其实开发者最初开发这款主题时就没有返回顶部按钮，返回顶部按钮是开发者后期加上去的。但是返回顶部按钮只出现在pc端，移动端并没有出现。自己折腾了一下，改了几行代码，解决了移动端没有返回顶部按钮的问题。</li>
</ul>
<p><strong>问题分析</strong></p>
<ul>
<li>pc端页面按钮出现，移动端按钮不出现。pc浏览器控制台发现，返回顶部按钮是在aside标签中实现的。在pc端页面，aside标签样式display为block，但是在移动端页面，aside标签display值为none。none值为隐藏（这里说明一下，开发者刻意在移动端样式中加了这段代码，这段代码的加入，即使之后的那个o函数被调用，返回顶部的按钮也不会出现）。</li>
</ul>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.wrap-side-operation</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>在aside标签中的div标签看到了<code>js-jump-container</code>，依然是调用了script。用编译器打开主题文件，在里面查找<code>js-jump-container</code>。在<code>themes\yilia\source\main.0cf68a.js</code>中找到相应函数</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">189</span>: <span class="keyword">function</span>(<span class="params">e, t</span>) &#123;</span><br><span class="line">    <span class="string">&quot;use strict&quot;</span>;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">n</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title function_">o</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;js-jump-container&quot;</span>), <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;container&quot;</span>))</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> o = <span class="keyword">function</span>(<span class="params">e, t, n</span>) &#123;</span><br><span class="line">        <span class="keyword">function</span> <span class="title function_">o</span>(<span class="params"></span>) &#123;</span><br><span class="line">            e.<span class="property">style</span>.<span class="property">display</span> = (t.<span class="property">scrollTop</span> || <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span> || <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollTop</span>) &gt; (n || <span class="number">500</span>) ? <span class="string">&quot;block&quot;</span> : <span class="string">&quot;none&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">function</span> <span class="title function_">r</span>(<span class="params">e, t</span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> n = <span class="literal">null</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                <span class="keyword">var</span> o = <span class="variable language_">this</span></span><br><span class="line">                  , r = <span class="variable language_">arguments</span>;</span><br><span class="line">                n &amp;&amp; <span class="built_in">clearTimeout</span>(n),</span><br><span class="line">                n = <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> e &amp;&amp; e.<span class="title function_">apply</span>(o, r)</span><br><span class="line">                &#125;, t)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (e) &#123;</span><br><span class="line">            <span class="keyword">var</span> i = <span class="literal">null</span></span><br><span class="line">              , a = <span class="variable language_">window</span>.<span class="property">onscroll</span></span><br><span class="line">              , u = e.<span class="property">onclick</span>;</span><br><span class="line">            (t || <span class="variable language_">window</span>).<span class="property">onscroll</span> = <span class="title function_">r</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                <span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> a &amp;&amp; a.<span class="title function_">apply</span>(<span class="variable language_">this</span>, <span class="variable language_">arguments</span>),</span><br><span class="line">                <span class="title function_">o</span>()</span><br><span class="line">            &#125;, <span class="number">100</span>),</span><br><span class="line">            e.<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                <span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> u &amp;&amp; u.<span class="title function_">apply</span>(<span class="variable language_">this</span>, <span class="variable language_">arguments</span>);</span><br><span class="line">                t.<span class="property">scrollTop</span> || <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span> || <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollTop</span>;</span><br><span class="line">                i = <span class="built_in">setInterval</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                    <span class="keyword">var</span> e = t.<span class="property">scrollTop</span> || <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span> || <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollTop</span></span><br><span class="line">                      , n = <span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="number">10</span>, e / <span class="number">6</span>);</span><br><span class="line">                    e -= n,</span><br><span class="line">                    e &gt; <span class="number">0</span> ? (t.<span class="property">scrollTop</span> = t.<span class="property">scrollTop</span> - n,</span><br><span class="line">                    <span class="variable language_">window</span>.<span class="title function_">scrollTo</span>(<span class="number">0</span>, e)) : (t.<span class="property">scrollTop</span> = <span class="number">0</span>,</span><br><span class="line">                    <span class="variable language_">window</span>.<span class="title function_">scrollTo</span>(<span class="number">0</span>, <span class="number">0</span>),</span><br><span class="line">                    <span class="built_in">clearInterval</span>(i))</span><br><span class="line">                &#125;, <span class="number">10</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    e.<span class="property">exports</span> = &#123;</span><br><span class="line">        <span class="attr">init</span>: n</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<hr>
<ul>
<li>问题就出现在o函数调用上<br><img src="19.png"></li>
<li>移动端o函数始终不被调用，起初以为是匿名函数在移动端不会被调用，强制调用后，问题没解决</li>
<li>经查询，问题出现在了这上面<br><img src="20.png"></li>
<li><code>(t || window).onscroll</code>,<code>(t || window)</code>出了问题，这段代码只在pc端生效，到移动端就不生效了。尝试把<code>||</code>换成<code>|</code>,问题没解决，反而在控制台报错了。</li>
<li>简单说一下，这段代码和后面的<code>o()</code>怎么联系起来的我是没看明白，感觉<code>(t || window).onscroll</code>是一个判断，onscroll是在元素轴滚动时触发的。</li>
<li>测试结果显示：<code>(t || window).onscroll</code>,<code>(t || window)</code>控制后面<code>o()</code>函数的调用（我也不太理解这段代码为什么会控制o()的调用，但事实就是如此），<code>t.onscroll</code>适用于pc端，<code>window.onscroll</code>适用于移动端。</li>
<li><code>alert(t)</code>提示：<code>[object HTMLDivElement]</code>，<code>alert(window)</code>提示：<code>[object Window]</code>，pc端与移动端均是此提示，由此可见<code>(t || window)</code>判断出了问题，它会一直执行t,而不是window。</li>
<li>o()作用是将标签<code>&lt;div class=&quot;jump-container&quot; id=&quot;js-jump-container&quot; style=&quot;display: none;&quot;&gt;&lt;/div&gt;</code>的<code>style=&quot;display: none;&quot;</code>改为<code>style=&quot;display: block;&quot;</code>，从而显示出返回顶部的i标签，点击返回顶部的i标签触发下面返回顶部函数的实现。但是，在移动端样式中，aside标签是被加了<code>display: none</code>的，这个div标签被嵌套在aside标签里面。所以，如果想在移动端添加返回顶部标签，<code>display: none</code>不能留。</li>
<li>到此，问题查明</li>
</ul>
<hr>
<h3 id="解决方法-5"><a href="#解决方法-5" class="headerlink" title="解决方法"></a>解决方法</h3><ul>
<li>定位文件<code>themes\yilia\source\main.0cf68a.css</code>,在里面查找<code>.wrap-side-operation</code>，找到<code>@media screen and (max-width: 800px)</code>下的<code>.wrap-side-operation</code>，因为要在移动端页面添加返回顶部按钮，所以要在移动端的样式下修改，<code>@media screen and (max-width: 800px)</code>即为移动端不同于pc端的样式，在移动端页面时，<code>@media screen and (max-width: 800px)</code>样式的权重是高于非<code>@media screen and (max-width: 800px)</code>下样式的权重的。<br><img src="21.png"></li>
<li>修改内容如下：</li>
</ul>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.wrap-side-operation</span> &#123;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.jump-container</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.icon-back</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#ccc</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.jump-container</span><span class="selector-pseudo">:active</span> <span class="selector-class">.icon-back</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">36</span>,<span class="number">193</span>,<span class="number">246</span>,.<span class="number">9</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>将<code>display: none</code>去掉添加<code>right: 0</code>,right控制按钮距离右面的距离，pc端样式right为40px,根据需要更改。以下图片为pc端<code>right: 40px</code>与移动端<code>rigth: 0</code>效果</li>
</ul>
<div><img width=49% src ="22.png"/> <img width=49% src ="23.png"/></div>

<ul>
<li>添加<code>.jump-container:hover .icon-back &#123;background: #ccc&#125;</code>和<code>.jump-container:active .icon-back &#123;background: rgba(36,193,246,.9)&#125;</code>的原因是修改点击返回顶部按钮样式。pc端样式代码：</li>
</ul>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.jump-container</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.icon-back</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">36</span>,<span class="number">193</span>,<span class="number">246</span>,.<span class="number">9</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>如果不单独添加那两段代码，移动端返回顶部按钮被点击时，按钮会变为蓝色，且不会还原(刷新页面后会还原)，pc端那个变蓝色是鼠标悬停样式，到移动端会出问题，也有可能会不变色。利用权重的关系，在移动端样式添加这两段代码，只在移动端生效。<code>:active</code>为鼠标单击时样式，<code>:hover</code>为鼠标悬停时样式。个人感觉<code>:active</code>更适用于移动端。</li>
<li><code>themes\yilia\source\main.0cf68a.js</code>文件中修改<code>(t || window).onscroll</code>。将<code>(t || window).onscroll</code>拆开，写成两个</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">t.<span class="property">onscroll</span> = <span class="title function_">r</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> a &amp;&amp; a.<span class="title function_">apply</span>(<span class="variable language_">this</span>, <span class="variable language_">arguments</span>),</span><br><span class="line">    <span class="title function_">o</span>()</span><br><span class="line">&#125;, <span class="number">100</span>),</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">onscroll</span> = <span class="title function_">r</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> a &amp;&amp; a.<span class="title function_">apply</span>(<span class="variable language_">this</span>, <span class="variable language_">arguments</span>),</span><br><span class="line">    <span class="title function_">o</span>()</span><br><span class="line">&#125;, <span class="number">100</span>),</span><br></pre></td></tr></table></figure>
<p>简写为</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">t.<span class="property">onscroll</span> = <span class="title function_">r</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> a &amp;&amp; a.<span class="title function_">apply</span>(<span class="variable language_">this</span>, <span class="variable language_">arguments</span>),</span><br><span class="line">    <span class="title function_">o</span>()</span><br><span class="line">&#125;, <span class="number">100</span>),</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">onscroll</span> = t.<span class="property">onscroll</span>,</span><br></pre></td></tr></table></figure>
<ul>
<li>修改后的函数为</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">189</span>: <span class="keyword">function</span>(<span class="params">e, t</span>) &#123;</span><br><span class="line">    <span class="string">&quot;use strict&quot;</span>;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">n</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title function_">o</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;js-jump-container&quot;</span>), <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;container&quot;</span>))</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> o = <span class="keyword">function</span>(<span class="params">e, t, n</span>) &#123;</span><br><span class="line">        <span class="keyword">function</span> <span class="title function_">o</span>(<span class="params"></span>) &#123;</span><br><span class="line">            e.<span class="property">style</span>.<span class="property">display</span> = (t.<span class="property">scrollTop</span> || <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span> || <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollTop</span>) &gt; (n || <span class="number">500</span>) ? <span class="string">&quot;block&quot;</span> : <span class="string">&quot;none&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">function</span> <span class="title function_">r</span>(<span class="params">e, t</span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> n = <span class="literal">null</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                <span class="keyword">var</span> o = <span class="variable language_">this</span></span><br><span class="line">                  , r = <span class="variable language_">arguments</span>;</span><br><span class="line">                n &amp;&amp; <span class="built_in">clearTimeout</span>(n),</span><br><span class="line">                n = <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> e &amp;&amp; e.<span class="title function_">apply</span>(o, r)</span><br><span class="line">                &#125;, t)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (e) &#123;</span><br><span class="line">            <span class="keyword">var</span> i = <span class="literal">null</span></span><br><span class="line">              , a = <span class="variable language_">window</span>.<span class="property">onscroll</span></span><br><span class="line">              , u = e.<span class="property">onclick</span>;</span><br><span class="line">            t.<span class="property">onscroll</span> = <span class="title function_">r</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                <span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> a &amp;&amp; a.<span class="title function_">apply</span>(<span class="variable language_">this</span>, <span class="variable language_">arguments</span>),</span><br><span class="line">                <span class="title function_">o</span>()</span><br><span class="line">            &#125;, <span class="number">100</span>),</span><br><span class="line">            <span class="variable language_">window</span>.<span class="property">onscroll</span> = t.<span class="property">onscroll</span>,</span><br><span class="line">            e.<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                <span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> u &amp;&amp; u.<span class="title function_">apply</span>(<span class="variable language_">this</span>, <span class="variable language_">arguments</span>);</span><br><span class="line">                t.<span class="property">scrollTop</span> || <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span> || <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollTop</span>;</span><br><span class="line">                i = <span class="built_in">setInterval</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                    <span class="keyword">var</span> e = t.<span class="property">scrollTop</span> || <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span> || <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollTop</span></span><br><span class="line">                      , n = <span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="number">10</span>, e / <span class="number">6</span>);</span><br><span class="line">                    e -= n,</span><br><span class="line">                    e &gt; <span class="number">0</span> ? (t.<span class="property">scrollTop</span> = t.<span class="property">scrollTop</span> - n,</span><br><span class="line">                    <span class="variable language_">window</span>.<span class="title function_">scrollTo</span>(<span class="number">0</span>, e)) : (t.<span class="property">scrollTop</span> = <span class="number">0</span>,</span><br><span class="line">                    <span class="variable language_">window</span>.<span class="title function_">scrollTo</span>(<span class="number">0</span>, <span class="number">0</span>),</span><br><span class="line">                    <span class="built_in">clearInterval</span>(i))</span><br><span class="line">                &#125;, <span class="number">10</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    e.<span class="property">exports</span> = &#123;</span><br><span class="line">        <span class="attr">init</span>: n</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<ul>
<li>到此，移动端返回顶部按钮添加成功（主题配置文件依然控制返回顶部按钮的实现）</li>
</ul>
<hr>
<p>通过几次修改主题功能做出以下总结：<br>1.开发者很用心，用到js的地方均有js标注，为查找函数省去了一定的麻烦<br>2.开发者也考虑到了部分标签在不同浏览器不兼容的情况，开发者运用的是<code>||</code>语句，这一点启发了我<br>3.ejs文件是导入html代码用的</p>
<hr>
<p><strong>主题的开发者好久没有更新主题了，有什么问题就要自己动手解决</strong></p>
<hr>
<p>以下内容为一个补充<br>想必大家有用hexo引用本地图片的吧<br>遇到如下情况解决方法<br>修改本地引用的图片，名字没有变，但是图片改了，浏览器预览后发现图片没有改，这时需要在git中输入</p>
<ul>
<li><code>hexo clean</code><br>之后再运行</li>
<li><code>hexo g -d</code><br>完事后，图片就换了</li>
</ul>
]]></content>
      <tags>
        <tag>博客</tag>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>《新白娘子传奇》观后感</title>
    <url>/2019/05/27/%E3%80%8A%E6%96%B0%E7%99%BD%E5%A8%98%E5%AD%90%E4%BC%A0%E5%A5%87%E3%80%8B%E8%A7%82%E5%90%8E%E6%84%9F/</url>
    <content><![CDATA[<h3 id="新版《新白娘子传奇》观后感"><a href="#新版《新白娘子传奇》观后感" class="headerlink" title="新版《新白娘子传奇》观后感"></a>新版《新白娘子传奇》观后感</h3><p>在阴差阳错中，无意间便与19年《新白娘子传奇》结下了缘分，看完了鞠婧祎饰演白素贞版的《新白娘子传奇》，特来评价一番。<br>以下内容为92版《新白娘子传奇》的介绍及感想和观看19年《新白娘子传奇》后的感想</p>
<span id="more"></span>
<p>先来看看92年《新白娘子传奇》的介绍</p>
<h4 id="92年《新白娘子传奇》介绍"><a href="#92年《新白娘子传奇》介绍" class="headerlink" title="92年《新白娘子传奇》介绍"></a>92年《新白娘子传奇》介绍</h4><h5 id="维基百科"><a href="#维基百科" class="headerlink" title="维基百科"></a>维基百科</h5><p>《新白娘子传奇》（英文：The Legend of White Snake） 是1992年11月5日至1993年1月13日首播的台湾电视公司八点档连续剧，全剧共50集，堪称是史上《白蛇传》相关的电视剧中为最经典、最受好评的版本。制作单位为景得传播，制作人为曹景德，导演为夏祖辉和何麒，编剧为贡敏、赵文川、方桂兰、何麒和夏祖辉，该剧也是中国大陆电视台重播率最高的电视剧之一。<br><strong>前期准备</strong><br>本剧主要以玉山主人所著作的中篇小说《雷峰塔传奇》与梦花馆主所著作的长篇小说《白蛇全传》为蓝本来编剧。剧中推陈出新之处在于基本每集都有很多由台湾知名音乐制作人左宏元谱曲的“新黄梅调”唱段，使该剧宛如一出连续音乐剧。<br>编剧贡敏原本决定把本剧设定为悲剧，写到白娘子被囚禁于雷峰塔后结尾。该剧原定为30集，后来制作方觉得效益不错，又决定把该剧内容加长到50集、把结局改为喜剧；但是贡敏并不满意这样的改动，因而与剧组不和而离开了剧组，导致了该剧编剧组混乱的局面。前7集剧本主要由贡敏执笔，为该剧打下了一定的基础；一直写到端午显形事件结束后就没有再写该剧的剧本了，所以后面的故事中慢慢的没有了黄梅调的唱段。之后从第8集写到第20集水漫金山事件结束的剧本由赵文川负责，然后从第20集到第30集的剧本由方桂兰接手执笔。接下来被加长的部分主要由何麒来执笔，而何冀平也在其中穿插着写了一两集的剧本。最后十集，由导演夏祖辉亲自上阵完成。由于这些关系，导致了该剧中的每段故事各有不同的写作风格。<br>台湾电视公司亦花美金6万多元从美国购置当时最先进的电视剧特效软件和设备，为该剧制作法术特效；以当时大中华区的电脑特效水准来说，此剧的电脑特效确实惊为天人。剧中三位主角均为香港明星来出演：许仙由叶童反串饰演，白娘子、青儿分别由赵雅芝、陈美琪扮演。<br><strong>拍摄和剧情介绍</strong><br>本剧前半部分（1到30集）是讲述白蛇和许仙的故事，赴杭州西湖、南京鸡鸣寺、瞻园实景拍摄；而后半部分（31到50集）则多是围绕在白蛇与许仙之子许仕林和玉兔精胡媚娘的爱情以及仕林救母两个主题。由于制作公司的预算和陈美琪档期已满而离开剧组等诸多原因，致使后半部的拍摄受到诸多限制，尤其是实景太少，多数在摄影棚里拍摄。<br><strong>前篇</strong><br>主要讲述一条修炼千年的白蛇下凡报恩于许仙，在人间与青蛇二人找到了许仙，并与许仙结为夫妻。两人在一起开了家药铺，一同济世救人。后遭到法海的阻挠，把白素贞镇压在雷峰塔之下，将一对恩爱的夫妻拆散的凄凉悲剧。<br><strong>后篇</strong><br>本剧的续篇。讲述许仙与白素贞之子许仕林长大成人，时刻为考科举而准备着；后与玉兔精胡媚娘相遇，两人便深深的相爱了。胡媚娘受到金钹法王的操控，企图暗中杀害仕林；之后媚娘因不忍心杀害仕林，而被金钹打死。之后仕林奋发图强高中状元，其孝心感天动地，救出了自己的娘亲。后篇很明显以喜剧来做本剧的最终结尾。</p>
<hr>
<p>很多人可能会问，为什么选维基百科呢？原因很简单，看完<strong>前期准备</strong>，你应该也能知道，维基百科上面有很多百度百科所没有的描写。92年《新白娘子传奇》总共有五位编剧，每段故事各有不同的写作风格。在此推荐一篇文章，里面有每位编剧负责的部分以及作者的一些个人感悟，推荐大家阅读一下，使自己对92版《新白娘子传奇》拥有更深入的了解。<br><a href="http://m.sohu.com/a/190904337_154166">五位编剧打成这样，还能把《新白娘子传奇》推向经典？（1273期）</a><br>贡敏原本设定的悲剧：白素贞被囚禁于雷峰塔后结尾。其实在播到白素贞被囚禁于雷峰塔后（也就是30集），法海对白素贞说过一句话：<strong>二十年后，文曲星中状元之时，便是你出塔之日。</strong>至于结局，最好由观众自己去脑补。喜欢什么样的结局，就脑补一个什么样的结局。虽然看似悲剧，但是大家已经知道二十年后娘子会和官人团聚，大家就不会那么伤感了。<br>最开始的剧本是写到白娘子被囚禁雷峰塔后结尾，把本剧结尾设定为悲剧，其实也不是完全的悲剧，可以让观众自己脑补。外界有很多的评论说最后许仙和白素贞得道成仙才是悲剧，现在来看，编剧方并没有这种想法，创作剧本的人可能认为白素贞出塔，许仙与白素贞小青、法海一起得道成仙是真正的喜剧。可是在我看来，我还是倾向于外界的说法，认为最后一起得道成仙是悲剧。很多的关于人、神、妖中的电视剧，里面都有明确说到人妖不能相爱，人神不能相爱，都是以这种的固定法则来讲述一个故事。《宝莲灯》突出的主题更加明显，里面还有什么修改天条，但是结局还算美好，天条改了，沉香一家团聚了，并且娶了自己想爱的人，我认为宝莲灯的结局算是真正的完美。<br>《新白娘子传奇》结局中，他们一起得道成仙，神仙和神仙应该是不能相爱的，也就是说许仙和白素贞的相亲相爱在得道成仙那一刻就停止了，并没有什么一生一世，这算是完美吗？我认为不算。<br>说到上面，我对自己产生了疑惑。真相究竟如何，特意又观看了一下92年的《新白娘子传奇》的最后一集，顿时感到自己错了，我赞同了编剧方的观点，结局是喜剧。为什么这么说呢？在后篇中，白素贞出塔条件已变为雷峰塔倒，西湖水干。但在结局中，白素贞出塔并非什么雷峰塔倒，西湖水干，而是他们一家的孝心感动了菩萨，观音菩萨说“<strong>汝母白素贞违背当年报恩之誓言，复又水漫金山，残害无数生灵，理应长禁雷峰塔中接受惩处，直到雷峰塔倒西湖水干方能出塔，本座念你一片至诚至孝之心，而白素贞先前亦行医济世，积修了不少功德，所以特来解其禁锢，赦其出塔</strong>”。观音菩萨特赦法海放出白素贞，并说“<strong>你与许仙尚有三天尘缘未了，你可前往金山寺接他回家团圆，待文曲星小登科之后，恩准你回到天庭</strong>”，从这就可以看出结局是一个喜剧。白素贞能回到天庭，此乃求之不得，相比理应长禁雷峰塔中接受惩处，绝对是喜剧。<br>92版《新白娘子传奇》，里面穿插了很多的故事，并非只是许仙和白素贞的爱情故事。在白素贞进塔后，几乎是讲述了一个全新的故事（虽然这是剧组临时加的，个别剧情出现了逻辑问题）。整部电视剧里面有很多的黄梅戏段，如音绕梁。贡敏执笔，为该剧打下了一定的基础，一直写到端午显形事件结束后就没有再写该剧的剧本了，所以后面的故事中慢慢没有了黄梅调的唱段，但是就是因为这些阴差阳错，把92版《新白娘子传奇》推向了经典。而且每集片尾曲中的剧情都是下一集的预告，这个设计也是很独特。<br>从前期准备可以看出，这部电视剧很有可能是边拍边播，前期播放感觉收益不错，才把原定的30集增加到50集，说到这里，解释一下，这部电视剧应该不是边拍边播，从第一集开头主题曲的剧情中可以看到白素贞进塔后的剧情，很显然，这部剧从播放时就已经拍完了。由于种种原因导致了剧组不和的情况发生，以至于出现了五位编剧，这可以说是当时拍摄电视剧的种种困难吧，看看经典版的《西游记》，拍摄的过程也是一路艰辛。那个时期拍摄出的电视剧虽然特效没有现在的好，画面没有现在的真实，但是依然获得了很高的收视率，里面讲述白娘子的故事可以说是百看不厌。加上里面的黄梅戏说唱，而且每个说唱都合情合景，绝对是这部电视剧的特色。我认为，把黄梅戏写入电视剧中而且最成功的一部作品，非《新白娘子传奇》莫属。<br>92版《新白娘子传奇》由于拍摄的时期，技术等原因，很多都是道具制作，而并不是现在的纯电脑制作，但是感觉比19版《新白娘子传奇》真实。19版太依赖于电脑制作，而使画面反而不真实。</p>
<h4 id="2019年《新白娘子传奇》"><a href="#2019年《新白娘子传奇》" class="headerlink" title="2019年《新白娘子传奇》"></a>2019年《新白娘子传奇》</h4><p>先来说一下自己怎么会想看这部电视剧吧。<br>前段时间手机浏览器经常会出现一些经典《新白娘子传奇》中西湖配音的片段。说实在的，人啊，在年少时真的是什么也不懂，最开始看经典《新白娘子传奇》时，傻傻地认为里面人物说话的声音都是人物自己的，相信有很多人跟我一样这样认为吧。在这里就此说一下吧，拍摄电视剧是有配音这个环节的，配音有自己演自己配的，也有演和配分开的。看了几个片段，顿时有了重温经典的想法。新版《新白娘子传奇》并非自己演自己配。<br>在爱奇艺上搜索新白娘子传奇，发现爱奇艺上的经典版需要会员才能看，顿时有点失望。仔细一看，竟然还有一个同名的电视剧，36集，主演：于朦胧、鞠婧祎、裴子添、肖燕。记得之前在爱奇艺里面看到过，反正经典需要会员看，不如直接看这个免费的。我与新版《新白娘子传奇》之间的缘分可能便来源于此吧。可以说看了便一发不可收拾，而且里面的白素贞很漂亮，是由鞠婧祎扮演。种种原因使我触发了追剧模式，自己硬逼着自己以最快的时间看完。看了一下才36集，对自己更加有了信心。演员的打扮很漂亮，服装设计也很好，这也是吸引我看下去的原因。我用了四天就看完了，真是一看便不可收拾。<br><strong>爱奇艺92版《新白娘子传奇》已改名为《新白娘子传奇赵雅芝版》</strong></p>
<h4 id="2019年《新白娘子传奇》的简单介绍"><a href="#2019年《新白娘子传奇》的简单介绍" class="headerlink" title="2019年《新白娘子传奇》的简单介绍"></a>2019年《新白娘子传奇》的简单介绍</h4><h5 id="百度百科"><a href="#百度百科" class="headerlink" title="百度百科"></a>百度百科</h5><p>《新白娘子传奇》是北京爱奇艺科技有限公司、中文在线联合出品的古装神话剧，由智磊执导、安以陌担任编剧，于朦胧、鞠婧祎领衔主演，裴子添、肖燕、聂子皓、虞朗、冯建宇、李林、曾韵蓁等联袂主演，叶童、陈美琪特别出演，谢君豪、黄恺杰、赵樱子、汤镇业、吴大维和王姬友情出演。<br>该剧获得台湾电视事业股份有限公司首次授权，并根据1992年版同名电视剧改编，讲述了凡人医者许仙和白蛇白素贞之间千年纠葛情缘的故事。<br>该剧于2019年4月3日在爱奇艺播出。<br><strong>剧情简介</strong><br>修炼千年的白素贞在峨眉山化形成功，收到观音大士的点化，决定入红尘历练，行善积德早日登仙。白素贞在对抗恶妖的过程中，与“临安小华佗”许仙相识，又与五百年蛇妖小青结拜为姐妹。白素贞与许仙彼此钟情，结为夫妻。端午节白素贞误喝雄黄酒，显出原形，令许仙以为白素贞被蛇吃而死。清醒过来的白素贞肝肠寸断，决定去昆仑山盗仙草让许仙还魂。经历了重重险阻，终于救活了许仙。<br>白素贞身为妖类的消息传遍临安城，受到百姓的排斥。许仙为了保护白素贞吞下邪药万灵丹，化成妖形，被法海带入金山寺。但白素贞产下幼子后，却因罪孽深重被关雷峰塔。白素贞因情被囚，许仙云游行医积善救妻，若夫妻团聚，除非雷峰塔倒，西湖水干。</p>
<p>很显然，这是一部爱奇艺自制剧，但是</p>
<blockquote>
<p>该剧获得台湾电视事业股份有限公司首次授权，并根据1992年版同名电视剧改编，讲述了凡人医者许仙和白蛇白素贞之间千年纠葛情缘的故事。</p>
</blockquote>
<p>获得首次授权，怪不得翻拍后名字没有任何改动，依然是《新白娘子传奇》。又是一部翻拍经典卖情怀的电视剧。<br>从剧情简介里可以简单地看出，这部电视剧并不是完全的翻拍，里面有新的故事。<br>这里有两篇评价新版《新白娘子传奇》的文章，如果感兴趣的话，可以点击<br><a href="https://mbd.baidu.com/newspage/data/landingshare?s_type=news&dsp=wise&context=%7B%22nid%22:%22news_9241353896492161217%22%7D&pageType=1&n_type=1&p_from=5">导演的脑子是被法海收了吗？《新白娘子传奇》真是新出天际</a><br><a href="http://movie.xunlei.com/reviews/128375">新白娘子传奇？弱智娘子传奇！</a><br>很多的文章都在评论说新版《新白娘子传奇》有多么的差，不要注意那些事情，如果感兴趣，自己就看下去。</p>
<p><strong>感想</strong><br>在此我来说说这部电视剧吧。<br>内容很新颖，利用经典的配乐以及翻唱的主题曲，看着电视剧，仿佛还是能找到那么一丁点92版的感觉。可能因为这部剧属于古装剧，里面有很多的诗词，其中包括但不限于<strong>陌上人如玉，玉色凝霜雪。雪映寒枝梅，梅香映皎月。山有木兮木有枝，心悦君兮君不知</strong>。有的诗句也真是让我长见识了。但是里面的情节设计也真是漏洞百出，不知道这编剧是怎么写的剧本。就拿许仙冲进着火的楼里去救人来说吧，那时的白素贞想要降个雨是多么困难，可是在后期的描写中，利用法术轻而易举地就降下雨了，这难道是把观众当傻子来看吗？还记得白素贞去取仙草救许仙，景松利用法宝使白素贞回到过去，撑到素贞回来时已不能维持人形而离开。在之后白素贞连续两次利用法宝带许仙回到过去，结果就是身体更加虚弱些，在这里，难道白素贞的道行比景松还高？我记得第一集可不是这么介绍的。说到这里，我就想笑了，这难道还是一部穿越剧？这剧本设计的，我也是无语了。当然不止这些，很多的情节设计没有逻辑性，这里就不一一介绍了，希望读者自己观看体会。<br>新版《新白娘子传奇》里面许仙与白素贞的相亲相爱我看着是挺羡慕的，可能这也是使我看完这部电视剧的原因吧。在白素贞要回蜀山，许仙送别白素贞，归还白姑娘那把雨伞，说了一句后会无期。这本没有什么特别，但是小青对姐姐说雨伞上有刻字，听着那两句诗，一脸懵。但是白素贞读完诗句便走了出去，让我顿时感到这两句诗一定别有深意。还记得那两句诗在上面有提到“<strong>山有木兮木有枝，心悦君兮君不知</strong>”，翻译过来的意思是<strong>山上有树木，而树上有树枝，（这人人都知道）， 可是我这么喜欢你啊，你却不知。</strong>看到这里我就明白了，编剧也真是很用心啊。里面的磕磕绊绊，人物的塑造，与经典版已大不相同，沿用的可能也就是那经典的名字和一些经典的西湖、保安丸、端午现形等，里面的内容几乎是重新创作。可能是编剧太想突出许白爱情，里面的剧情有很多的问题，有的内容设计的很不严谨，上面的文章也有提到。这里我要说一下，这部电视剧总共是36集，可能也就是最后一集不是在讲许白的爱情，那么多的穿插爱情关系都是在给许白爱情设置阻力，突出许白爱情以及许白爱情的不容易。<br>最后一集，可以说的上是讲述内容最多的一集。它讲述了92版后篇的大部分内容，很多内容均为一笔带过，很多观众评价：<strong>就像看幻灯片一样</strong>。白素贞出塔编剧也真是会设计。这里面小青变身成真龙把西湖水喝了，雷峰塔倒了！看到这，让我产生了疑惑？经典版白素贞出塔时雷峰塔倒了？西湖水干了？显然，这已是一个全新的故事。<br>这翻拍的也真是神了，已然是脱离了经典。新版结局还算美好，结局是以白素贞出塔后和许仙见面握手全剧终。设计了36集，前面的35集都是在讲白素贞进塔前的故事，进塔及进塔后的故事轻描淡写，里面许仕林救母细节想要舀干西湖水一带而过，许仕林的爱情直接没有。这部新版《新白娘子传奇》改编的也算是离谱，剧情这么大的变化，干脆还不如把经典版的<strong>后篇</strong>直接删了，改的更好些，弄什么水漫金山，直接以许仙和白素贞快快乐乐的生出孩子结局岂不更好。编剧不想脱离经典，但其实早已脱离了经典。</p>
<blockquote>
<p>“报恩”相遇改成“欢喜冤家”，是因为编剧安以陌担心现代观众不能接受报答一个人就必须要以身相许的观念，便希望剧情更契合现代年轻人的婚恋观。同时，除了描写婚姻中夫妻的恩爱外，开篇更多笔墨是写恋爱的状态，侧重于情窦初开的美好感觉，希望能够引起观众对爱情的共鸣。</p>
</blockquote>
<p>其实剧情里面有介绍，在许仙服下邪物万灵丹前与白素贞一起看灯许愿的情节中有介绍，许仙是那个牧童，白素贞是那条蛇。看来突出的重点变了，报恩的相遇改成了欢喜冤家。不想脱离经典，或者说不想对不起《新白娘子传奇》这个名字才加此情节吧。</p>
<p><strong>翻拍的《新白娘子传奇》已与92年的大不相同，开头引入许白爱情的过程，已不再是白素贞报恩，而是白素贞看到许仙以转世华佗骗人。中途的经典事件也是重新改编，包括西湖、蜈蚣精、水漫金山等等，有的仿佛是在还原92年《新白娘子传奇》的场景，有的则是另寻新意。法海由92年版的无情和尚变为能明辨是非的好和尚。小青由92年版的青蛇改为了半神，虽然还是青蛇，但是剧中介绍了青蛇的来历，以及最后编剧更是把小青修炼成一条青龙呈现给观众，并且还喝了西湖的水。白素贞出塔也是与众不同，由92年的观音菩萨特赦其出塔改为了雷锋塔倒，青龙喝了西湖的水，不知道水干没干，然后白素贞便出塔了。许仙在白素贞进塔后由92年版的出家改为了行医济世，结局由许仙等人成仙改为了许仙与白素贞出塔后的第一次见面。</strong><br>记得有文章说这里的特效太浓，开头竟然是以动画片的形式引入，这是拍古装还是在拍动画片？显然，现在拍的古装剧与90后年代拍摄的古装剧已完全不同，各种特效、还有相机的美颜、滤镜，大大改变了古装剧的风格，让人一下就能看出是现代版的古装剧，各种化妆、特效、滤镜、服装、造型。只希望现在所拍摄的古装剧不要太过于依赖电脑，弄一些电脑所做出来的3D动画加在里面，有网友这样评价：<strong>90年代的技术可以拍出又美又仙又烟火气的的白素贞，2019了，审美和技术水平却拍出网游版白素贞</strong>。<br>说到这，让我回想了一些事情。新版《新白娘子传奇》是属于古装剧还是神话剧，还是像经典版《新白娘子传奇》那样？新版《新白娘子传奇》在许仙猜出白素贞是蛇妖之前，可以说始终没有脱离古装剧。但是在许仙识别出白素贞身份后，这部电视剧直接就变了品味。许仙单方面了解鬼妖惧怕事物，还去看什么搜神记，这些种种想法体现了编剧的独特思路。在这部电视剧里，这些情节仿佛已经使人物的想法趋向于现代人的想法。经典版《新白娘子传奇》也有提及，但是它的内容没有像新版这样开放，比如说赵雅芝版最后一集中，皇上召见白素贞前还有想让白素贞带兵去打仗想法，但是召见后，并没有让其去带兵打仗，而是对其说明了自己的想法。回家后姐姐等人问白素贞皇上是不是很凶，白素贞对他们讲述了皇上想让其用魔法打仗，他们都在哈哈大笑，说皇上像小孩一样，真会开玩笑。可见经典版的情节始终没有脱离古装。到了这版，可以说都是上升到了神话剧，白素贞对许仙使法术，变花情节，飞天情节，去蜀山等等，真是让人眼前一亮。现在是只有你想不到的，没有做不到的。记得经典版的电视剧，牧童救白蛇，这是真正用实物去拍的，还有白蛇修炼成人形等等都可以看出像那么回事。但是到了这版，铺天盖地的动画拼接，真是省事，也没有了经典版的那种“真实”。脱离了这种“真实”，单方面增加那些电脑制作的动画，仿佛已使其脱离了经典。与经典版相比，可以说是发生了天翻地覆的变化，但是许白的爱情始终没有变。最近几年拍摄的白素贞与许仙相关的电视剧，虽然名字不同，但是官人与娘子忠贞不渝的爱情始终没有变。<br>全新的内容，几乎全新的创作思路，以及现代人对于那些神妖的想法，在本剧中可以说是体现的淋漓尽致，唯一那么一点的不足就是，就是剧情的变化不是那么严谨，稍微有一点乱。根据1992年版《新白娘子传奇》电视剧改编，却依然命名为《新白娘子传奇》，给人感觉是一种翻拍的感觉，但实际上却是全新的内容。倘如起一个新名字，豆瓣上的评分也不会那么低，而且滤镜、磨皮等美颜特效太浓，使其图像不真实，这也从侧面反映出了现在拍摄电视剧的特点。</p>
<h5 id="吐槽-引用文章大庭广众下许仙拉着白素贞手说-你这样有伤风化……"><a href="#吐槽-引用文章大庭广众下许仙拉着白素贞手说-你这样有伤风化……" class="headerlink" title="吐槽 引用文章大庭广众下许仙拉着白素贞手说:你这样有伤风化……"></a>吐槽 引用文章<a href="https://movie.douban.com/review/10088572/">大庭广众下许仙拉着白素贞手说:你这样有伤风化……</a></h5><p>这篇文章个人觉得作者说的句句有理。</p>
<blockquote>
<p>首先，我想说的是本文可能会让于朦胧、鞠婧祎等主演的粉丝感到不适，因为将会涉及到不少对新版《新白娘子传奇》的吐槽，但请相信，这些均和演员无关，如果无意中伤害到您，还请见谅。<br>千呼万唤始出来，新版《新白娘子传奇》终于和观众见面了。从宣布项目启动，到主演不断浮出水面，再到定档和延期再定档，该剧就备受关注；尤其是多次改档，更是让观众纠心，直至尘埃落定，观众才总算松下一口气，这部改编自92版《新白娘子传奇》的同名电视剧终于播出了。<br>为啥该剧会如此受观众期待呢？<br>其原因和92版《新白娘子传奇》脱不了干系。由赵雅芝、叶童和陈美琪主演的《新白娘子传奇》曾影响过几代观众，自首播到今日，该剧如86版《西游记》那般被无数次重播，几乎年年轰炸，观众对剧情虽耳熟能详，但每次看到剧集总不由自主地去看上一眼，每听到歌曲均驻足倾听一番，可见其魅力之大。<br>如果在1992年说92版《新白娘子传奇》是经典之作，或许是信口开河，毫无说服力，但在20多年后的今日再说，相信无人反对。时过20多年，该剧依然被观众铭记，甚至在每次的重播时都能取得不俗的收视率，这不仅仅是情怀能办到的，更不是观众的厚古薄今，而是因为剧集真的经典！<br>也正是92版《新白娘子传奇》的影响之大，所以新版《新白娘子传奇》打出“20多年来唯一一部授权翻拍92版《新白》口号”时它就在起点上高出了其它翻拍剧，就引起了各大媒体和粉丝的关注。<br>既然制作方想用“新白娘子传奇”来作噱头，想用流量来变现，那么就必定会引来观众将新老版本放在一起比较并质疑，所以就请粉丝们不要以“当成新剧来观看”作辩解。<br>原本对新版《新白娘子传奇》很是期待，但当片方放出主题曲时心中便有了些质疑。为啥？主题曲既然用了《千年等一回》为何要变调？这还是几十年来我们听惯了的经典歌曲？<br>这一做法让我想起了之前上映的《西游记之女儿国》，片中也用了《女儿情》，以符合当代口味为说法将曲调乱改，听起来阴阳怪调的。殊不知经典之所以为经典是因为它经得起考验，多年来流传下来自然有其独到之处。前不久《千年等一回》还以其歌中伴唱夹杂着“China”这种炽热的爱国之情引起过热评，如今却被胡编乱改，是觉得改编后的歌曲比原作更加好听，更加高明？倘若你真有超出原作的才华，为何要惜墨如金自己不去原创一首？观看该剧后才发现对经典歌曲如此改编在剧中多有出现，听起来总是有气无力，给人一种莫名其妙的感觉。<br>原本以为时过二十多年，新版《新白娘子传奇》将会弥补92版《新白》的不足，比如特效上会更加先进。然而一进入剧中就发现，只是将原来的五毛特效变成了六毛，我还以为自己一不小心进错了片场，看了一部动画片。<br>接着剧情一开始就突然来了个《青城山下白素贞》的唱段是什么情况？<br>歌曲是好听，但也请不要乱用啊！<br>难道忘了歌词后两句“忘求菩萨来点化，渡我素贞出凡尘”？<br>92版该唱段出现在白素贞拜观音之时，应情应景，而新版却在白素贞幻化人形时出现，自娱自乐！这让我想起了《封神演义》中乱用《西游记》中的诗词，画虎不成反类犬，怡笑大方。<br>与此相同的还有白素贞与许仙相遇时白素贞给许仙吹了口气后许仙娇羞萌发爱意这段，为了煽情，背景音乐出现了《西湖雨又风》。在92版《新白》中该歌曲包含有之前剧情中的“白娘子与许仙的宿世情缘”“断桥初遇”“雨伞做媒”等，但新版中没有这些内容，突然插入这首歌曲配乐适宜吗？<br>92版《新白娘子传奇》唱词、台词等都用词典雅古韵，满口余香，并且涉及各种国学知识；而剧情上也涉及了中国传统文化习俗。比如“歧黄之术”“陶朱之术”“凤凰于飞”“千里浮屠”“挤神仙”等典故数不胜数，再比如端午节、清明节等风俗让人获益良多。<br>甚至连婚礼的细节都能用短短的几句古典台词表现出来:一块檀香木，雕刻一马鞍，新人往上跨，步步保平安……<br>这些都是92版《新白娘子传奇》真正的精髓，历年来更是吸引许多国学爱好者对于剧集考证。<br>而新版中就完全没了这些特色。比如这段台词，“你才是妖精，你全家都是妖精”……看似搞笑，实则太过“口水胡闹”。<br>再比如，一开始景松和白蛇说俩人是“蛇鼠一窝”，成语这样用真的好吗？<br>还有这段:吓死我了，那和尚真凶，不过我跑什么啊，不就是个和尚吗？但是他要是追我的话，我当然得跑啦……这段台词似曾相识，哦，不就是《射雕英雄传》中郭靖的一个师傅教他的吗？郭靖是傻，所以面对强敌还有此一问，可白素贞你可已修行千年了啊！<br>再比如，“如意钻被窝”的剧情也是让人感到狗血，古代女子会有如此开放行径，更何况她还是大家闺秀，真把淫荡当痴情？<br>白蛇变蛇怎么一会大一会小？一会是巨蟒一会成了泥鳅？<br>还有许仙大庭广众下拉着白素贞手说:你这样有伤风化……那你干嘛还要拉一个不熟悉的姑娘家的手？<br>尽管白蛇的形象从害人的蛇妖到如今的白娘子经历过不同的演变，但在中国人心中她定型后的形象就是善良、勇敢的，她是中国民间四大传说之一《白蛇传》的女主。在这种形象下，白娘子应当是善良（她受到观音的点化）、温婉贤惠（她是柔弱的许仙的贤内助）、成熟稳重有气场（她是姐姐，是五鬼首领）的，92版《新白娘子传奇》中赵雅芝饰演的白娘子正是如此，表演中运用了传统戏曲中的动作，举手投足间都是优雅、富有亲和力，让人即想亲近又不敢亵渎。<br>再看新版《新白》中的白娘子形象，修炼千年的白蛇竟不懂人情世故，不会提箸用餐、没吃过熟食、连“华佗转世”是何意也不知？既然如此，那她又怎么会知道蜀中大旱、知道天竺高僧、知道伴生灵珠？哦，后来她告诉过小青自己看了百年的书？既然如此，又如何不知世间风情？逻辑前后矛盾。总之，白娘子懂得各种无关紧要的知识，但是要和许仙有接触时啥都不知道了，因为她要被设定成“傻白甜”。<br>倘真这样，我觉得可以直接从白素贞如何学会说话、如何学会认字开始拍。<br>杨紫版《天乩之白蛇传说》中将白娘子设定成“傻甜白”也就算了，毕竟它是另一个故事；但新版《新白娘子传奇》以92版《新白》为蓝本，也改成这样是什么情况？难道如今电视剧女主不成“傻甜白”导演就拍不出戏了？还是想让观众听得小青对白素贞骂上一句“真是条蠢蛇”？<br>《白蛇传》之所以在民间流传主要就是因为故事中的女主白素贞温柔善良，勇敢坚强，富有反抗精神。她爱上了柔弱的许仙，但能帮助他扬名立万；天条不允许人妖结合，但她能为了爱情而斗争反抗。千百年来，白娘子是许多人梦寐以求的妻子形象，而不是如今的这种“傻甜白”的形象！<br>新版《新白娘子传奇》在剧情上对92版进行魔改，没了“小白蛇与小牧童”的宿世情缘，没了“有缘千里来相会，须往西湖高处寻”的断桥初遇，没了“雨伞做红媒”，没了“小青盗库银”，没了“许仙遭难被发配”；济世堂的“吴人杰”成了势力小人，娇俏可爱的“吴玉莲”（金如意）成了刁蛮大小姐；姐夫李公甫不搞笑，姐姐许娇容没了存在感……<br>还有，原本娇俏有点任性的小青被改成了大大咧咧的逗逼女汉子形象真的好吗？<br>92版《新白娘子传奇》注重因果，主题是证道归真:人生易老好梦短，不如勤修把皮毛换，了无挂碍上灵山。<br>小牧童与小白蛇有千年前的宿缘，为了证道白娘子受观音点化才下凡报恩，也正是怀有报恩之念她才与许仙一见钟情，再见成婚。随后二人举案齐眉，相敬如宾，虽有一些第三者有意介入，但往往被二人拒之于萌芽之中。事业上夫妻同心，开药店与当地医师结怨，为帮许仙立威白娘子解鹤顶红名声大噪，小青盗宝得罪梁相国，梁相国请法海收妖，法海与青白二蛇今世结怨，白娘子水漫金山寺……这一切矛盾冲突有因有果，十分自然。<br>而新版《新白》没有了白娘子与许仙的宿世情缘，也就没有了今世相遇的因果。观音唆使白蛇到人间厮混，白娘子打假遇上许仙，欢喜冤家互生情愫；这种因果随着剧情来随意制造，来得很是牵强，难道想要得道飞升都要向人间走上一遭？难怪世间会有如此多的妖孽，这是要黑一黑观音大士的节奏？<br>还有剧情简介中透露，后来的剧情中许仙与白娘子之间多了景松及金如意的介入，四角恋情惹人厌烦。法海开天眼看到白娘子水漫金山寺，为阻止浩劫产生心魔，心魔作祟导致她最终水漫金山；事情结果成为事情起因，“穿越式”剧情俗套不堪。<br>如今的影视剧中，“傻白甜”与“多角恋情”早已不再吃香，多年来同样设定的偶像剧轮番轰炸已让观众反感，实在是不理解为何仍有编剧对其情有独钟，乐此不疲地拿来运用。<br>老版《新白》里的白素贞在被法海一步步引诱水漫金山寺后自责自己思虑不周、鲁莽行事、累及无辜，而新版却会扬言“如果今天许仙死了，我白素贞要全天下人给他陪葬……”<br>突然觉得法海真该收了新版白素贞，这种偏激的妖怪留不得。<br>新版《新白》几位主演的粉丝常常会说别人恶意来黑此剧，说别人厚古薄今，更是组织起来养号为新剧刷好评，将一切罪责迁怒于92版《新白》，跑到那里恶意刷差评，掩耳盗铃，既是如此，那就祝愿各位的偶像永远就接拍这样的剧，永远都用这种方式拍戏，没有成长，今时可以凭借颜值来赚取流量，十年后呢，二十年后呢？<br>既然说大家厚古薄今，先入为主，那么当年的《青蛇》依然是巅覆了传统“白蛇传”中的人物设定，初来人间也是不谙世事，为何人家会有如此深度，会有如此好的口碑？改编不是乱编，戏说不是胡说，《青蛇》中的二蛇那才是不谙世事，而不是“傻甜白”！还有同是翻拍同一IP，《小戏骨白蛇传》为何也会好评如潮？<br>情怀和厚古薄今从来不是翻拍的烂剧的遮羞布。<br>其实在该剧尚未播出某视频网站就厚此薄彼，在搜索“新白娘子传奇”时将该剧排在第一位并把92版《新白》改成“新白娘子传奇赵雅芝版”时就知道其对新版毫不自信，试图以此来避开92版《新白》锋芒；当新版《新白》制作方请来陈美琪和叶童客串，捆绑热度时就知道该剧的致胜点也仅仅是92版《新白》的情怀。<br>凄美的爱情传说改成了俗套的偶像玄幻剧，新版《新白娘子传奇》与92版孰优孰劣一目了然。假如非要给个观看的理由，那便是剧中养眼的帅哥美女。或许这里对该剧过于挑剔，还请见谅，但能否成为经典还是让时光来见证吧！<br>PS:《新白娘子传奇》中的白蛇是“白素贞”，是“白娘子”，是“白娘娘”，而不是“小白”，一条修炼千年的蛇粉丝们还天天把她当成孩子般“小白”“小白”的叫真的是听起来很恶心！</p>
</blockquote>
<h5 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h5><p>这部剧我觉得还是值得看的，里面白素贞为了帮官人不惜牺牲自己的性命，我看的也甚是感动。记得剧情中为救许仙姐姐和姐姐的孩子遭到许仙误解被许仙同法海等人联手将白素贞打回原形，还有许仙同法海等人一起帮白素贞重塑元神等等的情节，都能体现出许白爱情的不容易，这都是很好的看点。里面巧妙修改了经典中白素贞为许仙撑伞等情节，使得剧情更有看头，更符合现实。利用经典的背景音乐和自己独创的音乐，使得这部电视剧有些92年《新白娘子传奇》的味道，而且还能使人与经典版的音乐联系起来，使这部剧更有了看头。主题曲<strong>千年等一回</strong>、片尾曲<strong>渡情</strong>、插曲<strong>青城山下白素贞</strong>均由鞠婧祎演唱，听起来感觉还是不错的。内容里许白互相扶持，这种剧情是我很喜欢的。而且主角的颜值也很高，如果你注重颜值的话。白素贞在这里是典型的贤妻良母的形象，事事都为许仙考虑。尽管官人有时不理解她，不惜伤了素贞性命，但是白素贞都原谅了官人（唯独在水漫金山寺时对法海说的话有些偏激）。这可能也就是翻拍这部经典想向观众表达的主题吧。<br>爱奇艺的自制剧《新白娘子传奇》,里面的剧情设计还是挺让人感动的，而且只有36集，个人感觉更符合年轻人的口味，全新的内容，几乎全新的创作思路，观看的时候还能帮你重温经典，而且是一部不错的言情剧，其实我看完了一遍都有想看第二遍的想法，主要是第一遍只是单纯的追剧，并没有深刻体会到这部电视剧的内涵，以上的解读并不是很全面，多少会有一些片面性。<br>这部新版《新白娘子传奇》，运用了与92版《新白娘子传奇》几乎完全不同的思路来谱写剧情，还是很有新意的，推荐大家观看。<br>在此分享一篇知乎文章：<a href="https://www.zhihu.com/question/274997994">如何评价新版《新白娘子传奇》？</a>感兴趣可以点击。<br><strong>这篇文章到此就结束了，谢谢大家观看</strong></p>
<h3 id="音乐原声"><a href="#音乐原声" class="headerlink" title="音乐原声"></a>音乐原声</h3><p>主题曲：千年等一回</p>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=1351743803&auto=0&height=66"></iframe>

<p>片尾曲：渡情</p>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=1356074603&auto=0&height=66"></iframe>

<p>插曲：青城山下白素贞</p>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=1358915047&auto=0&height=66"></iframe>

<h3 id="影视原声"><a href="#影视原声" class="headerlink" title="影视原声"></a>影视原声</h3><p>千年等一回<br><a href="https://music.163.com/#/mv?id=10856957">网易云音乐MV</a><br>渡情<br><a href="https://music.163.com/#/mv?id=10861430">网易云音乐MV</a></p>
]]></content>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
  <entry>
    <title>java笔记</title>
    <url>/2019/05/21/java%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<p>java基础内容，总共十四次课</p>
<h2 id="java第一次课"><a href="#java第一次课" class="headerlink" title="java第一次课"></a>java第一次课</h2><h3 id="java"><a href="#java" class="headerlink" title="java"></a>java</h3><h4 id="什么是Java语言？"><a href="#什么是Java语言？" class="headerlink" title="什么是Java语言？"></a>什么是Java语言？</h4><p>是计算机语言，比如：c、c++、python、c#等等</p>
<span id="more"></span>
<h4 id="为什么学Java？"><a href="#为什么学Java？" class="headerlink" title="为什么学Java？"></a>为什么学Java？</h4><p>应用广，就业快，好！目前十五年内，Java还是前三名</p>
<h4 id="如何创建Java文件？"><a href="#如何创建Java文件？" class="headerlink" title="如何创建Java文件？"></a>如何创建Java文件？</h4><ul>
<li>jdk==《Java软件安装包》<br>在官网下载jdk,安装好jdk和jre,配置环境变量path值<br>jdk文件安装目录复制一个到bin的路径<br>计算机-&gt;属性-&gt;高级系统设置-&gt;环境变量-&gt;在path中编辑-&gt;新建-&gt;值就是你复制的路径</li>
<li>如何验证环境变量是否配置成功？<br>在cmd中输入<br>java -version<br>出现jdk版本号即为成功<h4 id="学习Java"><a href="#学习Java" class="headerlink" title="学习Java"></a>学习Java</h4>我们目前讲的是Java基础，相当于英文中的26个字母地位，如果26个字母没学会，Java基础之后就费劲了</li>
<li>Java的历史背景<br>Java是一门面向对象编程语言，不仅吸收了C++语言的各种优点，还摒弃了C++里难以理解的多继承、指针等概念，因此Java语言具有功能强大和简单易用两个特征。Java语言作为静态面向对象编程语言的代表，极好地实现了面向对象理论，允许程序员以优雅的思维方式进行复杂的编程。Java具有简单性、面向对象、分布式、健壮性、安全性、平台独立与可移植性、多线程、动态性等特点。Java可以编写桌面应用程序、Web应用程序、分布式系统和嵌入式系统应用程序等。</li>
<li>真正认识什么是Java代码<br>新建一个java文件<br>在cmd中输入<br>D：回车<code>---</code>进入指定的盘符D<br>cd 文件夹名 回车<code>---</code>进入指定的文件夹<br>编译命令：javac 文件.java 回车<br>你会看到生成一个文件.class文件<br>运行命令：java 文件</li>
<li>环境变量为什么要配置到bin文件夹？<br>bin文件夹中有java相关的exe文件<h4 id="eclipse编译快捷键"><a href="#eclipse编译快捷键" class="headerlink" title="eclipse编译快捷键"></a>eclipse编译快捷键</h4>main alt+? <code>---</code> 快速创建main方法<br>运行 ctrl+f11、右键run as、绿色按钮<br>syso alt+? <code>---</code> 快速创建System.out.println()<h4 id="正式进入Java基本语法"><a href="#正式进入Java基本语法" class="headerlink" title="正式进入Java基本语法"></a>正式进入Java基本语法</h4></li>
<li>学会注释<br>让看代码的人，能快速看懂代码，因为你可能去看别人的代码，有可能你代码也被别人看<br>// <code>---</code> 单行注释<br><code>/* */</code> <code>---</code> 多行注释<br><code>/** */</code> <code>---</code> 文档注释</li>
<li>什么是标识符（你自己代码中起名字的地方）<br>由数字、字母、_、$组成<br>不能由数字开头<br>不能是Java关键字<br>语义化，驼峰标识 首字母大写，其他的单词首字母也大写<br>目前来说，class后面的那个名首字母也大写</li>
<li>什么是关键字？<br>就是Java里面有一定意义的单词，都是小写字母<br>Java有两个保留关键字 const goto<h4 id="注意："><a href="#注意：" class="headerlink" title="注意："></a>注意：</h4>Java严重区分大小写<br>每一条语句都要以分号结束</li>
<li>Java有几种数据类型？<br>两种：基本数据类型和引用数据类型<br>8种基本数据类型<br>整形：byte(-128 ~ 127)，short(-2的15次方 ~ 2的15次方-1)，int(-2的31次方 ~ 2的31次方-1)，long(-2的63次方 ~ 2的63次方-1)<br>浮点：float，double<br>字符：char<br>布尔：boolean</li>
<li>问题：<br>整型默认是什么类型？<br>int类型 占用4个字节 1字节等于8bit 1字符占2字节<br>浮点默认是什么类型？<br>double<br>float后面加什么？ f<br>long后面加什么？ l<br>char后面都可以放什么？ 用单引号引起来的单个字符、数字、转义字符<br>boolean的值有什么？ true false</li>
<li>声明变量，变量三要素<br>数据类型 变量名 初始化值</li>
</ul>
<hr>
<h4 id="数据类型转换"><a href="#数据类型转换" class="headerlink" title="数据类型转换"></a>数据类型转换</h4><p>数据类型的大小 byte-short-char,int,long,float,double<br>1.表数范围小的向大的转换是 自动转换<br>2.表数范围大的向小的转换是 强制转换<br>3.short,byte,char在做运算的时候，自身先转换成int再运算<br>4.混合运算时，结果为最大的数据类型<br>5.boolean不参加运算</p>
<h4 id="Java的运算符"><a href="#Java的运算符" class="headerlink" title="Java的运算符"></a>Java的运算符</h4><p>1.算术运算符<br><code>+，-，*，/，%，++，--</code><br>/和%的区别？<br>%是余数，/是商<br>2.关系运算符<br><code>&gt;,&lt;,&gt;=,&lt;=,==,!=</code><br>3.逻辑运算符<br><code>&amp;，|，！，&amp;&amp;，||</code><br>&amp;与&amp;&amp;区别？<br>&amp;&amp;短路与，如果第一个式子为false，第二个式子不执行<br>4.扩展运算符<br><code>+=，-=，*=，/*</code><br>例子：a+=b 等价于 a=a+b<br>5.连接符 +<br>String类型的式子，遇到任何类型 结果都是String 类型<br>6.赋值符号 =<br>7.三目运算符<br>boolean表达式？值1:值2  如果前面的式子是真的，执行值1，否则执行值2</p>
<h4 id="程序设计结构"><a href="#程序设计结构" class="headerlink" title="程序设计结构"></a>程序设计结构</h4><p>1.顺序结构：自上而下，自左而右<br>2.分支<br>单分支</p>
<ul>
<li>if(){}else{}<br>多分支</li>
<li>if{}else if(){}…else{}</li>
</ul>
<hr>
<p><strong>以下是Java第一次课作业及答案</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1、再cmd 里 打印出，你个人的基本信息（例如：班级啦，姓名啦，专业啦等等）</span><br><span class="line">图片略</span><br><span class="line">源代码如下：</span><br><span class="line">public class Test1 &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		System.out.println(&quot;班级&quot;);</span><br><span class="line">		System.out.println(&quot;姓名&quot;);</span><br><span class="line">        System.out.println(&quot;专业&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">1. （标识符命名）下面几个变量中，那些是对的？那些是错的？错的请说明理由</span><br><span class="line">A. ILoveJava</span><br><span class="line">B. $20</span><br><span class="line">C. learn@java</span><br><span class="line">D. antony.lee</span><br><span class="line">E. Hello_World</span><br><span class="line">F. 2tigers</span><br><span class="line">答：A没有问题 B没有问题 C@不能用作标识符 D.不能用作标识符 E没有问题 F不能以数字开头</span><br><span class="line"></span><br><span class="line">1.（操作符）有如下代码：</span><br><span class="line">int a = 5;</span><br><span class="line">int b = (a++) + (--a) +(++a);</span><br><span class="line">问执行完之后，b 的结果是多少？</span><br><span class="line">答：16</span><br><span class="line"></span><br><span class="line">2. （基本类型的运算）一家商场在举行打折促销，所有商品都进行8 折优惠。一</span><br><span class="line">位程序员把这个逻辑写成：</span><br><span class="line">short price = ...; // 先计算出原价</span><br><span class="line">short realPrice = price * 8 / 10; //再计算出打折之后的价格</span><br><span class="line">问：这段代码是否正确？如果正确，假设price  为100 ，那计算之后的</span><br><span class="line">realPrice值为多少？如果不正确，应该怎么改正？</span><br><span class="line">把完整代码写出来</span><br><span class="line">答：不正确</span><br><span class="line">short realPrice = price * 8 / 10改为float realPrice = price * 8 / 10f</span><br><span class="line">完整代码</span><br><span class="line">public Price&#123;</span><br><span class="line">public static void main(String args[])&#123;</span><br><span class="line">short price=100;</span><br><span class="line">float realPrice = price * 8 / 10f;</span><br><span class="line">System.out.println(&quot;打折后的的价格为：&quot;+realPrice);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">3.关于运算符的作业</span><br><span class="line">	随机给出一个五位数的彩票号码（正整数），程序输出该彩票号码中的数字及相关信息</span><br><span class="line">		1）在主类的main方法中声明一个用于存放彩票号码的int型变量ticketNumber，以及</span><br><span class="line">    用于存放彩票号码中个位、十位、百位、千位和万位上数字的byte型变量a1、a2、a3、</span><br><span class="line">    a4和a5。</span><br><span class="line">                2）?依次求出ticketNumber中个位、十位、百位、千位和万位上的数字，并将这些数字依</span><br><span class="line">    次赋值给变量a1、a2、a3、a4和a5。</span><br><span class="line">                3）输出表达式a1+a2+a34-a4+a5的值。</span><br><span class="line">                4）输出表达式a1*a2*a3*a4*a5的值。</span><br><span class="line">答：Java程序代码</span><br><span class="line">public class Test1 &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		int ticketNumber=45555;</span><br><span class="line">		byte a1,a2,a3,a4,a5;</span><br><span class="line">		a1=(byte) (ticketNumber%10);</span><br><span class="line">		a2=(byte)(ticketNumber/10%10);</span><br><span class="line">		a3=(byte)(ticketNumber/100%10);</span><br><span class="line">		a4=(byte)(ticketNumber/1000%10);</span><br><span class="line">		a5=(byte)(ticketNumber/10000);</span><br><span class="line">		System.out.println(a1+a2+a3+a4+a5);</span><br><span class="line">		System.out.println(a1*a2*a3*a4*a5);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">1.（ if 语句） *中国的个税计算方法：</span><br><span class="line">应税所得为税前收入扣除2000 元（起征点），然后超出部分，按照以下税率</span><br><span class="line">收税：</span><br><span class="line">500 5%</span><br><span class="line">500-2000 10%</span><br><span class="line">2000-5000 15%</span><br><span class="line">5000-20000 20%</span><br><span class="line">20000-40000 25%</span><br><span class="line">40000-60000 30%</span><br><span class="line">60000-80000 35%</span><br><span class="line">80000-100000 40%</span><br><span class="line">100000 - ? 45%</span><br><span class="line">例：若月收入15000，则应税所得为15000-2000=13000；总的个人所得税为</span><br><span class="line">（ 13000-5000） *20% + （ 5000-2000） *15% + （ 2000-500） *10% + 500*5%= 2225</span><br><span class="line">要求：读入一个整数，表示税前收入，输出应当缴纳的个人所得税和税后实</span><br><span class="line">际收入。</span><br><span class="line">答：Java代码</span><br><span class="line">import java.util.*;</span><br><span class="line"></span><br><span class="line">public class Test1 &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		System.out.println(&quot;请输入月收入：&quot;);</span><br><span class="line">		Scanner sc=new Scanner(System.in);</span><br><span class="line">		int s=sc.nextInt();</span><br><span class="line">		int s1;</span><br><span class="line">		float s2,s3;</span><br><span class="line">		if(s&gt;2000) &#123;</span><br><span class="line">			s1=s-2000;</span><br><span class="line">			if(s1&lt;=500) &#123;</span><br><span class="line">				s2=s1*0.05f;</span><br><span class="line">				s3=(float)(s-s2);</span><br><span class="line">				System.out.println(&quot;应当缴纳的个人的所得税为：&quot;+s2);</span><br><span class="line">				System.out.println(&quot;税后实际收入为：&quot;+s3);</span><br><span class="line">			&#125;</span><br><span class="line">			else if(s1&gt;500&amp;s1&lt;2000) &#123;</span><br><span class="line">				s2=(float)((s1-500)*0.1+500*0.05);</span><br><span class="line">				s3=(float)(s-s2);</span><br><span class="line">				System.out.println(&quot;应当缴纳的个人的所得税为：&quot;+s2);</span><br><span class="line">				System.out.println(&quot;税后实际收入为：&quot;+s3);</span><br><span class="line">			&#125;</span><br><span class="line">			else if(s1&gt;=2000&amp;&amp;s1&lt;5000) &#123;</span><br><span class="line">				s2=(float)((s1-2000)*0.15+(2000-500)*0.1+500*0.05);</span><br><span class="line">				s3=(float)(s-s2);</span><br><span class="line">				System.out.println(&quot;应当缴纳的个人的所得税为：&quot;+s2);</span><br><span class="line">				System.out.println(&quot;税后实际收入为：&quot;+s3);</span><br><span class="line">			&#125;</span><br><span class="line">			else if(s1&gt;=5000&amp;&amp;s1&lt;20000) &#123;</span><br><span class="line">				s2=(float)((s1-5000)*0.2+(5000-2000)*0.15+(2000-500)*0.1+500*0.05);</span><br><span class="line">				s3=(float)(s-s2);</span><br><span class="line">				System.out.println(&quot;应当缴纳的个人的所得税为：&quot;+s2);</span><br><span class="line">				System.out.println(&quot;税后实际收入为：&quot;+s3);</span><br><span class="line">			&#125;</span><br><span class="line">			else if(s1&gt;=20000&amp;&amp;s1&lt;40000) &#123;</span><br><span class="line">				s2=(float)((s1-20000)*0.25+(20000-5000)*0.2+(5000-2000)*0.15+(2000-500)*0.1+500*0.05);</span><br><span class="line">				s3=(float)(s-s2);</span><br><span class="line">				System.out.println(&quot;应当缴纳的个人的所得税为：&quot;+s2);</span><br><span class="line">				System.out.println(&quot;税后实际收入为：&quot;+s3);</span><br><span class="line">			&#125;</span><br><span class="line">			else if(s1&gt;=40000&amp;&amp;s1&lt;60000) &#123;</span><br><span class="line">				s2=(float)((s1-40000)*0.3+(40000-20000)*0.25+(20000-5000)*0.2+(5000-2000)*0.15+(2000-500)*0.1+500*0.05);</span><br><span class="line">				s3=(float)(s-s2);</span><br><span class="line">				System.out.println(&quot;应当缴纳的个人的所得税为：&quot;+s2);</span><br><span class="line">				System.out.println(&quot;税后实际收入为：&quot;+s3);</span><br><span class="line">			&#125;</span><br><span class="line">			else if(s1&gt;=60000&amp;&amp;s1&gt;80000) &#123;</span><br><span class="line">				s2=(float)((s1-60000)*0.35+(60000-40000)*0.3+(40000-20000)*0.25+(20000-5000)*0.2+(5000-2000)*0.15+(2000-500)*0.1+500*0.05);</span><br><span class="line">				s3=(float)(s-s2);</span><br><span class="line">				System.out.println(&quot;应当缴纳的个人的所得税为：&quot;+s2);</span><br><span class="line">				System.out.println(&quot;税后实际收入为：&quot;+s3);</span><br><span class="line">			&#125;</span><br><span class="line">			else if(s1&gt;=80000&amp;&amp;s1&lt;100000) &#123;</span><br><span class="line">				s2=(float)((s1-80000)*0.4+(80000-60000)*0.35+(60000-40000)*0.3+(40000-20000)*0.25+(20000-5000)*0.2+(5000-2000)*0.15+(2000-500)*0.1+500*0.05);</span><br><span class="line">				s3=(float)(s-s2);</span><br><span class="line">				System.out.println(&quot;应当缴纳的个人的所得税为：&quot;+s2);</span><br><span class="line">				System.out.println(&quot;税后实际收入为：&quot;+s3);</span><br><span class="line">			&#125;</span><br><span class="line">			else &#123;</span><br><span class="line">				s2=(float)((s1-100000)*0.45+(100000-80000)*0.4+(80000-60000)*0.35+(60000-40000)*0.3+(40000-20000)*0.25+(20000-5000)*0.2+(5000-2000)*0.15+(2000-500)*0.1+500*0.05);</span><br><span class="line">				s3=(float)(s-s2);</span><br><span class="line">				System.out.println(&quot;应当缴纳的个人的所得税为：&quot;+s2);</span><br><span class="line">				System.out.println(&quot;税后实际收入为：&quot;+s3);</span><br><span class="line">			&#125;	</span><br><span class="line">		&#125;</span><br><span class="line">		else &#123;</span><br><span class="line">			System.out.println(&quot;应当缴纳的个人的所得税为：0&quot;);</span><br><span class="line">			System.out.println(&quot;税后实际收入为：&quot;+s);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="java第二次课"><a href="#java第二次课" class="headerlink" title="java第二次课"></a>java第二次课</h2><h3 id="上节课回顾"><a href="#上节课回顾" class="headerlink" title="上节课回顾"></a>上节课回顾</h3><p>1.变量的三要素<br>数据类型  变量名  初始化值<br>2.数据类型都有什么？<br>基本数据类型 和 引用数据类型<br>基本数据类型有：<br>整型：byte short int long<br>默认是int 占四个字节 一个字节占八位（bit）<br>byte -128~127<br>long 后面必须加 l<br>浮点：double float<br>默认是double<br>float 后面必须加 f<br>字符：char<br>单引号引起来的单个字符<br>ASII码<br>“&quot; 转义字符<br>布尔：boolean<br>true 和 false<br>3.数据类型转换规则<br>char,byte,short,在运算时，先把自身转换成 int 再运算<br>小的向大的转换   自动转换<br>大的向小的转换   强制转换<br>混合运算，结果是最大的数据类型<br>boolean 不参加转换<br>4.运算符<br>&amp; 与 &amp;&amp; 的区别<br>&amp;&amp; 如果第一个表达式是错的，对整个式子有影响，第二个式子就不执行了，提高效率<br>5.程序设计结构<br>顺序和分支<br>分支包括：<br>单分支：if(boolean类型)<br>多分支：if(){} else if(){} … else{}</p>
<h3 id="本次课主要内容"><a href="#本次课主要内容" class="headerlink" title="本次课主要内容"></a>本次课主要内容</h3><h4 id="多分支"><a href="#多分支" class="headerlink" title="多分支"></a>多分支</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">switch(常量表达式)&#123;</span><br><span class="line">    case 常量1 :语句;</span><br><span class="line">    case 常量2 :语句;</span><br><span class="line">    case 常量3 :语句;</span><br><span class="line">    ...</span><br><span class="line">    case 常量n:语句;</span><br><span class="line">    default :语句;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>常量表达式只能是 int 兼容的（short byte char int）,jdk1.5能放枚举，jdk1.7能放 String<br>问题：switch 和 else if 区别<br>答：switch 里面放的是定值，else if 放的是区间值</p>
<h4 id="循环结构"><a href="#循环结构" class="headerlink" title="循环结构"></a>循环结构</h4><p>for,  while,  do while<br>它们三个区别？<br>什么时候用 for ：当知道具体循环次数的时候用 for<br>什么时候用 while ：不知道循环次数<br>什么时候用 do while ：首次条件不成立，也想执行<br><strong>跳出语句</strong><br>break 跳出整个循环<br>continue 跳出当次循环，然后继续循环</p>
<h4 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h4><p><strong>1.为什么要学习数组？</strong><br>方便查询一些数据和管理数据<br><strong>2.数组的含义</strong><br>相同数据类型，统一管理<br><strong>3.声明数组的方式</strong><br>动态声明<br><code>数据类型 [] 数组名=new 数据类型[长度] </code><br>注意：这个长度一定要给<br>例子：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int [] a = new int[3];//创建一个长度为三的名为a的数组</span><br><span class="line">int a [] = new int[3];//[]位置可以在数组名前或名后</span><br></pre></td></tr></table></figure>
<p>静态声明<br><code>int [] a=&#123;1,2,3&#125;;</code><br>对 <code>new 数据类型[长度]</code> 直接进行赋值<br><strong>4.如何访问数组里面的元素</strong><br>利用下标从0开始到长度-1<br><strong>5.数组有个属性：长度</strong><br>数组名.length<br><strong>6.冒泡排序的原理以及写法</strong><br>相邻两个数比较<br>两层for循环<br>外侧for 控制循环的趟数<br>内侧for 控制每趟的次数<br>例子：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class TestMaoPao &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		// 我们对于下面的数组进行从小到大的排序，利用冒泡</span><br><span class="line">		int [] arr=&#123;5,2,6,3,1&#125;;</span><br><span class="line">	/*</span><br><span class="line">	 * 分析</span><br><span class="line">	 * 冒泡 原理：  比较相邻俩个数的大小</span><br><span class="line">	 */</span><br><span class="line">		for(int i=0;i&lt;arr.length-1;i++)&#123;</span><br><span class="line">			for(int j=0;j&lt;arr.length-1-i;j++)&#123;</span><br><span class="line">				// 比较相邻的俩个数 </span><br><span class="line">				int temp=0;</span><br><span class="line">				if(arr[j]&gt;arr[j+1])&#123;</span><br><span class="line">					// temp是空的</span><br><span class="line">					temp= arr[j];</span><br><span class="line">					// arr[j]空了</span><br><span class="line">					arr[j]=arr[j+1];</span><br><span class="line">					arr[j+1]=temp;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		//利用for循环输出数组 arr</span><br><span class="line">		for(int i=0;i&lt;arr.length;i++)&#123;</span><br><span class="line">			System.out.print(arr[i]+&quot;  &quot;);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>7.二维数组</strong><br>比一维数组写法上多了一个中括号<br>注意：二维数组里的长度，一定要从高维向低维给长度<br><strong>8.如果数组里面的元素，没有显示的赋值，系统提供默认的初始值</strong><br>整型 0，浮点 0.0，boolean 是false,String 是null;<br><strong>9.数组属于什么数据类型呢？</strong><br>引用数据类型，java除了8种基本数据类型之外，其他都是引用数据类型<br><strong>10.数组的扩容</strong><br>System.arraycopy(原数组,从原数据哪里开始复制,目标数组,从目标数组哪里粘贴,粘贴的长度);<br>例子：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class TestShuZuKuoRong &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		int [] arr=&#123;3,2,5&#125;;</span><br><span class="line">		// 我的需求 现在想要 再添加2个元素</span><br><span class="line">		int [] dest=new int[arr.length*2];//创建一个新数组dest 使长度为原数组的2倍</span><br><span class="line">		System.out.println(dest[0]);//此时输出的数组值为0</span><br><span class="line">		System.arraycopy(arr, 0, dest, 0, arr.length);//数组扩容</span><br><span class="line">        //添加两个元素</span><br><span class="line">		dest[3]=6;</span><br><span class="line">		dest[4]=9;</span><br><span class="line">        //扩容后的数组进行输出</span><br><span class="line">		for(int i=0;i&lt;dest.length;i++)&#123;</span><br><span class="line">			System.out.print(dest[i]+&quot;  &quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h4><p><strong>1.为什么学习函数</strong><br>方便管理  完成特定的代码块就是函数<br><strong>2.函数的格式</strong><br>public static 返回值类型 方法名(参数){<br>    return 语句；<br>}<br>返回值类型：<br>8种基本数据类型<br>引用数据类型<br>void<br>例子：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class TestMethod &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		// 有一个需求 ，要打印 50个 $符号</span><br><span class="line">        //调用函数getChar</span><br><span class="line">		getChar(50, &#x27;$&#x27;);</span><br><span class="line">		System.out.println();</span><br><span class="line">		// 2.0版本 更改需求 ，要输出 100个 #号</span><br><span class="line">		getChar(100, &#x27;#&#x27;);</span><br><span class="line">		System.out.println();</span><br><span class="line">		//  要输出  30个 @符号</span><br><span class="line">		getChar(30, &#x27;@&#x27;);</span><br><span class="line">		getChar(70, &#x27;我&#x27;); // 函数的调用 </span><br><span class="line">		System.out.println();</span><br><span class="line">        //将sum函数返回值赋值给result</span><br><span class="line">		double result=	sum(1, 1);</span><br><span class="line">		System.out.println(result);</span><br><span class="line">        //将getName函数返回值赋值给name</span><br><span class="line">		String name=getName();</span><br><span class="line">		System.out.println(name);</span><br><span class="line">		System.out.println(sum(100, 100));</span><br><span class="line">	&#125;</span><br><span class="line">	// 函数 </span><br><span class="line">	public static  void getChar(int num,char c)&#123;</span><br><span class="line">		for(int i=1;i&lt;=num;i++)&#123;</span><br><span class="line">			System.out.print(c);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	// 求2个数的和？</span><br><span class="line">	public static double sum(int a,int b)&#123;</span><br><span class="line">		return a+b;	</span><br><span class="line">	&#125;</span><br><span class="line">	// 显示你自己的姓名 </span><br><span class="line">	public static String getName()&#123;</span><br><span class="line">		return &quot;奥特曼&quot;;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>函数命名规范<br>多由两个英文单词组成：第一个英文单词小写，第二个英文单词首字母大写，第三个英文单词首字母大写，以此类推<br>如果是一个英文单词，不需要大写<br>例子：<br>getChar()<br>name()</p>
<hr>
<p><strong>以下是Java第二次作业及答案</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1、一球从100米高度自由落下，每次落地后反跳回原高度的一半；再落下，求它在     第10次落地时，共经过多少米？第10次反弹多高？ </span><br><span class="line">public class Test1 &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		//定义初始高度s,每次弹起时高度n,走过的路程sum</span><br><span class="line">		float s=100.0f,n=0,sum=0;</span><br><span class="line">		int i; </span><br><span class="line">		for(i=1;i&lt;=10;i++) &#123; </span><br><span class="line">		n=s/2;//s为初始高度，n为每次谈起的高度 </span><br><span class="line">		sum=sum+s+n; //sum初始值为0 </span><br><span class="line">		s=n;//变化下一次的弹起的初始高度 </span><br><span class="line">		&#125;</span><br><span class="line">		//输出结果</span><br><span class="line">		System.out.println(&quot;第10次落地时，共经过多少米:&quot;+sum);</span><br><span class="line">		System.out.println(&quot;第10次反弹多高：&quot;+n);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">2、现在用程序完成如下要求</span><br><span class="line">利用键盘输入 你个人的 三门学科成绩，然后，分别求出 三科成绩的平均分，最低分，最高分，三科的总分（友情提示：利用方法）</span><br><span class="line">import java.util.Scanner;</span><br><span class="line"></span><br><span class="line">public class Test1 &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		System.out.println(&quot;请依次输入三门学科成绩：&quot;);</span><br><span class="line">		Scanner sc = new Scanner(System.in);</span><br><span class="line">		//将这三门学科成绩依次赋值给a,b,c</span><br><span class="line">		int a = sc.nextInt();</span><br><span class="line">        int b = sc.nextInt();</span><br><span class="line">        int c = sc.nextInt();</span><br><span class="line">        //调用getSum方法</span><br><span class="line">        getSum(a,b,c);</span><br><span class="line">	&#125;</span><br><span class="line">	public static void getSum(int a,int b,int c) &#123;</span><br><span class="line">		//对a,b,c从大到小排序</span><br><span class="line">		if(a&lt;b) &#123;</span><br><span class="line">			int t=a;</span><br><span class="line">			a=b;</span><br><span class="line">			b=t;</span><br><span class="line">		&#125;</span><br><span class="line">		if(a&lt;c) &#123;</span><br><span class="line">			int t=a;</span><br><span class="line">			a=c;</span><br><span class="line">			c=t;</span><br><span class="line">		&#125;</span><br><span class="line">		if(b&lt;c) &#123;</span><br><span class="line">			int t=b;</span><br><span class="line">			b=c;</span><br><span class="line">			c=t;</span><br><span class="line">		&#125;</span><br><span class="line">		//平均分</span><br><span class="line">		float s1=(a+b+c)/3f;</span><br><span class="line">		//总分</span><br><span class="line">		int s2=a+b+c;</span><br><span class="line">		System.out.println(&quot;平均分：&quot;+s1+&quot;最高分：&quot;+a+&quot;最低分&quot;+c+&quot;总分&quot;+s2);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">3、将下面给定的数组转置输出</span><br><span class="line">   例如   原数组： 1,2,3,4,5,6</span><br><span class="line">		  转置之后的数组： 6,,5,4,3,2,1</span><br><span class="line">答：我认为这道题是对应位置互换</span><br><span class="line">import java.util.Scanner;</span><br><span class="line"></span><br><span class="line">public class Test1 &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		int n, i, t;</span><br><span class="line">		Scanner sc = new Scanner(System.in);</span><br><span class="line">		// 获取数组长度</span><br><span class="line">		n = sc.nextInt();</span><br><span class="line">		int[] a = new int[n];</span><br><span class="line">		for (i = 0; i &lt; n; i++) &#123;</span><br><span class="line">			//对数组进行赋值</span><br><span class="line">			a[i] = sc.nextInt();</span><br><span class="line">		&#125;</span><br><span class="line">		//数组转置,第一个与最后一个换，第二个与倒数第二个换，以此类推</span><br><span class="line">		for (i = 0; i &lt; n / 2; i++) &#123;</span><br><span class="line">			t = a[i];</span><br><span class="line">			a[i] = a[n-1-i];</span><br><span class="line">			a[n-1-i] = t;</span><br><span class="line">		&#125;</span><br><span class="line">		//转制后的数组输出</span><br><span class="line">		for (i = 0; i &lt; n; i++)</span><br><span class="line">			System.out.print(a[i]+&quot; &quot; );</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">4、现在有如下2个数组</span><br><span class="line"> 数组A： “1,7,5,7,9,2,21,13,45”</span><br><span class="line"> 数组B：  “2,5,8,14,21”</span><br><span class="line">将俩个数组合并为数组C，按顺序排列输出</span><br><span class="line">public class Test1 &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		//定义两个数组a,b</span><br><span class="line">		int [] a= &#123;1,7,5,7,9,2,21,13,45&#125;;</span><br><span class="line">		int [] b= &#123;2,5,8,14,21&#125;;</span><br><span class="line">		//创建数组c</span><br><span class="line">		int [] c=new int[a.length+b.length];</span><br><span class="line">		//对数组c进行赋值</span><br><span class="line">		for(int i=0;i&lt;a.length;i++) &#123;</span><br><span class="line">			c[i]=a[i];</span><br><span class="line">		&#125;</span><br><span class="line">		for(int i=0;i&lt;b.length;i++) &#123;</span><br><span class="line">			c[a.length+i]=b[i];</span><br><span class="line">		&#125;</span><br><span class="line">		//c数组进行输出</span><br><span class="line">		for (int i = 0; i &lt; c.length; i++)</span><br><span class="line">			System.out.print(c[i]+&quot; &quot; );</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="java第三次课"><a href="#java第三次课" class="headerlink" title="java第三次课"></a>java第三次课</h2><h3 id="回顾"><a href="#回顾" class="headerlink" title="回顾"></a>回顾</h3><p>1.数组的定义？<br>统一管理相同的数据类型<br>2.数组的声明方式？<br>静态声明<br>动态声明 必须 给长度<br>3.数组的使用？<br>通过下标，下标从0 到 n-1<br>4.数组长度属性？<br>数组名.length<br>5.冒泡原理？<br>相邻两个数比较<br>6.数组有没有默认值？<br>如果你没有显示给赋值，系统默认有值，int 是 0，String 是 null</p>
<h4 id="方法的格式？"><a href="#方法的格式？" class="headerlink" title="方法的格式？"></a>方法的格式？</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public static 返回值类型 方法名(参数列表)&#123;</span><br><span class="line">    return 语句；</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="返回值类型都可以有什么类型？"><a href="#返回值类型都可以有什么类型？" class="headerlink" title="返回值类型都可以有什么类型？"></a>返回值类型都可以有什么类型？</h4><p>1.8种基本数据类型<br>2.void<br>3.引用类型</p>
<h3 id="本次课主要内容-1"><a href="#本次课主要内容-1" class="headerlink" title="本次课主要内容"></a>本次课主要内容</h3><h4 id="方法重载"><a href="#方法重载" class="headerlink" title="方法重载"></a>方法重载</h4><p>1.什么是方法重载？<br>方法名必须相同，参数列表必须不同(数据类型，个数)，返回值类型是否相同不影响重载<br>2.方法重载的好处？<br>方法重载就是为这种方法提供多种可能性。<br>例子</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class TestOverLoad &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		sum(1, 1);</span><br><span class="line">	&#125;</span><br><span class="line">	// 完成 2个数的和</span><br><span class="line">	public static double sum(int a,int b)&#123;</span><br><span class="line">		return a+b;</span><br><span class="line">	&#125;</span><br><span class="line">	// 完成 3个数的和</span><br><span class="line">	public static double sum(int a,int b,int c)&#123;</span><br><span class="line">		return a+b;</span><br><span class="line">	&#125;</span><br><span class="line">	// 完成 2个 浮点 和</span><br><span class="line">	public static float sum(double a,float b)&#123;</span><br><span class="line">		return (float)(a+b);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h4><p>Java语言中，万事万物结为对象<br>所有对象抽象出来的共同点就是类<br>在代码中，先有类，才有对象</p>
<h5 id="1-类里面有什么？"><a href="#1-类里面有什么？" class="headerlink" title="1.类里面有什么？"></a>1.类里面有什么？</h5><p>属性(变量)和功能(方法)<br><strong>方法的格式？</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public 返回值类型 方法名(参数列表)&#123;</span><br><span class="line">    return 语句</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>例子</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class Person &#123;</span><br><span class="line">	 // 属性 </span><br><span class="line">	String name;</span><br><span class="line">	int  height;</span><br><span class="line">	char  sex;</span><br><span class="line">	</span><br><span class="line">	// 功能 </span><br><span class="line">	public void eat()&#123;</span><br><span class="line">		System.out.println(&quot;我们可以吃&quot;);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	// 跑</span><br><span class="line">	public void run()&#123;</span><br><span class="line">		System.out.println(&quot;跑&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="java第四次课"><a href="#java第四次课" class="headerlink" title="java第四次课"></a>java第四次课</h2><h3 id="回顾-1"><a href="#回顾-1" class="headerlink" title="回顾"></a>回顾</h3><p>1.类里面有什么？<br>属性 和 功能<br>属性：变量    功能：方法<br>2.变量声明格式？（变量三要素）<br>数据类型 变量名 初始值<br>3.方法的格式？<br>public 返回值类型 方法名(参数列表){<br>    return 语句;<br>}</p>
<h3 id="本次课主要内容-2"><a href="#本次课主要内容-2" class="headerlink" title="本次课主要内容"></a>本次课主要内容</h3><h4 id="变量的分类"><a href="#变量的分类" class="headerlink" title="变量的分类"></a>变量的分类</h4><p>局部变量：在方法内，语句块内的变量是局部变量<br>全局变量（成员变量）：在方法外，类体内是成员变量<br>区别：局部变量使用前，必须赋初始值<br>成员变量，如果没有赋初始值，系统默认提供初始值，和数组的元素一样<br>整形是0 浮点是0.0 String是null<br>局部变量作用域只在临近大括号内有效</p>
<h4 id="创建对象方法？"><a href="#创建对象方法？" class="headerlink" title="创建对象方法？"></a>创建对象方法？</h4><p>类名 对象名=new 类名();</p>
<h4 id="调用类里面的成员"><a href="#调用类里面的成员" class="headerlink" title="调用类里面的成员"></a>调用类里面的成员</h4><p>对象名.成员(属性和功能)</p>
<h4 id="构造方法"><a href="#构造方法" class="headerlink" title="构造方法"></a>构造方法</h4><p>方法的标志   小括号()   数组标志   中括号[]<br>构造方法的格式</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public 类名()&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>注意：构造方法没有返回值类型！方法名必须和类名相同<br>构造方法的规则？<br>构造方法不用程序员手动调用，系统在创建对象时自动调用<br>如果没有显式声明构造方法，系统默认提供一个无参的构造<br>构造方法的作用？<br>1.初始化对象<br>2.给成员变量赋初始值，创建对象</p>
<h4 id="关键字-this"><a href="#关键字-this" class="headerlink" title="关键字 this"></a>关键字 this</h4><p>代表当前对象，区分成员变量和局部变量重名的问题</p>
<h3 id="面向对象的三（四）大特征"><a href="#面向对象的三（四）大特征" class="headerlink" title="面向对象的三（四）大特征"></a>面向对象的三（四）大特征</h3><p>封装 继承 多态 （抽象）</p>
<h4 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h4><p>把一样东西，包装起来，目的是为了保证里面的东西安全<br>总结：就是把属性私有化，然后通过get set 方法 操作属性</p>
<h4 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h4><p>1.java的四个权限修饰符<br>public：整个项目下都可以访问<br>private：只能本类下使用<br>缺省的：同包下能使用<br>protected：不同包下有继承关系的<br>能修饰什么？ 变量 方法 public能修饰类<br>2.什么是包？<br>区分 各个文件的 命名冲突问题，还有一个目的就是利于管理<br>如何命名包？ 包的所有书写都是小写字母，然后用点管理每一层，其实就是个文件夹<br>包的关键字 package<br>建包时：<br>1）公司域名倒过来<br>2）公司域名 com net cn edu org<br>import 导入要用的其他包<br>java里面唯一一个特殊的包，java.lang 不用程序员手动调用，系统自动导入<br>3.继承<br>1）关键字extends<br>好处：子类可以继承父类除了private的其他成员<br>例子：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package org.jsoft.extends0;//包的命名</span><br><span class="line">//父类</span><br><span class="line">public class Animal &#123;</span><br><span class="line">	// 属性   </span><br><span class="line">	private String  name;</span><br><span class="line"></span><br><span class="line">	public String getName() &#123;</span><br><span class="line">		return name;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void setName(String name) &#123;</span><br><span class="line">		this.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	// 功能</span><br><span class="line">	 void run()&#123;</span><br><span class="line">		System.out.println(&quot;我跑完就会 前进一段距离&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package org.jsoft.extends0;</span><br><span class="line">//继承父类Animal</span><br><span class="line">public class Cat extends Animal&#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		Cat  c=new Cat();</span><br><span class="line">		c.run();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	public void run()&#123;</span><br><span class="line">		System.out.println(&quot;我用四条腿跑再加尾巴跑&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>2）方法重写<br>子类不能满足父类方法的实现<br>格式：方法声明部分一样，方法内容不同<br>注意：声明部分 权限可以修改，子类的修饰符可以比父类的修饰符权限高<br>例：父类为缺省修饰符时<br>子类可以改为public<br><strong>方法重载和方法重写的区别？</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">java的重写,是指在子类中对父类的某方法进行重新定义,其子类的该方法名以及参数位置和个数均与父类相同,从而在调用子类的该方法时,不会执行父类的方法。如果在父类中以final定义的方法,在子类中无法重写。</span><br><span class="line">Java的重载，就是在类中可以创建多个方法，它们具有相同的名字，但具有不同的参数和不同的定义。调用方法时通过传递给它们的不同参数个数和参数类型来决定具体使用哪个方法, 这就是多态性。</span><br><span class="line">重写就是再写一遍，重载就是再多一个。重写：父类里有，子类再照猫画虎写一个。重载：自己类里面有，觉得不够再写一个。 </span><br></pre></td></tr></table></figure>
<p>3）java只支持单继承<br>4）子类想调用父类的构造函数 super</p>
<h2 id="java第五次课"><a href="#java第五次课" class="headerlink" title="java第五次课"></a>java第五次课</h2><h3 id="回顾-2"><a href="#回顾-2" class="headerlink" title="回顾"></a>回顾</h3><p>1.如何创建类？类里面有什么？<br>属性（变量） 和 功能（方法）<br>2.变量的分类？<br>局部变量：在方法内，语句块内容<br>全局（成员）变量：在方法外，类体内<br>区别：作用域不同，局部变量临近大括号有效<br>局部变量要使用的话必须赋初值，成员变量有默认的初始值<br>boolean默认是false String默认是null<br>3.如何创建对象？对象的成员调用？<br>类名 对象名=new 类名();<br>对象名.成员<br>4.面向对象的四大特征？<br>封装，继承，多态，抽象<br>5.构造方法的规则？格式？作用？<br>public 类名(参数列表){}<br>规则：如果一个类没有显示声明构造，那么系统默认提供一个无参的构造方法，不用程序员手动调用<br>格式：方法名必须与类名相同，没有返回值类型<br>作用：创建对象和初始化对象<br>6.封装的意义？写法？<br>把属性私有化，目的是保护属性不被外界访问，通过set和get方法操作属性<br>如果给属性赋值，目前知道的办法有三种<br>（1）对象名.属性<br>（2）set方法<br>（3）构造方法<br>7.java包的书写和意义？<br>公司域名倒过来，所有字母都是小写，每一层用点管理<br>方便管理，区分命名重复<br>8.java的权限修饰符？<br>1）private：私有的，只能在本类使用<br>2）缺省的：同包中使用<br>3）protected：不同包中，有继承关系的<br>4）public：整个项目下<br>9.继承的关键字？意义？规则？<br>关键字：extends<br>意义：代码量减少，可扩展性强<br>规则：<br>java只支持单继承<br>子类继承父类除private的其他成员<br>子类不能满足父类的方法，我们可以重写<br><strong>10.重载和重写的区别？</strong><br>重载：发生在一个类里面，方法名必须相同，参数列表必须不同（类型，顺序）<br>重写：方法声明部分一样，唯独权限可以不一样，子类可以比父类大，实现部分不同<br>11.this和super的作用？<br>this代表当前对象，可以区分成员变量和局部变量重名问题<br>super代表父类对象，可以调用父类成员</p>
<h3 id="本次课主要内容-3"><a href="#本次课主要内容-3" class="headerlink" title="本次课主要内容"></a>本次课主要内容</h3><p>1.继承中的构造方法规则<br>构造方法能否重载？能否重写？<br>能重载，不能重写<br>1）子类在构造自己的过程中，先构造父类<br>2）如果一个父类没有显示声明无参的构造，只有有参的构造，那么父类必须要有有参的构造，而且用super调用父类构造<br>3）this调用本类其他构造，super调用父类构造 必须都写在第一行<br>例子：<br><strong>以下程序写出输出结果</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">class Super&#123;</span><br><span class="line">    public Super()&#123;</span><br><span class="line">        System.out.println(&quot;Super()&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    public Super(String str)&#123;</span><br><span class="line">        System.out.println(&quot;Super(String)&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">class Sub extends Super&#123;</span><br><span class="line">    public Sub()&#123;</span><br><span class="line">        //此处省略了super();</span><br><span class="line">        System.out.println(&quot;Sub()&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    public Sub(int i)&#123;</span><br><span class="line">        this();</span><br><span class="line">        System.out.println(&quot;Sub(int)&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    public Sub(String str)&#123;</span><br><span class="line">        super(str);</span><br><span class="line">        System.out.println(&quot;Sub(String)&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">public class TestSuperSub&#123;</span><br><span class="line">    public static void main(String args[])&#123;</span><br><span class="line">        Sub s1=new Sub();</span><br><span class="line">        Sub s2=new Sub(10);</span><br><span class="line">        Sub s3=new Sub(&quot;hello&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>输出结果：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Super()</span><br><span class="line">Sub()</span><br><span class="line">Super()</span><br><span class="line">Sub()</span><br><span class="line">Sub(int)</span><br><span class="line">Super(String)</span><br><span class="line">Sub(String)</span><br></pre></td></tr></table></figure>
<p>2.抽象 关键字 abstract<br>1）在父类里，某些方法，不需要方法的实现，都是子类重写的，这样的方法，我们就不需要方法体，这就是抽象方法<br>2）有了抽象方法，这个类必须是抽象类<br>3）如果一个类是抽象类，那么里面的方法不一定都是抽象方法<br>4）抽象类能否实例化（创建对象）？<br>不能实例化，认为它是不完整的<br>5）抽象类被子类继承时，抽象方法必须被重写<br>6）抽象类是否能有构造方法？<br>可以，子类构造自己的时候，先构造父类</p>
<h2 id="java第六次课"><a href="#java第六次课" class="headerlink" title="java第六次课"></a>java第六次课</h2><h3 id="回顾-3"><a href="#回顾-3" class="headerlink" title="回顾"></a>回顾</h3><p>抽象的关键字？<br>abstract<br>抽象的规则？</p>
<ul>
<li>当一个方法，我们不需要实现的时候，我们就不写方法体，这就是抽象方法</li>
<li>如果一个类有抽象方法，那么这个类必须是抽象类</li>
<li>抽象类不能实例化，被子类继承时，父类引用指向子类对象</li>
<li>抽象方法必须被子类重写<br>java源文件第一条语句是什么？<br>package语句<br>目前写代码的编程规范？</li>
<li>class名字必须首字母大写，驼峰标识</li>
<li>变量名和方法名必须首字母小写，驼峰标识</li>
<li>包名：所有字母都是小写，用点管理</li>
<li>每一行语句，前面要有tab键缩进</li>
<li>每一个功能、属性都要加注释</li>
</ul>
<hr>
<p>本节课代码较多</p>
<h3 id="本次课主要内容-4"><a href="#本次课主要内容-4" class="headerlink" title="本次课主要内容"></a>本次课主要内容</h3><p><strong>三大特征</strong><br>封装、继承、多态<br>最大化利于代码的重复利用，节省代码，解耦合性<br><strong>多态</strong><br>Java多态体现在两个方面</p>
<ul>
<li>方法的重载 –&gt;编译器的多态</li>
<li>非编译期间 –&gt;运行多态</li>
</ul>
<p><strong>多态的条件？</strong></p>
<ul>
<li>有继承关系</li>
<li>有重写方法</li>
<li>父类引用指向子类对象<br>好处？</li>
<li>代码量少</li>
<li>灵活</li>
<li>*多态最常用的两个地方**</li>
<li>public viod m(父类){}</li>
<li>public 父类 m (){<br>  return 子类;<br>}<h4 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h4></li>
</ul>
<p>1.接口是什么？<br>接口是一个引用类型，interface</p>
<hr>
<p>2.如何创建接口，接口里面有什么？<br>常量和抽象方法<br>常量：不变的变量<br>抽象方法：没有方法体，且有abstract关键字</p>
<hr>
<p>3.java的修饰符<br>java中有四个权限修饰符，分别为private,default,protected,public,下面主要是四者之间的区别： </p>
<ul>
<li><p>private(私有的)<br>private可以修饰成员变量，成员方法，构造方法，不能修饰类(此刻指的是外部类，内部类不加以考虑)。被private修饰的成员只能在其修饰的本类中访问，在其他类中不能调用，但是被private修饰的成员可以通过set和get方法向外界提供访问方式 </p>
</li>
<li><p>default(默认的)<br>defalut即不写任何关键字，它可以修饰类，成员变量，成员方法，构造方法。被默认权限修饰后，其只能被本类以及同包下的其他类访问。 </p>
</li>
<li><p>protected(受保护的)<br>protected可以修饰成员变量，成员方法，构造方法，但不能修饰类(此处指的是外部类，内部类不加以考虑)。被protected修饰后，只能被同包下的其他类访问。如果不同包下的类要访问被protected修饰的成员，这个类必须是其子类。 </p>
</li>
<li><p>public(公共的)</p>
<p>public是权限最大的修饰符，可以修饰类，成员变量，成员方法，构造方法。被public修饰后，可以在任何一个类中，不管同不同包，任意使用。<br>1个抽象修饰符：abstract</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public abstract class Animal &#123;</span><br><span class="line">	private String name;</span><br><span class="line">	</span><br><span class="line">	public String getName() &#123;</span><br><span class="line">		return name;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void setName(String name) &#123;</span><br><span class="line">		this.name = name;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public abstract void enjoy();</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class Monkey extends Animal&#123;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public void enjoy() &#123;</span><br><span class="line">		System.out.println(getName()+&quot;的宠物，它开心就会&quot;+&quot;吃香蕉&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class Pig extends Animal&#123;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public void enjoy() &#123;</span><br><span class="line">		System.out.println(getName()+&quot;的宠物，它开心就会&quot;+&quot;哼哼叫&quot;);	</span><br><span class="line">	&#125;</span><br><span class="line">    // 猪也会有 别的动物没有的功能</span><br><span class="line">	public void  gongDi()&#123;</span><br><span class="line">		System.out.println(&quot;猪猪会拱地&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class Person &#123;</span><br><span class="line">	// 属性</span><br><span class="line">	private String  name;</span><br><span class="line"></span><br><span class="line">	public String getName() &#123;</span><br><span class="line">		return name;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void setName(String name) &#123;</span><br><span class="line">		this.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	// 功能</span><br><span class="line">	public void feed(Animal p)&#123; //  </span><br><span class="line">		System.out.print(&quot;我叫&quot;+name+&quot;我养了一个叫&quot;);</span><br><span class="line">		p.enjoy();</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class TestPAndP &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		// 标识 姜雪琪这个人</span><br><span class="line">		Person p =new Person();</span><br><span class="line">			p.setName(&quot;姜雪琪&quot;);</span><br><span class="line">		Animal p1=new Pig(); // 父类引用指向了子类对象  向上转型     自动转换</span><br><span class="line">			p1.setName(&quot;小升升&quot;);</span><br><span class="line">		p.feed(p1);</span><br><span class="line">		  //p1是否能访问拱地方法？   不能访问，如果想访问就必须强制类型转换</span><br><span class="line">		 Pig  pp=(Pig)p1; // 向下转型   强制转换</span><br><span class="line">		pp.gongDi();</span><br><span class="line">			</span><br><span class="line">		Person p2 =new Person();</span><br><span class="line">		p2.setName(&quot;张旭&quot;);</span><br><span class="line">		Animal m=new Monkey();</span><br><span class="line">		m.setName(&quot;孙大圣&quot;);</span><br><span class="line">		p2.feed(m);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>1）static修饰符 静态的<br>变量：可以用来使用计数器</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class TestStaticHW &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		MyClass  m1=new MyClass();</span><br><span class="line">		System.out.println(m1.i); // 20  10</span><br><span class="line">		MyClass  m2=new MyClass(10);</span><br><span class="line">		System.out.println(m2.i); //10</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class MyClass&#123;</span><br><span class="line">	static int i=10;</span><br><span class="line">	static &#123;</span><br><span class="line">		int i=20;</span><br><span class="line">		System.out.println(&quot;IN Static&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	public MyClass()&#123;</span><br><span class="line">		System.out.println(&quot;无惨的&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	public MyClass(int i)&#123;</span><br><span class="line">		System.out.println(&quot;有惨的&quot;);</span><br><span class="line">		this.i=i;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>2）final修饰符 最后的（与接口一起使用）<br>变量：修饰的变量，值就不能改变了，因为就是常量了<br>方法：修饰的方法，不能被重写了<br>类：修饰的类，不能被继承<br>3）总结7个修饰符<br>4个权限：public protected 缺省的 private<br>抽象：abstract<br>静态的：static<br>最后的：final</p>
</li>
</ul>
<hr>
<p>4.接口的意义<br>接口可以实现多继承，关键字：implements<br>接口里面的所有方法都必须重写<br>接口不能实例化<br>接口不能有构造方法</p>
<hr>
<p>定义两个接口</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public interface Person &#123;</span><br><span class="line">	</span><br><span class="line">	void  eat(); // 省略了  public abstract	</span><br><span class="line">	void  sleep();	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public interface Student &#123;	</span><br><span class="line">	public abstract void study();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>继承（调用）接口</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class BigStudent implements Person,Student&#123;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public void study() &#123;</span><br><span class="line">		System.out.println(&quot;60分万岁，多一份浪费&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public void eat() &#123;</span><br><span class="line">		System.out.println(&quot;外卖&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public void sleep() &#123;</span><br><span class="line">		System.out.println(&quot;白天睡，晚上活动&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>测试</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class TestSAndP &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		// 接口能否实例化？</span><br><span class="line">		 // 接口就是一个特殊的抽象类</span><br><span class="line">		Person  p =new BigStudent();</span><br><span class="line">		p.eat();</span><br><span class="line">		p.sleep();</span><br><span class="line">		Student s =new BigStudent();</span><br><span class="line">		s.study();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<p>final测试</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class FinalTest extends TestF&#123;</span><br><span class="line">	final int k=11; //如果一个成员变量是fianl 必须 赋初始值</span><br><span class="line">	   int q;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		final  int i=10;</span><br><span class="line">	    //不能修改	i=11;</span><br><span class="line">		     int j=10;</span><br><span class="line">		     j=11;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	public final void m()&#123;&#125;</span><br><span class="line">	public void m1()&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//final class TestF&#123;&#125;  不能被继承</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class  TestF&#123;</span><br><span class="line">	public final void m()&#123;&#125;</span><br><span class="line">	</span><br><span class="line">	public void m1()&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>StaticTest.java</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class StaticTest &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		// 如果我想在这个类里面使用i </span><br><span class="line">		Static1  s=new  Static1();</span><br><span class="line">		Static1  s1=new  Static1();</span><br><span class="line">		Static1  s2=new  Static1();</span><br><span class="line">//		s.i=10;</span><br><span class="line">		</span><br><span class="line">//		Static1.j=10;</span><br><span class="line">		System.out.println(s.i++);</span><br><span class="line">		System.out.println(s1.i++);</span><br><span class="line">		System.out.println(s2.i++);</span><br><span class="line">		System.out.println(s.j++);</span><br><span class="line">		System.out.println(s1.j++);</span><br><span class="line">		System.out.println(s2.j++);</span><br><span class="line">		s.m();</span><br><span class="line">		m1();</span><br><span class="line">//		m(); 在静态方法里面访问不了非静态成员</span><br><span class="line">		</span><br><span class="line">		String  name=&quot;这是什么鸟&quot;;</span><br><span class="line">				&#125;</span><br><span class="line">	</span><br><span class="line">	public static void m1()&#123;&#125;</span><br><span class="line">	public void m()&#123;&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class  Static1&#123;</span><br><span class="line">	int  i =10;// 和 对象 有关   不同对象，有不同的值，初始值都是10</span><br><span class="line">	static int j=10; // 和类有关 ，是累加的 可以计数器</span><br><span class="line">	</span><br><span class="line">	public void m()&#123;</span><br><span class="line">		//能不能访问 i 和 j  能</span><br><span class="line">		System.out.println(i);</span><br><span class="line">		System.out.println(j);</span><br><span class="line">	&#125;</span><br><span class="line">	public  static  void  m1()&#123;</span><br><span class="line">		System.out.println();</span><br><span class="line">		//能不能访问 i 和 j   // 不能i</span><br><span class="line">//		System.out.println(i);</span><br><span class="line">		System.out.println(j);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Test.java</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public interface Test &#123;</span><br><span class="line">//	 public static void main(String[] args) &#123;</span><br><span class="line">//		</span><br><span class="line">//	&#125; 不让写</span><br><span class="line">	</span><br><span class="line">	/*</span><br><span class="line">	 *   常量  </span><br><span class="line">	 *    抽象方法</span><br><span class="line">	 */</span><br><span class="line">	</span><br><span class="line">	public static final int I=10;// 常量命名规则，所有字母都大写</span><br><span class="line">	public static final int SHEN_FEN=100;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Tabstract.java</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class Tabstract &#123;</span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">abstract  class A extends B&#123;</span><br><span class="line">//	public  abstract  void m1();</span><br><span class="line">//	private abstract  void m1();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">abstract class B&#123;</span><br><span class="line">//	abstract  final  void m();// abstract 和 final是天敌</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class  C extends A&#123;</span><br><span class="line">//	public void final m()&#123;&#125;</span><br><span class="line">	</span><br><span class="line">	public final static  void m()&#123;&#125;</span><br><span class="line">	//  修饰符  返回值类型  方法名 （参数列表）&#123;&#125;</span><br><span class="line">	</span><br><span class="line">	private final  void  m1()&#123;&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="java第七次课"><a href="#java第七次课" class="headerlink" title="java第七次课"></a>java第七次课</h2><p>本次课主要是Java基础知识回顾以及部分习题及答案</p>
<h3 id="Java基础知识回顾"><a href="#Java基础知识回顾" class="headerlink" title="Java基础知识回顾"></a>Java基础知识回顾</h3><ol>
<li><strong>类里面有什么？</strong><ol>
<li>属性和方法</li>
</ol>
</li>
<li><strong>如何创建对象？</strong><ol>
<li><strong>无参构造方法</strong><ol>
<li>类名 对象名=new 类名()</li>
</ol>
</li>
<li><strong>有参构造方法</strong><ol>
<li>类名 对象名=new 类名(参数列表)</li>
</ol>
</li>
</ol>
</li>
<li><strong>如何访问类里面的成员？</strong><ol>
<li>对象名.成员</li>
<li>私有成员利用 get/set 方法</li>
<li>有参构造方法 创建对象时直接访问并修改</li>
</ol>
</li>
<li><strong>构造方法的规则？</strong><ol>
<li>没有返回值类型</li>
<li>方法名与类名相同</li>
<li>系统在创建对象时自动调用，没有显式声明，系统默认提供一个无参的构造</li>
<li>不能被static、final、synchronized、abstract和native修饰</li>
<li>构造方法不能被子类继承，所以用final和abstract修饰没有意义</li>
</ol>
</li>
<li><strong>构造方法的作用？</strong><ol>
<li>初始化对象</li>
<li>给成员变量赋初始值，创建对象</li>
</ol>
</li>
<li><strong>方法重载的定义，方法重写的定义? 构造方法是否能重载？是否能重写？</strong><ol>
<li>重载发生在一个类中，方法名字必须相同，参数列表必须不同（顺序，个数，类型不同），返回值类型是否相同不影响</li>
<li>重写：子类不能满足父类的实现。方法声明部分一样，方法内容不同</li>
<li>构造方法能重载不能重写</li>
</ol>
</li>
<li><strong>this的意义？super的意义？</strong><ol>
<li>this代表当前对象，可以区分成员变量与局部变量重名问题</li>
<li>super代表父类对象，可以调用父类成员</li>
</ol>
</li>
<li><strong>一个类能创建几个对象？</strong><ol>
<li>正常的一个类可以创建多个对象</li>
<li>抽象类无法实例化，不能创建对象</li>
</ol>
</li>
<li><strong>类和对象的关系？</strong><ol>
<li>类是对象的模板</li>
<li>对象是类的实例</li>
</ol>
</li>
<li><strong>面向对象的特征？</strong><ol>
<li>封装 继承 多态 抽象</li>
</ol>
</li>
<li><strong>封装的含义，写法</strong><ol>
<li>把属性私有化，目的是保护属性不被外界访问，通过set和get方法操作属性</li>
</ol>
</li>
<li><strong>变量的分类？</strong><ol>
<li>以数据类型分类<ul>
<li>基本数据类型 引用数据类型</li>
</ul>
</li>
<li>以声明位置分类 <ul>
<li>局部变量和成员变量</li>
</ul>
</li>
<li>实例变量具有默认值。数值型变量的默认值是0，布尔型变量的默认值是false，引用类型变量的默认值是null</li>
<li>局部变量没有默认值，所以局部变量被声明后，必须经过初始化，才可以使用</li>
</ol>
</li>
<li><strong>静态成员和非静态成员的区别？</strong><ol>
<li>静态成员 <ul>
<li>随着类的加载而加载</li>
<li>优先于对象存在</li>
<li>被所有对象所共享</li>
<li>可以直接被类名调用</li>
</ul>
</li>
<li>区别    <ul>
<li>两个变量的生命周期不同<ol>
<li>成员变量随着对象的创建而存在，随着对象的回收而释放</li>
<li>静态变量随着类的加载而存在，随着类的消失而消失</li>
</ol>
</li>
<li>调用方式不同<ol>
<li>成员变量只能被对象调用</li>
<li>静态变量可以被对象调用，还可以被类名调用</li>
</ol>
</li>
<li>别名不同 <ol>
<li>成员变量也称为实例变量 </li>
<li>静态变量称为类变量</li>
</ol>
</li>
<li>数据存储位置不同 <ol>
<li>成员变量数据存储在堆内存的对象中，所以也叫对象特有数据</li>
<li>静态变量数据：存储在方法区(的静态区)，所以也叫对象的共享数据</li>
</ol>
</li>
<li>静态成员可以直接访问，非静态成员需要分配内存后才能进行访问</li>
<li>静态成员不能访问非静态成员</li>
</ul>
</li>
</ol>
</li>
<li><strong>继承的关键字？继承的意义？</strong><ol>
<li>关键字<ul>
<li>extends</li>
</ul>
</li>
<li>减少代码量</li>
<li>意义 <ul>
<li>新类具有继承类的数据属性和行为，并可以扩展新的能力</li>
<li>子类可以继承父类除了private的其他成员</li>
</ul>
</li>
</ol>
</li>
<li><strong>继承中的构造规则？</strong><ol>
<li>子类的构造过程中必须调用父类的构造方法</li>
<li>子类可以在自己的构造方法中使用super(argumentList)来调用父类的构造方法;</li>
<li>使用this（argumentList）调用本类的其他构造方法</li>
<li>如果使用super(argumentList)来调用父类的构造方法，必须写在子类构造方法的第一行。</li>
<li>如果子类的构造方法中没有明确地调用父类的构造方法，则默认调用无参的构造方法。相当于在子类构造方法中默认执行super()</li>
<li>如果子类构造方法中，即没有显示地调用父类的构造方法，而基类中也没有无参的构造方法，则编译不通过。</li>
</ol>
</li>
<li><strong>抽象类和接口的区别？</strong><ol>
<li>接口里面有常量和抽象方法，有abstract关键字</li>
<li>Java抽象类可以提供某些方法的部分实现，而Java接口不可以（就是interface中只能定义方法，而不能有方法的实现，而在abstract class中则可以既有方法的具体实现，又有没有具体实现的抽象方法）</li>
<li>相同点：<ul>
<li>都不能被实例化</li>
<li>接口的实现类或抽象类的子类都只有实现了接口或抽象类中的方法后才能实例化。</li>
</ul>
</li>
<li>不同点：<ul>
<li>接口只有定义，不能有方法的实现，java 1.8中可以定义default方法体，而抽象类可以有定义与实现，方法可在抽象类中实现。</li>
<li>实现接口的关键字为implements，继承抽象类的关键字为extends。一个类可以实现多个接口，但一个类只能继承一个抽象类。所以，使用接口可以间接地实现多重继承。</li>
<li>接口强调特定功能的实现，而抽象类强调所属关系。</li>
<li>接口成员变量默认为public static final，必须赋初值，不能被修改；其所有的成员方法都是public、abstract的。抽象类中成员变量默认default，可在子类中被重新定义，也可被重新赋值；抽象方法被abstract修饰，不能被private、static、synchronized和native等修饰，必须以分号结尾，不带花括号。</li>
<li>接口被用于常用的功能，便于日后维护和添加删除，而抽象类更倾向于充当公共类的角色，不适用于日后重新对立面的代码修改。功能需要累积时用抽象类，不需要累积时用接口。</li>
</ul>
</li>
</ol>
</li>
<li><strong>final的作用！</strong> <ol>
<li>final可以修饰类，这样的类不能被继承。</li>
<li>final可以修饰方法，这样的方法不能被重写。 </li>
<li>final可以修饰变量，这样的变量的值不能被修改，是常量。</li>
</ol>
</li>
<li><strong>定义接口的关键字，实现接口的关键字，接口是否可以继承接口？</strong><ol>
<li>定义接口 interface </li>
<li>实现接口 implements</li>
<li>接口可以继承接口 </li>
</ol>
</li>
<li><strong>代码块的种类，执行顺序？</strong><ol>
<li>普通代码块：普通方法体中的代码,方法被调用时执行</li>
<li>静态代码块：用static修饰的代码 例如  static{},类加载的时候支持，只执行一次</li>
<li>构造代码块：直接用大括号括起来的代码块，没有方法名，没有返回类型，例如{}，对象被new的时候调用，构造对象时，先执行构造代码块里的代码，再执行构造函数里的代码，每次new对象的时候，构造代码块里的代码都会被执行</li>
<li>同步代码块：用synchronize注释的代码，例如synchronized{}</li>
<li>初始化子类的执行顺序：父类静态代码块——子类静态代码块——父类构造函数和变量初始化（按编码顺序执行）,构造代码块在构造函数前面执行——子类构造函数和变量初始化（按编码顺序执行）,构造代码块在构造函数前面执行</li>
</ol>
</li>
<li><strong>内部类有几种？</strong><ol>
<li><strong>常规内部类</strong>：常规内部类没有用static修饰且定义在在外部类类体中。<ul>
<li>常规内部类中的方法可以直接使用外部类的实例变量和实例方法。在常规内部类中可以直接用内部类创建对象。</li>
</ul>
</li>
<li><strong>静态内部类</strong>：与类的其他成员相似，可以用static修饰内部类，这样的类称为静态内部类。静态内部类与静态内部方法相似，只能访问外部类的static成员，不能直接访问外部类的实例变量，与实例方法，只有通过对象引用才能访问。<ul>
<li>由于static内部类不具有任何对外部类实例的引用，因此static内部类中不能使用this关键字来访问外部类中的实例成员，但是可以访问外部类中的static成员。这与一般类的static方法相通。</li>
</ul>
</li>
<li><strong>局部内部类</strong>：在方法体或语句块（包括方法、构造方法、局部块或静态初始化块）内部定义的类成为局部内部类。局部内部类不能加任何访问修饰符，因为它只对局部块有效。<ul>
<li>局部内部类只在方法体中有效，就想定义的局部变量一样，在定义的方法体外不能创建局部内部类的对象<ul>
<li>在方法内部定义类时，应注意以下问题：<ul>
<li>方法定义局部内部类同方法定义局部变量一样，不能使用private、protected、public等访问修饰说明符修饰，也不能使用static修饰，但可以使用final和abstract修饰</li>
<li>方法中的内部类可以访问外部类成员。对于方法的参数和局部变量，必须有final修饰才可以访问。</li>
<li>static方法中定义的内部类可以访问外部类定义的static成员</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><strong>匿名内部类</strong>：定义类的最终目的是创建一个类的实例，但是如果某个类的实例只是用一次，则可以将类的定义与类的创建，放到与一起完成，或者说在定义类的同时就创建一个类。以这种方法定义的没有名字的类成为匿名内部类。</li>
</ol>
</li>
<li><strong>如何给对象的属性赋值？有几种？</strong><ol>
<li>对象名.属性</li>
<li>set方法</li>
<li>构造方法</li>
</ol>
</li>
<li><strong>如何判断一个引用类型是不是 另外一个引用类型？</strong> <ol>
<li>instanceof</li>
</ol>
</li>
<li><strong>你所学过的修饰符，以及用法？</strong><ol>
<li>权限修饰符<ul>
<li>public：整个项目下</li>
<li>private：私有的，只能在本类中使用</li>
<li>缺省的：同包中使用</li>
<li>protected：不同包中，有继承关系的</li>
</ul>
</li>
<li>final  修饰符  <ul>
<li>final的意思是不可变，他可以修饰类、字段、方法。</li>
<li>修饰类后类不能被扩展（extends），也就是不能被继承。</li>
<li>修饰字段后字段的值不能被改变，因此如果有final修饰字段，应该对字段进行手动初始化。</li>
<li>修饰方法后该方法不能被改变，也就是重写。 </li>
</ul>
</li>
<li>abstract修饰符 <ul>
<li>abstract是抽象的意思，用来修饰类和方法，修饰类后，该类为抽象类</li>
<li>不能被实例化，必需进行扩展。修饰方法后，该方法为抽象方法必须被子类重写（override）。 </li>
</ul>
</li>
<li>static修饰符 <ul>
<li>static用来修饰内部类，方法，字段。</li>
<li>修饰内部类说明该内部类属于外部类而不属于外部类的某个实例。</li>
<li>修饰字段说明该字段属于类而不属于类实例。</li>
</ul>
</li>
</ol>
</li>
<li><strong>java中包的意义？</strong><ol>
<li>包是便于管理项目，区分项目里面的类重名问题</li>
</ol>
</li>
<li><strong>目前所学的书写规范？</strong><ol>
<li>class名字必须首字母大写，驼峰标识</li>
<li>变量名和方法名必须首字母小写，驼峰标识</li>
<li>包名所有字母都是小写，用点管理</li>
<li>每一行语句，前面要有tab缩进</li>
<li>每一个功能、属性都要加注释</li>
</ol>
</li>
</ol>
<hr>
<h3 id="部分习题及答案"><a href="#部分习题及答案" class="headerlink" title="部分习题及答案"></a>部分习题及答案</h3><h4 id="问题1"><a href="#问题1" class="headerlink" title="问题1"></a>问题1</h4><p>（封装、继承、多态）创建三个类，组成一个继承树，表示游戏中的角色。<br>描述如下：<br>父类：Role。是所有职业的父类。 属性： name，表示角色的名字。<br>方法：public int attack() ，该方法返回值为角色的攻击对敌人的伤害。<br>Role 有两个子类：<br>1）法师Magicer 属性：魔法等级（范围为1 ~ 10） 方法： public int attack() ，该方法返回法师的攻击对敌人造成的伤害值。 法师攻击伤害值为：魔法等级*魔法基本伤害值（固定为5）<br>2）战士Soldier 属性：攻击伤害值 方法： public int attack() ，该方法返回战士的攻击对敌人造成的伤害值。 战士的攻击伤害值为：其攻击伤害属性值 注意：上述的三个类所有属性都应当作为私有，并提供相应的get/set 方法。<br>再设计一个Team 类，表示一个组队。具有如下方法<br>1）addMember，表示组队增加一个成员。注意：组队成员最多为6 人<br>提示：应当利用一个数组属性，保存所有成员<br>2）attackSum，表示组队所有成员进行攻击时，对敌人造成的总伤害值 省略 get/set 方法后的类图如下：<br><img src="http://tva1.sinaimg.cn/large/0060lm7Tly1g5yvv5lzmpj30jp08hmy2.jpg"><br>根据类图和描述，创建相应的类。并编写相应的测试代码。</p>
<hr>
<p><strong>代码</strong></p>
<ul>
<li>Magicer.java</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package jichengshu;</span><br><span class="line">//法师</span><br><span class="line">class Magicer extends Role &#123;</span><br><span class="line">	//魔法等级，范围1~10</span><br><span class="line">	private int level;</span><br><span class="line"></span><br><span class="line">	public int getLevel() &#123;</span><br><span class="line">		return level;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void setLevel(int level) &#123;</span><br><span class="line">		this.level = level;</span><br><span class="line">	&#125;</span><br><span class="line">	//返回法师的攻击对敌人造成的伤害值。 </span><br><span class="line">	public int attack() &#123;</span><br><span class="line">		return level * 5;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Role.java</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package jichengshu;</span><br><span class="line">//所有职业的父类</span><br><span class="line">public class Role &#123;</span><br><span class="line">	//角色的名字</span><br><span class="line">	private String name;</span><br><span class="line">	 public String getName() &#123;</span><br><span class="line">	  return name;</span><br><span class="line">	 &#125;</span><br><span class="line">	 public void setName(String name) &#123;</span><br><span class="line">	  this.name = name;</span><br><span class="line">	 &#125;</span><br><span class="line">	 //public int attack()</span><br><span class="line">	 public int attack()&#123;</span><br><span class="line">	  return 0;</span><br><span class="line">	 &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Soldier.java</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package jichengshu;</span><br><span class="line">//战士</span><br><span class="line">class Soldier extends Role &#123;</span><br><span class="line">	//攻击伤害值</span><br><span class="line">	private int hurt;</span><br><span class="line"></span><br><span class="line">	public int getHurt() &#123;</span><br><span class="line">		return hurt;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void setHurt(int hurt) &#123;</span><br><span class="line">		this.hurt = hurt;</span><br><span class="line">	&#125;</span><br><span class="line">	//返回战士的攻击对敌人造成的伤害值</span><br><span class="line">	public int attack() &#123;</span><br><span class="line">		return hurt;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Team.java</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package jichengshu;</span><br><span class="line"></span><br><span class="line">class Team &#123;</span><br><span class="line">	static int i = 0;</span><br><span class="line">	//组队成员最多为6人</span><br><span class="line">	static Role member[] = new Role[6];</span><br><span class="line">	//添加成员</span><br><span class="line">	void addMember(Role role) &#123;</span><br><span class="line">		member[i++] = role;</span><br><span class="line">	&#125;</span><br><span class="line">	//对敌人造成的总伤害</span><br><span class="line">	int attackSum() &#123;</span><br><span class="line">		int sum = 0;</span><br><span class="line">		for (int j = 0; j &lt; i; j++) &#123;</span><br><span class="line">			sum += member[j].attack();</span><br><span class="line">		&#125;</span><br><span class="line">		return sum;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Test.java</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package jichengshu;</span><br><span class="line"></span><br><span class="line">public class Test &#123;</span><br><span class="line">	public static void main(String args[]) &#123;</span><br><span class="line">		//创建Role对象</span><br><span class="line">		Role role = new Role();</span><br><span class="line">		//创建Soldier对象</span><br><span class="line">		Soldier soldier = new Soldier();</span><br><span class="line">		//新建战士</span><br><span class="line">		role = soldier;</span><br><span class="line">		soldier.setName(&quot;少华&quot;);</span><br><span class="line">		soldier.setHurt(5);</span><br><span class="line">		System.out.println(&quot;战士&quot; + soldier.getName() + &quot;的攻击伤害值为：&quot; + soldier.attack());</span><br><span class="line">		//创建法师对象</span><br><span class="line">		Magicer magicer = new Magicer();</span><br><span class="line">		//新建法师</span><br><span class="line">		role = magicer;</span><br><span class="line">		role.setName(&quot;君艳法师&quot;);</span><br><span class="line">		magicer.setLevel(7);</span><br><span class="line">		System.out.println(&quot;战士&quot; + magicer.getName() + &quot;的攻击伤害值为：&quot; + magicer.attack());</span><br><span class="line">		//团队对象</span><br><span class="line">		Team team = new Team();</span><br><span class="line">		team.addMember(magicer);</span><br><span class="line">		team.addMember(soldier);</span><br><span class="line">		System.out.println(&quot;所有成员的伤害总值为：&quot; + team.attackSum());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="问题2"><a href="#问题2" class="headerlink" title="问题2"></a>问题2</h4><p>在之前的游戏角色 Role 程序上进行修改。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1） 创建 Role 接口，包含两个方法：    </span><br><span class="line">    a) int attack(); 表示攻击，返回值表示对敌人的伤害    </span><br><span class="line">    b) void practise(); 表示练习。练习之后对敌人的伤害会增加。</span><br><span class="line">2） 创建 NamedRole 类，该类为一个抽象类，实现了 Role 接口，并有两个属性：name 和 age， 表示角色的名字和年龄。</span><br><span class="line">3） 增加 MagicStick 接口。该接口表示法师使用的法杖。接口中包含一个方法，方法为： int fire()</span><br><span class="line">4） 为 MagicStick 类增加两个实现类，分别为 GreenStick 和 BlackStick。其中，对于这两个类的 fire 方法：</span><br><span class="line">    a) GreenStick 平时返回 1，夏天（6~8 月）使用时返回 2 </span><br><span class="line">    b) BlackStic 奇数月返回 1，偶数月返回 2</span><br><span class="line">5） 修改 Magicer 类  </span><br><span class="line">    a) 为法师类增加 MagicStick 类的属性 stick，表示法师使用的法杖。   </span><br><span class="line">    b) 让其继承自 NamedRole 类，并实现 attack 和 practise 功能。其中 </span><br><span class="line">        i. attack 返回值为法师的魔法等级(level) *每一级的固定伤害(5) </span><br><span class="line">        ii. practise()方法：    </span><br><span class="line">            1. 当法师的 stick 属性为 null 时，调用 practise 则 level++    </span><br><span class="line">            2. 当法师的 stick 不为 null 时，调用 practise 方法时，法师的等级 level 满足： level = level + 1 + stick.fire()；即：法师的    等级增加为 1+stick 属性的 fire 方法的返回值</span><br><span class="line">6） 增加 Weapon 接口，表示战士使用的武器。Weapon 接口中定义了两个方法：void setSoldier(Soldier s); 该方法表示设置武器的使用者int fire(); 该方法的返回值表示战士使用该武器时，对敌人的伤害值</span><br><span class="line">7） 为 Weapon 增加两个实现了，一个为 Bolo，表示大刀，一个为 Pike，表示长矛。对这两个实现类的描述如下：Bolo : 当 soldier 的年龄大于等于 18 岁时，fire 方法返回 100当 soldier 年龄小于 18 岁时，fire 方法返回 50Pike：Pike 类有一个属性：name，表示长矛的名字。当长矛的名字和战士的名字一致时，fire 方法返回 1000；当长矛的名字和战士的名字不一致时，fire 方法返回 25</span><br><span class="line">8） 修改 Soldier 类    </span><br><span class="line">    a) 为 Soldier 类增加一个 Weapon 属性，表示战士的武器    </span><br><span class="line">    b) 让其继承自 NamedRole 类，并实现 attack 和 practise 功能。其中        </span><br><span class="line">        i. Soldier 的 attack 返回值为战士的 hurt 值与武器的 fire 方法返回值的和，即 总攻击输出 = 战士的徒手伤害值 + 武器的伤害值        </span><br><span class="line">        ii. practise()方法：每调用一次则战士的 hurt 值+10</span><br><span class="line">9） 编写相应的测试代码。   要求：两个人一组合作完成。一个人负责把一个整数 n 拆分成两个整数的和，另一个人负责写一个函数，判断某一个整数 a 是否是质数</span><br></pre></td></tr></table></figure>
<hr>
<p><strong>代码</strong></p>
<ul>
<li>Role.java</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package role;</span><br><span class="line"></span><br><span class="line">import java.util.Date;</span><br><span class="line"></span><br><span class="line">interface Role&#123;</span><br><span class="line">	int attack();</span><br><span class="line">	void practise();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface MagicStick&#123;</span><br><span class="line">	int fire();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class GreenStick implements MagicStick&#123;</span><br><span class="line">	public int fire()&#123;</span><br><span class="line">		Date d = new Date();</span><br><span class="line">		if (d.getMonth() &gt;=6 &amp;&amp; d.getMonth() &lt;= 8)&#123;</span><br><span class="line">			return 2;</span><br><span class="line">		&#125;else return 1;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class BlackStick implements MagicStick&#123;</span><br><span class="line">	public int fire()&#123;</span><br><span class="line">		Date d = new Date();</span><br><span class="line">		if (d.getMonth() % 2 == 0)&#123;</span><br><span class="line">			return 2;</span><br><span class="line">		&#125;else return 1;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface Weapon&#123;</span><br><span class="line">	int fire();</span><br><span class="line">	void setSoldier(Soldier s);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Bolo implements Weapon&#123;</span><br><span class="line">	private Soldier s;</span><br><span class="line">	public void setSoldier(Soldier s)&#123;</span><br><span class="line">		this.s = s;</span><br><span class="line">	&#125;</span><br><span class="line">	public int fire()&#123;</span><br><span class="line">		if (s.getAge()&gt;=18) return 100;</span><br><span class="line">		else return 50;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Pike implements Weapon&#123;</span><br><span class="line">	private Soldier s;</span><br><span class="line">	private String name;</span><br><span class="line">	public Pike()&#123;&#125;</span><br><span class="line">	public Pike(String name)&#123;this.name = name;&#125;</span><br><span class="line">	</span><br><span class="line">	public int fire() &#123;</span><br><span class="line">		if (s.getName().equals(name))&#123;</span><br><span class="line">			return 1000;</span><br><span class="line">		&#125;else &#123;</span><br><span class="line">			return 25;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setSoldier(Soldier s) &#123;</span><br><span class="line">		this.s = s;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">abstract class NamedRole implements Role&#123;</span><br><span class="line">	private String name;</span><br><span class="line">	private int age;</span><br><span class="line">	</span><br><span class="line">	public NamedRole()&#123;&#125;</span><br><span class="line">	</span><br><span class="line">	public NamedRole(String name, int age) &#123;</span><br><span class="line">		this.name = name;</span><br><span class="line">		this.age = age;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public int getAge() &#123;</span><br><span class="line">		return age;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void setAge(int age) &#123;</span><br><span class="line">		this.age = age;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	public String getName() &#123;</span><br><span class="line">		return name;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void setName(String name) &#123;</span><br><span class="line">		this.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">class Magicer extends NamedRole&#123;</span><br><span class="line">	private int level = 1;</span><br><span class="line">	private MagicStick stick;</span><br><span class="line">	public Magicer()&#123;&#125;</span><br><span class="line">	</span><br><span class="line">	public Magicer(String name, int age,  int level) &#123;</span><br><span class="line">		super(name, age);</span><br><span class="line">		if (level &gt; 10 || level &lt; 1)&#123;</span><br><span class="line">			System.out.println(&quot;level error!&quot;);</span><br><span class="line">			return;</span><br><span class="line">		&#125;</span><br><span class="line">		this.level = level;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	public int getLevel() &#123;</span><br><span class="line">		return level;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void setLevel(int level) &#123;</span><br><span class="line">		if (level&lt;1 || level &gt; 10)&#123;</span><br><span class="line">			System.out.println(&quot;level error!&quot;);</span><br><span class="line">			return;</span><br><span class="line">		&#125;</span><br><span class="line">		this.level = level;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public MagicStick getStick() &#123;</span><br><span class="line">		return stick;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void setStick(MagicStick stick) &#123;</span><br><span class="line">		this.stick = stick;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public int attack()&#123;</span><br><span class="line">		return level * 5;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void practise() &#123;</span><br><span class="line">		level ++;</span><br><span class="line">		if (stick != null)&#123;</span><br><span class="line">			level += stick.fire();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Soldier extends NamedRole&#123;</span><br><span class="line">	private int hurt;</span><br><span class="line">	private Weapon weapon;</span><br><span class="line">	</span><br><span class="line">	public Soldier()&#123;&#125;</span><br><span class="line">	</span><br><span class="line">	public Soldier(String name,int age,  int hurt) &#123;</span><br><span class="line">		super(name, age);</span><br><span class="line">		this.hurt = hurt;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public Weapon getWeapon() &#123;</span><br><span class="line">		return weapon;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void setWeapon(Weapon weapon) &#123;</span><br><span class="line">		this.weapon = weapon;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public int getHurt() &#123;</span><br><span class="line">		return hurt;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void setHurt(int hurt) &#123;</span><br><span class="line">		this.hurt = hurt;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	public int attack()&#123;</span><br><span class="line">		int result = hurt;</span><br><span class="line">		if (weapon != null)&#123;</span><br><span class="line">			result += weapon.fire();</span><br><span class="line">		&#125;</span><br><span class="line">		return result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void practise() &#123;</span><br><span class="line">		hurt += 10;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>TestRole.java</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package role;</span><br><span class="line"></span><br><span class="line">public class TestRole &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		MagicStick ms1 = new GreenStick();</span><br><span class="line">		MagicStick ms2 = new BlackStick();</span><br><span class="line">		Magicer m1 = new Magicer(&quot;John&quot;, 20, 5);</span><br><span class="line">		Magicer m2 = new Magicer(&quot;Tom&quot;, 30, 8);</span><br><span class="line">		m1.setStick(ms1);</span><br><span class="line">		m2.setStick(ms2);</span><br><span class="line">		</span><br><span class="line">		System.out.println(m1.attack());</span><br><span class="line">		System.out.println(m2.attack());</span><br><span class="line">		</span><br><span class="line">		m1.practise();</span><br><span class="line">		m2.practise();</span><br><span class="line">		</span><br><span class="line">		System.out.println(m1.attack());</span><br><span class="line">		System.out.println(m2.attack());</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		Weapon w1 = new Bolo();</span><br><span class="line">		Weapon w2 = new Pike(&quot;Jerry&quot;);</span><br><span class="line">		Soldier s1 = new Soldier(&quot;Tom&quot;, 19, 100);</span><br><span class="line">		Soldier s2 = new Soldier(&quot;Jerry&quot;, 25, 150);</span><br><span class="line"></span><br><span class="line">		s1.setWeapon(w1);</span><br><span class="line">		w1.setSoldier(s1);</span><br><span class="line">		</span><br><span class="line">		s2.setWeapon(w2);</span><br><span class="line">		w2.setSoldier(s2);</span><br><span class="line">		</span><br><span class="line">		System.out.println(s1.attack());</span><br><span class="line">		System.out.println(s2.attack());</span><br><span class="line">		</span><br><span class="line">		s1.practise();</span><br><span class="line">		s2.practise();</span><br><span class="line">		</span><br><span class="line">		System.out.println(s1.attack());</span><br><span class="line">		System.out.println(s2.attack());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="问题3"><a href="#问题3" class="headerlink" title="问题3"></a>问题3</h4><p>编写一个简单的客户类SimpleCustomer<br>要求：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1.	该类拥有四个属性：</span><br><span class="line">	1）	int id  代表客户代码</span><br><span class="line">	2）	String name 代表客户姓名</span><br><span class="line">	3）	String address 代表客户住址</span><br><span class="line">	4）	String phoneNumber 代表客户电话号码</span><br><span class="line">2.	构造方法：</span><br><span class="line">	1） SimpleCustomer()</span><br><span class="line">	2)	SimpleCustomer(int id, String name, String address, String phoneNumber)</span><br><span class="line">	3)	SimpleCustomer(SimpleCustomer sc)</span><br><span class="line">3.	普通方法：</span><br><span class="line">	1）	一系列get/set方法</span><br><span class="line">		getId(), setId(int id), </span><br><span class="line">        getName(), setName(String name), </span><br><span class="line">        getAddress(), setAddress(String address), </span><br><span class="line">        getPhoneNumber(), setPhoneNumber(String phoneNumber)</span><br><span class="line">	2）	public String toString() //返回客户的基本信息，格式为：</span><br><span class="line">		The customer’s information is:</span><br><span class="line">		id: 100</span><br><span class="line">		name: Arthur</span><br><span class="line">		address: China, Beijing, Xicheng District, Xidan Time Square Building, 100036</span><br><span class="line">		phoneNumber: +861012345678</span><br><span class="line">4.	编写一个测试类，对SimpleCustomer类进行测试</span><br></pre></td></tr></table></figure>
<hr>
<p><strong>代码</strong></p>
<ul>
<li>SimpleCustomer.java</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package simplecustomer;</span><br><span class="line"></span><br><span class="line">public class SimpleCustomer &#123;</span><br><span class="line">	//四个属性</span><br><span class="line">	private int id;</span><br><span class="line">	private String name;</span><br><span class="line">	private String address;</span><br><span class="line">	private String phoneNumber;</span><br><span class="line">	public int getId() &#123;</span><br><span class="line">		return id;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setId(int id) &#123;</span><br><span class="line">		this.id = id;</span><br><span class="line">	&#125;</span><br><span class="line">	public String getName() &#123;</span><br><span class="line">		return name;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setName(String name) &#123;</span><br><span class="line">		this.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	public String getAddress() &#123;</span><br><span class="line">		return address;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setAddress(String address) &#123;</span><br><span class="line">		this.address = address;</span><br><span class="line">	&#125;</span><br><span class="line">	public String getPhoneNumber() &#123;</span><br><span class="line">		return phoneNumber;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setPhoneNumber(String phoneNumber) &#123;</span><br><span class="line">		this.phoneNumber = phoneNumber;</span><br><span class="line">	&#125;</span><br><span class="line">	//三个构造方法</span><br><span class="line">	public SimpleCustomer() &#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	public SimpleCustomer(int id, String name, String address, String phoneNumber) &#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	public SimpleCustomer(SimpleCustomer sc) &#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	//toString方法</span><br><span class="line">	public String toString() &#123;</span><br><span class="line">		return &quot;The customer’s information is:&quot;+&quot;\n&quot;+&quot;id:&quot;+id+&quot;\n&quot;+&quot;name:&quot;+name+&quot;\n&quot;+&quot;address:&quot;+address+&quot;\n&quot;+&quot;phoneNumber:&quot;+phoneNumber;	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Test.java</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package simplecustomer;</span><br><span class="line"></span><br><span class="line">public class Test &#123;</span><br><span class="line">public static void main(String[] args) &#123;</span><br><span class="line">	SimpleCustomer a=new SimpleCustomer();</span><br><span class="line">	a.setId(10);</span><br><span class="line">	a.setName(&quot;Arthur&quot;);</span><br><span class="line">	a.setAddress(&quot;China, Beijing, Xicheng District, Xidan Time Square Building, 100036&quot;);</span><br><span class="line">	a.setPhoneNumber(&quot;+861012345678&quot;);</span><br><span class="line">	System.out.println(a.toString());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="问题4"><a href="#问题4" class="headerlink" title="问题4"></a>问题4</h4><p>改写SimpleCustomer类，编写一个增强的Customer类<br>要求：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1.	在SimpleCustomer类的基础上，将address部分剥离出来，编写一个单独的Address类</span><br><span class="line">	Address类属性：</span><br><span class="line">	1）	String country  //国家</span><br><span class="line">	2）	String city  //城市</span><br><span class="line">	3）	String district 	//区</span><br><span class="line">	4）	String detailedAddress //详细住址</span><br><span class="line">	5）	int postCode //邮编</span><br><span class="line">	Address类方法：</span><br><span class="line">	1）	构造方法 </span><br><span class="line">    Address(String country, String city, String district, String detailedAddress, int postCode)</span><br><span class="line">	2）	get/set方法</span><br><span class="line">	3）	toString方法 //返回地址类的基本信息，将各属性用逗号连接在一起</span><br><span class="line">2.	将Address对象作为一个属性，按照SimpleCustomer类的思路编写Customer类</span><br></pre></td></tr></table></figure>
<hr>
<p><strong>代码</strong></p>
<ul>
<li>Customer.java</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package simplecustomer;</span><br><span class="line"></span><br><span class="line">public class Customer &#123;</span><br><span class="line">	// 四个属性</span><br><span class="line">	private int id;</span><br><span class="line">	private String name;</span><br><span class="line">	private String phoneNumber;</span><br><span class="line"></span><br><span class="line">	public int getId() &#123;</span><br><span class="line">		return id;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void setId(int id) &#123;</span><br><span class="line">		this.id = id;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public String getName() &#123;</span><br><span class="line">		return name;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void setName(String name) &#123;</span><br><span class="line">		this.name = name;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public String getPhoneNumber() &#123;</span><br><span class="line">		return phoneNumber;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void setPhoneNumber(String phoneNumber) &#123;</span><br><span class="line">		this.phoneNumber = phoneNumber;</span><br><span class="line">	&#125;</span><br><span class="line">	//创建内部类</span><br><span class="line">	class Address &#123;</span><br><span class="line">		// 5个属性</span><br><span class="line">		private String country;//国家</span><br><span class="line">		private String city;//城市</span><br><span class="line">		private String district;//区</span><br><span class="line">		private String detailedAddress;//详细地址</span><br><span class="line">		private int postCode;//邮编</span><br><span class="line"></span><br><span class="line">		public String getCountry() &#123;</span><br><span class="line">			return country;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		public void setCountry(String country) &#123;</span><br><span class="line">			this.country = country;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		public String getCity() &#123;</span><br><span class="line">			return city;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		public void setCity(String city) &#123;</span><br><span class="line">			this.city = city;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		public String getDistrict() &#123;</span><br><span class="line">			return district;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		public void setDistrict(String district) &#123;</span><br><span class="line">			this.district = district;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		public String getDetailedAddress() &#123;</span><br><span class="line">			return detailedAddress;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		public void setDetailedAddress(String detailedAddress) &#123;</span><br><span class="line">			this.detailedAddress = detailedAddress;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		public int getPostCode() &#123;</span><br><span class="line">			return postCode;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		public void setPostCode(int postCode) &#123;</span><br><span class="line">			this.postCode = postCode;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		// 构造方法</span><br><span class="line">		public Address(String country, String city, String district, String detailedAddress, int postCode) &#123;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		// toString方法</span><br><span class="line">		public String toString() &#123;</span><br><span class="line">			return country + &quot;,&quot; + city + &quot;,&quot; + district + &quot;,&quot; + detailedAddress + &quot;,&quot; + postCode;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="问题5"><a href="#问题5" class="headerlink" title="问题5"></a>问题5</h4><p>（封装）已知一个类Student 代码如下</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">class Student &#123;</span><br><span class="line">    String name;</span><br><span class="line">    int age;</span><br><span class="line">    String address;</span><br><span class="line">    String zipCode;</span><br><span class="line">    String mobile;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>a)把Student的属性都作为私有，并提供get/set方法以及适当的构造方法。<br>b)为Student类添加一个getPostAddress方法，要求返回Student对象的地址和邮编</p>
<hr>
<p><strong>代码</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class Student &#123;</span><br><span class="line">	private String name;</span><br><span class="line">	private int age;</span><br><span class="line">	private String address;</span><br><span class="line">	private String zipCode;</span><br><span class="line">	private String mobile;</span><br><span class="line">	public String getName() &#123;</span><br><span class="line">		return name;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setName(String name) &#123;</span><br><span class="line">		this.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	public int getAge() &#123;</span><br><span class="line">		return age;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setAge(int age) &#123;</span><br><span class="line">		this.age = age;</span><br><span class="line">	&#125;</span><br><span class="line">	public String getAddress() &#123;</span><br><span class="line">		return address;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setAddress(String address) &#123;</span><br><span class="line">		this.address = address;</span><br><span class="line">	&#125;</span><br><span class="line">	public String getZipCode() &#123;</span><br><span class="line">		return zipCode;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setZipCode(String zipCode) &#123;</span><br><span class="line">		this.zipCode = zipCode;</span><br><span class="line">	&#125;</span><br><span class="line">	public String getMobile() &#123;</span><br><span class="line">		return mobile;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setMobile(String mobile) &#123;</span><br><span class="line">		this.mobile = mobile;</span><br><span class="line">	&#125;</span><br><span class="line">	public String[] getPostAddress() &#123;</span><br><span class="line">		String[] array = new String[2];</span><br><span class="line">		array[0] = this.address;</span><br><span class="line">		array[1] = this.zipCode;</span><br><span class="line">		return array;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="问题6"><a href="#问题6" class="headerlink" title="问题6"></a>问题6</h4><p>定义一个 Performer 接口，表示一个演员，接口中定义 perform 方法，表示表演。为这个接口提供若干实现类：Singer，表示歌手；Dancer，表示舞蹈演员；Player，表示演奏者。类图如下：<br><img src="http://tva1.sinaimg.cn/large/0060lm7Tly1g5yvv5s9frj309j06bq30.jpg"><br>定义一个 Program 类，表示一个节目。每一个节目需要多个演员配合，因此每一个 Program 类中都包含一个属性：Performer 数组，表示表演这个节目的所需要的演员。<br>给出 Program 的部分代码:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">class Program &#123;</span><br><span class="line">    private Performer[] ps;</span><br><span class="line">    public Program()&#123;</span><br><span class="line">        ps = new Performer[3];</span><br><span class="line">        ps[0] = new Singer();</span><br><span class="line">        ps[1] = new Dancer();</span><br><span class="line">        ps[2] = new Player();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在现有代码基础上，为 Program 增加一个 show 方法，在这个方法中，调用所有表演这个节目的所有 Performer 的 perform 方法。<br>Program 类图如下：<br><img src="http://tva1.sinaimg.cn/large/0060lm7Tly1g5yvv5wfvlj304e035t8j.jpg"></p>
<hr>
<p><strong>代码</strong></p>
<ul>
<li>Performer.java</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package performer;</span><br><span class="line"></span><br><span class="line">public interface Performer &#123;</span><br><span class="line">	public void perform(); // 表演</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Dancer.java</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package performer;</span><br><span class="line"></span><br><span class="line">public class Dancer implements Performer &#123;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public void perform() &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		System.out.println(&quot;舞蹈演员跳舞&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>Player.java</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package performer;</span><br><span class="line"></span><br><span class="line">public class Player implements Performer &#123;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public void perform() &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		System.out.println(&quot;演奏者演奏乐器&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>Program.java</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package performer;</span><br><span class="line"></span><br><span class="line">public class Program &#123;</span><br><span class="line">	Performer []arr; // 表演者数组</span><br><span class="line">	public void show(Performer []arr)&#123; // 引入节目演员，并通过for循环调用里面成员的表演方法</span><br><span class="line">		System.out.println(&quot;演出开始：&quot;);</span><br><span class="line">		System.out.println(&quot;______________&quot;);</span><br><span class="line">		for(int i=0;i&lt;arr.length;i++)&#123;</span><br><span class="line">			arr[i].perform();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	public void end()&#123;</span><br><span class="line">		System.out.println(&quot;______________&quot;);</span><br><span class="line">		System.out.println(&quot;演出结束，谢谢观看&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>Singer.java</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package performer;</span><br><span class="line"></span><br><span class="line">public class Singer implements Performer &#123;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public void perform() &#123;</span><br><span class="line">		System.out.println(&quot;歌手唱歌&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>TestAll.java</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package performer;</span><br><span class="line"></span><br><span class="line">public class TestAll &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		Singer p1 = new Singer(); // 一个歌手</span><br><span class="line">		Dancer p2 = new Dancer(); //一个舞蹈演员</span><br><span class="line">		Player p3 = new Player(); //一个演奏者</span><br><span class="line">		</span><br><span class="line">		Program program = new Program(); //一个节目</span><br><span class="line">		program.arr = new Performer[]&#123;p1,p2,p3&#125;;//一个演员数组</span><br><span class="line">		program.show(program.arr);//表演节目</span><br><span class="line">		program.end(); // 演出结束</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="问题7"><a href="#问题7" class="headerlink" title="问题7"></a>问题7</h4><p>设计一个类 MyClass，为 MyClass 增加一个 count 属性，用来统计总共创建了多少个对象。</p>
<hr>
<p><strong>代码</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class MyClass &#123;</span><br><span class="line">	//Java中如何统计某个类当前所生成的对象的个数？</span><br><span class="line">	public static int num; // 静态变量</span><br><span class="line">	public MyClass()&#123;</span><br><span class="line">		num++;  // 利用构造函数内来进行计数</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		MyClass m = new MyClass(); // 每次创建对象都会调用构造函数</span><br><span class="line">		System.out.println(num);  // 输出</span><br><span class="line">	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="java第八次课"><a href="#java第八次课" class="headerlink" title="java第八次课"></a>java第八次课</h2><p>本次课主要讲述代码块、内部类、java常用类</p>
<h3 id="代码块（了解性内容）"><a href="#代码块（了解性内容）" class="headerlink" title="代码块（了解性内容）"></a>代码块（了解性内容）</h3><ul>
<li><strong>静态代码块</strong>：最先被执行，只加载一次</li>
<li><strong>构造代码块</strong>：优先于构造方法，每创建一次对象就执行一次</li>
<li><strong>普通代码块</strong>：根据你声明的位置有关</li>
</ul>
<hr>
<p>看以下代码</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class TestCode &#123;</span><br><span class="line">	//代码块测试</span><br><span class="line">	//静态代码块</span><br><span class="line">	static &#123;</span><br><span class="line">		System.out.println(&quot;我是静态代码块&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(&quot;我是构造代码块&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	//构造方法</span><br><span class="line">	public TestCode() &#123;</span><br><span class="line">		System.out.println(&quot;我是构造方法&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	//main方法</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		//创建两个对象</span><br><span class="line">		TestCode tc1=new TestCode();</span><br><span class="line">		TestCode tc2=new TestCode();</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println(&quot;我是普通代码块&quot;);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>控制台输出结果</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">我是静态代码块</span><br><span class="line">我是构造代码块</span><br><span class="line">我是构造方法</span><br><span class="line">我是构造代码块</span><br><span class="line">我是构造方法</span><br><span class="line">我是普通代码块</span><br></pre></td></tr></table></figure>
<h3 id="内部类（了解性内容）"><a href="#内部类（了解性内容）" class="headerlink" title="内部类（了解性内容）"></a>内部类（了解性内容）</h3><ul>
<li><strong>成员内部类</strong>：相当于成员变量</li>
</ul>
<p>特点：不允许在内部类里面定义静态的成员和方法<br>创建对象方式<br>内部类类型 对象名=外部类对象.new 内部类类型();</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class TestMemeberClass&#123;</span><br><span class="line">    //属性</span><br><span class="line">    String name=&quot;a&quot;;</span><br><span class="line">    int size;</span><br><span class="line">    //可以添加静态属性</span><br><span class="line">    static int height;</span><br><span class="line">    //获取自身信息的功能</span><br><span class="line">    public String getInfo()&#123;</span><br><span class="line">        return name+size;</span><br><span class="line">    &#125;</span><br><span class="line">    //成员内部类</span><br><span class="line">    class InnerClass&#123;</span><br><span class="line">        String name=&quot;b&quot;;</span><br><span class="line">        int size;</span><br><span class="line">        //此处不能添加静态属性</span><br><span class="line">        public void m()&#123;</span><br><span class="line">            System.out.println(name);</span><br><span class="line">            //name访问的是成员内部类里面的name</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    //main函数测试name</span><br><span class="line">    public static void main(Sting[] args)&#123;</span><br><span class="line">        //内部类创建对象要依托外部类</span><br><span class="line">        TestMemeber tm=new TestMemeberClass();</span><br><span class="line">        //创建内部类对象</span><br><span class="line">        InnerClass ic=tm.new InnerClass();</span><br><span class="line">        //访问m方法</span><br><span class="line">        ic.m();</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>控制台输出：b</p>
<ul>
<li><strong>局部内部类</strong></li>
</ul>
<p>特点：如果该类访问它所在方法的变量，此变量必须被final修饰<br>访问变量范围只在局部内部类有效</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class TestLocaltionClass&#123;</span><br><span class="line">    //属性</span><br><span class="line">    String name=&quot;a&quot;;</span><br><span class="line">    int size;</span><br><span class="line">    //可以添加静态属性</span><br><span class="line">    static int height;</span><br><span class="line">    //获取自身信息的功能</span><br><span class="line">    public String getInfo(final int s)&#123;</span><br><span class="line">        //局部变量</span><br><span class="line">        int w=10;</span><br><span class="line">        //局部内部类</span><br><span class="line">        class InCClass&#123;</span><br><span class="line">            String name;</span><br><span class="line">            int size;</span><br><span class="line">            public void m()&#123;</span><br><span class="line">            System.out.println(s);//这里不能访问public String getInfo(int s)中的s，添加final修饰即可以访问   </span><br><span class="line">             System.out.println(size);//可以访问本类中的成员</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return name+size;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>静态内部类</strong></li>
</ul>
<p>特点：可以在这个类里面声明静态的成员</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class TestStaticClass&#123;</span><br><span class="line">    static int s;</span><br><span class="line">    ststic class Sclass&#123;</span><br><span class="line">        int s;</span><br><span class="line">        //可以声明静态变量</span><br><span class="line">        static int w;</span><br><span class="line">        public static void m()&#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>匿名内部类</strong>(重点)</li>
</ul>
<p>当你想创建一个对象的时候，一般父类是抽象类或接口的时候，才可以用这个</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class TestNoNameClass&#123;</span><br><span class="line">//完成一个功能</span><br><span class="line">//学校选上课老师 输入偶数，上java课，输入奇数，上html课</span><br><span class="line">    //功能测试</span><br><span class="line">    public static void main(String[] args)&#123;</span><br><span class="line">        School s=new School();</span><br><span class="line">        Teacher t=s.getT(12);//填数值进行判断</span><br><span class="line">        t.teach();//多态</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">class School&#123;</span><br><span class="line">    //选择老师</span><br><span class="line">    public static Teacher getT(int i)&#123;</span><br><span class="line">        if(i%2==0)&#123;</span><br><span class="line">            //System.out.println(&quot;&quot;);</span><br><span class="line">            Teacher t=new JavaT();</span><br><span class="line">            return t;</span><br><span class="line">        &#125;</span><br><span class="line">        else&#123;</span><br><span class="line">            //匿名内部类</span><br><span class="line">            return new Teacher()&#123;</span><br><span class="line">                @Override</span><br><span class="line">                public void teach()&#123;</span><br><span class="line">                     System.out.println(&quot;html课程&quot;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">//将老师定义为接口</span><br><span class="line">interface Teacher&#123;</span><br><span class="line">    //教课</span><br><span class="line">    void teach();</span><br><span class="line">&#125;</span><br><span class="line">class JavaT implements Teacher&#123;</span><br><span class="line">    @Override</span><br><span class="line">    //重写接口方法</span><br><span class="line">    public void teach()&#123;</span><br><span class="line">         System.out.println(&quot;java课程&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">//将老师定义为接口</span><br><span class="line">interface Teacher&#123;</span><br><span class="line">    //教课</span><br><span class="line">    void teach();</span><br><span class="line">&#125;</span><br><span class="line">class JavaT implements Teacher&#123;</span><br><span class="line">    @Override</span><br><span class="line">    //重写接口方法</span><br><span class="line">    public void teach()&#123;</span><br><span class="line">         System.out.println(&quot;java课程&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="java常用类"><a href="#java常用类" class="headerlink" title="java常用类"></a>java常用类</h3><ul>
<li><strong>Object类</strong>-&gt;java根基类（任何类的父类）<br>特点：任何一个自定义的类，如果没有显示继承某个类，那么默认继承Object类。所以大多数情况不写<br>讲解四个方法<br>a） toString()<br>返回该类以字符串形式表示的<br>b） equals()<br>比较两个对象的内容是否相等<br>c） getClass()<br>返回此obj运行时的类型<br>d） finalize()<br>释放资源（你不用的构造方法（对象））<br>比C语言先进的技术，有自动的垃圾回收机制 GC<ol>
<li>没有引用指向这个对象</li>
<li>该收拾的就收拾了</li>
</ol>
</li>
</ul>
<hr>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class Student&#123;</span><br><span class="line">	String name;</span><br><span class="line">	int  age;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		Student stu= new Student(10,&quot;张子豪&quot;);</span><br><span class="line">		Student stu1= new Student(10,&quot;张子豪&quot;);</span><br><span class="line">		Mouse  m=new Mouse();</span><br><span class="line">			System.out.println(stu.toString());</span><br><span class="line">			System.out.println(stu);</span><br><span class="line">			System.out.println(stu1);</span><br><span class="line">			System.out.println(stu.equals(m));//  false 地址不同</span><br><span class="line">			System.out.println(stu.equals(stu1));//true</span><br><span class="line">			System.out.println(stu.getClass());</span><br><span class="line">			System.out.println(m.getClass());</span><br><span class="line">			Student stu2=new SmallStu(1,&quot;杨毅&quot;);</span><br><span class="line">			System.out.println(stu2.getClass());</span><br><span class="line">	&#125;</span><br><span class="line">	/*// 重写  toString</span><br><span class="line">	@Override</span><br><span class="line">	public String toString() &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		return name+age;</span><br><span class="line">	&#125;*/</span><br><span class="line">	//  构造方法</span><br><span class="line">	public Student(int age,String name)&#123;</span><br><span class="line">		this.age=age;</span><br><span class="line">		this.name=name;</span><br><span class="line">	&#125;</span><br><span class="line">	// 重写 equals方法</span><br><span class="line">	@Override</span><br><span class="line">	public boolean equals(Object obj) &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		//  我们先要判断 obj 是不是空的，如果是空的，就不比</span><br><span class="line">		if(obj==null)&#123;</span><br><span class="line">			return false;</span><br><span class="line">		&#125;else&#123;</span><br><span class="line">			//  判断 obj 是不是 学生类 </span><br><span class="line">			if(obj instanceof Student)&#123;</span><br><span class="line">				// 将父类 obj 强制转换成 stu</span><br><span class="line">				Student  ostu=(Student)obj;</span><br><span class="line">				//  判断  当前对象的名字和 传入的对象名 以及年龄都相等的时候，这才是真正的2个对象</span><br><span class="line">				if(this.name.equals(ostu.name)&amp;&amp;this.age==ostu.age)&#123;</span><br><span class="line">					return true;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		return false;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class  Mouse&#123;&#125;</span><br><span class="line"></span><br><span class="line">class SmallStu extends Student&#123;</span><br><span class="line"></span><br><span class="line">	public SmallStu(int age, String name) &#123;</span><br><span class="line">		super(age, name);</span><br><span class="line">		// TODO Auto-generated constructor stub</span><br><span class="line">	&#125;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>使用JDK API<br>1.提供我们方法，看参数列表，需要什么参数，就给什么参数<br>2.提供我们的方法，看返回值类型，，返回什么，就用什么类型接收</p>
<ul>
<li><strong>String类</strong></li>
</ul>
<p>a） String和StringBuffer区别？<br>String是不变的，StringBuffer可变的<br>b） ==与equals区别？<br>==比较的是地址，equals比较的是内容<br>String有单独的存储空间</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class StringTest&#123;</span><br><span class="line">    public static void main(String[] args)&#123;</span><br><span class="line">        String str=&quot;abc&quot;;</span><br><span class="line">        String str1=&quot;abc&quot;;</span><br><span class="line">        String s=new String(&quot;abc&quot;);</span><br><span class="line">        String s1=new String(&quot;abc&quot;);</span><br><span class="line">        System.out.println(str==str1);//true</span><br><span class="line">        System.out.println(str.equals(str1));//true</span><br><span class="line">        System.out.println(s==s1);//false 地址不同</span><br><span class="line">        System.out.println(s.equals(s1));//true</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>c） String里面常用的方法<br>代码展示</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//定义一个字符串</span><br><span class="line">String strs=&quot;Hello World Java!&quot;</span><br><span class="line">//1.求出这个字符串的长度</span><br><span class="line">int length=strs.length();</span><br><span class="line">System.out.println(length);</span><br><span class="line">//2.求出字符串共有几个字母o</span><br><span class="line">for(int i=0;i&lt;length;i++)&#123;</span><br><span class="line">    int count=0;</span><br><span class="line">    char o=strs.charAt(i);</span><br><span class="line">    if(&quot;o&quot;==o)&#123;</span><br><span class="line">        count++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(count);</span><br><span class="line">//3.判断这个字符串是不是H开头？</span><br><span class="line">System.out.println(strs.startWith(&quot;H&quot;));//返回true和false</span><br><span class="line">//4.把World单词换成61</span><br><span class="line">System.out.println(strs.replace(&quot;World&quot;,&quot;61&quot;));</span><br><span class="line">//5.把Java单独输出来</span><br><span class="line">System.out.println(strs.substring(12,16));//下标从0开始</span><br><span class="line">//6.按照空格，把这个串分成三个字符串输出</span><br><span class="line">String[] ss=strs.split(&quot; &quot;);</span><br><span class="line">for(int i=0;i&lt;ss.length;i++)&#123;</span><br><span class="line">    System.out.println(ss[i]);</span><br><span class="line">&#125;</span><br><span class="line">//7.把Java所有字母都转换成大写</span><br><span class="line">System.out.println(strs.substring(12,16).toUpperCase());</span><br><span class="line">//8.求数字的长度</span><br><span class="line">int i=10;</span><br><span class="line">String is=String.valueOf(i);</span><br><span class="line">System.out.println(is.length());</span><br><span class="line">//9.获取系统当前毫秒时间</span><br><span class="line">long haoMiao=System.currentTimeMillis();</span><br><span class="line">System.out.println(haoMiao);</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>包装类</strong></li>
</ul>
<p>八种基本数据类型，对应的都有一个包装类<br>a） 学包装类的目的？<br>基本数据类型不具备和String相互转换的功能<br>b） 在java web开发的时候，从前台获取的数据都是String类型<br>八种数据类型对应的包装类<br>int==&gt;Integer<br>char==&gt;Character<br>boolean==&gt;Boolean<br>只有int和char不是首字母大写，其余与boolean类似，均是首字母大写<br>c） 要求会的3对转换<br>int&lt;==&gt;String 重点<br>int&lt;==&gt;Integer<br>String&lt;==&gt;Integer<br>代码实现</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class IntegerTest&#123;</span><br><span class="line">    //是针对int的一些常用方法的封装，所以叫包装类</span><br><span class="line">    public static void main(String[] args)&#123;</span><br><span class="line">        //int&lt;==&gt;String</span><br><span class="line">        int i=100;</span><br><span class="line">        String si=String.valueOf(i);</span><br><span class="line">               si=i+&quot;&quot;;</span><br><span class="line">        </span><br><span class="line">        String s=&quot;22&quot;;</span><br><span class="line">        int is=Integer.parseInt(s);//非常重要</span><br><span class="line"></span><br><span class="line">        //int&lt;==&gt;Integer</span><br><span class="line">        int i1=121;</span><br><span class="line">        Integer it1=new Integer(i1);</span><br><span class="line"></span><br><span class="line">        int i2=it1.intValue();</span><br><span class="line">        Integer i3=33;//jdk1.5特性</span><br><span class="line"></span><br><span class="line">        //String&lt;==&gt;Integer</span><br><span class="line">        String s2=&quot;444&quot;;</span><br><span class="line">        Integer it5=new Integer(s2);</span><br><span class="line"></span><br><span class="line">        String s3=it5.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="java第九次课"><a href="#java第九次课" class="headerlink" title="java第九次课"></a>java第九次课</h2><p>本次课主要内容：上节课知识补充、Math类、Date类、异常处理</p>
<h3 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h3><ul>
<li>int和Integer区别<br>int属于基本数据类型，默认值0<br>Integer属于引用数据类型，默认值null<br>内存分配不一样<br>Integer提供了很多与String互相转换的方法<h3 id="Math类"><a href="#Math类" class="headerlink" title="Math类"></a>Math类</h3>随机数，返回一个double类型，o~1之间的小数<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class TestMath&#123;</span><br><span class="line">	public static void main(String[] args)&#123;</span><br><span class="line">		//随机数获取</span><br><span class="line">		System.out.println(Math.random());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">/*控制台打印(不唯一)</span><br><span class="line">0.4975789553898078*/</span><br></pre></td></tr></table></figure></li>
<li>编写一个常用方法，求两个数之间的随机整数</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import java.util.Scanner;</span><br><span class="line"></span><br><span class="line">public class Random &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		//输入流</span><br><span class="line">		Scanner sc = new Scanner(System.in);</span><br><span class="line">		System.out.println(&quot;请输入第一个自然数：&quot;);</span><br><span class="line">		int x = sc.nextInt();</span><br><span class="line">		System.out.println(&quot;请输入第二个自然数：&quot;);</span><br><span class="line">		int y = sc.nextInt();</span><br><span class="line">		if (getRandom(x, y) &lt; 0) &#123;</span><br><span class="line">			System.out.println(&quot;您输入的数字不合法！&quot;);</span><br><span class="line">		&#125; else &#123;</span><br><span class="line">			System.out.println(&quot;系统产生的随机数为：&quot; + getRandom(x, y));</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 封装方法</span><br><span class="line">	private static int getRandom(int x, int y) &#123;</span><br><span class="line">		//创建对象</span><br><span class="line">		Random random = new Random();</span><br><span class="line">		//定义一个小于0的数</span><br><span class="line">		int num = -1;</span><br><span class="line">		//判断是否为自然数</span><br><span class="line">		if (x &lt; 0 || y &lt; 0) &#123;</span><br><span class="line">			return num;</span><br><span class="line">		&#125; else &#123;</span><br><span class="line">			//获取最大值</span><br><span class="line">			int max = x &gt; y ? x : y;</span><br><span class="line">			//获取最小值</span><br><span class="line">			int min = x &lt; y ? x : y;</span><br><span class="line">			int mid = max - min;// 求差</span><br><span class="line">			// 产生随机数</span><br><span class="line">			num = (int) (Math.random()*(mid+1))+min;</span><br><span class="line">		&#125;</span><br><span class="line">		return num;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">//封装另一种方法</span><br><span class="line">public static int getRandomTwoNumber(int start,int end)&#123;//start小于end</span><br><span class="line">	return (int)(Math.random()*(end-start+1)+start);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Math.floor方法</li>
</ul>
<p>返回最接近正无穷大的数，该值小于等于参数，并等于某个整数</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">double d=11.9;</span><br><span class="line">double d1=-11.9;</span><br><span class="line">System.out.println(Math.floor(d));</span><br><span class="line">System.out.println(Math.floor(d1));</span><br><span class="line">/*控制台输出</span><br><span class="line">11.0</span><br><span class="line">-12.0*/</span><br></pre></td></tr></table></figure>
<ul>
<li>Math.max方法：比较两个数中最大的一个</li>
<li>Math.min 比较两个数中最小的</li>
</ul>
<h3 id="日期类"><a href="#日期类" class="headerlink" title="日期类"></a>日期类</h3><ul>
<li>Date与String相互转换</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import java.util.Date;</span><br><span class="line">import java.text.SimpleDateFormat;</span><br><span class="line">public class TestDate&#123;</span><br><span class="line">	public static void main(String[] args)&#123;</span><br><span class="line">		Date d=new Date();</span><br><span class="line">		//已过时方法</span><br><span class="line">		/*System.out.println(d.getYear());</span><br><span class="line">		System.out.println(d.getHours());*/</span><br><span class="line">		//获取日期方法 y对应年，M对应月，d对应日</span><br><span class="line">		SimpleDateFormat sdf=new SimpleDateFormat(&quot;yyyy/MM/dd&quot;);</span><br><span class="line">		String str=sdf.format(d);</span><br><span class="line">		System.out.println(str);</span><br><span class="line">		//字符串转日期（字符串格式必须与获取日期格式相同）</span><br><span class="line">		String date=&quot;2018/4/5&quot;;</span><br><span class="line">		//异常处理</span><br><span class="line">		try &#123;</span><br><span class="line">			//字符串转为日期</span><br><span class="line">			Date d1=sdf.parse(date);</span><br><span class="line">			System.out.println(d1);//输出：Thu Apr 05 00:00:00 CST 2018</span><br><span class="line">		&#125; catch (ParseException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h3><p>掌握一个图，五个关键字，一个知识点<br>一个图</p>
<ul>
<li>Trowable(错误和异常的超类)<ul>
<li>Error(错误)<br>合理的应用程序 不能捕获的严重问题 例如断电、断网</li>
<li>Exception(异常) 程序里出现，必须要捕获处理的异常<ul>
<li>RuntimeException(运行时异常，未检查异常) 程序员可以避免的</li>
<li>Exception(已检查异常)</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<p>五个关键字</p>
<ul>
<li>try 捕获，这里的代码可能会发现异常</li>
<li>catch 处理异常，反馈回你是什么问题</li>
<li>throw 声明异常</li>
<li>throws 抛出异常</li>
<li>finally 无论异常是否会发生，都执行的代码，一般情况下用于资源释放</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class TestException &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		//调用方法</span><br><span class="line">		police();</span><br><span class="line">	&#125;</span><br><span class="line">	//网吧检测年龄，小于18禁止入内</span><br><span class="line">	public static void checkAge(int age) throws Exception &#123;//抛出异常</span><br><span class="line">		if(age&lt;18) &#123;</span><br><span class="line">			//System.out.println(&quot;年龄小于十八，禁止入内！&quot;);</span><br><span class="line">			//声明异常</span><br><span class="line">			throw new Exception(&quot;年龄小于十八，禁止入内！&quot;);</span><br><span class="line">		&#125;else &#123;</span><br><span class="line">			System.out.println(&quot;欢迎光临！&quot;);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	//公安调用检测年龄方法</span><br><span class="line">	public static void police() &#123;</span><br><span class="line">		try &#123;</span><br><span class="line">			checkAge(20);</span><br><span class="line">		&#125; catch (Exception e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;finally&#123;</span><br><span class="line">			System.out.println(&quot;无论是否发生异常，都执行&quot;);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>一个知识点</p>
<ul>
<li>异常和方法重写<br>父类方法没有异常,子类不能抛出Exception异常,可以是其子类异常<br>父类方法上有异常,子类可以抛出异常,也可以不抛异常,还可以抛出子集<br>父类方法上有多个异常,子类可以同时一样抛出,也可以用父类异常类<br>子类抛出的异常不能超过父类<br>自定义异常让自己声明的异常继承Exceptio或者RuntimeException</li>
</ul>
<hr>
<ul>
<li>写出常见的五种异常<ul>
<li>Java.lang.NullPointerException 程序遇上了空指针</li>
<li>java.lang.ClassNotFoundException 指定的类不存在</li>
<li>java.lang.ArithmeticException 数学运算异常</li>
<li>java.lang.ArrayIndexOutOfBoundsException 数组下标越界</li>
<li>java.lang.IllegalAccessException 没有访问权限</li>
</ul>
</li>
</ul>
<hr>
<h3 id="接口练习题"><a href="#接口练习题" class="headerlink" title="接口练习题"></a>接口练习题</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 定义Person(人员)抽象类， Person类包含以下成员变量：name、gender(性别)、birthDate(出生日期)等</span><br><span class="line">方法：修改个人信息、显示个人信息等。</span><br><span class="line">2. 定义Reader(读者)接口，在其中定义抽象方法，如：借书、还书、搜索书籍等。</span><br><span class="line">3. 定义Student类。Student类是Person的子类，并实现Reader接口。类包含以下成员：</span><br><span class="line">变量：学号、专业、借书的数量、借书数量限制等。</span><br><span class="line">方法： 实现Reader接口的方法。</span><br><span class="line">4. 定义Book(书籍)类，也可以定义Book类的子类。Book类及其子类的成员由学生自己思考并给出定义；</span><br><span class="line">5. 定义Library（图书馆）类，包含以下成员：</span><br><span class="line">变量：</span><br><span class="line"> Name，图书馆名称</span><br><span class="line"> students, Student[]，记录图书馆的学生信息；</span><br><span class="line"> books, Books[]，记录图书馆的藏书的书名；</span><br><span class="line">方法：添加新书、添加新的成员；</span><br><span class="line">6. 定义测试(Test)类测试自己设计的系统，测试内容如下：</span><br><span class="line"> 创建Library对象，包括：至少2个Book对象和1个Student对象。</span><br><span class="line"> 使用创建的Student对象测试借书、还书、搜索书籍等方法，并将结果输出到屏幕。 </span><br></pre></td></tr></table></figure>
<h3 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h3><p>答案不唯一</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Book.java</span><br><span class="line"></span><br><span class="line">public class Book &#123;</span><br><span class="line">	//属性</span><br><span class="line">	private int bookId;//书籍号</span><br><span class="line">	private String bookName;//书的姓名</span><br><span class="line">	//构造方法</span><br><span class="line">	public Book(int bookId,String bookName)&#123;</span><br><span class="line">		this.bookId=bookId;</span><br><span class="line">		this.bookName=bookName;</span><br><span class="line">	&#125;</span><br><span class="line">	//重写equals</span><br><span class="line">	public boolean equals(Object obj) &#123;</span><br><span class="line">		Book b = (Book)obj;</span><br><span class="line">		//比较的是Book类</span><br><span class="line">		if(obj instanceof Book)&#123;</span><br><span class="line">			if(this.bookName.equals(b.bookName))&#123;</span><br><span class="line">				return true;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		return false;</span><br><span class="line">	&#125;</span><br><span class="line">	//封装</span><br><span class="line">	public int getBookId() &#123;</span><br><span class="line">		return bookId;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setBookId(int bookId) &#123;</span><br><span class="line">		this.bookId = bookId;</span><br><span class="line">	&#125;</span><br><span class="line">	public String getBookName() &#123;</span><br><span class="line">		return bookName;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setBookName(String bookName) &#123;</span><br><span class="line">		this.bookName = bookName;</span><br><span class="line">	&#125;		</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Reader.java</span><br><span class="line"></span><br><span class="line">public interface Reader &#123;</span><br><span class="line">	//借书</span><br><span class="line">	public abstract void borrowBook(int number);</span><br><span class="line">	//还书</span><br><span class="line">	public abstract void takeBook(int number);</span><br><span class="line">	//搜索书籍</span><br><span class="line">	public abstract boolean findBook(Book book,Library lib);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Student.java</span><br><span class="line"></span><br><span class="line">public class Student extends Person implements Reader&#123;</span><br><span class="line">	//属性</span><br><span class="line">	private int studentNumber;//学号</span><br><span class="line">	private String major;//专业</span><br><span class="line">	private int bookNumberMax;//借书上限</span><br><span class="line">	private static int bookNumber;//已借的数量 需要记录</span><br><span class="line">	//构造方法</span><br><span class="line">	public Student(int studentNumber,String major,int bookNumberMax,String name)&#123;</span><br><span class="line">		this.setName(name);</span><br><span class="line">		this.studentNumber=studentNumber;</span><br><span class="line">		this.major=major;</span><br><span class="line">		this.bookNumberMax=bookNumberMax;</span><br><span class="line">		this.bookNumber=0;</span><br><span class="line">	&#125;</span><br><span class="line">	//封装</span><br><span class="line">	public int getStudentNumber() &#123;</span><br><span class="line">		return studentNumber;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setStudentNumber(int studentNumber) &#123;</span><br><span class="line">		this.studentNumber = studentNumber;</span><br><span class="line">	&#125;</span><br><span class="line">	public String getMajor() &#123;</span><br><span class="line">		return major;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setMajor(String major) &#123;</span><br><span class="line">		this.major = major;</span><br><span class="line">	&#125;</span><br><span class="line">	public int getBookNumberMax() &#123;</span><br><span class="line">		return bookNumberMax;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setBookNumberMax(int bookNumberMax) &#123;</span><br><span class="line">		this.bookNumberMax = bookNumberMax;</span><br><span class="line">	&#125;</span><br><span class="line">	public int getBookNumber() &#123;</span><br><span class="line">		return bookNumber;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setBookNumber(int bookNumber) &#123;</span><br><span class="line">		this.bookNumber = bookNumber;</span><br><span class="line">	&#125;</span><br><span class="line">	//方法重写</span><br><span class="line">	//借书 number为接几本</span><br><span class="line">	public void borrowBook(int number)&#123;</span><br><span class="line">		//借书数量增加  如果没达到上限的话</span><br><span class="line">		if(this.bookNumber+number&lt;=this.bookNumberMax)</span><br><span class="line">		&#123;</span><br><span class="line">			this.bookNumber+=number;</span><br><span class="line">			System.out.println(&quot;借书成功&quot;);</span><br><span class="line">			System.out.println(this.getName()+&quot;借了&quot;+bookNumber+&quot;本&quot;);</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println(&quot;借书失败超过上限&quot;);</span><br><span class="line">			System.out.println(this.getName()+&quot;借了&quot;+bookNumber+&quot;本&quot;);</span><br><span class="line">		&#125;	</span><br><span class="line">	&#125;</span><br><span class="line">	//还书 number为借几本</span><br><span class="line">	public void takeBook(int number)&#123;</span><br><span class="line">		//书的数量减少 判断合不合条件</span><br><span class="line">		if(this.bookNumber-number&gt;=0)</span><br><span class="line">		&#123;</span><br><span class="line">			this.bookNumber-=number;</span><br><span class="line">			System.out.println(&quot;还书成功&quot;);</span><br><span class="line">			System.out.println(this.getName()+&quot;还了&quot;+number+&quot;本&quot;);</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println(&quot;还书失败,没有这么多本&quot;);</span><br><span class="line">			//System.out.println(this.getName()+&quot;还了&quot;+number+&quot;本&quot;);</span><br><span class="line">		&#125;	</span><br><span class="line">	&#125;</span><br><span class="line">	//搜索书籍</span><br><span class="line">	public boolean findBook(Book book,Library lib)&#123;</span><br><span class="line">		//获取数组</span><br><span class="line">		Book [] b = lib.getBooks();</span><br><span class="line">		//System.out.println(lib.getBookNumber());</span><br><span class="line">		for(int i = 0;i &lt; b.length ;i++)</span><br><span class="line">		&#123;</span><br><span class="line">			if(b[i].getBookName().equals(book.getBookName()))</span><br><span class="line">			&#123;</span><br><span class="line">			return true;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		return false;	</span><br><span class="line">	&#125;	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Book.java</span><br><span class="line"></span><br><span class="line">public class Book &#123;</span><br><span class="line">	//属性</span><br><span class="line">	private int bookId;//书籍号</span><br><span class="line">	private String bookName;//书的姓名</span><br><span class="line">	//构造方法</span><br><span class="line">	public Book(int bookId,String bookName)&#123;</span><br><span class="line">		this.bookId=bookId;</span><br><span class="line">		this.bookName=bookName;</span><br><span class="line">	&#125;</span><br><span class="line">	//重写equals</span><br><span class="line">	public boolean equals(Object obj) &#123;</span><br><span class="line">		Book b = (Book)obj;</span><br><span class="line">		//比较的是Book类</span><br><span class="line">		if(obj instanceof Book)&#123;</span><br><span class="line">			if(this.bookName.equals(b.bookName))&#123;</span><br><span class="line">				return true;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		return false;</span><br><span class="line">	&#125;</span><br><span class="line">	//封装</span><br><span class="line">	public int getBookId() &#123;</span><br><span class="line">		return bookId;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setBookId(int bookId) &#123;</span><br><span class="line">		this.bookId = bookId;</span><br><span class="line">	&#125;</span><br><span class="line">	public String getBookName() &#123;</span><br><span class="line">		return bookName;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setBookName(String bookName) &#123;</span><br><span class="line">		this.bookName = bookName;</span><br><span class="line">	&#125;	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Library.java</span><br><span class="line"></span><br><span class="line">//static 变量可以 直接 在成员变量上初始化</span><br><span class="line">public class Library &#123;</span><br><span class="line">	//属性</span><br><span class="line">	private String name;//图书馆名字</span><br><span class="line">	private Student [] student;//记录学生信息</span><br><span class="line">	private static int studentNumber;//学生数量</span><br><span class="line">	public Book [] books;//记录书籍</span><br><span class="line">	private static int bookNumber;//书籍数量	</span><br><span class="line">	//构造方法</span><br><span class="line">	//Number 得为1 再写 Student [] student视为一个新数组 因为重新定义了 找了半天 傻了</span><br><span class="line">	public Library(String name)&#123;</span><br><span class="line">		this.name=name;</span><br><span class="line">		this.studentNumber=1;</span><br><span class="line">		student = new Student[10];</span><br><span class="line">		this.bookNumber=1;</span><br><span class="line">		books = new Book[10];</span><br><span class="line">	&#125;	</span><br><span class="line">	//封装</span><br><span class="line">	public String getName() &#123;</span><br><span class="line">		return name;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setName(String name) &#123;</span><br><span class="line">		this.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	public Student[] getStudent() &#123;</span><br><span class="line">		return student;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setStudent(Student[] student) &#123;</span><br><span class="line">		this.student = student;</span><br><span class="line">	&#125;</span><br><span class="line">	public int getStudentNumber() &#123;</span><br><span class="line">		return studentNumber;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setStudentNumber(int studentNumber) &#123;</span><br><span class="line">		this.studentNumber = studentNumber;</span><br><span class="line">	&#125;</span><br><span class="line">	public Book[] getBooks() &#123;</span><br><span class="line">		return books;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setBooks(Book[] books) &#123;</span><br><span class="line">		this.books = books;</span><br><span class="line">	&#125;</span><br><span class="line">	public int getBookNumber() &#123;</span><br><span class="line">		return bookNumber;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setBookNumber(int bookNumber) &#123;</span><br><span class="line">		this.bookNumber = bookNumber;</span><br><span class="line">	&#125;	</span><br><span class="line">	//方法 新加学生</span><br><span class="line">	public void addStudent(Student student)&#123;</span><br><span class="line">		//人数增加 数组纳入新的学生</span><br><span class="line">		this.student[studentNumber-1] = student;</span><br><span class="line">		studentNumber++;</span><br><span class="line">		//this.student = new Student[studentNumber];</span><br><span class="line">	&#125;	</span><br><span class="line">	//方法 新加入书籍</span><br><span class="line">	//如果在构造函数里的话，大小一开始就定格了 所以出了溢出的错</span><br><span class="line">	//但是如果重新声明的话 之前存的全没了 </span><br><span class="line">	//解决方法 直接定义一个大的数组</span><br><span class="line">	public void addBook(Book book)&#123;</span><br><span class="line">		//书的数量增加 </span><br><span class="line">		//System.out.println(bookNumber);</span><br><span class="line">		this.books[bookNumber-1]=book;</span><br><span class="line">		bookNumber++;</span><br><span class="line">		//this.books = new Book[bookNumber];	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Test.java</span><br><span class="line"></span><br><span class="line">//测试</span><br><span class="line">public class Test &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		Library library = new Library(&quot;哈哈哈图书馆&quot;);</span><br><span class="line">		Book book = new Book(1001,&quot;1书&quot;);</span><br><span class="line">		Book book2 = new Book(1002,&quot;2书&quot;);</span><br><span class="line">		Student stud = new Student(1,&quot;软件&quot;,5,&quot;王同学&quot;);	</span><br><span class="line">		library.addBook(book);</span><br><span class="line">		library.addBook(book2);</span><br><span class="line">		library.addStudent(stud);	</span><br><span class="line">		/*for(int i = 0;i&lt;library.books.length;i++)&#123;</span><br><span class="line">			System.out.println(library.books[i]);</span><br><span class="line">		&#125;*/	</span><br><span class="line">		stud.borrowBook(2);</span><br><span class="line">		stud.takeBook(2);</span><br><span class="line">		System.out.println(stud.findBook(book, library));	</span><br><span class="line"> 	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="java第十次课"><a href="#java第十次课" class="headerlink" title="java第十次课"></a>java第十次课</h2><p>本次课主要内容：集合Collection、Map，Collections的一些方法以及与集合相关的几个问题</p>
<h3 id="集合（容器）"><a href="#集合（容器）" class="headerlink" title="集合（容器）"></a>集合（容器）</h3><ul>
<li>为什么学习集合<br>存对象的对象</li>
<li>集合掌握的一个图<ul>
<li>Collection（接口） 存对象是一个一个存储<ul>
<li>List（接口）<ul>
<li>ArrayList(子类) </li>
<li>LinkedList(子类)</li>
</ul>
</li>
<li>Set（接口）<ul>
<li>HashSet(子类) </li>
</ul>
</li>
</ul>
</li>
<li>Map（接口）<ul>
<li>HashMap（子类）</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<p>完成：用List存储学生对象，存储完再输出到控制台</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import java.util.ArrayList;</span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">public class Test &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		Student stu1=new Student(&quot;张三&quot;, 21);</span><br><span class="line">		Student stu2=new Student(&quot;李四&quot;, 22);</span><br><span class="line">		Student stu3=new Student(&quot;王五&quot;, 22);</span><br><span class="line">		Student stu4=new Student(&quot;阿六&quot;, 22);</span><br><span class="line">		//用List存储对象</span><br><span class="line">		List l=new ArrayList();//底层方法也是数组实现</span><br><span class="line">		l.add(stu1);</span><br><span class="line">		l.add(stu2);</span><br><span class="line">		l.add(stu3);</span><br><span class="line">		l.add(stu4);</span><br><span class="line">		for(int i=0;i&lt;l.size();i++) &#123;</span><br><span class="line">            //转换为Student对象</span><br><span class="line">			Student s = (Student) l.get(i);</span><br><span class="line">			//输出对象</span><br><span class="line">			System.out.println(s);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">class Student&#123;</span><br><span class="line">	private int age;</span><br><span class="line">	public int getAge() &#123;</span><br><span class="line">		return age;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setAge(int age) &#123;</span><br><span class="line">		this.age = age;</span><br><span class="line">	&#125;</span><br><span class="line">	public String getName() &#123;</span><br><span class="line">		return name;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setName(String name) &#123;</span><br><span class="line">		this.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	private String name;</span><br><span class="line">	public Student(String name,int age) &#123;</span><br><span class="line">		this.name=name;</span><br><span class="line">		this.age=age;</span><br><span class="line">	&#125;</span><br><span class="line">	@Override</span><br><span class="line">	public String toString() &#123;</span><br><span class="line">		return &quot;姓名：&quot; +name+ &quot;年龄&quot; +age;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>List和Set区别<br>List可以放重复的，元素有顺序<br>Set不可以放重复的，元素没有顺序<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import java.util.HashSet;</span><br><span class="line">import java.util.Iterator;</span><br><span class="line">import java.util.Set;</span><br><span class="line"></span><br><span class="line">public class TestSet &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		Student stu1=new Student(&quot;123&quot;, 21);</span><br><span class="line">		Student stu2=new Student(&quot;456&quot;, 22);</span><br><span class="line">		Student stu3=new Student(&quot;123&quot;, 21);</span><br><span class="line">		Student stu4=new Student(&quot;789&quot;, 23);</span><br><span class="line">		Set s=new HashSet();</span><br><span class="line">		s.add(stu4);</span><br><span class="line">		s.add(stu3);</span><br><span class="line">		s.add(stu2);</span><br><span class="line">		s.add(stu1);</span><br><span class="line">        //迭代器遍历输出</span><br><span class="line">		Iterator it=s.iterator();</span><br><span class="line">		while(it.hasNext()) &#123;</span><br><span class="line">			Student stu = (Student)it.next();</span><br><span class="line">			System.out.println(stu.getName());</span><br><span class="line">		&#125;	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">class Student&#123;</span><br><span class="line">	private int age;</span><br><span class="line">	public int getAge() &#123;</span><br><span class="line">		return age;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setAge(int age) &#123;</span><br><span class="line">		this.age = age;</span><br><span class="line">	&#125;</span><br><span class="line">	public String getName() &#123;</span><br><span class="line">		return name;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setName(String name) &#123;</span><br><span class="line">		this.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	private String name;</span><br><span class="line">	public Student(String name,int age) &#123;</span><br><span class="line">		this.name=name;</span><br><span class="line">		this.age=age;</span><br><span class="line">	&#125;</span><br><span class="line">    //重写toString方法</span><br><span class="line">	@Override</span><br><span class="line">	public String toString() &#123;</span><br><span class="line">		return &quot;姓名：&quot; +name+ &quot;年龄&quot; +age;</span><br><span class="line">	&#125;</span><br><span class="line">    //重写equals方法</span><br><span class="line">	@Override</span><br><span class="line">	public boolean equals(Object obj) &#123;</span><br><span class="line">        //判断obj是否为空</span><br><span class="line">		if(obj==null) &#123;</span><br><span class="line">			return false;</span><br><span class="line">		&#125;else if(this.getClass()==obj.getClass()) &#123;</span><br><span class="line">            //强转obj为Student</span><br><span class="line">			Student stu=(Student) obj;</span><br><span class="line">            //判断属性是否相同</span><br><span class="line">			if(this.name.equals(stu.name)&amp;&amp;this.age==stu.age) &#123;</span><br><span class="line">				return true;</span><br><span class="line">			&#125;</span><br><span class="line">			return false;</span><br><span class="line">		&#125;</span><br><span class="line">		return false;</span><br><span class="line">	&#125;</span><br><span class="line">    //重写hashCode方法</span><br><span class="line">	@Override</span><br><span class="line">	public int hashCode() &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		return age;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line">/*控制台输出</span><br><span class="line">123</span><br><span class="line">456</span><br><span class="line">789*/</span><br><span class="line">//需要重写hashCode方法和equals方法，这几个返回值相同，即认为重复</span><br></pre></td></tr></table></figure></li>
<li>Map添加与取出<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import java.util.HashMap;</span><br><span class="line">import java.util.Iterator;</span><br><span class="line">import java.util.Map;</span><br><span class="line">import java.util.Set;</span><br><span class="line"></span><br><span class="line">public class TestMap &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		Map m=new HashMap();</span><br><span class="line">		//添加</span><br><span class="line">		m.put(1, &quot;张三&quot;);//jdk1.4之后可以这么用</span><br><span class="line">		m.put(new Integer(2), &quot;李四&quot;);//jdk1.4之前这么用</span><br><span class="line">		//取出</span><br><span class="line">		//调用keySet,返回的是key</span><br><span class="line">		Set keys=m.keySet();//返回的是数组</span><br><span class="line">		Iterator it=keys.iterator();//返回的是地址</span><br><span class="line">		while(it.hasNext()) &#123;</span><br><span class="line">			Object key=it.next();</span><br><span class="line">			Object value=m.get(key);</span><br><span class="line">			System.out.println(key+&quot; &quot;+value);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Collections的一些方法"><a href="#Collections的一些方法" class="headerlink" title="Collections的一些方法"></a>Collections的一些方法</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import java.util.ArrayList;</span><br><span class="line">import java.util.Collections;</span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">public class TestCollections &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">        //创建一个集合</span><br><span class="line">		List l=new ArrayList();</span><br><span class="line">		for(int i=0;i&lt;10;i++) &#123;</span><br><span class="line">			l.add(&quot;a&quot;+i);</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(l);</span><br><span class="line">		//排序</span><br><span class="line">		Collections.reverse(l);//逆序</span><br><span class="line">		System.out.println(l);</span><br><span class="line">		Collections.sort(l);//自然排序</span><br><span class="line">		System.out.println(l);</span><br><span class="line">		int i=Collections.binarySearch(l, &quot;a5&quot;);//二分法搜索（须先进行自然排序）</span><br><span class="line">		System.out.println(i);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">/*控制台输出</span><br><span class="line">[a9, a8, a7, a6, a5, a4, a3, a2, a1, a0]</span><br><span class="line">[a0, a1, a2, a3, a4, a5, a6, a7, a8, a9]</span><br><span class="line">5</span><br><span class="line">*/</span><br></pre></td></tr></table></figure>
<h3 id="集合相关问题"><a href="#集合相关问题" class="headerlink" title="集合相关问题"></a>集合相关问题</h3></li>
<li>ArrayList和LinkedList区别</li>
</ul>
<p>1.ArrayList是实现了基于动态数组的数据结构，LinkedList是基于链表结构。<br>2.对于随机访问的get和set方法，ArrayList要优于LinkedList，因为LinkedList要移动指针。<br>3.对于新增和删除操作add和remove，LinkedList比较占优势，因为ArrayList要移动数据。</p>
<hr>
<ul>
<li>ArrayList与Vector区别<br>ArrayList是线程不安全的，Vector是线程安全的，Vector是重量级的，从jdk1.2后Vector成为了java Collection Framework的成员</li>
</ul>
<hr>
<ul>
<li>HashSet和TreeSet区别<br>1、TreeSet 是二差树实现的,Treeset中的数据是自动排好序的，不允许放入null值。<br>2、HashSet 是哈希表实现的,HashSet中的数据是无序的，可以放入null，但只能放入一个null，两者中的值都不能重复，就如数据库中唯一约束。<br>3、HashSet要求放入的对象必须实现HashCode()方法，放入的对象，是以hashcode码作为标识的，而具有相同内容的 String对象，hashcode是一样，所以放入的内容不能重复。但是同一个类的对象可以放入不同的实例。</li>
</ul>
<hr>
<ul>
<li>HashMap和Hashtable区别</li>
</ul>
<p>1.（同步性）HashTable的方法是同步的，HashMap不能同步。<br>2.（继承的父类不同)HashTable是继承自Dictionary类，而HashMap是继承自AbstractMap类。不过它们都实现了同时实现了map、Cloneable（可复制）、Serializable（可序列化）这三个接口。<br>3.（对null key和null value的支持不同）.HashTable不允许null值（key和value都不可以），HashMap允许使用null值（key和value）都可以。这样的键只有一个，可以有一个或多个键所对应的值为null。<br>Hashtable既不支持Null key也不支持Null value。Hashtable的put()方法的注释中有说明。<br>当key为Null时，调用put() 方法，运行到下面这一步就会抛出空指针异常。因为拿一个Null值去调用方法了。<br>当value为null值时，Hashtable对其做了限制，运行到下面这步也会抛出空指针异常。<br>HashMap中，null可以作为键，这样的键只有一个；可以有一个或多个键所对应的值为null。当get()方法返回null值时，可能是 HashMap中没有该键，也可能使该键所对应的值为null。因此，在HashMap中不能由get()方法来判断HashMap中是否存在某个键， 而应该用containsKey()方法来判断。<br>4.（遍历方法不同）HashTable使用Enumeration遍历，HashMap使用Iterator进行遍历。<br>5.（初始化和扩容方式不同）HashTable中hash数组初始化大小及扩容方式不同。<br>Hashtable默认的初始大小为11，之后每次扩充，容量变为原来的2n+1。HashMap默认的初始化大小为16。之后每次扩充，容量变为原来的2倍。<br>创建时，如果给定了容量初始值，那么Hashtable会直接使用你给定的大小，而HashMap会将其扩充为2的幂次方大小。也就是说Hashtable会尽量使用素数、奇数。而HashMap则总是使用2的幂作为哈希表的大小。<br>6.计算hash值的方法不同。</p>
<hr>
<ul>
<li>Collections与Collection区别<br>1、Collection 是一个集合接口。它提供了对集合对象进行基本操作的通用接口方法。Collection接口在Java 类库中有很多具体的实现。Collection接口的意义是为各种具体的集合提供了最大化的统一操作方式。<br>2、Collections 是一个包装类。它包含有各种有关集合操作的静态多态方法。此类不能实例化，就像一个工具类，服务于Java的Collection框架。<br>Collections 是一个包装类，Collection 表示一组对象，这些对象也称为 collection 的元素。一些 collection 允许有重复的元素，而另一些则不允许，一些 collection 是有序的，而另一些则是无序的。<h3 id="本节课总结"><a href="#本节课总结" class="headerlink" title="本节课总结"></a>本节课总结</h3>Collection是存对象的<br>Map是存一对对象的<br>List是重复的<br>Set是无序，不重复的<br>Iterator是遍历Collection的接口<br>Collections是一个类，操作Collection的，完成各种排序</li>
</ul>
<h2 id="java第十一次课"><a href="#java第十一次课" class="headerlink" title="java第十一次课"></a>java第十一次课</h2><p>本节课主要内容：IO流、Buffered流、Data流、Object流、Print流、转换流</p>
<h3 id="IO流"><a href="#IO流" class="headerlink" title="IO流"></a>IO流</h3><p>I==》input<br>O==》output<br>完成文件和程序之间的传输</p>
<h4 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h4><p>文件由文件名和拓展名组成 如a.txt, b.doc, c.ppt</p>
<h4 id="文件的创建-File"><a href="#文件的创建-File" class="headerlink" title="文件的创建 File"></a>文件的创建 File</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import java.io.File;</span><br><span class="line">import java.io.IOException;</span><br><span class="line"></span><br><span class="line">public class TestFile &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		File f=new File(&quot;a.txt&quot;);//创建文件的一个对象，没有产生文件</span><br><span class="line">		//在D盘创建 separator方法为自动选择路径</span><br><span class="line">		File f1=new File(&quot;d:&quot;+File.separator+&quot;a.txt&quot;);</span><br><span class="line">		try &#123;</span><br><span class="line">			//此时a.txt创建在当前项目下</span><br><span class="line">			Boolean b=f.createNewFile();</span><br><span class="line">			Boolean b1=f1.createNewFile();</span><br><span class="line">			//此时a.txt创建在d盘</span><br><span class="line">			System.out.println(b);</span><br><span class="line">			System.out.println(b1);</span><br><span class="line">		&#125; catch (IOException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="在某盘下创建一个文件夹，在文件夹里创建文件和文件夹，判断此文件夹下有多少个文件和文件夹"><a href="#在某盘下创建一个文件夹，在文件夹里创建文件和文件夹，判断此文件夹下有多少个文件和文件夹" class="headerlink" title="在某盘下创建一个文件夹，在文件夹里创建文件和文件夹，判断此文件夹下有多少个文件和文件夹"></a>在某盘下创建一个文件夹，在文件夹里创建文件和文件夹，判断此文件夹下有多少个文件和文件夹</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import java.io.File;</span><br><span class="line">import java.io.IOException;</span><br><span class="line"></span><br><span class="line">public class TestFile &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		/*File f=new File(&quot;a.txt&quot;);//创建文件的一个对象，没有产生文件</span><br><span class="line">		//在D盘创建</span><br><span class="line">		File f1=new File(&quot;d:&quot;+File.separator+&quot;a.txt&quot;);</span><br><span class="line">		try &#123;</span><br><span class="line">			//此时a.txt创建在当前项目下</span><br><span class="line">			Boolean b=f.createNewFile();</span><br><span class="line">			Boolean b1=f1.createNewFile();</span><br><span class="line">			//此时a.txt创建在d盘</span><br><span class="line">			System.out.println(b);</span><br><span class="line">			System.out.println(b1);</span><br><span class="line">		&#125; catch (IOException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;*/</span><br><span class="line">		//设置文件夹名</span><br><span class="line">		String dirname=&quot;d:/test&quot;;</span><br><span class="line">		//创建文件夹对象</span><br><span class="line">		File file=new File(dirname);</span><br><span class="line">		//mkdir()方法 创建文件夹</span><br><span class="line">		Boolean f=file.mkdir();</span><br><span class="line">		//输出是否创建成功</span><br><span class="line">		System.out.println(f);</span><br><span class="line">		//在test文件夹下创建test.txt文件</span><br><span class="line">		File file2= new File(&quot;d:/test/test.txt&quot;);</span><br><span class="line">		//创建</span><br><span class="line">		try &#123;</span><br><span class="line">			Boolean f1=file2.createNewFile();</span><br><span class="line">			System.out.println(f1);</span><br><span class="line">		&#125; catch (IOException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		//在test文件夹下创建test文件夹</span><br><span class="line">		File file3=new File(&quot;d:/test/test&quot;);</span><br><span class="line">		Boolean f3=file3.mkdirs();</span><br><span class="line">		System.out.println(f3);</span><br><span class="line">		//test文件夹遍历(直接调用文件夹对象file)</span><br><span class="line">		//运用listFiles方法</span><br><span class="line">		listFiles(file);</span><br><span class="line">	&#125;</span><br><span class="line">	//封装listFiles方法</span><br><span class="line">	public static void listFiles(File str) &#123;</span><br><span class="line">		//判断当前文件或目录是否存在</span><br><span class="line">		if(str.exists()) &#123;</span><br><span class="line">			//如果是目录</span><br><span class="line">			if(str.isDirectory()) &#123;</span><br><span class="line">				//打印当前目录的路径</span><br><span class="line">				System.out.println(str);</span><br><span class="line">				//获取该目录下的所有文件和目录组成的File数组</span><br><span class="line">				File[] files=str.listFiles();</span><br><span class="line">				//遍历每一个子文件</span><br><span class="line">				for(File file:files) &#123;</span><br><span class="line">					listFiles(file);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;else &#123;</span><br><span class="line">				//如果是文件，则打印文件路径及名称</span><br><span class="line">				System.out.println(str);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">/*控制台输出（创建成功为true,反之false）</span><br><span class="line">true</span><br><span class="line">true</span><br><span class="line">true</span><br><span class="line">d:\test</span><br><span class="line">d:\test\test</span><br><span class="line">d:\test\test.txt</span><br><span class="line">*/</span><br></pre></td></tr></table></figure>
<h4 id="向文件里写东西或是从文件向程序读东西"><a href="#向文件里写东西或是从文件向程序读东西" class="headerlink" title="向文件里写东西或是从文件向程序读东西"></a>向文件里写东西或是从文件向程序读东西</h4><h3 id="IO流分类"><a href="#IO流分类" class="headerlink" title="IO流分类"></a>IO流分类</h3><ul>
<li>按方向分为 输入输出</li>
<li>按功能分 节点流和处理流</li>
<li>按单位分 字节流和字符流</li>
</ul>
<h4 id="四大抽象流"><a href="#四大抽象流" class="headerlink" title="四大抽象流"></a>四大抽象流</h4><p><strong>字节流</strong></p>
<ul>
<li>InputStream<br>读数据 FileInputStream<br>读取26个英文字母<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import java.io.File;</span><br><span class="line">import java.io.FileInputStream;</span><br><span class="line">import java.io.FileNotFoundException;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.InputStream;</span><br><span class="line"></span><br><span class="line">public class TestInputStream &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		//创建文件对象</span><br><span class="line">		File f=new File(&quot;d://a.txt&quot;);</span><br><span class="line">		//调用InputStream流</span><br><span class="line">		InputStream is=null;</span><br><span class="line">		try &#123;</span><br><span class="line">			is=new FileInputStream(f);</span><br><span class="line">			//选择操作 读</span><br><span class="line">			//第一种方法while循环</span><br><span class="line">			 try &#123;</span><br><span class="line">				int r;</span><br><span class="line">				while((r=is.read())!=-1) &#123;</span><br><span class="line">					System.out.print((char)r);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125; catch (IOException e) &#123;</span><br><span class="line">				// TODO Auto-generated catch block</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">			 </span><br><span class="line">			//第二种方法</span><br><span class="line">			/*for(int i=0;i&lt;f.length();i++) &#123;</span><br><span class="line">				//输出字符</span><br><span class="line">				try &#123;</span><br><span class="line">					//返回值为int，强转为char</span><br><span class="line">					System.out.print((char)(is.read()));</span><br><span class="line">				&#125; catch (IOException e) &#123;</span><br><span class="line">					// TODO Auto-generated catch block</span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;*/</span><br><span class="line">		&#125; catch (FileNotFoundException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;finally &#123;</span><br><span class="line">			try &#123;</span><br><span class="line">				//关闭流</span><br><span class="line">				is.close();</span><br><span class="line">			&#125; catch (IOException e) &#123;</span><br><span class="line">				// TODO Auto-generated catch block</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li>OutputStream（不能添加字符）<br>写数据 FileOutputStream<br>写入26个英文字母<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import java.io.File;</span><br><span class="line">import java.io.FileNotFoundException;</span><br><span class="line">import java.io.FileOutputStream;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.OutputStream;</span><br><span class="line"></span><br><span class="line">public class TestOutputStream &#123;</span><br><span class="line">	//需求 往记事本里写入内容</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		//创建文件对象</span><br><span class="line">		File f=new File(&quot;d://a.txt&quot;);</span><br><span class="line">		//调用OutputStream流</span><br><span class="line">		OutputStream os=null;</span><br><span class="line">		try &#123;</span><br><span class="line">			os=new FileOutputStream(f);</span><br><span class="line">			//选择操作 写</span><br><span class="line">			try &#123;</span><br><span class="line">				//写入26个英文字母</span><br><span class="line">				for(int i=97;i&lt;97+26;i++) &#123;</span><br><span class="line">				os.write(i);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125; catch (IOException e) &#123;</span><br><span class="line">				// TODO Auto-generated catch block</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; catch (FileNotFoundException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;finally&#123;</span><br><span class="line">			try &#123;</span><br><span class="line">				//关闭流</span><br><span class="line">				os.close();</span><br><span class="line">			&#125; catch (IOException e) &#123;</span><br><span class="line">				// TODO Auto-generated catch block</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong>字符流</strong></p>
<ul>
<li>Reader<br>读数据 FileReader<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import java.io.File;</span><br><span class="line">import java.io.FileNotFoundException;</span><br><span class="line">import java.io.FileReader;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.Reader;</span><br><span class="line"></span><br><span class="line">public class TestReader &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		//文件地址</span><br><span class="line">		File f=new File(&quot;d:&quot;+File.separator+&quot;a.txt&quot;);</span><br><span class="line">		//选择流</span><br><span class="line">		Reader r=null;</span><br><span class="line">		try &#123;</span><br><span class="line">			r=new FileReader(f);</span><br><span class="line">			//操作</span><br><span class="line">			char c[]=new char[(int)f.length()];</span><br><span class="line">			try &#123;</span><br><span class="line">				int result=r.read(c);</span><br><span class="line">				String str=new String(c,0,(int)f.length());</span><br><span class="line">				System.out.println(str);</span><br><span class="line">			&#125; catch (IOException e) &#123;</span><br><span class="line">				// TODO Auto-generated catch block</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; catch (FileNotFoundException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;finally &#123;</span><br><span class="line">			//关闭流</span><br><span class="line">			try &#123;</span><br><span class="line">				r.close();</span><br><span class="line">			&#125; catch (IOException e) &#123;</span><br><span class="line">				// TODO Auto-generated catch block</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>Writer（可以添加字符）<br>写数据 FileWriter<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import java.io.File;</span><br><span class="line">import java.io.FileWriter;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.Writer;</span><br><span class="line"></span><br><span class="line">public class TestWriter &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		//文件地址</span><br><span class="line">		File f=new File(&quot;d:&quot;+File.separator+&quot;a.txt&quot;);</span><br><span class="line">		//选择流</span><br><span class="line">		Writer w=null;</span><br><span class="line">		try &#123;</span><br><span class="line">			//w=new FileWriter(f);</span><br><span class="line">			//添加true后，不删除原来已有的内容，默认为false</span><br><span class="line">			w=new FileWriter(f,true);</span><br><span class="line">			//操作（删除原来已有的内容）</span><br><span class="line">			//w.write(&quot;自己的命运自己掌握&quot;)</span><br><span class="line">			w.write(&quot;好好努力&quot;);</span><br><span class="line">		&#125; catch (IOException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;finally &#123;</span><br><span class="line">			try &#123;</span><br><span class="line">				//关闭流</span><br><span class="line">				w.close();</span><br><span class="line">			&#125; catch (IOException e) &#123;</span><br><span class="line">				// TODO Auto-generated catch block</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Buffered流"><a href="#Buffered流" class="headerlink" title="Buffered流"></a>Buffered流</h3>处理流又叫高级流，必须套接在其它节点之上<br>特点：对于字符的操作，可以读写一行，而且还可以减少对硬盘的刷新，因为它带有缓冲区</li>
</ul>
<p><strong>子类</strong></p>
<ul>
<li>BufferedInputStream/OutputStream</li>
<li>Reader/Writer<br>java设计模式 可以套接一串的对象<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import java.io.BufferedWriter;</span><br><span class="line">import java.io.File;</span><br><span class="line">import java.io.FileWriter;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.Writer;</span><br><span class="line">public class TestBuffered &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		//选择文件</span><br><span class="line">		File f=new File(&quot;d://a.txt&quot;);</span><br><span class="line">		//选择流</span><br><span class="line">		BufferedWriter bw=null;</span><br><span class="line">		BufferedWriter bw1=null;</span><br><span class="line">		Writer w;</span><br><span class="line">		try &#123;</span><br><span class="line">			w = new FileWriter(f);</span><br><span class="line">			bw=new BufferedWriter(w);</span><br><span class="line">			bw.write(&quot;你好&quot;);</span><br><span class="line">			//装饰模式方法</span><br><span class="line">			bw1=new BufferedWriter(new FileWriter(new File(&quot;d://a.txt&quot;)));</span><br><span class="line">			//换行</span><br><span class="line">			bw.newLine();</span><br><span class="line">			bw.write(&quot;java&quot;);</span><br><span class="line">			bw.flush();</span><br><span class="line">		&#125; catch (IOException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;finally &#123;</span><br><span class="line">			try &#123;</span><br><span class="line">				//关闭流</span><br><span class="line">				bw.close();</span><br><span class="line">			&#125; catch (IOException e) &#123;</span><br><span class="line">				// TODO Auto-generated catch block</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="Data流"><a href="#Data流" class="headerlink" title="Data流"></a>Data流</h3>数据流<br>特点：能读写和机器无关的8种基本数据类型<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import java.io.DataOutputStream;</span><br><span class="line">import java.io.File;</span><br><span class="line">import java.io.FileNotFoundException;</span><br><span class="line">import java.io.FileOutputStream;</span><br><span class="line">import java.io.IOException;</span><br><span class="line"></span><br><span class="line">public class TestData &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		//装修模式</span><br><span class="line">		DataOutputStream os=null;</span><br><span class="line">		try &#123;</span><br><span class="line">			os=new DataOutputStream(new FileOutputStream(new File(&quot;d://a.txt&quot;)));</span><br><span class="line">			try &#123;</span><br><span class="line">				//写入</span><br><span class="line">				os.write(10);</span><br><span class="line">				os.writeBoolean(true);</span><br><span class="line">				os.writeDouble(5.5);</span><br><span class="line">				os.flush();</span><br><span class="line">			&#125; catch (IOException e) &#123;</span><br><span class="line">				// TODO Auto-generated catch block</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; catch (FileNotFoundException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;finally &#123;</span><br><span class="line">			try &#123;</span><br><span class="line">				//关闭流</span><br><span class="line">				os.close();</span><br><span class="line">			&#125; catch (IOException e) &#123;</span><br><span class="line">				// TODO Auto-generated catch block</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Object流"><a href="#Object流" class="headerlink" title="Object流"></a>Object流</h3>特点：可以读写对象<br>但是读写的对象必须被序列化<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import java.io.File;</span><br><span class="line">import java.io.FileInputStream;</span><br><span class="line">import java.io.FileOutputStream;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.ObjectInputStream;</span><br><span class="line">import java.io.ObjectOutputStream;</span><br><span class="line">import java.io.Serializable;</span><br><span class="line">public class TestObject &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		Student stu = new Student();</span><br><span class="line">		stu.name = &quot;java61&quot;;</span><br><span class="line">		stu.age = 1;</span><br><span class="line">		// 把 stu 写入到记事本里面</span><br><span class="line">		ObjectOutputStream oos = null;</span><br><span class="line">		ObjectInputStream ois = null;</span><br><span class="line">		try &#123;</span><br><span class="line">			oos = new ObjectOutputStream(new FileOutputStream(new File(&quot;d:\\a.txt&quot;)));</span><br><span class="line">			oos.writeObject(stu);</span><br><span class="line">			ois = new ObjectInputStream(new FileInputStream(new File(&quot;d:\\a.txt&quot;)));</span><br><span class="line">			Object obj = ois.readObject();</span><br><span class="line">			Student s = (Student) obj;</span><br><span class="line">			System.out.println(s.name);</span><br><span class="line">			System.out.println(s.age);</span><br><span class="line">		&#125; catch (IOException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; catch (ClassNotFoundException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; finally &#123;</span><br><span class="line">			try &#123;</span><br><span class="line">				oos.close();</span><br><span class="line">				ois.close();</span><br><span class="line">			&#125; catch (IOException e) &#123;</span><br><span class="line">				// TODO Auto-generated catch block</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">class Student implements Serializable &#123;</span><br><span class="line">	String name;</span><br><span class="line">	transient int age;// 透明的属性 不被写入</span><br><span class="line">&#125;</span><br><span class="line">/*</span><br><span class="line">控制台输出</span><br><span class="line">java61</span><br><span class="line">0</span><br><span class="line">*/</span><br></pre></td></tr></table></figure>
<h3 id="Print流"><a href="#Print流" class="headerlink" title="Print流"></a>Print流</h3>是java中唯一一个单向流，只有输出。可以写入8种基本数据类型，自带刷新功能<h3 id="转换流"><a href="#转换流" class="headerlink" title="转换流"></a>转换流</h3>可以转换编码形式<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import java.io.UnsupportedEncodingException;</span><br><span class="line">public class TestBianMa &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		System.out.println(System.getProperty(&quot;file.encoding&quot;));</span><br><span class="line">		String str=new String(&quot;我爱你中国&quot;);</span><br><span class="line">		System.out.println(str);</span><br><span class="line">		try &#123;</span><br><span class="line">			byte[] b= str.getBytes(&quot;Big5&quot;);</span><br><span class="line">			String  str1=new String(b);</span><br><span class="line">			System.out.println(str1);</span><br><span class="line">		&#125; catch (UnsupportedEncodingException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import java.io.File;</span><br><span class="line">import java.io.FileNotFoundException;</span><br><span class="line">import java.io.FileOutputStream;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.OutputStreamWriter;</span><br><span class="line">import java.io.UnsupportedEncodingException;</span><br><span class="line">public class ChangeCharIO &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		OutputStreamWriter os = null;</span><br><span class="line">		try &#123;</span><br><span class="line">			os = new OutputStreamWriter(new FileOutputStream(new File(&quot;d:\\a.txt&quot;)), &quot;Big5&quot;);</span><br><span class="line">			os.write(&quot;我爱你中国&quot;);</span><br><span class="line">		&#125; catch (FileNotFoundException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; catch (UnsupportedEncodingException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; catch (IOException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; finally &#123;</span><br><span class="line">			try &#123;</span><br><span class="line">				os.close();</span><br><span class="line">			&#125; catch (IOException e) &#123;</span><br><span class="line">				// TODO Auto-generated catch block</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><h4 id="IO重点，知道操作流的步骤"><a href="#IO重点，知道操作流的步骤" class="headerlink" title="IO重点，知道操作流的步骤"></a>IO重点，知道操作流的步骤</h4><ul>
<li>选择文件路径</li>
<li>选择流</li>
<li>选择操作（读或者写）</li>
<li>关闭流</li>
</ul>
<h4 id="IO提供的四大抽象流"><a href="#IO提供的四大抽象流" class="headerlink" title="IO提供的四大抽象流"></a>IO提供的四大抽象流</h4><p>InputStream OutputStream<br>Reader Writer</p>
<h4 id="IO分类"><a href="#IO分类" class="headerlink" title="IO分类"></a>IO分类</h4><ul>
<li>按功能：节点流（低级流）和处理流（高级流）</li>
<li>按方向：输入，输出（注意：是站在程序角度说的 入和出）</li>
<li>按单位：字节流和字符流（注意：用记事本正常打开可以看就是字符）</li>
</ul>
<h4 id="高级流"><a href="#高级流" class="headerlink" title="高级流"></a>高级流</h4><ul>
<li>Bufferer:能读写一行</li>
<li>Data:能读写八种基本数据类型</li>
<li>Object:能读写对象（但是对象必须被序列化）</li>
<li>PrintWriter:单向流，没有输入</li>
<li>转换:从字节可以转换成字符，还可以改变编码</li>
</ul>
<h2 id="java第十二次课"><a href="#java第十二次课" class="headerlink" title="java第十二次课"></a>java第十二次课</h2><p>本次课主要内容：<br>jdk1.5新增特性和线程</p>
<h3 id="jdk1-5新增特性：jdk1-5是个转折点"><a href="#jdk1-5新增特性：jdk1-5是个转折点" class="headerlink" title="jdk1.5新增特性：jdk1.5是个转折点"></a>jdk1.5新增特性：jdk1.5是个转折点</h3><h4 id="新增for"><a href="#新增for" class="headerlink" title="新增for"></a>新增for</h4><p>for(数据类型 变量名:你要遍历的变量名){}<br>优点：可读性强，代码量少<br>缺点：不能单独操作某个元素</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class TestFor &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		int [] a=&#123;3,5,2,6,3,45&#125;;</span><br><span class="line">		System.out.println(a[1]);</span><br><span class="line">		for(int i=0;i&lt;a.length;i++)&#123;</span><br><span class="line">			System.out.print(a[i]);	</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println();</span><br><span class="line">        //新增for</span><br><span class="line">		for(int ai:a)&#123;</span><br><span class="line">			System.out.print(ai);</span><br><span class="line">			System.out.println(a[3]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="可变参数"><a href="#可变参数" class="headerlink" title="可变参数"></a>可变参数</h4><p>注意：每个方法中一个可变参数，而且放在后面</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class TestChangeArgs &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		add(1,1,1);</span><br><span class="line">	&#125;</span><br><span class="line">	//  求 2个数的和</span><br><span class="line">	public static int add(int a,int b)&#123;</span><br><span class="line">		return a+b;</span><br><span class="line">	&#125;</span><br><span class="line">	//  等价于 int [] a 数组，但是这个数组长度你自己说了算，你给多少值，就多长</span><br><span class="line">	public static void add(int ... a)&#123;</span><br><span class="line">        return a[0]+a[1]+a[3];	</span><br><span class="line">	&#125;</span><br><span class="line">	// 注意，可变参数，必须放在后面，而且就有一个</span><br><span class="line">	public static void add(String str,int ... a)&#123;	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h4><p>出现泛型的目的：避免强制类型转换带来的风险<br>可以自定义泛型<br>泛型的通配符<br>super extends</p>
<hr>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import java.util.ArrayList;</span><br><span class="line">import java.util.List;</span><br><span class="line">//泛型</span><br><span class="line">public class TestGener&lt;T&gt; &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		ValueVar&lt;String&gt;  vv =new ValueVar&lt;String&gt;();</span><br><span class="line">//		vv.setValue(11);</span><br><span class="line">		vv.setValue(&quot;ss&quot;);</span><br><span class="line">		List&lt;ValueVar&gt; l =new ArrayList&lt;ValueVar&gt;();</span><br><span class="line">		List&lt;Integer&gt; l1=new ArrayList&lt;Integer&gt;();</span><br><span class="line">//		l.add(&quot;aa&quot;);</span><br><span class="line">//		l.add(1);</span><br><span class="line">		l.add(vv);</span><br><span class="line">		// 调用泛型的</span><br><span class="line">		TestGener&lt;Integer&gt; tg1 =new TestGener&lt;Integer&gt;();</span><br><span class="line">		TestGener&lt;Byte&gt; tg2 =new TestGener&lt;Byte&gt;();</span><br><span class="line">		TestGener&lt;String&gt; tg3 =new TestGener&lt;String&gt;();</span><br><span class="line">		TestGener&lt;Object&gt; tg4 =new TestGener&lt;Object&gt;();</span><br><span class="line">		 m(tg1);</span><br><span class="line">		 m(tg2);</span><br><span class="line">		 m1(tg4);</span><br><span class="line">		 m1(tg1);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	// 定义一个方法，演示  泛型的通配符</span><br><span class="line">	/**</span><br><span class="line">	 * </span><br><span class="line">	 * @param tg 是代表的是？ 是 Nummber的子类</span><br><span class="line">	 */</span><br><span class="line">	public static void m(TestGener&lt;? extends Number&gt; tg)&#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">    /**</span><br><span class="line">     * </span><br><span class="line">     * @param tg  tg 我们讲的是  泛型的通配符，这里面代表是  ？ 是 Iteger 的父类</span><br><span class="line">     */</span><br><span class="line">	public static void m1(TestGener&lt;? super Integer&gt; tg)&#123;</span><br><span class="line">		</span><br><span class="line">	&#125;	</span><br><span class="line">&#125;</span><br><span class="line">class  ValueVar&lt;T&gt;&#123; // T   type</span><br><span class="line">	</span><br><span class="line">	private T  value;</span><br><span class="line">	public void setValue(T value) &#123;</span><br><span class="line">		this.value = value;</span><br><span class="line">	&#125;</span><br><span class="line">	public T getValue() &#123;</span><br><span class="line">		return value;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="枚举"><a href="#枚举" class="headerlink" title="枚举"></a>枚举</h4><p>switch()里面能放什么类型？<br>能放int(byte,char,short)兼容的,jdk1.5能放枚举，jdk1.7能放String<br>枚举出现的目的：<br>当你要写一些特定值，不允许更改的特定值，就用枚举定义<br>例如：节日 星期 性别 季节</p>
<hr>
<p><strong>注意：</strong></p>
<ul>
<li>java中的引用类型：<br>数组 class interface enum</li>
<li>枚举里面是否可以定义其它方法和属性<br>枚举里可以定义其它方法和属性，但必须在常量后面</li>
<li>枚举里面构造方法的规则<br>枚举里面的构造方法，必须是private，也必须放在常量的后面</li>
</ul>
<hr>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class TestEnum &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		Color  c =new Color();</span><br><span class="line">		c.setValue(&quot;粉色&quot;);</span><br><span class="line">		Color  c1 =new Color();</span><br><span class="line">		c1.setValue(&quot;蓝色&quot;);</span><br><span class="line">		c1.setValue(&quot;香烟&quot;);</span><br><span class="line">		System.out.println(c1.getValue());</span><br><span class="line">		System.out.println(Color1.BLUE);</span><br><span class="line">		System.out.println(Color1.PINK);</span><br><span class="line">		// 遍历 枚举里面的所有数据</span><br><span class="line">		for(Color1 cc:Color1.values())&#123;</span><br><span class="line">			System.out.println(cc);</span><br><span class="line">			System.out.println(cc.ordinal());</span><br><span class="line">//			System.out.println(cc.name());</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">class Color&#123;</span><br><span class="line">	private String value;</span><br><span class="line">	public String getValue() &#123;</span><br><span class="line">		return value;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setValue(String value) &#123;</span><br><span class="line">		this.value = value;</span><br><span class="line">	&#125;	</span><br><span class="line">&#125;</span><br><span class="line">//关键字enum</span><br><span class="line">enum Color1&#123;</span><br><span class="line">	//  枚举定义，里面 属性都是  大写字母</span><br><span class="line">	PINK(&quot;粉色&quot;) &#123;</span><br><span class="line">		@Override</span><br><span class="line">		public void abM() &#123;</span><br><span class="line">			System.out.println(&quot;粉色的 抽象方法&quot;);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,BLUE(&quot;蓝色&quot;) &#123;</span><br><span class="line">		@Override</span><br><span class="line">		public void abM() &#123;</span><br><span class="line">			// TODO Auto-generated method stub			</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,GREEN(&quot;绿色&quot;) &#123;</span><br><span class="line">		@Override</span><br><span class="line">		public void abM() &#123;</span><br><span class="line">			// TODO Auto-generated method stub			</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;	</span><br><span class="line">	public  void getValue()&#123;		</span><br><span class="line">	&#125;</span><br><span class="line">	public void m()&#123;&#125;</span><br><span class="line">	private Color1(String info)&#123;</span><br><span class="line">		System.out.println(info);</span><br><span class="line">	&#125;	</span><br><span class="line">	public  abstract void  abM();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="打包自己的代码，生成api"><a href="#打包自己的代码，生成api" class="headerlink" title="打包自己的代码，生成api"></a>打包自己的代码，生成api</h4><p>在代码上添加文档注释 观看泛型代码文档注释<br>步骤：export-&gt;java-&gt;javadoc-&gt;导入javadoc.exe-&gt;选择自己要打包的项目</p>
<ul>
<li>java的注释<br><code>//</code>单行<br><code>/* */</code>多行<br><code>/** */</code>文档注释<h3 id="线程"><a href="#线程" class="headerlink" title="线程"></a>线程</h3><h4 id="进程与线程"><a href="#进程与线程" class="headerlink" title="进程与线程"></a>进程与线程</h4>进程：操作系统上，一个流程上的任务<br>怎么执行的：由CPU分配时间片，看上去，就好像是宏观并行，微观串行<br>线程：跑在进程上的一个任务<br>java支持多线程<br>java跨平台，作用在操作系统上，有一个JVM虚拟机<h4 id="线成的组成"><a href="#线成的组成" class="headerlink" title="线成的组成"></a>线成的组成</h4></li>
<li>cpu分配的时间</li>
<li>data数据：堆空间共享，栈空间独立<br>操作对象的<br>栈：局部变量<br>堆：实例变量，new创建对象</li>
<li>code代码<h4 id="线程的创建方式（共三种）"><a href="#线程的创建方式（共三种）" class="headerlink" title="线程的创建方式（共三种）"></a>线程的创建方式（共三种）</h4></li>
<li>继承Thread</li>
<li>实现Runnable接口<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class TestThread &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		Thread1 t1=new Thread1();</span><br><span class="line">		Thread2  th =new Thread2();</span><br><span class="line">		Thread   t2=new Thread(th);</span><br><span class="line">		// 如何启动线程</span><br><span class="line">		t2.start();</span><br><span class="line">		t1.start();		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">//继承Thread创建线程</span><br><span class="line">class Thread1 extends Thread&#123;</span><br><span class="line">	@Override</span><br><span class="line">	public void run() &#123;</span><br><span class="line">		// 循环1000个</span><br><span class="line">		for(int i=0;i&lt;1000;i++)&#123;</span><br><span class="line">			try &#123;</span><br><span class="line">				// 为什么没有throws 这个选项，因为 run方法没有抛出去异常，所以不允许抛出去</span><br><span class="line">				Thread.sleep(100);</span><br><span class="line">			&#125; catch (InterruptedException e) &#123;</span><br><span class="line">				// TODO Auto-generated catch block</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">			System.out.println(&quot;###......&quot;+i);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">//实现Runnable接口</span><br><span class="line">class Thread2 implements Runnable&#123;</span><br><span class="line">	@Override</span><br><span class="line">	public void run() &#123;</span><br><span class="line">		// 循环1000个</span><br><span class="line">		for(int i=0;i&lt;1000;i++)&#123;</span><br><span class="line">			try &#123;</span><br><span class="line">				Thread.sleep(80);</span><br><span class="line">			&#125; catch (InterruptedException e) &#123;</span><br><span class="line">				// TODO Auto-generated catch block</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">			System.out.println(&quot;$$$$......&quot;+i);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>使用Callable和Future创建线程<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class TestCode3 &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        TestCode3 test = new TestCode3();</span><br><span class="line">        FutureTask&lt;Integer&gt; task = new FutureTask&lt;Integer&gt;((Callable&lt;Integer&gt;)()-&gt;&#123;</span><br><span class="line">            int i=0;</span><br><span class="line">            for(;i&lt;100;i++)&#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName()+&quot;循环变量i的值：&quot;+i);</span><br><span class="line">            &#125;</span><br><span class="line">            return i;</span><br><span class="line">        &#125;);</span><br><span class="line">        for(int i=0;i&lt;100;i++)&#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getName()+&quot;循环变量i的值：&quot;+i);</span><br><span class="line">            if(i==20)&#123;</span><br><span class="line">                new Thread(task,&quot;有返回值的线程&quot;).start();</span><br><span class="line">            &#125;</span><br><span class="line">            try&#123;</span><br><span class="line">                System.out.println(&quot;子线程的返回值：&quot;+task.get());</span><br><span class="line">            &#125;</span><br><span class="line">            catch (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="线程的状态图"><a href="#线程的状态图" class="headerlink" title="线程的状态图"></a>线程的状态图</h4></li>
<li>创建线程<br>继承和实现</li>
<li>可运行状态<br>start 跟操作系统有关</li>
<li>运行状态<br>CPU分配时间</li>
<li>灭亡</li>
<li>阻塞<ul>
<li>三种<ol>
<li>键盘输入 Scanner</li>
<li>sleep</li>
<li>join 让线程合并</li>
</ol>
</li>
</ul>
</li>
</ul>
<hr>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class ThreadJoin &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		Thread3 t1 = new Thread3();</span><br><span class="line">		Thread4 th = new Thread4(t1);</span><br><span class="line">		Thread t2 = new Thread(th);</span><br><span class="line">		// 如何启动线程</span><br><span class="line">		t2.start();</span><br><span class="line">		t1.start();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">class Thread3 extends Thread &#123;</span><br><span class="line">	@Override</span><br><span class="line">	public void run() &#123;</span><br><span class="line">		// 循环1000个</span><br><span class="line">		for (int i = 0; i &lt; 1000; i++) &#123;</span><br><span class="line">			System.out.println(&quot;###......&quot; + i);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">class Thread4 implements Runnable &#123;</span><br><span class="line">	Thread t;</span><br><span class="line">	public Thread4(Thread t) &#123;</span><br><span class="line">		this.t = t;</span><br><span class="line">	&#125;</span><br><span class="line">	@Override</span><br><span class="line">	public void run() &#123;</span><br><span class="line">		// 循环1000个</span><br><span class="line">		for (int i = 0; i &lt; 1000; i++) &#123;</span><br><span class="line">			// 判断</span><br><span class="line">			if (i == 100) &#123;</span><br><span class="line">				try &#123;</span><br><span class="line">					t.join();</span><br><span class="line">				&#125; catch (InterruptedException e) &#123;</span><br><span class="line">					// TODO Auto-generated catch block</span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			System.out.println(&quot;$$$$......&quot; + i);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>锁池 对每个对象都有一个锁机制 synchronized<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class TestSync &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		Stack0 s=new Stack0();</span><br><span class="line">		ThreadOne to =new ThreadOne(s);</span><br><span class="line">		Thread   t1=new Thread(to);</span><br><span class="line">		ThreadTwo tt =new ThreadTwo(s);</span><br><span class="line">		Thread   t2=new Thread(tt);</span><br><span class="line">			t1.start();</span><br><span class="line">		s.printChar();</span><br><span class="line">		   t2.start();</span><br><span class="line">		s.printChar();	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">class  Stack0&#123;</span><br><span class="line">	//  完成 的就是向 栈里面添加一个元素，移除一个元素</span><br><span class="line">	private char [] data=&#123;&#x27;a&#x27;,&#x27;b&#x27;,&#x27; &#x27;&#125;;</span><br><span class="line">	// 给定一个下标</span><br><span class="line">	int  index=2;</span><br><span class="line">	//  添加元素的功能</span><br><span class="line">	public  void  push(char c)&#123;</span><br><span class="line">		data[index]=c;</span><br><span class="line">		System.out.println(&quot;push 的元素是&quot;+c);</span><br><span class="line">		try &#123;</span><br><span class="line">			Thread.sleep(1000);</span><br><span class="line">		&#125; catch (InterruptedException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		index++;</span><br><span class="line">	&#125; </span><br><span class="line">	// 移除一个元素</span><br><span class="line">	public  void  pop()&#123;	</span><br><span class="line">		index--;  </span><br><span class="line">		System.out.println(&quot;pop 的元素是&quot;+data[index]);</span><br><span class="line">		data[index]=&#x27; &#x27;;		</span><br><span class="line">	&#125; </span><br><span class="line">	public void printChar()&#123;</span><br><span class="line">		for(char value:data)&#123;</span><br><span class="line">			System.out.println(value);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">class ThreadOne implements Runnable&#123;</span><br><span class="line">	// 引入 Stacke0 对象</span><br><span class="line">	Stack0  s;</span><br><span class="line">	public ThreadOne(Stack0 s)&#123;</span><br><span class="line">		this.s=s;</span><br><span class="line">	&#125;</span><br><span class="line">	@Override</span><br><span class="line">	public void run() &#123;</span><br><span class="line">		synchronized(s)&#123;	</span><br><span class="line">			s.push(&#x27;c&#x27;);</span><br><span class="line">		&#125;		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">class ThreadTwo implements Runnable&#123;</span><br><span class="line">	// 引入 Stacke0 对象</span><br><span class="line">		Stack0  s;</span><br><span class="line">		public ThreadTwo(Stack0 s)&#123;</span><br><span class="line">			this.s=s;</span><br><span class="line">		&#125;</span><br><span class="line">	@Override</span><br><span class="line">	public void run() &#123;</span><br><span class="line">        //锁池</span><br><span class="line">		synchronized (s) &#123;</span><br><span class="line">			s.pop();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="线程同步"><a href="#线程同步" class="headerlink" title="线程同步"></a>线程同步</h4>产生同步的前提：多个线程访问一个共有资源，破坏原子操作<h4 id="死锁问题"><a href="#死锁问题" class="headerlink" title="死锁问题"></a>死锁问题</h4>这个对象，被好几个锁锁住了<h4 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h4>靠线程之间的通信<br>wait(线程等待)方法和notify(叫醒)<br>注意：它俩必须都放在同步代码块中<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class TestWaitAndNotify &#123;</span><br><span class="line">	/*</span><br><span class="line">	 *  练习 wait 和notify 方法的使用</span><br><span class="line">	 */</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		Object o= new Object();</span><br><span class="line">		WaitNotifyTest a=new WaitNotifyTest(o);</span><br><span class="line">		Thread  t=new Thread(a);</span><br><span class="line">		t.start();</span><br><span class="line">		try &#123;</span><br><span class="line">			synchronized (o) &#123;</span><br><span class="line">				System.out.println(&quot;main 1&quot;);</span><br><span class="line">				o.wait();// 当前 o 处于让出 cpu的状态</span><br><span class="line">				System.out.println(&quot;main 2&quot;);</span><br><span class="line">			&#125;	</span><br><span class="line">		&#125; catch (InterruptedException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;	</span><br><span class="line">&#125;</span><br><span class="line">class  WaitNotifyTest implements Runnable&#123;</span><br><span class="line">	// 传入一个 Object</span><br><span class="line">	Object c;</span><br><span class="line">	public  WaitNotifyTest(Object c)&#123;</span><br><span class="line">		this.c=c;</span><br><span class="line">	&#125;</span><br><span class="line">	@Override</span><br><span class="line">	public void run() &#123;</span><br><span class="line">		synchronized (c) &#123;</span><br><span class="line">			System.out.println(&quot;wnf 1&quot;);</span><br><span class="line">			c.notify();// 叫醒 刚刚 等着那个线程 </span><br><span class="line">			System.out.println(&quot;wnf 2&quot;);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong>ArrayList 和Vector 的区别？</strong><br>Vector 线程 安全的-&gt;这里面所有的方法，都带有同步</p>
<h3 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h3><p>jdk1.5新增特性</p>
<ul>
<li>增强for for(数据类型 变量名：你要遍历的变量名){}</li>
<li>可变参数<br>注意：那个点只能是3个，而且一个方法只能有一个可变参数，还必须放在最后</li>
<li>泛型<br>为了避免数据类型转换带来的风险<br>记住那两种通配符的用法</li>
<li>枚举<br>特定类型 用枚举声明<br>里面的属性书写，必须是大写字母</li>
<li>自动封装和解箱<br>Integer = 1</li>
</ul>
<hr>
<p>线程</p>
<ul>
<li>线程的创建方式<br>extends Thread<br>implements Runnable<br>implements Callable</li>
<li>线程的状态<br>创建 可运行 运行 阻塞 消亡 锁池 等待</li>
<li>现成的组成<br>cpu分配时间<br>data 堆空间共享，栈空间独立<br>代码</li>
<li>线程的同步<br>为了 防止 破坏原子操作 ，每个对象都有一个锁标记 当这个对象持有锁的时候，其他线程访问不了</li>
<li>同步2种表示形式<br>一个是 同步代码块<br>synchronized(对象){}<br>在方法上面加 同步修饰词</li>
<li>了解 死锁的产生和解决办法<br>多个 线程，公用一个对象，这个对象还加了好几个锁<br>解决办法，通信: wait 和 notify</li>
</ul>
<h2 id="java第十三次课"><a href="#java第十三次课" class="headerlink" title="java第十三次课"></a>java第十三次课</h2><p>本次课主要内容：<br>JDBC数据库操作</p>
<h3 id="JDBC"><a href="#JDBC" class="headerlink" title="JDBC"></a>JDBC</h3><p>全称：Java database connection</p>
<ul>
<li>数据库</li>
<li>服务器<br>服务器是 做数据存储，服务的总站</li>
<li>客户端<br>客户端是 各个 站点分布<br>1）创建数据库<br>2）创建表<br>3）sql语句（增删改查）</li>
<li>增加<br><code>insert into 表名(字段1，字段2，字段3...) values(值1，值2，值3.。。)</code></li>
<li>更新<br><code>update 表名 set 字段名=改过后的值  where 根据什么改</code></li>
<li>更改<br><code>select * from 表名</code><br><code>select stuname from 表名  也可以 加where 条件</code></li>
<li>删除<br><code>delete from 表名 where 条件</code><br><code>delete * from 表名</code><h3 id="java连接数据库"><a href="#java连接数据库" class="headerlink" title="java连接数据库"></a>java连接数据库</h3>每个数据库厂商，为了能让后台语言使用他们的数据库，他们自己都提供一个 数据jar 包<br>一个接口，这个接口里面提供了连接的服务<br>步骤：<br>1、导入 jar 就是那个 Driver 的驱动包<br>2、加载驱动 Class.forName<br>3、获得连接 DriverManger<br>4、关闭连接<h3 id="操作-CRUD"><a href="#操作-CRUD" class="headerlink" title="操作 CRUD"></a>操作 CRUD</h3>步骤<br>1、获得连接<br>2、写sql<br>3、获得能处理sql 语句的对象<br>4、处理sql<br>5、关闭         <h3 id="分层模式"><a href="#分层模式" class="headerlink" title="分层模式"></a>分层模式</h3>vo：value object<br>dao：database object<br>创建四个包 名字分别为<br>conn 数据库连接<br>dao 数据库操作<br>vo 与数据库相关的类<br>main 测试</li>
</ul>
<p><strong>分享一个数据库操作</strong><br>创建一个product表（MySQL数据库）</p>
<hr>
<table>
<thead>
<tr>
<th align="center">名</th>
<th align="center">类型</th>
<th align="center">长度</th>
</tr>
</thead>
<tbody><tr>
<td align="center">id</td>
<td align="center">int</td>
<td align="center">11</td>
</tr>
<tr>
<td align="center">name</td>
<td align="center">varchar</td>
<td align="center">255</td>
</tr>
<tr>
<td align="center">value</td>
<td align="center">int</td>
<td align="center">11</td>
</tr>
</tbody></table>
<p>id为主键，自动递增<br>创建四个包 conn dao vo main<br>以下为代码</p>
<p><strong>conn包 TestConnection.java</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package conn;</span><br><span class="line">import java.sql.*;</span><br><span class="line">public class TestConnection &#123;</span><br><span class="line">	// 连接数据库</span><br><span class="line">	//  第一步 ：  导入 jar包  ，在工程下面创建一个文件夹，里面放入那个jar包，然后 bulidpath 添加成 瓶子</span><br><span class="line">	public static void main(String[] args) &#123;	</span><br><span class="line">	&#125;</span><br><span class="line">	// 就获得连接</span><br><span class="line">	public Connection  getCon()&#123;</span><br><span class="line">		Connection con =null;</span><br><span class="line">		try &#123;</span><br><span class="line">			// 加载驱动</span><br><span class="line">			Class.forName(&quot;com.mysql.jdbc.Driver&quot;);</span><br><span class="line">			// 获得连接</span><br><span class="line">			con=DriverManager.getConnection(&quot;jdbc:mysql://127.0.0.1:3308/product&quot;, &quot;root&quot;, &quot;&quot;);</span><br><span class="line">		System.out.println(con);</span><br><span class="line">		&#125; catch (ClassNotFoundException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; catch (SQLException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		return  con;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>dao包 ProductDAO.java</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package dao;</span><br><span class="line">import java.sql.*;</span><br><span class="line">import java.util.ArrayList;</span><br><span class="line">import java.util.List;</span><br><span class="line">import conn.TestConnection;</span><br><span class="line">import vo.Product;</span><br><span class="line">//操作数据库</span><br><span class="line">public class ProductDAO &#123;</span><br><span class="line">	// 向数据库插入数据</span><br><span class="line">	public boolean insertPro(Product pro) &#123;</span><br><span class="line">		// 声明一个boolean 类型 变量，作为 返回值的标识</span><br><span class="line">		boolean b = false;</span><br><span class="line">		Connection con = null;</span><br><span class="line">		PreparedStatement pst = null;</span><br><span class="line">		// 获得连接</span><br><span class="line">		TestConnection tc = new TestConnection();</span><br><span class="line">		con = tc.getCon();</span><br><span class="line">		// 写 一条sql 语句</span><br><span class="line">		String sql = &quot;insert into product(name,value) values(?,?)&quot;;</span><br><span class="line">		// 获得 一个 能 处理sql 语句的对象</span><br><span class="line">		try &#123;</span><br><span class="line">			pst = con.prepareStatement(sql);</span><br><span class="line">			// 给？ 赋值</span><br><span class="line">			pst.setString(1, pro.getName());</span><br><span class="line">			pst.setDouble(2, pro.getValue());</span><br><span class="line"></span><br><span class="line">			// 利用pst 处理sql</span><br><span class="line">			int i = pst.executeUpdate();</span><br><span class="line">			// 如果 i 大于0就证明我们插入成了</span><br><span class="line">			if (i &gt; 0) &#123;</span><br><span class="line">				b = true;</span><br><span class="line">			&#125;</span><br><span class="line">			System.out.println(b);</span><br><span class="line">		&#125; catch (SQLException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; finally &#123;</span><br><span class="line">			try &#123;</span><br><span class="line">				pst.close();</span><br><span class="line">				con.close();</span><br><span class="line">			&#125; catch (SQLException e) &#123;</span><br><span class="line">				// TODO Auto-generated catch block</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		return b;</span><br><span class="line">	&#125;</span><br><span class="line">	// 数据库删除数据</span><br><span class="line">	public boolean deletePro(Product pro) &#123;</span><br><span class="line">		// 声明一个boolean 类型 变量，作为 返回值的标识</span><br><span class="line">		boolean b = false;</span><br><span class="line">		Connection con = null;</span><br><span class="line">		PreparedStatement pst = null;</span><br><span class="line">		// 获得连接</span><br><span class="line">		TestConnection tc = new TestConnection();</span><br><span class="line">		con = tc.getCon();</span><br><span class="line">		// 写 一条sql 语句</span><br><span class="line">		String sql = &quot;delete from product where id=?&quot;;</span><br><span class="line">		// 获得 一个 能 处理sql 语句的对象</span><br><span class="line">		try &#123;</span><br><span class="line">			pst = con.prepareStatement(sql);</span><br><span class="line">			// 给？ 赋值</span><br><span class="line">			pst.setInt(1, pro.getID());</span><br><span class="line">			// 利用st 处理sql</span><br><span class="line">			int i = pst.executeUpdate();</span><br><span class="line">			// 如果 i 大于0就证明我们删除成功</span><br><span class="line">			if (i &gt; 0) &#123;</span><br><span class="line">				b = true;</span><br><span class="line">			&#125;</span><br><span class="line">			System.out.println(b);</span><br><span class="line">		&#125; catch (SQLException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; finally &#123;</span><br><span class="line">			try &#123;</span><br><span class="line">				pst.close();</span><br><span class="line">				con.close();</span><br><span class="line">			&#125; catch (SQLException e) &#123;</span><br><span class="line">				// TODO Auto-generated catch block</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		return b;</span><br><span class="line">	&#125;</span><br><span class="line">	// 数据库修改数据</span><br><span class="line">	public boolean updatePro(Product pro) &#123;</span><br><span class="line">		// 声明一个boolean 类型 变量，作为 返回值的标识</span><br><span class="line">		boolean b = false;</span><br><span class="line">		Connection con = null;</span><br><span class="line">		PreparedStatement pst = null;</span><br><span class="line">		PreparedStatement pst1 = null;</span><br><span class="line">		// 获得连接</span><br><span class="line">		TestConnection tc = new TestConnection();</span><br><span class="line">		con = tc.getCon();</span><br><span class="line">		// 修改name 语句</span><br><span class="line">		String sql = &quot;update product set name=? where id=?&quot;;</span><br><span class="line">		// 修改value语句</span><br><span class="line">		String sql1 = &quot;update product set value=? where id=?&quot;;</span><br><span class="line">		// 获得 一个 能 处理sql 语句的对象</span><br><span class="line">		try &#123;</span><br><span class="line">			pst = con.prepareStatement(sql);</span><br><span class="line">			pst1 = con.prepareStatement(sql1);</span><br><span class="line">			// 判断执行语句</span><br><span class="line">			if (pro.getName() != null) &#123;</span><br><span class="line">				// name给？ 赋值</span><br><span class="line">				pst.setString(1, pro.getName());</span><br><span class="line">				pst.setInt(2, pro.getID());</span><br><span class="line">				int i = pst.executeUpdate();</span><br><span class="line">				// 如果 i 大于0就证明我们修改成功</span><br><span class="line">				if (i &gt; 0) &#123;</span><br><span class="line">					b = true;</span><br><span class="line">				&#125;</span><br><span class="line">				System.out.println(b);</span><br><span class="line">			&#125; else &#123;</span><br><span class="line">				// value给？ 赋值</span><br><span class="line">				pst1.setInt(1, pro.getValue());</span><br><span class="line">				pst.setInt(2, pro.getID());</span><br><span class="line">				int i = pst.executeUpdate();</span><br><span class="line">				// 如果 i 大于0就证明我们修改成功</span><br><span class="line">				if (i &gt; 0) &#123;</span><br><span class="line">					b = true;</span><br><span class="line">				&#125;</span><br><span class="line">				System.out.println(b);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; catch (SQLException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; finally &#123;</span><br><span class="line">			try &#123;</span><br><span class="line">				pst.close();</span><br><span class="line">				pst1.close();</span><br><span class="line">				con.close();</span><br><span class="line">			&#125; catch (SQLException e) &#123;</span><br><span class="line">				// TODO Auto-generated catch block</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		return b;</span><br><span class="line">	&#125;</span><br><span class="line">	// 查询数据库</span><br><span class="line">	/*</span><br><span class="line">	 * 暂时只支持查询所有内容</span><br><span class="line">	 */</span><br><span class="line">	public List&lt;Product&gt; selectProduct() &#123;</span><br><span class="line">		// 创建一个集合，因为 是查询操作所以选择的是 ArrayList</span><br><span class="line">		List&lt;Product&gt; l=new ArrayList&lt;Product&gt;();</span><br><span class="line">		// 获得连接</span><br><span class="line">		Connection con = null;</span><br><span class="line">		TestConnection tc = new TestConnection();</span><br><span class="line">		con = tc.getCon();</span><br><span class="line">		ResultSet rs=null;</span><br><span class="line">		//sql语句</span><br><span class="line">		String sql=&quot;select * from product&quot;;</span><br><span class="line">		// 创建查询请求</span><br><span class="line">		PreparedStatement ps = null;</span><br><span class="line">		try &#123;</span><br><span class="line">			ps = con.prepareStatement(sql);</span><br><span class="line">			// 返回查询结果</span><br><span class="line">			rs = ps.executeQuery();</span><br><span class="line">			// 遍历结果</span><br><span class="line">			while (rs.next()) &#123;</span><br><span class="line">				Product pro=new Product();</span><br><span class="line">				pro.setID(rs.getInt(&quot;id&quot;));</span><br><span class="line">				pro.setName(rs.getString(&quot;name&quot;));</span><br><span class="line">				pro.setValue(rs.getInt(&quot;value&quot;));</span><br><span class="line">				//把对象存入集合</span><br><span class="line">				l.add(pro);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; catch (SQLException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; finally &#123;</span><br><span class="line">			try &#123;</span><br><span class="line">				ps.close();</span><br><span class="line">				con.close();</span><br><span class="line">			&#125; catch (SQLException e) &#123;</span><br><span class="line">				// TODO Auto-generated catch block</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		return l;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>vo包 Product.java</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package vo;</span><br><span class="line">public class Product &#123;</span><br><span class="line">	private int ID;</span><br><span class="line">	private String name;</span><br><span class="line">	private int value;</span><br><span class="line">	public int getID() &#123;</span><br><span class="line">		return ID;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setID(int iD) &#123;</span><br><span class="line">		ID = iD;</span><br><span class="line">	&#125;</span><br><span class="line">	public String getName() &#123;</span><br><span class="line">		return name;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setName(String name) &#123;</span><br><span class="line">		this.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	public int getValue() &#123;</span><br><span class="line">		return value;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setValue(int value) &#123;</span><br><span class="line">		this.value = value;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>main包 TestProduct.java</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package main;</span><br><span class="line"></span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">import dao.ProductDAO;</span><br><span class="line">import vo.Product;</span><br><span class="line"></span><br><span class="line">public class TestProduct &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		ProductDAO  prod=new ProductDAO();</span><br><span class="line">		Product pro =new Product();</span><br><span class="line">		//增加数据</span><br><span class="line">		pro.setName(&quot;苹果&quot;);</span><br><span class="line">		pro.setValue(10);</span><br><span class="line">		prod.insertPro(pro);</span><br><span class="line">		//删除数据</span><br><span class="line">		/*pro.setID(1);</span><br><span class="line">		prod.deletePro(pro);*/</span><br><span class="line">		//修改数据</span><br><span class="line">		/*pro.setID(2);</span><br><span class="line">		pro.setName(&quot;香蕉&quot;);</span><br><span class="line">		prod.updatePro(pro);*/</span><br><span class="line">		//查询数据</span><br><span class="line">		List&lt;Product&gt; l=prod.selectProduct();</span><br><span class="line">		for(Product pro1:l) &#123;</span><br><span class="line">			System.out.print(&quot;id:&quot;+pro1.getID()+&quot; &quot;);</span><br><span class="line">			System.out.print(&quot;name:&quot;+pro1.getName()+&quot; &quot;);</span><br><span class="line">			System.out.println(&quot;value:&quot;+pro1.getValue()+&quot; &quot;);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结-2"><a href="#总结-2" class="headerlink" title="总结"></a>总结</h3><ul>
<li>连接数据库的步骤<ol>
<li>a）导入jar包</li>
<li>b）加载驱动</li>
<li>c）获得Connection</li>
<li>d）关闭连接</li>
</ol>
</li>
<li>操作 sql 的步骤<ol>
<li>a）获取连接</li>
<li>b）定义sql</li>
<li>c）处理sql语句的对象</li>
<li>d）处理sql语句</li>
<li>e）关闭连接 和 处理对象</li>
</ol>
</li>
</ul>
<h2 id="java第十四次课"><a href="#java第十四次课" class="headerlink" title="java第十四次课"></a>java第十四次课</h2><p>本次课主要内容：<br>单例模式 事务 网络编程</p>
<h3 id="单例模式"><a href="#单例模式" class="headerlink" title="单例模式"></a>单例模式</h3><p>将数据库的连接定义为一个不需要创建对象就可以被调用的方法</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package conn;</span><br><span class="line">import java.sql.*;</span><br><span class="line">public class SingleCon &#123;</span><br><span class="line">	// 有3个 获得连接的参数</span><br><span class="line">	private String url = &quot;jdbc:mysql://localhost:3308/color&quot;;</span><br><span class="line">	private String user = &quot;root&quot;;</span><br><span class="line">	private String pwd = &quot;&quot;;</span><br><span class="line">	private static SingleCon sc = null;// 静态的本类类型</span><br><span class="line">	// 加载驱动</span><br><span class="line">	static &#123;</span><br><span class="line">		try &#123;</span><br><span class="line">			Class.forName(&quot;com.mysql.jdbc.Driver&quot;);</span><br><span class="line">		&#125; catch (ClassNotFoundException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	// 获得连接</span><br><span class="line">	public Connection getConn() throws SQLException &#123;</span><br><span class="line">		return DriverManager.getConnection(url, user, pwd);</span><br><span class="line">	&#125;</span><br><span class="line">	// 只能本类创建对象</span><br><span class="line">	private SingleCon() &#123;</span><br><span class="line">	&#125;</span><br><span class="line">	// 获得 一个对象</span><br><span class="line">	public static SingleCon getSC() &#123;</span><br><span class="line">		if (sc == null) &#123;</span><br><span class="line">			// 同步代码块 绑定当前对象</span><br><span class="line">			synchronized (SingleCon.class) &#123;</span><br><span class="line">				if (sc == null) &#123;</span><br><span class="line">					sc = new SingleCon();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		return sc;</span><br><span class="line">	&#125;</span><br><span class="line">	// 关闭所有连接，操作的对象</span><br><span class="line">	public void closeAll(Connection con,Statement st,ResultSet rs)&#123;</span><br><span class="line">		if(rs!=null)&#123;</span><br><span class="line">			try &#123;</span><br><span class="line">				rs.close();</span><br><span class="line">			&#125; catch (SQLException e) &#123;</span><br><span class="line">				// TODO Auto-generated catch block</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;finally&#123;</span><br><span class="line">				if(st!=null)&#123;</span><br><span class="line">					try &#123;</span><br><span class="line">						st.close();</span><br><span class="line">					&#125; catch (SQLException e) &#123;</span><br><span class="line">						// TODO Auto-generated catch block</span><br><span class="line">						e.printStackTrace();</span><br><span class="line">					&#125;finally&#123;</span><br><span class="line">						if(con!=null)&#123;</span><br><span class="line">							try &#123;</span><br><span class="line">								con.close();</span><br><span class="line">							&#125; catch (SQLException e) &#123;</span><br><span class="line">								// TODO Auto-generated catch block</span><br><span class="line">								e.printStackTrace();</span><br><span class="line">							&#125;</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>数据库操作（以添加、查询为例）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package dao;</span><br><span class="line">import java.sql.*;</span><br><span class="line">import java.util.ArrayList;</span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">import conn.SingleCon;</span><br><span class="line"></span><br><span class="line">public class ColorDAO &#123;</span><br><span class="line">	//添加</span><br><span class="line">	public boolean insertColor(Color c) &#123;</span><br><span class="line">		boolean b=false;</span><br><span class="line">		//获得连接</span><br><span class="line">		Connection con =null;</span><br><span class="line">		PreparedStatement pst=null;</span><br><span class="line">		//sql语句</span><br><span class="line">		String sql = &quot;insert into color(Chinese,English) values(?,?)&quot;;</span><br><span class="line">		try &#123;</span><br><span class="line">			con=SingleCon.getSC().getConn();</span><br><span class="line">			pst = con.prepareStatement(sql);</span><br><span class="line">			// 给？ 赋值</span><br><span class="line">			pst.setString(1, c.getChinese());</span><br><span class="line">			pst.setString(2, c.getEnglish());</span><br><span class="line"></span><br><span class="line">			// 利用pst 处理sql</span><br><span class="line">			int i = pst.executeUpdate();</span><br><span class="line">			// 如果 i 大于0就证明我们插入成了</span><br><span class="line">			if (i &gt; 0) &#123;</span><br><span class="line">				b = true;</span><br><span class="line">			&#125;</span><br><span class="line">			System.out.println(b);</span><br><span class="line">		&#125; catch (SQLException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;finally&#123;</span><br><span class="line">			SingleCon.getSC().closeAll(con, pst, null);</span><br><span class="line">		&#125;</span><br><span class="line">		return b;</span><br><span class="line">	&#125;</span><br><span class="line">	// 查询</span><br><span class="line">	public List&lt;Color&gt; getColor()&#123;</span><br><span class="line">		List&lt;Color&gt; l=new ArrayList&lt;Color&gt;();</span><br><span class="line">		 // 获得连接</span><br><span class="line">		Connection con =null;</span><br><span class="line">		PreparedStatement pst=null;</span><br><span class="line">		ResultSet rs=null;</span><br><span class="line">		try &#123;</span><br><span class="line">			con=SingleCon.getSC().getConn();</span><br><span class="line">			String sql =&quot;select * from color&quot;;</span><br><span class="line">			pst=con.prepareStatement(sql);</span><br><span class="line">			rs=pst.executeQuery();</span><br><span class="line">			while(rs.next())&#123;</span><br><span class="line">				Color c=new Color();</span><br><span class="line">				c.setId(rs.getInt(&quot;id&quot;));</span><br><span class="line">				c.setChinese(rs.getString(&quot;Chinese&quot;));</span><br><span class="line">				c.setEnglish(rs.getString(&quot;English&quot;));</span><br><span class="line">				l.add(c);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; catch (SQLException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;finally&#123;</span><br><span class="line">			SingleCon.getSC().closeAll(con, pst, rs);</span><br><span class="line">		&#125;</span><br><span class="line">		return l;</span><br><span class="line">	&#125; </span><br></pre></td></tr></table></figure>
<h3 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h3><p>特点：一致性，原子性，持久性<br>中心思想：就是要么都操作，要么都不操作<br>案例：转钱<br>A向B转钱，由于系统原因，A钱转出去了，但是B没有收到钱<br>事务 解决这个问题</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// 转账</span><br><span class="line">		public boolean updateMoney()&#123;</span><br><span class="line">			// boolean 类型标识</span><br><span class="line">			boolean b=false;</span><br><span class="line">			// 获得连接</span><br><span class="line">			Connection con =null;</span><br><span class="line">			PreparedStatement pst=null;</span><br><span class="line">			PreparedStatement pst1=null;</span><br><span class="line">			try &#123;</span><br><span class="line">				con=SingleCon.getSC().getConn();</span><br><span class="line">				// 设置 手动提交</span><br><span class="line">				con.setAutoCommit(false);</span><br><span class="line">				//  id 是 5号的人， 给别人汇款 10 元</span><br><span class="line">				String sql =&quot;update color set num=num-10 where id=1&quot;;</span><br><span class="line">				pst=con.prepareStatement(sql);</span><br><span class="line">				int i =pst.executeUpdate();</span><br><span class="line">                //数据库错误，id是2的人没有收到钱</span><br><span class="line">				String sql1 =&quot;update color1 set num=num+10 where id=2&quot;;</span><br><span class="line">				pst1=con.prepareStatement(sql1);</span><br><span class="line">				int i1=pst1.executeUpdate();</span><br><span class="line">				// 提交</span><br><span class="line">				con.commit();</span><br><span class="line">				if(i&gt;0&amp;&amp;i1&gt;0)&#123;</span><br><span class="line">					b=true;</span><br><span class="line">					System.out.println(b);</span><br><span class="line">				&#125;</span><br><span class="line">				</span><br><span class="line">			&#125; catch (SQLException e) &#123;</span><br><span class="line">				try &#123;</span><br><span class="line">                    //检测数据库连接</span><br><span class="line">					if(con!=null)&#123;</span><br><span class="line">                        //发生错误，对数据库的操作都不执行（事务）</span><br><span class="line">						con.rollback();</span><br><span class="line">						System.out.println(&quot;false&quot;);</span><br><span class="line">					&#125;			</span><br><span class="line">				&#125; catch (SQLException e1) &#123;</span><br><span class="line">					// TODO Auto-generated catch block</span><br><span class="line">					e1.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;finally&#123;</span><br><span class="line">				SingleCon.getSC().closeAll(null, pst,null);</span><br><span class="line">				SingleCon.getSC().closeAll(con, pst1,null);</span><br><span class="line">			&#125;</span><br><span class="line">			return b;</span><br><span class="line">		&#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="网络编程"><a href="#网络编程" class="headerlink" title="网络编程"></a>网络编程</h3><ul>
<li>什么是IP: 是一个 逻辑地址</li>
<li>什么是 mac地址：这个是 一个物理地址</li>
<li>什么是端口号：单纯的根据ip 是找不到你这个准确的 应用，相当于 电话的分机号<br>0到 65536个 ，但是 1024以下 尽量不要用，因为已经被占用了</li>
<li>什么是协议：网络传输中，互相遵守的一个约定，规范<br>网络编程，主要就是 传输信息， 通信<br>通信 一般 采用的技术 就是分层<br>物理层-》数据层=》网络层=》传输层=会话层=》表示层=》应用层<h4 id="TCP"><a href="#TCP" class="headerlink" title="TCP"></a>TCP</h4></li>
<li>服务器端</li>
<li>客户端</li>
<li>主要应用 Socket 编程<br>特点： 面向连接的，可靠的，字节流的传输方式<br>类似于我们现实中的打电话，必须等到对方的回应</li>
</ul>
<p><strong>服务器</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.OutputStream;</span><br><span class="line">import java.io.PrintWriter;</span><br><span class="line">import java.net.ServerSocket;</span><br><span class="line">import java.net.Socket;</span><br><span class="line">public class TesTCPServer &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		// 创建连接</span><br><span class="line">		ServerSocket ss =null;</span><br><span class="line">		Socket s=null;</span><br><span class="line">		try &#123;</span><br><span class="line">			ss =new ServerSocket(9999);</span><br><span class="line">			// 等待 回应，正在阻塞</span><br><span class="line">			s=ss.accept();</span><br><span class="line">			//  这个s 可以 获得 输出流 </span><br><span class="line">			OutputStream os = s.getOutputStream();</span><br><span class="line">			// 通过 输出流，我们可以  创建 PrintWriter 流，</span><br><span class="line">			PrintWriter pw =new PrintWriter(os);</span><br><span class="line">			// 这个流 具有打印功能，我们打印 30个Hello</span><br><span class="line">			for(int i=1;i&lt;=30;i++)&#123;</span><br><span class="line">				String str=&quot;hello&quot;;</span><br><span class="line">				pw.println(str+i);</span><br><span class="line">				Thread.sleep(600);</span><br><span class="line">				// 一定要刷新</span><br><span class="line">				pw.flush();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; catch (IOException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; catch (InterruptedException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		finally&#123;</span><br><span class="line">			try &#123;</span><br><span class="line">				s.close();</span><br><span class="line">			&#125; catch (IOException e) &#123;</span><br><span class="line">				// TODO Auto-generated catch block</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>客户端</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import java.io.BufferedReader;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.InputStream;</span><br><span class="line">import java.io.InputStreamReader;</span><br><span class="line">import java.net.Socket;</span><br><span class="line">public class TestTCPClient &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		Socket s =null;</span><br><span class="line">		try &#123;</span><br><span class="line">			//创建连接</span><br><span class="line">			s=new Socket(&quot;127.0.0.1&quot;,9999);</span><br><span class="line">			//  通过 s 对象可以 获得  输入流 read </span><br><span class="line">			InputStream is= s.getInputStream();</span><br><span class="line">			// 读取 那边的 信息  读一行</span><br><span class="line">			BufferedReader br =new BufferedReader(new InputStreamReader(is));			</span><br><span class="line">		  </span><br><span class="line">			for(int i=1;i&lt;=30;i++)&#123;</span><br><span class="line">				String str=br.readLine();</span><br><span class="line">				System.out.println(str);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; catch (IOException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		finally&#123;</span><br><span class="line">			try &#123;</span><br><span class="line">				s.close();</span><br><span class="line">			&#125; catch (IOException e) &#123;</span><br><span class="line">				// TODO Auto-generated catch block</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">/*先启动服务器，再启动客户端</span><br><span class="line">控制台输出</span><br><span class="line">hello1</span><br><span class="line">hello2</span><br><span class="line">...(此处省略)</span><br><span class="line">hello50*/</span><br></pre></td></tr></table></figure>
<h4 id="UDP"><a href="#UDP" class="headerlink" title="UDP"></a>UDP</h4><p><strong>服务器</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import java.io.IOException;</span><br><span class="line">import java.net.DatagramPacket;</span><br><span class="line">import java.net.DatagramSocket;</span><br><span class="line">import java.net.SocketException;</span><br><span class="line">public class UDPServer &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		// 数据传输包  创建一个油桶</span><br><span class="line">		DatagramSocket  ds =null;</span><br><span class="line">		try &#123;</span><br><span class="line">			ds=new DatagramSocket(9999); // </span><br><span class="line">			// 创建那个 数据包，装的信 </span><br><span class="line">			DatagramPacket  dp =new DatagramPacket(new byte[100], 0, 100);</span><br><span class="line">			// 准备接受</span><br><span class="line">			ds.receive(dp);</span><br><span class="line">			// 信的内容，数据</span><br><span class="line">			byte[] buf=dp.getData();</span><br><span class="line">			// 多长的信</span><br><span class="line">			 int length= dp.getLength();</span><br><span class="line">			 //    从哪开始读</span><br><span class="line">			 int  off=dp.getOffset();</span><br><span class="line">			 String str=new String(buf,off,length);</span><br><span class="line">			 System.out.println(str);</span><br><span class="line">		&#125; catch (SocketException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; catch (IOException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;finally&#123;</span><br><span class="line">			ds.close();</span><br><span class="line">		&#125;	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>客户端</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import java.io.IOException;</span><br><span class="line">import java.net.DatagramPacket;</span><br><span class="line">import java.net.DatagramSocket;</span><br><span class="line">import java.net.InetAddress;</span><br><span class="line">import java.net.SocketException;</span><br><span class="line">import java.net.UnknownHostException;</span><br><span class="line">public class UDPClient &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		// 油桶</span><br><span class="line">		DatagramSocket  ds=null;</span><br><span class="line">		try &#123;</span><br><span class="line">			ds =new DatagramSocket();</span><br><span class="line">			// 信的内容</span><br><span class="line">		String str=&quot;学习使我快乐&quot;;</span><br><span class="line">		byte[] buf=str.getBytes();</span><br><span class="line">		DatagramPacket  dp =new DatagramPacket(buf, 0,buf.length, InetAddress.getLocalHost(),9999);</span><br><span class="line">		ds.send(dp);</span><br><span class="line">		&#125; catch (SocketException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; catch (UnknownHostException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; catch (IOException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;finally&#123;</span><br><span class="line">			ds.close();</span><br><span class="line">		&#125;	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">/*先启动服务器，再启动客户端</span><br><span class="line">控制台输出</span><br><span class="line">学习使我快乐</span><br><span class="line">*/</span><br></pre></td></tr></table></figure>
<hr>
<p><strong>java基础到此告一段落，一共十四次课</strong></p>
]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>java基础</tag>
      </tags>
  </entry>
  <entry>
    <title>html复习</title>
    <url>/2019/05/15/html%E5%A4%8D%E4%B9%A0/</url>
    <content><![CDATA[<h3 id="编译器快捷键"><a href="#编译器快捷键" class="headerlink" title="编译器快捷键"></a>编译器快捷键</h3><p>ctrl+s保存 ctrl+c复制 ctrl+v粘贴 ctrl+z上一步 ctrl+y下一步<br><code>&lt;!DOCTYPE HTML&gt;</code>文档的声明，浏览器按W3C标准解析网页<br><code>&lt;html&gt; &lt;/html&gt;</code>跟标签 <code>&lt;meta charset=&quot;utf-8&quot;&gt;</code>指定文件标准<br>编码的种类<br>gb2312/gbk/ANSIC 国标 uft-8 国际通用标准</p>
<span id="more"></span>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;title&gt;&lt;/title&gt;</span><br><span class="line">&lt;body&gt;&lt;/body&gt;</span><br></pre></td></tr></table></figure>
<p>html4.01 html5正式版<br>1.h标签 h1~h6默认加粗，h1只能用一次，权重最高<br>2.p标签 用于显示文章的段落<br>3.div标签 用于模式布局，使用频率最高<br>单标签 img用于显示图片<br><code>&lt;img src=&quot;图片路径&quot; alt=&quot;替换文本&quot; width=&quot;宽度&quot; height=&quot;高度&quot;&gt;</code><br>注：图片名称最好不要出现中文<br>css样式表：又名层叠样式，通过css来修饰标签样式</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">    h3&#123;</span><br><span class="line">        color: red;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<p>内部css样式表<br>color:颜色 font-size:表示文字大小，单位px：像素单位<br>font-weight:文字是否加粗  blod 加粗 normal 正常(多适用于h标签)<br>font-family:”微软雅黑” 文字宋体，还可用于”宋体”<br>text-align:表示文字的对齐方式 left 左对齐（默认） center 居中 right 右对齐<br>width:容器的宽度（适用于div标签） 单位px或百分比<br>margin:0 auto div标签居中 容器水平方向居中<br>text-indent:表示首行文字的缩进 单位 em：表示一个字符的大小<br>例：text-indent:2em<br>line-height:行高（可理解为行间距） 特点：文本会在行高中自动垂直居中 单位：px<br>letter-spacing:字符之间距离 px<br>font-style:文本的标识 italic 倾斜 narmal 正常显示（默认）<br>text-decoration:文本的修饰 none 表示去掉所有的修饰符如：下划线 underline 加下划线 主要适用于 a标签<br>a标签（超链接）<br><code>&lt;a href=&quot;页面地址&quot; title=&quot;提示文字&quot; target=&quot;打开方式&quot;&gt;中间内容&lt;/a&gt;</code> target:_blank 在新页面打开，默认原页面跳转<br>伪类选择器</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">a:hover&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>注：文本路径要用相对路径<br>代码注释：选中相应的代码，<code>ctrl+/</code>，即可注释<br>css:<code>/*被注释的css*/</code><br>html:<code>&lt;!--被注释的html代码--&gt;</code><br>class选择器</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">    .aaa&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;div class=&quot;aaa&quot;&gt;</span><br></pre></td></tr></table></figure>
<p>注：”aaa”可换<br>特点：根据元素的class属性来查找元素 好处：可以区分相同元素的不同样式<br>列表结构<br>ul&gt;li 双标签 无序列表<br>ol&gt;li 双标签 有序列表<br>dl&gt;dd/dt 双标签 定义列表/描述列表<br>列表结构 css样式<br>list-style:列表风格 none 去掉小黑点（去掉li标签的默认修饰符）<br>选择器结构<br>写法：选择器1 选择器2 选择器3 {…} 空格表示“的”的意思<br>防止各模式样式冲突 通常以模块的根节点作为结构选择器的第一级选择器 通常都是class选择器</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">    .aaa&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    #.list&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;div class=&quot;aaa&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;list&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p><code>#</code>是id选择器<br>选择器优先级<br>行间样式 权重：1000&gt;id选择器 权重：100&gt;class选择器 权重：10&gt;标签选择器 权重：1&gt;通配符选择器<br>不要写行间样式，不要用id选择器(推荐)</p>
<hr>
<p>边框样式（div标签）<br>border: 5px soild red 粗细 样式 颜色<br>soild实线 dashed虚线 dotted点划线<br>border可以分开指定 border-();()可以是top 即border-top；上边框  left左边框  right右边框  bottom下边框<br>背景 background<br>background-color:背景颜色 background-image:背景图片 url(图片路径)<br>background-repeat:背景图平铺（重复） no-repeat repeat-x repeat-y<br>background-position:背景位置 x轴方向 y轴方向<br>（1）英文： center left right bottom top<br>（2）数字： x y =&gt;起始点 0 0<br>（3）数字+中文<br>（4）一个值时，第二个默认是center<br>简写：<br>background: red url() 0px center no-repeat<br>盒子<br>margin外边距 px<br>1个值 4个方向  2个值 上下 左右  3个值 上 左右下  4个值 顺时针方向 上右下左<br>可以分开写<br>margin-();<br>内边距 padding px<br>同外边距</p>
<hr>
<p><strong>块元素</strong>：独占一行的元素<br>div、h、p、ul、li、ol、dl、dd<br>p标签不能嵌套任何标签，其余可以嵌套<br><strong>行内元素</strong>：不会独占一行 a span标签<br>可嵌套任何标签<br>img：行内块元素 本质上是行内元素 但支持宽和高样式<br>元素之间转换<br>display:inline 转行内 block 转块元素 inline-block 转行内块</p>
<hr>
<p>浮动<br>float: left(right);左（右）浮动  解决块元素在一行显示<br>停止条件：<br>（1）父元素的边缘<br>（2）其他的浮动元素<br>浮动过程中，宽度不够会挤下来<br>清除浮动</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;</span><br><span class="line">.class&#123;</span><br><span class="line">    clear: both;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>清除浮动带来的影响，就像一个挡板一样</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">.clearfix:after&#123;</span><br><span class="line">    display: block;</span><br><span class="line">    content: &#x27; &#x27;;</span><br><span class="line">    clear: both;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>html</tag>
      </tags>
  </entry>
  <entry>
    <title>花开了</title>
    <url>/2019/04/21/%E8%8A%B1%E5%BC%80%E4%BA%86/</url>
    <content><![CDATA[<h2 id="地点：吉林省长春市"><a href="#地点：吉林省长春市" class="headerlink" title="地点：吉林省长春市"></a>地点：吉林省长春市</h2><p>2019年4月21日<br>转眼间，长春市的迎春花开了，垂柳绿了，发芽了</p>
<span id="more"></span>
<p>天气逐渐变暖，已经没有寒冷的样子，夏天即将来临，时间过得真快呀</p>
<hr>
<p><img src="http://wx2.sinaimg.cn/large/0060lm7Tly1g2iixa81z6j31o00u0hdv.jpg"></p>
<hr>
<p><img src="http://wx4.sinaimg.cn/large/0060lm7Tly1g2iiyaao9ej31o00u0npf.jpg"></p>
<hr>
<p><img src="http://wx4.sinaimg.cn/large/0060lm7Tly1g2iiz4ky8sj31o00u0qv6.jpg"></p>
<hr>
<p><img src="http://wx3.sinaimg.cn/large/0060lm7Tly1g2iizsjv2qj31o00u0x6p.jpg"></p>
<hr>
<p><img src="http://wx2.sinaimg.cn/large/0060lm7Tly1g2ij0lf5azj31o00u0hdu.jpg"></p>
<hr>
<p><img src="http://wx1.sinaimg.cn/large/0060lm7Tly1g2ij1h4e29j31o00u07wi.jpg"></p>
<hr>
<p>2019年4月25日<br>转眼间，四月份快要过完了，长春大学小树林里又开了许多花，一起来欣赏下</p>
<hr>
<p><img src="http://wx4.sinaimg.cn/large/0060lm7Tly1g2f9idq9wuj31o00u0qv9.jpg"></p>
<hr>
<p>校园的紫丁香开了，以下几张是紫丁香的图片，刚开花没多久</p>
<hr>
<p><img src="http://wx2.sinaimg.cn/large/0060lm7Tly1g2f9k3p2p1j31o00u0hdx.jpg"></p>
<hr>
<p><img src="http://wx1.sinaimg.cn/large/0060lm7Tly1g2f9l6khx4j31o00u0u0z.jpg"></p>
<hr>
<p>近景图</p>
<hr>
<p><img src="IMG_20190423_155009.jpg"></p>
<hr>
<p>白色的花，不知道叫什么名字，也很好看</p>
<hr>
<p><img src="http://wx1.sinaimg.cn/large/0060lm7Tly1g2fp1kwjm6j31o00u0u0z.jpg"></p>
<hr>
<p><img src="http://wx3.sinaimg.cn/large/0060lm7Tly1g2fp6jurkbj31o00u07wl.jpg"></p>
<hr>
<p>近景图</p>
<hr>
<p><img src="http://wx4.sinaimg.cn/large/0060lm7Tly1g2fp4y2b6wj31o00u07wl.jpg"></p>
<hr>
<p><img src="IMG_20190423_155033.jpg"></p>
<hr>
<p>树木风景</p>
<hr>
<p><img src="http://wx3.sinaimg.cn/large/0060lm7Tly1g2fp7j2ornj31o00u0nph.jpg"></p>
<hr>
<p><img src="http://wx4.sinaimg.cn/large/0060lm7Tly1g2fp3tkuwyj31o00u0u10.jpg"></p>
<hr>
<p><img src="http://wx4.sinaimg.cn/large/0060lm7Tly1g2fp89fa8sj31o00u0x6s.jpg"></p>
<hr>
<p>树木发芽的近景</p>
<hr>
<p><img src="IMG_20190425_084432.jpg"></p>
<hr>
<p>小树林中的黄连也长出来了</p>
<hr>
<p><img src="http://wx2.sinaimg.cn/large/0060lm7Tly1g2fpcmo16xj31o00u0qva.jpg"></p>
<hr>
<p>远景图片</p>
<hr>
<p><img src="http://wx3.sinaimg.cn/large/0060lm7Tly1g2fp9nxarvj31o00u01l1.jpg"></p>
<hr>
<p><img src="http://wx2.sinaimg.cn/large/0060lm7Tly1g2fpbom79ij31o00u0kjp.jpg"></p>
<hr>
<p><img src="http://wx4.sinaimg.cn/large/0060lm7Tly1g2fpe62gs4j31o00u01l2.jpg"></p>
<hr>
<p>近景图片</p>
<hr>
<p><img src="IMG_20190425_084519.jpg"></p>
<hr>
<p><img src="http://wx2.sinaimg.cn/large/0060lm7Tly1g2fpdey7dgj31o00u07wm.jpg"></p>
<hr>
<p>小草也发芽了，长得很高</p>
<hr>
<p><img src="IMG_20190425_084610.jpg"></p>
<hr>
<p>最后这两张也很好看</p>
<hr>
<p><img src="http://wx4.sinaimg.cn/large/0060lm7Tly1g2fpfkvjgwj31o00u0x6s.jpg"></p>
<hr>
<p><img src="IMG_20190425_084836.jpg"></p>
]]></content>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
  <entry>
    <title>2019长春的春天</title>
    <url>/2019/04/14/2019%E9%95%BF%E6%98%A5%E7%9A%84%E6%98%A5%E5%A4%A9/</url>
    <content><![CDATA[<h2 id="地点：吉林省长春市"><a href="#地点：吉林省长春市" class="headerlink" title="地点：吉林省长春市"></a>地点：吉林省长春市</h2><p>2019年4月14日<br>长春大学天桥上，落日的余晖依旧那么美丽。</p>
<span id="more"></span>
<p><img src="http://wx2.sinaimg.cn/large/0060lm7Tly1g2b8tjg6lyj31o00u0b29.jpg"><br>今年长春的春天来得很早啊，别的地方不知道，反正是比家里（吉林省通化市集安市大路镇正义村）早。听家里人说，家里现在还很冷，什么花也没有开。我一直以为家里的春天应该比长春的春天来的早，这个消息打破了我的常识，可能是因为家里是山区，长春是平原的原因吧。<br>早在前几天，就看到树木（据说是水桃子）打苞的迹象，现在已经完全开放了，粉色的花，很好看，与其一起开放的还有一种花，不知道叫什么名字，白色的花。<br><img src="http://wx3.sinaimg.cn/large/0060lm7Tly1g23n4ymaymj31o00u04qr.jpg"><br>上面那张图片可以看到粉色和白色的两种花，拍摄地点是在吉林省博物馆对面。<br>接下来的这几张照片都是在长春大学校园内拍摄的<br><img src="IMG_20190414_175757.jpg"></p>
<hr>
<h2 id=""><a href="#" class="headerlink" title=""></a><img src="http://wx3.sinaimg.cn/large/0060lm7Tly1g23n0kq8zej31o00u0kjo.jpg"></h2><p><img src="IMG_20190414_175837.jpg"><br>都很好看吧，可惜的是只有粉色的这一种。<br>校园里的樱桃花（应该是叫樱花吧，我也不太清楚，反正不是东京的那种）已经打苞了（据说家里那边还没有任何的迹象），粉色的花苞很好看，等到盛开时，会更好看。在长春，还遇到了一种新的花卉：紫丁香。盛开时，紫色的花朵，香气迷人。<br>以下是一些樱桃花的图片，请欣赏（相机不是很好，照得有点模糊）<br><img src="IMG_20190414_180005.jpg"></p>
<hr>
<p><img src="IMG_20190414_180243.jpg"></p>
<hr>
<p>个别图片来自hexo本地，载入较慢，请耐心等待。</p>
]]></content>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo引用本地图片、音乐、视频</title>
    <url>/2019/03/11/Hexo%E5%BC%95%E7%94%A8%E6%9C%AC%E5%9C%B0%E5%9B%BE%E7%89%87%E3%80%81%E9%9F%B3%E4%B9%90%E3%80%81%E8%A7%86%E9%A2%91/</url>
    <content><![CDATA[<h2 id="hexo引用本地图片"><a href="#hexo引用本地图片" class="headerlink" title="hexo引用本地图片"></a>hexo引用本地图片</h2><p>想必大家都知道怎么用markdown语法显示图片吧，我经常用的是先把图片先上传到图床，然后用图床给的地址在文章中显示图片<br>缺点：图床不是太稳定，有时上传的图片会消失<br>优点：图片在文章中加载速度很快<br>优缺点均是相对于我要说的方法</p>
<span id="more"></span>
<p>接下来介绍标题所说的方法：</p>
<h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><ul>
<li>本教程不适用于主页中显示图片，本地引用的图片只能在引用文章的详细页显示（在主页中的文章简介中不能显示）</li>
<li>如果想在主页中也显示引用的图片，读者可以自行尝试他人经验：<a href="https://www.cnblogs.com/codehome/p/8428738.html">Hexo中添加本地图片</a><h3 id="设置"><a href="#设置" class="headerlink" title="设置"></a>设置</h3></li>
</ul>
<ol>
<li> 把主页配置文件_config.yml 里的post_asset_folder:这个选项设置为true（如果设置为false，即使本地有相应的文件夹，本地引用也会失效）<br><img src="http://wx3.sinaimg.cn/mw690/0060lm7Tly1g0z4derc84j30ks0ab75z.jpg"></li>
<li>新建博客文章运行hexo n “text”来生成md博文时，/source/_posts文件夹内除了text.md文件还有一个同名的文件夹<br><img src="http://wx2.sinaimg.cn/mw690/0060lm7Tly1g0z4lvjw8lj30a003rq2w.jpg"></li>
<li>最后在text.md中引入图片时，先把图片复制到text这个文件夹中，然后只需要在text.md中按照markdown的格式引入图片：<br><code>![你想输入的替代文字](图片名.扩展名)</code></li>
<li><code>hexo s</code>可以发现，图片已成功显示，控制台可以看到html标签内的语句是<code>&lt;img src=&quot;图片名.扩展名&quot;&gt;</code>。</li>
</ol>
<hr>
<h3 id="优缺点分析"><a href="#优缺点分析" class="headerlink" title="优缺点分析"></a>优缺点分析</h3><p><strong>优点：</strong></p>
<ol>
<li>博客备份时直接就将图片备份到了GitHub（如果你的博客有备份）</li>
<li>避免了图床不稳定而造成的图片无法显示问题</li>
<li>主页配置文件_config.yml 里的post_asset_folder:这个选项设置为true是为了让系统自动创建文件，如果不需要，可以将其改回，改回后本地引用的图片自动失效<br>记得修改主页配置文件_config.yml后一定要重启服务，如果发现引用的图片没有失效，运行<code>hexo clean</code>后再启动服务你就会发现是否会失效了</li>
<li>一张图片的大小如果不超过100kb，在一篇文章中可以多引用几张，载入速度还可以。图片越小，载入速度越快。</li>
</ol>
<hr>
<p><strong>缺点：</strong></p>
<ol>
<li>如果图片大小过大，载入图片需要很长的时间</li>
<li>不能本地自定义一个存图片的文件夹，图片只能放在生成的文件夹中，在相应的.md文件中引用，可以尝试下载上传本地图片的插件进行解决，自己没有尝试（参照<a href="https://www.cnblogs.com/codehome/p/8428738.html">Hexo中添加本地图片</a>的第二种方法）</li>
<li>在text.md文件中引入图片时，是可以看到网页图片引入的路径始终是<code>text/图片名.扩展名</code>,尝试<code>../text/图片名.扩展名</code>，本以为可以退出text去自定义文件夹，但是直接失败（依然是参看<a href="https://www.cnblogs.com/codehome/p/8428738.html">Hexo中添加本地图片</a>的第二种方法）</li>
<li>如果引用图片大小过大，比如说现在手机拍摄的照片，一张5MB左右大小，一篇文章引用图片数量最好不要多余五张，超过这些数目，图片是无法显示出来的，而且能显示出来的图片载入的过程也很慢。图片很大，而且不是什么特殊图片，建议使用图床。<h2 id="hexo引用本地音乐"><a href="#hexo引用本地音乐" class="headerlink" title="hexo引用本地音乐"></a>hexo引用本地音乐</h2>废话不说，直接看代码<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">audio</span> <span class="attr">src</span>=<span class="string">&quot;音乐.mp3&quot;</span> <span class="attr">controls</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br></pre></td></tr></table></figure>
在markdown语法中直接写就行，支持audio标签 controls必须加，不然浏览器显示不出播放器<br>以上方法并不唯一，亲测有效</li>
</ol>
<p><strong>优缺点分析</strong>同上</p>
<h2 id="hexo引用本地视频"><a href="#hexo引用本地视频" class="headerlink" title="hexo引用本地视频"></a>hexo引用本地视频</h2><p>代码</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">width</span>=<span class="string">&quot;100%&quot;</span> <span class="attr">height</span>=<span class="string">&quot;100%&quot;</span> <span class="attr">src</span>=<span class="string">&quot;视频.mp4&quot;</span> <span class="attr">controls</span>=<span class="string">&quot;controls&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>在这里详细讲解一下video标签<br>完整的video标签中应该有</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">width</span>=<span class="string">&quot;100%&quot;</span> <span class="attr">height</span>=<span class="string">&quot;100%&quot;</span> <span class="attr">src</span>=<span class="string">&quot;http://videooss.tan8.com/tan8video/f5/8d/f5ef7a9be4ebfe7ce919cdeca03a878d/f5ef7a9be4ebfe7ce919cdeca03a878d_2.mp4&quot;</span> <span class="attr">controls</span>=<span class="string">&quot;controls&quot;</span> <span class="attr">poster</span>=<span class="string">&quot;http://videooss.tan8.com/tan8video/f5/8d/f5ef7a9be4ebfe7ce919cdeca03a878d/f5ef7a9be4ebfe7ce919cdeca03a878d_5.jpg&quot;</span> <span class="attr">webkit-playsinline</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>width=&quot;100%&quot; height=&quot;100%&quot;</code>必须要有，不然个别浏览器无法显示视频<br><code>controls=&quot;controls&quot;</code>必须要有，<code>=&quot;controls&quot;</code>可以省略，但是controls属性必须写，不然无法加载出视频播放器<br><code>poster</code>是视频的封面，可有可无，如果没有的话，视频未播放前显示的是黑色页面(手机浏览器)，如果有封面，显示的则是封面<br><code>webkit-playsinline</code>属性是使视频可以在浏览器视窗内全屏(html5)，可有可无</p>
<h3 id="说明-1"><a href="#说明-1" class="headerlink" title="说明"></a>说明</h3><p>不推荐使用，github数据库引用本地图片、音乐很慢，看到这里也应该知道视频的速度，而且在网页打开时便开始加载，文件过大，会从云端下载很多数据<br>其它方法可自行去网络查找。<br>如果你有网上视频URL，直接把URL地址粘到src里即可（当然，这就不属于本地引用了）<br>例子（引用的云端url）：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">width</span>=<span class="string">&quot;100%&quot;</span> <span class="attr">height</span>=<span class="string">&quot;100%&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://vdse.bdstatic.com/c8e809ee661311914373875a22a604fb.mp4?authorization=bce-auth-v1%2F40f207e648424f47b2e3dfbb1014b1a5%2F2017-05-11T09%3A02%3A31Z%2F-1%2F%2Fede47047d81e465d4e653b24bfbbb58a78b52db9a311c1e3dab6809efc647277&quot;</span> <span class="attr">controls</span>=<span class="string">&quot;controls&quot;</span> <span class="attr">webkit-playsinline</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>效果：<br><video width="100%" height="100%" src="https://vdse.bdstatic.com/c8e809ee661311914373875a22a604fb.mp4?authorization=bce-auth-v1%2F40f207e648424f47b2e3dfbb1014b1a5%2F2017-05-11T09%3A02%3A31Z%2F-1%2F%2Fede47047d81e465d4e653b24bfbbb58a78b52db9a311c1e3dab6809efc647277" controls="controls" webkit-playsinline="true"></video></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>建议少使用本地引用，影响网页加载速度<br>如果每张图片很小，但是数量多的话，建议将此文章拆分</p>
]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>博客</tag>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>谈谈中美贸易战</title>
    <url>/2019/03/05/%E8%B0%88%E8%B0%88%E4%B8%AD%E7%BE%8E%E8%B4%B8%E6%98%93%E6%88%98/</url>
    <content><![CDATA[<h2 id="谈谈中美贸易战-1636字"><a href="#谈谈中美贸易战-1636字" class="headerlink" title="谈谈中美贸易战(1636字)"></a>谈谈中美贸易战(1636字)</h2><p><strong>网上文献转载，非自己个人感悟</strong><br>&emsp;&emsp;一如既往的寒假社会活动又来了，我们进行的是第四个调查活动：深入调查人们对当今社会热点和焦点问题。以下内容为谈谈对中美贸易战的看法。<br>&emsp;&emsp;中美之间为非敌非友的利益关系。两国将朝着积极，合作，全面的方向发展。<br>&emsp;&emsp;中美两国，一个是世界上最大的发展中国家，拥有丰富的劳动力资源，明显的成本优势，广 阔的市场和无可限量的发展潜力； 一个是拥有世界上最强大经济， 科技实力的世界上最大的发达国家。中美两国的关系，直接影响到世界经济的发展。就中美当前的关系来说，问题与冲突同样存在。就中美目前的情况来看，还在意识形态，政治影响，经贸摩擦等方面存在问题。在现代国家的发展进程中，经济是一个国家强大的物质条件，是最核心，最现实也是最切实的国家利益，直接决定着国家的地位与影响力。所以经贸是国家间关系的晴雨表。中美两国处于不同的经济发展阶段，随着经济全球化的深入，两国之间的经济关系具有很强的互利性和互补性。同时，在互相竞争中，又存在着各种各样的摩擦。中美在经贸中存在的摩擦 主要表现在以下三个方面：贸易差额，人民币汇率，知识产权保护。 不断扩大的中美贸易逆差是中美关系动荡的一个决定因素。中美之间存在很大的贸易差额，一方面与中美双方采取的统计方法有关，另一方面又与美国将经济问题政治化有关。<br>&emsp;&emsp;中国向美国的出口产品以劳动密集型产品为主，主要是农产品，附加值低，满足了美国一般消费者的需要。而美国向中国的出口产品以资本与技术密集型产品为主。 但美国把经贸政治化，以安全为由拒绝向中国 出口高新技术。 美国的高新技术处于世界领先地位， 技术产品在美国对外出口中也占有举足轻重的地位；而处于现代化进程中的中国，对技术产品的需求不断扩大。美国的这种经贸限 制，严重影响了贸易的互补性，导致贸易差额进一步扩大。由中美贸易逆差这问题来看，中美缺失的是一种理解，信任。正是这种不理解，不信任，造成了贸易摩擦。中美双方只有静下心来，加强了解，信任，才是更好的解决方法，而不是直接对抗。 中美双方只有在实事求是的精神指导下，加强对话，加强监督与合作，才能有效地保护知识产权，保证充分的自由竞争，最终解决知识产权纷争。 在相互依存的世界里，在经济全球化的世界里，摩擦是正常的，也是无法避免的，这并不可怕。中美经常性的经贸摩擦，反映两国经济关系的密切。中美经济对双方的重要性与俱增。 贸易中产生的问题，双方只有理性面对，在经常性的协调和合作机制中，通过平等协商的办 法加以妥善处理。从中美贸易摩擦来看，都是因为中美双方的意识形态不同，国情不同，相 互不了解，不信任等原因引起的。中美双方都应该摆正心态，采取合作，尊重的态度，才能 更切实地找到两国利益的平衡点，才能达到双赢。 为了改善中美贸易关系，消除贸易摩擦，我们中国可以在以下方面采取措施：继续深化 经济体制改革，完善市场经济运作方式，使中国最终成为一个真正的市场经济体。在处理中 美贸易逆差与具体的贸易摩擦中， 中国有必要采取国际上常用的自动出口限制等贸易政策措 施。这样既起到了安抚的作用，又减少了贸易摩擦的代价。积极筹划、组织、实施对美国的 直接投资。这样不仅可以避开贸易壁垒，大大减少贸易摩擦，而且通过投资设厂可以更有效 地引进先进的技术与管理经验，提高中国企业的综合国际竞争能力。中国还应该在政治、经 济、社会和文化等诸多方面对美国进行深入而全面的了解。为了维护自己的利益，中国必须 学会站在美国人的角度认识与思考中美之间的问题，并提出相应的对美贸易政策和运作技 巧。通过这种了解的增进，以使对美贸易政策与对策更具有针对性和有效性。 贸易战并不是出路，中美双方谁也打不起贸易战。只有双方妥善处理好贸易关系，才 能更好地巩固双方的关系，才能更好使意识形态，政治问题得到解决。处理好一个地区发展 大国与一个世界强国的关系，不但对两国有益，达到双赢 ；而且对世界的和平发展，持续发 展也有重要的积极作用。 中美关系错综复杂，并不是一两天能全部解决的。但只要本着接触、了解、信任、尊 重、合作的原则，就能把这些问题逐步理清，并逐步解决。</p>
]]></content>
      <tags>
        <tag>大学</tag>
      </tags>
  </entry>
  <entry>
    <title>《红海行动》观后感</title>
    <url>/2019/03/05/%E3%80%8A%E7%BA%A2%E6%B5%B7%E8%A1%8C%E5%8A%A8%E3%80%8B%E8%A7%82%E5%90%8E%E6%84%9F/</url>
    <content><![CDATA[<h2 id="《红海行动》观后感-1548字"><a href="#《红海行动》观后感-1548字" class="headerlink" title="《红海行动》观后感(1548字)"></a>《红海行动》观后感(1548字)</h2><p><strong>网上文献转载，非自己个人感悟</strong><br>&emsp;&emsp;一个字形容，那就是“爽”!从第一分钟一直燃到最后一秒，影片的节奏非常快，快而密集，整个影片的几场大战，比如人质营大战、沙漠坦克大战等，全程用动作去讲故事。由于有着中国海军的全力支持，《红海行动》第一次详细展示我军的最尖端军事装备，目前看来只有中美两军能拍出这种水平装备的大片。这是一部终极的动作片，这就是所有人看完《红海行动》的感受。<br>&emsp;&emsp;《战狼2》里的中国队长冷锋，几乎完全是个人英雄主义进行曲，而《红海行动》比战狼高一个层次，这次是团队作战，更能全面地彰显当代军人的风采，二者各有千秋。<br>&emsp;&emsp;军事战争电影一直是一个国家电影工业的重要组成部分。对于国家的国防宣传，以及展示国家实力等方面有天然的优势。由于拍摄成本，部队调用和观众受众等原因，我们平时见到大量滥竽充数的“抗日神剧”类军事影视，真正的情节合理、道具考究的战争动作大片凤毛麟角。<br>&emsp;&emsp;《红海行动》作为我国首部现代化军事动作片，动用了众多先进军备，总投资高达5亿。仅军事装备预算一项就高达2亿。尤其是电影一开头就调用了6艘国产军舰，其中包括我国海军的071级大型船坞登陆舰，以及最新锐的054A级导弹护卫舰。这是我国首次在动作大片中调用现役最新军舰参加拍摄，而以往的《战狼2》等影片，尽管也有国产战舰等镜头，但大多数是电脑动画制作，很少有实际拍摄。通过《红海行动》这部影片，会有更多的人了解到中国海军的强大，感受大国之威。<br>&emsp;&emsp;军舰上的实地取景，是在南海舰队湛江基地拍摄的，中国海军尽最大可能给予剧组保障，我国的海上利刃—054A型导弹护卫舰许昌舰、071级大型船坞登陆舰昆仑山舰等数艘海军现役军舰都在本片中首次亮相。<br>&emsp;&emsp;071级大型船坞登陆舰昆仑山舰，是目前我国乃至世界最先进的大型两栖作战舰，而054A型导弹护卫舰是中国现役数量最多的多用途战舰。在2015年1月，同型的中国海军071级989号长白山舰、054A型护卫舰运城号和巢湖号补给舰组成编队，访问英国朴茨茅斯军港，英国《每日邮报》就此报道称：“三艘巨大的战舰在人群的惊叹中进入皇家海军的老家，遗憾的是，这是中国军舰，而不是英国的”。<br>&emsp;&emsp;然而更令我赞叹是，特战队的集体主义和革命英雄主义精神。影片中把特战队令行禁止、勇往直前、不怕牺牲的精神表现得淋漓尽致。影片中的特战队员们，对战友的信任，对自己的责任有担当，既有钢铁般的意志，又有豪迈的血性。的确是一支英勇善战，攻无不克特战奇兵。影片中敌人的残忍，令人发指，勇士的牺牲，催人泪下。整个影片不管是苍茫戈壁，还是无垠的大海，在镜头中都充满了磅礴的气势和真实的质感，可以说：与美国军事大片毫不逊色。<br>&emsp;&emsp;整部片子中，争斗激烈，全程让我感到热血沸腾，有时会产生一股想加入他们团队的冲动，和他们一起并肩作战，只解沙场。在这部电影中，有好多让我们可以反思的点。首先，他们为何在8比1200人的悬殊比例下成功的营救了人质，并且阻止了黄饼落入恐怖组织手中。第二，在面临枪林弹雨，自己在前面冲锋的时候，佟莉为何选择将自己的防弹衣脱下给了邓梅，这都是值得我们去反思的。<br>&emsp;&emsp;蛟龙八人各有自己的职责与分工，队长杨锐是整个团队的核心，战略的布置者;爆破手及副队徐宏，负责整个过程中障碍物的清除，以及炸弹的拆除;机枪手佟莉和石头，负责队友的掩护，冲锋作战;狙击手顾顺负责高点掩护;侦察员李懂负责敌方人员情况的定位;医疗兵陆堔负责救助;通讯兵庄羽负责联络。在整个作战中，他们作战分工明确，在队长的指挥下，有条不紊的执行着队长布置的任务。<br>&emsp;&emsp;蛟龙八人就像一个完整的机器，缺任何一个人，将会对整个团队陷入很大的危险之中，正因为他们各司其职，相互信任，所以才能以寡敌众，成功的救出人质，他们勇敢、坚强、有很强的使命感，宁愿自己牺牲，也要完成任务。<br>&emsp;&emsp;红海行动拯救的不是一个邓梅，而是千千万万仍缺乏大国自信的“邓梅”。祖国，从这一刻起，不再是简单二字，而是一段深情和热血。</p>
]]></content>
      <tags>
        <tag>大学</tag>
      </tags>
  </entry>
  <entry>
    <title>《老人与海》读后感</title>
    <url>/2019/03/05/%E3%80%8A%E8%80%81%E4%BA%BA%E4%B8%8E%E6%B5%B7%E3%80%8B%E8%AF%BB%E5%90%8E%E6%84%9F/</url>
    <content><![CDATA[<h2 id="《老人与海》读后感-1688字"><a href="#《老人与海》读后感-1688字" class="headerlink" title="《老人与海》读后感(1688字)"></a>《老人与海》读后感(1688字)</h2><p><strong>网上文献转载，非自己个人感悟</strong><br>&emsp;&emsp;假期闲来无事，潜心拜读了一遍《老人与海》，读时却不禁感想颇深，仿佛不是在阅读一本枯燥的书，而是在阅读一颗生动的心，一颗赤红的心，一颗跳动的充满激情的心。那是数年前我体会不到的。我的感怀也由此开始。<br>&emsp;&emsp;简练，或者说精炼的文字，配上扣人心弦的叙述，即使不长的小说，也能成功，而牵动读者的心。《老人与海》在海明威的思绪中流转，充满炽热的液体，不曾冷却。<br>&emsp;&emsp;王勃笔下流淌出的千古传唱的《滕王阁序》，其间曾说，“老当益壮，宁移白首之心，穷且益坚，不坠青云之志。”这不仅是一个人的志向，也是老人圣地亚哥的真实写照，是他的灵魂的最恰当描述，是一种生命意义，是一种悲剧一般的壮丽，还是一种对人生的洞悉。当这个世界的天平不向每个人倾斜时，总用人会被象征倒霉的另一端所高高抬起，没有信心，厄运会轻易吞噬空虚的心灵。人真的是很奇怪的动物，为何有勇气面对死亡，却没有勇气面对失败呢？难道失败真的如此可怕吗？冷冷的海风里夹杂着一股血腥，也许这才是人真正害怕的。唯有不羁的灵魂，才是与大海的对抗，与自然的对抗，与世界的对抗，与命运的对抗，这样的灵魂才能做到，真正的伟大，即使他不曾成功过。<br>&emsp;&emsp;《老人与海》讲述了一个故事，一位圣地亚哥的老渔夫连续八十四天没捕到鱼，被同行看成失败者，可是他坚持不懈，终于钩到一条大鱼，大鱼把他的小船在海上拖了三天，最终被老人杀死了，绑在船的另一边。老人在归途中一再遭到鲨鱼的袭击，但他仍然斗志昂扬，像一个角斗士在大海这残酷的角斗场是顽强地展开搏斗，历经了重重艰难险阻。虽然老人捕的鱼，在归航的途中只剩下了鱼头、鱼尾和一条脊骨，但丝毫没有减退老人的坚强意志。<br>&emsp;&emsp;远涉千里，深入大海。为的只是一条鱼么？说到底，人的真正胜利也只能是精神的胜利。人在物质上无论取得多大的成就，都不能赢得我们崇高的敬意。而只有精神和气魄的胜利，才使我感动，才使我和追随老人的孩子一样，为他的悲壮落泪无可否认，只要是人就都会有缺陷。当一个人承认了这个缺陷并努力去战胜它而不是去屈从它的时候，无论他能否最终战胜自身的这个缺陷，他都是一个胜利者，因为他已经战胜了自己对缺陷的妥协，他是自己勇气和信心的胜利者。老渔夫就是敢于挑战自身缺陷及自己勇气和信心的胜利者。从世俗胜利观的角度看，老渔夫不是最后的胜利者，因为尽管开始他战胜了大马林鱼，但是最终大马林鱼还是让鲨鱼吃了，他只是带着大马林鱼的白骨架子回到了岸上，也就是说，鲨鱼才是胜利者。可是，在理想主义者眼里，老渔夫就是胜利者，因为他始终没有向大海没有向大马林鱼，更没有向鲨鱼妥协和投降。<br>&emsp;&emsp;“一个人可以被毁灭，但不能被打败。”外在的肉体可以接受折磨，内在的意志却是神圣不可侵犯的。一方面倒下，恰恰是另一方面的站起，在一个宛如梦境的场景中，必定会出现胜利的结局，这是圣地亚哥的魂，也是他无论如何都不会倒下的精神层面。我认为，这，才是伟大的定义。<br>&emsp;&emsp;老人，外表的丑陋，内心的壮丽，和奋勇。无论如何，都没有人敢说他不是英雄。<br>英雄或许要有强大的肉体，令人称颂的作为，四方流传的美誉，但这些都不是最重要的，甚至可以说可有可无。一个英雄，拥有的，便是精神力量的巨人。所谓英雄者，敢为人之所不敢为，敢当人之所不敢当。所谓英雄者，坚强刚毅，屡败屡战。他左右自己，成为一个永不会被击倒的人，他在精神领域，没有失败的记录，也没有失败的预兆，甚至没有失败的概念。自信，坚持，不懈，拼搏，一个老人的故事，一个英雄的启迪。<br>&emsp;&emsp;那我呢？或许我觉得，所谓英雄离我太遥远，但是距离产生美。而美又是在我们身边的。我不是英雄，也许永远不会是。但是没关系，我有英雄之志，这就足够了。它告诉我的，并不是事迹，而是精神和品质。它的存在是一种高尚的品德。或许我正碌碌无为，但我不会让我迈向成功的步伐停滞，也不会让我追梦的凤凰坠落。不屈服于困境，不低头于失败，脚踏实地坚持不懈，把不值得变成值得，把不可能化作可能。这就是我要做的，我该做的。若是这样，我才告诉自己，自己是强大的，是成功的，像老人一样，永不言弃亦永不言败。浮想联翩之间，才领悟到，所谓老当益壮，壮的意义，我想就是一个英雄的努力，他在现实中失败，却在精神上达到了巅峰。</p>
]]></content>
      <tags>
        <tag>大学</tag>
      </tags>
  </entry>
  <entry>
    <title>登山一日游</title>
    <url>/2019/02/25/%E7%99%BB%E5%B1%B1%E4%B8%80%E6%97%A5%E6%B8%B8/</url>
    <content><![CDATA[<h2 id="地点：吉林省通化市集安市大路镇正义村二青顶"><a href="#地点：吉林省通化市集安市大路镇正义村二青顶" class="headerlink" title="地点：吉林省通化市集安市大路镇正义村二青顶"></a>地点：吉林省通化市集安市大路镇正义村二青顶</h2><p>离开学还有几天了，在家闲得实在无聊，决定跟着父亲去自己家的山场看看。之前山场二青顶有地质团队去采矿，呆了一阵就走了，已经过了五六年，一直想要去看看，今天难得有时间，决定去溜达溜达。今年冬天异常的古怪，没下多点雪，而且天气很暖和，一点也不像东北的冬天。</p>
<hr>
<p>以下是此次登山的风景图，感谢欣赏</p>
<span id="more"></span>
<p>1.<br><img src="http://wx4.sinaimg.cn/large/0060lm7Tly1g0uial2gkfj31o00u0x6t.jpg"><br>2.<br><img src="http://wx4.sinaimg.cn/large/0060lm7Tly1g0uif1d7h9j31o00u0nph.jpg"><br>3.<br><img src="http://wx1.sinaimg.cn/large/0060lm7Tly1g0uigepguxj31o00u0b2e.jpg"><br>4.<br><img src="http://wx2.sinaimg.cn/large/0060lm7Tly1g0uihjb7cfj31o00u0npi.jpg"><br>5.<br><img src="http://wx4.sinaimg.cn/large/0060lm7Tly1g0uiiniza5j31o00u0npg.jpg"><br>6.<br><img src="http://wx3.sinaimg.cn/large/0060lm7Tly1g0uik665p5j31o00u0b2e.jpg"><br>7.<br><img src="http://wx1.sinaimg.cn/large/0060lm7Tly1g0uilowlosj31o00u0qva.jpg"><br>8.<br><img src="http://wx4.sinaimg.cn/large/0060lm7Tly1g0uioz9hgzj31o00u0qva.jpg"><br>9.<br><img src="http://wx1.sinaimg.cn/large/0060lm7Tly1g0uiq76j6jj31o00u0u12.jpg"><br>10.<br><img src="http://wx2.sinaimg.cn/large/0060lm7Tly1g0uitf0rpwj31o00u0b2f.jpg"><br>11.<br><img src="http://wx2.sinaimg.cn/large/0060lm7Tly1g0uiuzjzavj31o00u0x6u.jpg"><br>12.<br><img src="http://wx3.sinaimg.cn/large/0060lm7Tly1g0uiw5topwj31o00u04qu.jpg"><br>13.<br><img src="http://wx3.sinaimg.cn/large/0060lm7Tly1g0uixjxe6ij31o00u04qu.jpg"><br>14.<br><img src="http://wx1.sinaimg.cn/large/0060lm7Tly1g0uj1f0sjgj31o00u0x6u.jpg"><br>15.<br><img src="http://wx1.sinaimg.cn/large/0060lm7Tly1g0uj3d5zv3j31o00u0u12.jpg"><br>16.<br><img src="http://wx2.sinaimg.cn/large/0060lm7Tly1g0uj4ir74dj31o00u0npi.jpg"><br>17.<br><img src="http://wx3.sinaimg.cn/large/0060lm7Tly1g0uj5skh2jj31o00u0npi.jpg"><br>18.<br><img src="http://wx4.sinaimg.cn/large/0060lm7Tly1g0uj748z53j31o00u0hdy.jpg"><br>19.<br><img src="http://wx1.sinaimg.cn/large/0060lm7Tly1g0uj8bdtknj31o00u0x6u.jpg"><br>20.<br><img src="http://wx4.sinaimg.cn/large/0060lm7Tly1g0z6ng6xe4j31o00u0e85.jpg"><br>21.<br><img src="http://wx4.sinaimg.cn/large/0060lm7Tly1g0zvr1xorcj31o00u01l2.jpg"><br>22.<br><img src="http://wx4.sinaimg.cn/large/0060lm7Tly1g0zvs5o411j31o00u0nph.jpg"><br>23.<br><img src="http://wx3.sinaimg.cn/large/0060lm7Tly1g0zvu8ubpvj31o00u0hdy.jpg"><br>24.<br><img src="http://wx4.sinaimg.cn/large/0060lm7Tly1g0zvvanwzjj31o00u0x6t.jpg"><br>25.<br><img src="http://wx4.sinaimg.cn/large/0060lm7Tly1g0zvx5wvk5j31o00u0nph.jpg"></p>
<h3 id="以下图片为Hexo引用本地图片测试-图片载入过慢，请耐心等待"><a href="#以下图片为Hexo引用本地图片测试-图片载入过慢，请耐心等待" class="headerlink" title="以下图片为Hexo引用本地图片测试(图片载入过慢，请耐心等待)"></a>以下图片为Hexo引用本地图片测试(图片载入过慢，请耐心等待)</h3><p>26.<br><img src="IMG_20190225_105556.jpg"><br>27.<br><img src="IMG_20190225_110208.jpg"><br>28.<br><img src="IMG_20190225_110213.jpg"><br>29.<br><img src="IMG_20190225_114304.jpg"><br>30.<br><img src="IMG_20190225_114306.jpg"></p>
<hr>
<p><strong>再次感谢欣赏</strong></p>
]]></content>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
  <entry>
    <title>面向对象实习报告</title>
    <url>/2019/01/15/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%AE%9E%E4%B9%A0%E6%8A%A5%E5%91%8A/</url>
    <content><![CDATA[<h2 id="面向对象实习报告"><a href="#面向对象实习报告" class="headerlink" title="面向对象实习报告"></a>面向对象实习报告</h2><p>[实习名称]  面向对象程序设计实习<br>[实习地点]  长春大学理学院机房<br>[实习时间]  第18周-第19周<br>[系统环境]  Windows XP<br>[所用机时]  40学时<br>[实习内容]</p>
<hr>
<p><strong>1 线性表的应用</strong></p>
<hr>
<p>1.1    问题概述<br>一堆猴子都有编号，编号是1，2，3 …m ,这群猴子（m个）按照从1到m的顺序围坐一圈，从第1开始数，每数到第n个，该猴子就要离开此圈，这样依次下来，直到圈中只剩下最后一只猴子，则该猴子为大王。</p>
<hr>
<p>1.2 基本要求<br>（1）利用单循环链表结构模拟此过程；<br>（2）输入数据：输入m,n m,n 为整数，<code>n&lt;m</code><br>（3）按照m个猴子，数n 个数的方法，输出为大王的猴子是几号，建立一个函数来实现此功能</p>
<hr>
<p>1.3    基本思想<br>用数组记录猴子是否在圈内的状态：在圈内记为“1”，不在圈内记为“0”。并以累加数组元素值来模拟报数过程，这样就减少了一半判断猴子是否在圈内的操作，从而简易实现函数操作。</p>
<hr>
<p>1.4 代码实现</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">choose</span><span class="params">(<span class="type">int</span> num,<span class="type">int</span> del)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    <span class="type">int</span> a[<span class="number">100</span>];</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;num;i++)</span><br><span class="line">    a[i]=<span class="number">1</span>; <span class="comment">//猴子状态初始化，为1表示可能被选上，为0表明没希望了；</span></span><br><span class="line">    <span class="type">int</span> sum=<span class="number">0</span>, <span class="comment">//循环记数；</span></span><br><span class="line">    countOne=num; <span class="comment">//累积记数初始化，大于1表明还有大王候选人；</span></span><br><span class="line">    <span class="keyword">while</span>(countOne&gt;<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        countOne=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;num;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            sum+=a[i];</span><br><span class="line">            <span class="keyword">if</span>(sum==del)</span><br><span class="line">            sum=a[i]=<span class="number">0</span>; <span class="comment">//淘汰倒霉猴子；</span></span><br><span class="line">            countOne+=a[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;num;i++)</span><br><span class="line">    <span class="keyword">if</span>(a[i]!=<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> i; <span class="comment">//找到幸运猴子编号（从0开始的）；</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> num,del;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;请输入猴子总数和淘汰数：&quot;</span>;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;num&gt;&gt;del;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;第&quot;</span>&lt;&lt;choose(num,del)+<span class="number">1</span>&lt;&lt;<span class="string">&quot;个猴子为王！&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>1.5 数据测试<br><img src="http://wx2.sinaimg.cn/mw690/0060lm7Tly1fz785xq64cj30na0egt97.jpg"></p>
<hr>
<p><strong>2 学生成绩管理</strong></p>
<hr>
<p>2.1问题概述<br>设计一个student（学生）类，并使student类具有以下特点：</p>
<hr>
<p>2.2基本要求<br>（1）    该类具有学生姓名、学号、程序设计、信号处理、数据结构三门课程的成绩。<br>（2）    学生全部信息由键盘输入，以提高程序的适应性。<br>（3）    通过成员函数统计学生平均成绩，当课程数量增加时，成员函数无须修改仍可求取平均成绩。<br>（4）    输出学生的各科成绩与平均成绩。<br>（5）    学生对象的定义采用对象数组实现。<br>（6）    统计不及格学生人数。<br>（7）    表格输出整齐美观。<br>（8）    能以最方便的方式实现对课程数量和学生人数的修改。</p>
<hr>
<p>2.3 基本思想<br>先设计一个学生类，然后其中有数据成员，保存学生姓名；整型静态数据成员，记录班级的学生数量；浮点型数据成员，用于记录学生成绩，再统计平均成绩，静态成员函数返回该平均分、返回总人数，要求有构造函数，有能设置姓名和修改分数的函数，编写一个完整程序 测试所有功能。</p>
<hr>
<p>2.4代码实现</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="type">const</span> studentnum=<span class="number">3</span>;</span><br><span class="line">using namespace <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">char</span> name[<span class="number">10</span>];</span><br><span class="line">    <span class="type">long</span> number;</span><br><span class="line">    <span class="type">double</span> imfor;</span><br><span class="line">    <span class="type">double</span> chengxu;</span><br><span class="line">    <span class="type">double</span> c;</span><br><span class="line">    <span class="type">double</span> marks;</span><br><span class="line">    <span class="type">double</span> ave;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Students</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">public:</span><br><span class="line">    Students()&#123;n=<span class="number">0</span>;&#125;</span><br><span class="line">    <span class="type">void</span> <span class="title function_">add</span><span class="params">()</span>;</span><br><span class="line">    <span class="type">void</span> <span class="title function_">show</span><span class="params">()</span>;</span><br><span class="line">    <span class="type">void</span> <span class="title function_">PX</span><span class="params">()</span>;</span><br><span class="line">    <span class="type">void</span> <span class="title function_">sort</span><span class="params">()</span>;</span><br><span class="line">    <span class="type">void</span> <span class="title function_">nopass</span><span class="params">()</span>;</span><br><span class="line">    <span class="type">void</span> <span class="title function_">manage</span><span class="params">()</span>;</span><br><span class="line">private:</span><br><span class="line">    Student stu[<span class="number">1000</span>];</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">void</span> <span class="title function_">Students::add</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;姓名: &quot;</span>&lt;&lt;<span class="string">&quot;学号: &quot;</span>&lt;&lt;<span class="string">&quot;信号处理: &quot;</span>&lt;&lt;<span class="string">&quot;程序设计: &quot;</span>&lt;&lt;<span class="string">&quot;数据结构 &quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;studentnum;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;stu[n].name;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;stu[n].number;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;stu[n].imfor;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;stu[n].chengxu;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;stu[n].c;</span><br><span class="line">        stu[n].marks= stu[n].imfor+ stu[n].chengxu+ stu[n].c;</span><br><span class="line">        stu[n].ave=stu[n].marks/<span class="number">3</span>;</span><br><span class="line">        n++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">Students::show</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;学生详细信息如下:&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;姓名 学号 信号处理 程序设计 数据结构 平均分&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> m=<span class="number">0</span>;m&lt;n;m++)</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;stu[m].name&lt;&lt;<span class="string">&quot; &quot;</span></span><br><span class="line">    &lt;&lt;stu[m].number &lt;&lt;<span class="string">&quot;&quot;</span></span><br><span class="line">    &lt;&lt;stu[m].imfor&lt;&lt;<span class="string">&quot; &quot;</span></span><br><span class="line">    &lt;&lt;stu[m].chengxu&lt;&lt;<span class="string">&quot; &quot;</span></span><br><span class="line">    &lt;&lt;stu[m].c&lt;&lt;<span class="string">&quot; &quot;</span></span><br><span class="line">    &lt;&lt;stu[m].ave&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">Students::PX</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    Student p;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;n-i;j++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(stu[j].marks&lt;stu[j+<span class="number">1</span>].marks)</span><br><span class="line">        &#123;</span><br><span class="line">            p=stu[j];</span><br><span class="line">            stu[j]=stu[j+<span class="number">1</span>];</span><br><span class="line">            stu[j+<span class="number">1</span>]=p;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;按学生总分排序:&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;学号 姓名 信号处理 程序设计 数据结构平均分&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> m=<span class="number">0</span>;m&lt;n;m++)</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;stu[m].name&lt;&lt;<span class="string">&quot; &quot;</span></span><br><span class="line">    &lt;&lt;stu[m].number &lt;&lt;<span class="string">&quot;&quot;</span></span><br><span class="line">    &lt;&lt;stu[m].imfor&lt;&lt;<span class="string">&quot; &quot;</span></span><br><span class="line">    &lt;&lt;stu[m].chengxu&lt;&lt;<span class="string">&quot; &quot;</span></span><br><span class="line">    &lt;&lt;stu[m].c&lt;&lt;<span class="string">&quot; &quot;</span></span><br><span class="line">    &lt;&lt;stu[m].ave&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">Students::sort</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> m;</span><br><span class="line">    Student P;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n<span class="number">-1</span>;i++)</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j=i+<span class="number">1</span>;j&lt;n;j++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(stu[i].chengxu&gt;stu[j].chengxu)</span><br><span class="line">        &#123;</span><br><span class="line">            P=stu[i];</span><br><span class="line">            stu[i]=stu[j];</span><br><span class="line">            stu[j]=P;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">Students::manage</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> m;</span><br><span class="line">    Student P;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;请输入你要选择从高到低进行排名的科目:&quot;</span></span><br><span class="line">    &lt;&lt;<span class="built_in">endl</span>&lt;&lt;<span class="string">&quot;1.程序设计&quot;</span>&lt;&lt;<span class="string">&quot;2.信号处理&quot;</span>&lt;&lt;<span class="string">&quot;3.数据机构&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;m;</span><br><span class="line">    <span class="keyword">if</span>(m==<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        sort();</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;姓名 &quot;</span>&lt;&lt;<span class="string">&quot;学号 &quot;</span>&lt;&lt;<span class="string">&quot;程序设计 &quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">for</span>( m=<span class="number">0</span>;m&lt;<span class="number">3</span>;m++)</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;stu[m].name&lt;&lt;<span class="string">&quot; &quot;</span></span><br><span class="line">        &lt;&lt;stu[m].number&lt;&lt;<span class="string">&quot; &quot;</span></span><br><span class="line">        &lt;&lt;stu[m].chengxu&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(m==<span class="number">2</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        sort();</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;姓名 &quot;</span>&lt;&lt;<span class="string">&quot;学号 &quot;</span>&lt;&lt;<span class="string">&quot;信号处理 &quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">for</span>( m=<span class="number">0</span>;m&lt;<span class="number">3</span>;m++)</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;stu[m].name&lt;&lt;<span class="string">&quot; &quot;</span></span><br><span class="line">        &lt;&lt;stu[m].number&lt;&lt;<span class="string">&quot; &quot;</span></span><br><span class="line">        &lt;&lt;stu[m].imfor&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(m==<span class="number">3</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        sort();</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;姓名 &quot;</span>&lt;&lt;<span class="string">&quot;学号 &quot;</span>&lt;&lt;<span class="string">&quot;数据结构 &quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">for</span>( m=<span class="number">0</span>;m&lt;<span class="number">3</span>;m++)</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;stu[m].name&lt;&lt;<span class="string">&quot; &quot;</span></span><br><span class="line">        &lt;&lt;stu[m].number&lt;&lt;<span class="string">&quot; &quot;</span></span><br><span class="line">        &lt;&lt;stu[m].c&lt;&lt;<span class="string">&quot;&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">Students::nopass</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> count=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> m=<span class="number">0</span>;m&lt;studentnum;m++)</span><br><span class="line">    <span class="keyword">if</span>(stu[m].imfor&lt;<span class="number">60</span>||stu[m].chengxu&lt;<span class="number">60</span>||stu[m].c&lt;<span class="number">60</span>)</span><br><span class="line">    count++;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;不及格学生人数: &quot;</span>&lt;&lt;count&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;学生总人数:&quot;</span>&lt;&lt;<span class="number">3</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    Students person;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;请依次输入该学生的相关信息：&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    person.add();</span><br><span class="line">    person.show();</span><br><span class="line">    person.nopass();</span><br><span class="line">    person.PX();</span><br><span class="line">    person.sort();</span><br><span class="line">    person.manage();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>2.5数据测试<br><img src="http://wx4.sinaimg.cn/mw690/0060lm7Tly1fz78g78juyj30n30f1gng.jpg"></p>
<hr>
<p><strong>3 类的应用</strong></p>
<hr>
<p>3.1问题概述<br>   定义点Point 类作为基类，在此基础上派生出直线Line类与圆Circle类，在Circle类的基础上以不同的属性派生出圆柱Cylinder类和球Spheroid类。并要求基类和各派生类具有以下特点：</p>
<hr>
<p>3.2 基本要求<br>（1）Line类含有计算直线长度和斜率的成员函数。<br>（2）Circle类含有计算圆面积的成员函数。<br>（3）Cylinder类含有计算圆柱表面积和体积的成员函数。<br>（4）Spheroid类含有计算球体表面积和体积的成员函数。</p>
<hr>
<p>3.3 基本思想<br>   将一些类所具有的公共属性和方法放到基类中，避免重复定义。<br>定义基类Shape，在类中定义两个函数getName()、getArea()。分别用来获得类名称和面积。将getArea()定义为一个纯虚函数。 </p>
<hr>
<p>3.4代码实现</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PI 3.14</span></span><br><span class="line">using namespace <span class="built_in">std</span>;</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Shape</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">protected:</span><br><span class="line">	<span class="type">double</span> x, y;</span><br><span class="line">public:</span><br><span class="line">	Shape(<span class="type">double</span> _x, <span class="type">double</span> _y);</span><br><span class="line">	<span class="type">double</span> <span class="title function_">GetArea</span><span class="params">()</span>;</span><br><span class="line">&#125;;</span><br><span class="line">Shape::Shape(<span class="type">double</span> _x, <span class="type">double</span> _y) :x(_x), y(_y)&#123;&#125;</span><br><span class="line"><span class="type">double</span> <span class="title function_">Shape::GetArea</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0.0</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Circle</span> :</span>public Shape</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">	Circle(<span class="type">double</span> r); </span><br><span class="line">	<span class="type">double</span> <span class="title function_">GetArea</span><span class="params">()</span>; </span><br><span class="line">	<span class="type">double</span> <span class="title function_">GetRadius</span><span class="params">()</span>; </span><br><span class="line">&#125;;</span><br><span class="line">Circle::Circle(<span class="type">double</span> r) :Shape(r, r)&#123;&#125;</span><br><span class="line"><span class="type">double</span> <span class="title function_">Circle::GetArea</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> (PI*x*x);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">double</span> <span class="title function_">Circle::GetRadius</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span> :</span>public Shape</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">	Rectangle(<span class="type">double</span> l, <span class="type">double</span> w); </span><br><span class="line">	<span class="type">double</span> <span class="title function_">GetArea</span><span class="params">()</span>; </span><br><span class="line">	<span class="type">double</span> <span class="title function_">GetLength</span><span class="params">()</span>; </span><br><span class="line">	<span class="type">double</span> <span class="title function_">GetWidth</span><span class="params">()</span>; </span><br><span class="line">&#125;;</span><br><span class="line">Rectangle::Rectangle(<span class="type">double</span> l, <span class="type">double</span> w) :Shape(l, w)&#123;&#125;</span><br><span class="line"><span class="type">double</span> <span class="title function_">Rectangle::GetArea</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> x*y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">double</span> <span class="title function_">Rectangle::GetLength</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">double</span> <span class="title function_">Rectangle::GetWidth</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> y;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	Circle <span class="title function_">circle</span><span class="params">(<span class="number">1</span>)</span>;</span><br><span class="line">	Rectangle <span class="title function_">rectangle</span><span class="params">(<span class="number">3</span>, <span class="number">4</span>)</span>;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;circle:r = &quot;</span> &lt;&lt; circle.GetRadius() &lt;&lt; <span class="string">&quot;,area = &quot;</span> &lt;&lt; circle.GetArea() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;rectangle:length = &quot;</span> &lt;&lt; rectangle.GetLength() &lt;&lt; <span class="string">&quot;,width = &quot;</span> &lt;&lt;</span><br><span class="line">		rectangle.GetWidth() &lt;&lt; <span class="string">&quot;,area = &quot;</span> &lt;&lt; rectangle.GetArea() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>3.5数据测试<br><img src="http://wx1.sinaimg.cn/mw690/0060lm7Tly1fz78nwbhjmj30mp091q38.jpg"></p>
<hr>
<p>[实习总结]<br>&emsp;&emsp;这次课程设计实习使我收获很多。通过这几天的实习，让我更加深刻了解到了面向对象的应用。这次的课程设计，虽然老师您的要求有很多条件，但是却是让我切实体会到了自己动手的快乐。<br>&emsp;&emsp;要我们自己设计一个管理系统，从定题目，到开始写代码，全部都是自己来。我在开始课程设计前的两周就开始考虑我课设的时候应该做什么内容，想做一般同学都能想到的学生管理系统，但是就怕会有类似的不敢做，冥思苦想了好久,最后才定下的备忘录管理系统,其实所有的管理系统的本质都是一样的， 删， 增， 改， 查，但是，这些东看似简单，做起来却难。<br>&emsp;&emsp;虽然一直在调试,但是始终出现的是主窗体,登陆窗体始终出不来,最后才想起来忘了这个小步骤,但是这也让我明白,上课的点滴小事,也是非常重要的,除了上课认真听讲之外,下课了还得很认真的看代码,把代码的意思弄明白,渐渐的,像数据库里的表怎么设计,怎么连接数据库,按钮怎么设置,还有很多我都能掌握,所以感觉这次课程设计带给我很多。课程设计不仅是检查一个人知识掌握了多少,其实更重要的是检测你的实践能力,以及看你是否细心、是否有缜密的思维,所以,我们要在课下的时候加强锻炼,磨练自己,使自己有更高的提高。<br>&emsp;&emsp;悠悠时光匆匆而逝,转眼间实习已经接近结束了。在实习期间里,我们在于枯燥的程序代码打交道的同时,也一定有一些自己的独特的不一样的收获。犹记得实习前，我在网上查找实习指导资料，一颗带着回家的渴望的心早已经乐开了花。然后是与实习一的接触,那是整个实习过程中第一次让我觉得自己很天真的时刻。实习一内容很少,只是简单地进行数字图像处理,然而实习一中的代码却很多,我并没有一双灵巧的手,于是实习一的代码加编译调试我做了好几天。<br>&emsp;&emsp;在其过程中，我们遇到了很多问题和困难，发现在之前的学习中，所学的东西不能完全掌握。这次实习，是我在学习上的一次考验，让我深深体会到了实训操作的重要性。虽然此次实习已结束，时间不长，但意义很大。它使我了解自己的短处，让我知道要从什么方面对自己进行补充，这对我今后的学习和工作将产生很大的影响。</p>
<hr>
<p>参考文献<br>[1] 罗朝盛. C程序设计实用教程.人民邮电出版社，2005</p>
]]></content>
      <tags>
        <tag>大学</tag>
      </tags>
  </entry>
  <entry>
    <title>软件应用实习报告</title>
    <url>/2019/01/11/%E8%BD%AF%E4%BB%B6%E5%BA%94%E7%94%A8%E5%AE%9E%E4%B9%A0%E6%8A%A5%E5%91%8A/</url>
    <content><![CDATA[<h2 id="软件应用实习报告-python"><a href="#软件应用实习报告-python" class="headerlink" title="软件应用实习报告(python)"></a>软件应用实习报告(python)</h2><p>[实习名称]  软件应用实习<br>[实习地点]  大学理学院机房<br>[实习时间]  第17周-第18周<br>[系统环境]  Windows XP<br>[所用机时]  20学时<br>[实习内容]</p>
<p>1使用Python及pygame</p>
<hr>
<p>1.1    问题概述</p>
<ol>
<li>创建游戏的自定义窗口(大小，颜色，标题)，并运行</li>
<li>创建一个图形或放置一个图片在自定义的窗口上</li>
<li>使创建的图形或放置的图片跟随上下左右移动</li>
</ol>
<hr>
<p>1.2 基本要求<br>创建游戏的自定义窗口(大小，颜色，标题)，并运行<br>创建一个图形或放置一个图片在自定义的窗口上<br>使创建的图形或放置的图片跟随上下左右移动</p>
<hr>
<p>1.3    基本思想<br>先创建一个窗口，自定义大小、颜色、标题。在网上下载一张图片，利用代码将图片导入窗口内，利用键盘触发事件实现图片的上下左右移动</p>
<hr>
<p>1.4 代码实现<br><strong>main_function.py</strong></p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> pygame</span><br><span class="line"><span class="keyword">from</span> setting <span class="keyword">import</span> Setting</span><br><span class="line"><span class="keyword">import</span> game_function <span class="keyword">as</span> gf</span><br><span class="line"><span class="keyword">from</span> image <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main_method</span>():</span><br><span class="line">    pygame.init()</span><br><span class="line">    set_this = Setting()</span><br><span class="line">    screen = pygame.display.set_mode((set_this.width, set_this.height))</span><br><span class="line">    image = Image(screen)</span><br><span class="line">    pygame.display.set_caption(<span class="string">&quot;Like This&quot;</span>)</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        gf.game_method(image)</span><br><span class="line">        gf.updateScreen(screen, set_this, image)</span><br><span class="line"></span><br><span class="line">main_method()</span><br></pre></td></tr></table></figure>
<p><strong>game_function.py</strong></p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> pygame</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">updateScreen</span>(<span class="params">screen, set_this, image</span>):</span><br><span class="line">    screen.fill(set_this.back_color)</span><br><span class="line">    image.draw()</span><br><span class="line">    image.update()</span><br><span class="line">    pygame.display.flip()</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">game_method</span>(<span class="params">image</span>):</span><br><span class="line">    <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get():</span><br><span class="line">        <span class="keyword">if</span> event.<span class="built_in">type</span> == pygame.QUIT:</span><br><span class="line">            sys.exit()</span><br><span class="line">        <span class="keyword">elif</span> event.<span class="built_in">type</span> == pygame.KEYUP:</span><br><span class="line">            checkKeyUp(event, image)</span><br><span class="line">        <span class="keyword">elif</span> event.<span class="built_in">type</span> == pygame.KEYDOWN:</span><br><span class="line">            checkKeyDown(event, image)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">checkKeyDown</span>(<span class="params">event, image</span>):</span><br><span class="line">    <span class="keyword">if</span> event.key == pygame.K_UP:</span><br><span class="line">        image.move_top = <span class="literal">True</span></span><br><span class="line">    <span class="keyword">elif</span> event.key == pygame.K_DOWN:</span><br><span class="line">        image.move_down = <span class="literal">True</span></span><br><span class="line">    <span class="keyword">elif</span> event.key == pygame.K_LEFT:</span><br><span class="line">        image.move_left = <span class="literal">True</span></span><br><span class="line">    <span class="keyword">elif</span> event.key == pygame.K_RIGHT:</span><br><span class="line">        image.move_right = <span class="literal">True</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">checkKeyUp</span>(<span class="params">event, image</span>):</span><br><span class="line">    <span class="keyword">if</span> event.key == pygame.K_UP:</span><br><span class="line">        image.move_top = <span class="literal">False</span></span><br><span class="line">    <span class="keyword">elif</span> event.key == pygame.K_DOWN:</span><br><span class="line">        image.move_down = <span class="literal">False</span></span><br><span class="line">    <span class="keyword">elif</span> event.key == pygame.K_LEFT:</span><br><span class="line">        image.move_left = <span class="literal">False</span></span><br><span class="line">    <span class="keyword">elif</span> event.key == pygame.K_RIGHT:</span><br><span class="line">        image.move_right = <span class="literal">False</span></span><br></pre></td></tr></table></figure>
<p><strong>setting.py</strong></p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Setting</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        self.width = <span class="number">800</span></span><br><span class="line">        self.height = <span class="number">600</span></span><br><span class="line">        self.back_color = (<span class="number">200</span>, <span class="number">100</span>, <span class="number">50</span>)</span><br></pre></td></tr></table></figure>
<p><strong>image.py</strong></p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pygame</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Image</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, screen</span>):</span><br><span class="line">        self.screen = screen</span><br><span class="line">        self.image = pygame.image.load(<span class="string">&quot;picture/1.jpg&quot;</span>)</span><br><span class="line">        self.image = pygame.transform.scale(self.image, (<span class="number">300</span>, <span class="number">300</span>))</span><br><span class="line">        self.image = pygame.transform.rotate(self.image, <span class="number">360</span>)</span><br><span class="line">        self.screen_rect = screen.get_rect()</span><br><span class="line">        self.rect = self.image.get_rect()</span><br><span class="line">        self.rect.center = self.screen_rect.center</span><br><span class="line">        self.move_top = <span class="literal">False</span></span><br><span class="line">        self.move_down = <span class="literal">False</span></span><br><span class="line">        self.move_left = <span class="literal">False</span></span><br><span class="line">        self.move_right = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">draw</span>(<span class="params">self</span>):</span><br><span class="line">        self.screen.blit(self.image, self.rect)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">update</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> self.move_top: self.rect.y -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> self.move_down: self.rect.y += <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> self.move_left:self.rect.x -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> self.move_right: self.rect.x += <span class="number">1</span></span><br></pre></td></tr></table></figure>
<hr>
<p>1.5 数据测试<br><img src="http://wx2.sinaimg.cn/mw690/0060lm7Tly1fz2zumarbvj30e60h90tf.jpg"><br><img src="http://wx2.sinaimg.cn/mw690/0060lm7Tly1fz2zvwr8shj30ey0jqmxv.jpg"><br><img src="http://wx3.sinaimg.cn/mw690/0060lm7Tly1fz2zwigdkoj30f309vq35.jpg"></p>
<hr>
<p>[实习总结]<br>&emsp;&emsp;这次的软件应用实习让我收获到很多。通过这几天的学习，让我了解到了python语言的应用，老师领我们用python语言写了一个小程序，利用键盘的触发事件来实现图片在窗口的左右移动，老师说再加上几行代码，添加一个蛇头，可以制作一个贪吃蛇游戏，其实我在实现图片移动效果时也想到了，但是第一次接触这门语言，还是有许多不懂的地方。<br>&emsp;&emsp;老师说python语言目前很火，许多的程序都是用这种语言来实现的。Python是一种计算机程序设计语言。是一种动态的、面向对象的脚本语言，最初被设计用于编写自动化脚本(shell)，随着版本的不断更新和语言新功能的添加，越来越多被用于独立的、大型项目的开发。老师领着我们找到python的官网，通过python文档对我们进行逐一讲解，让我们更加深刻的了解到了python。<br>&emsp;&emsp;通过这几天的python学习，我的感觉就是这门语言与我们学习的面向对象课程很相似，里面有许多的函数封装和类的定义，还有类似C++里面的工程文件。Python语言是由多个子文件组成，其中有一个是主文件，测试时是在主文件上测试。看老师敲代码的速度，真的是自愧不如。有那么几次，没有跟上老师的进度，以至于之后的一些效果没有实现。有时还经常的出现各种错误，都是老师帮忙解决。软件应用实习，不仅是检查一个人知识掌握了多少,其实更重要的是检测你的实践能力,以及看你是否细心、是否有缜密的思维,所以,我们要在软件应用实习的时候加强锻炼,磨练自己,使自己有更高的提高。<br>&emsp;&emsp;悠悠时光匆匆而逝,转眼间实习已经接近结束了。在实习期间里,我们在于枯燥的程序代码打交道的同时,也一定有一些自己的独特的不一样的收获。 犹记得实习前，我在网上看着的实习指导资料，一颗带着回家的渴望的心早已经乐开了花。然后是与python语言的接触,那是整个实习过程中第一次让我觉得自己很天真的时刻。内容很少,只是简单地进行图片移动,然而实习中的代码却很多,我并没有一双灵巧的手,于是实习代码加运行测试我整整做了三天。<br>&emsp;&emsp;在其过程中，我们遇到了很多问题和困难，发现在之前的学习中，所学的东西不能完全掌握。这次实习，是我在学习上的一次考验，让我深深体会到了实训操作的重要性。虽然此次实习已结束，时间不长，但意义很大。它使我了解自己的短处，让我知道要从什么方面对自己进行补充，这对我今后的学习和工作将产生很大的影响。</p>
<hr>
<p>参考文献</p>
<p>[1] 刘瑜. Python编程从零基础到项目实战.中国水利水电出版社，2018<br>[2] Eric Matthes. Python编程从入门到实践.人民邮电出版社，2016</p>
]]></content>
      <tags>
        <tag>大学</tag>
      </tags>
  </entry>
  <entry>
    <title>家庭经济困难学生认定申请书</title>
    <url>/2019/01/10/%E5%AE%B6%E5%BA%AD%E7%BB%8F%E6%B5%8E%E5%9B%B0%E9%9A%BE%E5%AD%A6%E7%94%9F%E8%AE%A4%E5%AE%9A%E7%94%B3%E8%AF%B7%E4%B9%A6/</url>
    <content><![CDATA[<h2 id="家庭经济困难学生认定申请书"><a href="#家庭经济困难学生认定申请书" class="headerlink" title="家庭经济困难学生认定申请书"></a>家庭经济困难学生认定申请书</h2><p>尊敬的领导、老师：<br>&emsp;&emsp;你们好！<br>&emsp;&emsp;我是理学院信息与计算科学专业17402班的学生。1998年出生于吉林省集安市大路镇正义村的一户农民家庭。对我而言，出于贫困的农村再加上家庭状况的不景气，只有努力读书冲破现状才是唯一的出路。<br>&emsp;&emsp;家中共有五口人，爸爸、妈妈、爷爷、奶奶和我。爷爷奶奶岁数大，母亲也是体弱多病，所以全家的主要经济来源就是靠父亲一人辛苦种田和农闲之时出门给人打工。<br>&emsp;&emsp;爷爷自从前段时间得过皮肤病后，现在又患上了脚气。爷爷岁数大，起初连自己得上脚气都不知道，当父母发现的时候，爷爷的脚气已经很严重了，小医院没有治好，就花钱去大医院治。父母更是到处去寻找治疗脚气的偏方，折腾了几次，已经给父母造成了巨大的负担。奶奶也不让父母省心，经常患病，每年的打针吃药都给父母增添了负担。几天前，奶奶腹痛，痛得睡不着觉，打针吃药治不好，所以去医院做了检查，并且还做了一个小手术，更是用了不少开销。母亲为了减轻家里的负担，常年与父亲一起劳作，也患上了许多病。曾几次，亲眼看到母亲躺在炕上，因腰疼起不来，更是默默地留下了心酸的眼泪。从我进入大学后，家庭生活负担进一步加重，经济上更是雪上加霜，所以在进入大学以后，我都一直坚持努力学习以给父母更好的回报。<br>&emsp;&emsp;我平时生活习惯良好，无不良嗜好，团结同学、乐于助人。大一上半学期结束，因为自己的平时贪玩，使自己在期末考试挂了一科。将这个消息告诉母亲，母亲很是伤心，自己也是。假期发奋图强，在开学初的补考，将此科考了过去。自此我深知挂科的不应该，更是想到父母的伤心，立志以后一定不要挂科。在大学期间，我省吃俭用，化压力为动力，化爱为能量，无时无刻不在努力着，虽然各门功课均没有达到优良水平，但是我会一直努力，向着奖学金迈进。在校期间积极参加学校的各项活动，热心帮助同学。<br>&emsp;&emsp;现如今，党和国家的政策是大力发展教育事业，这让我这样的学生看到了生活的希望。我对党和国家对贫困学生的关心感到感谢。真诚希望领导给我一次机会，我会努力好好学习，争取上进！感谢给位领导老师的培养，衷心的祝愿各位领导、老师身体健康、工作顺利。此文证明本人家境贫困，特此申请贫困资格认定，恳请学校能够批准！<br>&emsp;&emsp;此致<br>&emsp;&emsp;敬礼！</p>
]]></content>
      <tags>
        <tag>大学</tag>
      </tags>
  </entry>
  <entry>
    <title>2017-2018学年总结</title>
    <url>/2019/01/09/2017-2018%E5%AD%A6%E5%B9%B4%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<h2 id="大一学年总结"><a href="#大一学年总结" class="headerlink" title="大一学年总结"></a>大一学年总结</h2><h2 id="学院：理学院-班级：信息17402"><a href="#学院：理学院-班级：信息17402" class="headerlink" title="学院：理学院 班级：信息17402"></a>学院：理学院 班级：信息17402</h2><p><strong>姓名：</strong>&emsp;&emsp;<strong>性别：</strong>&emsp;&emsp;<strong>年龄：</strong>&emsp;&emsp;<strong>职务：</strong></p>
<h3 id="个人总结"><a href="#个人总结" class="headerlink" title="个人总结"></a>个人总结</h3><p>&emsp;&emsp;时光像水中的倒影，一晃一学年已经过去了。昨日那埋怨时间过得太慢的情绪似乎还游移在脑际，而今大二的学习生活已要过半，蓦然回首，感慨颇多。刚迈入大学的时候对一切似乎都充满新鲜感，所对大学的了解仅仅局限于高中老师对大学的一些闲谈。大一上半学期的我在期末考试中挂了一科，我给自己的解释是体验了一把大学生活，没有用心学习。正所谓吃一堑，长一智，大一下半学期的我在学习上花的时间多了，所以没有重蹈覆辙。大一的生活也真是丰富多彩，学院所举办的多项活动都是面向我们大一新生的，在这些活动中让我们收获了许多。由于自己的一些个人原因，许多面向我们大一新生的比赛我几乎都没有参加，即使参加了也没有获得到奖项，这个还真是有些惋惜，因此在大二的学习生活中，一定要抓住各种机遇，多参加些比赛，争取获奖。大一的时光匆匆过去了，大一中的不足在大二中要及时改正，大一中没有完成的任务在大二中及时完成，过好充实的每一天。</p>
<hr>
<p><strong>2018年12月3日</strong></p>
]]></content>
      <tags>
        <tag>大学</tag>
      </tags>
  </entry>
  <entry>
    <title>markdown基本语法（GITHUB+HEXO搭建的博客）</title>
    <url>/2018/10/28/markdown%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95%EF%BC%88GITHUB+HEXO%E6%90%AD%E5%BB%BA%E7%9A%84%E5%8D%9A%E5%AE%A2%EF%BC%89/</url>
    <content><![CDATA[<p>网上有很多markdown语法的文章，详情可以点击简书上的一篇文章<a href="https://www.jianshu.com/p/191d1e21f7ed">markdown基本语法</a><br>以下列出一些常用的markdown语法<br>补充说明：md文件中可以直接使用html标签</p>
<span id="more"></span>
<h1 id="一、标题"><a href="#一、标题" class="headerlink" title="一、标题"></a>一、标题</h1><p>在想要设置为标题的文字前面加#来表示<br>一个#是一级标题，二个#是二级标题，以此类推。支持六级标题。<br>注：标准语法一般在#后跟个空格再写文字<br>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 这是一级标题</span><br><span class="line">## 这是二级标题</span><br><span class="line">### 这是三级标题</span><br><span class="line">#### 这是四级标题</span><br><span class="line">##### 这是五级标题</span><br><span class="line">###### 这是六级标题</span><br></pre></td></tr></table></figure>
<p>效果如下：</p>
<h1 id="这是一级标题"><a href="#这是一级标题" class="headerlink" title="这是一级标题"></a>这是一级标题</h1><h2 id="这是二级标题"><a href="#这是二级标题" class="headerlink" title="这是二级标题"></a>这是二级标题</h2><h3 id="这是三级标题"><a href="#这是三级标题" class="headerlink" title="这是三级标题"></a>这是三级标题</h3><h4 id="这是四级标题"><a href="#这是四级标题" class="headerlink" title="这是四级标题"></a>这是四级标题</h4><h5 id="这是五级标题"><a href="#这是五级标题" class="headerlink" title="这是五级标题"></a>这是五级标题</h5><h6 id="这是六级标题"><a href="#这是六级标题" class="headerlink" title="这是六级标题"></a>这是六级标题</h6><p>从这里的效果可以看出，在这个页面显示与简书的那个不一样，从二级标题开始有分隔线<del>，而且五、六级标题文字大小相同，六级标题是斜体标题</del><br><del>四级标题会将英文小写自动转为大写</del>（css样式问题，已修复）</p>
<h1 id="二、字体"><a href="#二、字体" class="headerlink" title="二、字体"></a>二、字体</h1><ul>
<li>斜体<br>要倾斜的文字左右分别用一个*号包起来</li>
<li>加粗<br>要加粗的文字左右分别用两个*号包起来</li>
<li>斜体加粗<br>要倾斜和加粗的文字左右分别用三个*号包起来</li>
<li>删除线<br>要加删除线的文字左右分别用两个~~号包起来<br>示例：<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">*这是倾斜的文字*</span><br><span class="line">**这是加粗的文字**</span><br><span class="line">***这是斜体加粗的文字***</span><br><span class="line">~~这是加删除线的文字~~</span><br></pre></td></tr></table></figure>
效果如下：</li>
</ul>
<p><em>这是倾斜的文字</em><br><strong>这是加粗的文字</strong><br><strong><em>这是斜体加粗的文字</em></strong><br><del>这是加删除线的文字</del></p>
<h1 id="三、分隔线"><a href="#三、分隔线" class="headerlink" title="三、分隔线"></a>三、分隔线</h1><p>三个或者三个以上的 - 或者 * 都可以。<br>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">----</span><br><span class="line">***</span><br><span class="line">*****</span><br></pre></td></tr></table></figure>
<p>效果如下：</p>
<hr>
<hr>
<hr>
<hr>
<p>可以看到，显示效果是一样的。<br>补充一下，在我的文章里经常出现more的选项，这个代码其实很简单。<br>示例如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!--more--&gt;</span><br></pre></td></tr></table></figure>
<p>效果无法展示~</p>
<h1 id="四、图片"><a href="#四、图片" class="headerlink" title="四、图片"></a>四、图片</h1><p>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">![图片alt](图片地址 &#x27;&#x27;图片title&#x27;&#x27;)</span><br><span class="line">第一个图片alt就是显示在图片下面的文字，相当于对图片内容的解释。（图片加载失败后的提示文字）</span><br><span class="line">第二个图片title是图片的标题，当鼠标移到图片上时显示的内容。title可加可不加</span><br></pre></td></tr></table></figure>
<p>注意：图片路径中不可以出现空格字符，在hexo4.0版本中图片显示不出来<br>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">![blockchain](https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=702257389,1274025419&amp;fm=27&amp;gp=0.jpg &quot;区块链&quot;)</span><br></pre></td></tr></table></figure>
<p>效果如下：<br><img src="https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=702257389,1274025419&fm=27&gp=0.jpg" alt="blockchain" title="区块链"><br>与简书的那个页面对比可以知道blockchain在图片下面是不能显示的（图片加载失败会显示），所以在这里面的语法可以简写如下</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">![](图片地址 &quot;图片title&quot;)</span><br><span class="line">title可加可不加</span><br></pre></td></tr></table></figure>
<p>补充：上传本地图片，推荐一个网站，点击<a href="https://pic.xiaojianjian.net/">小贱贱图床</a><br>在这个网站可以免费上传自己的图片，也可以直接在百度上搜索图床，会出现很多的相关网站</p>
<h2 id="两张图片在一行显示"><a href="#两张图片在一行显示" class="headerlink" title="两张图片在一行显示"></a>两张图片在一行显示</h2><p>语法：<br>markdown语法其实就是简化版html代码，直接用div和img标签控制两张图片在一行显示<br>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;&lt;img width=50% src =&quot;https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/</span><br><span class="line">u=702257389,1274025419&amp;fm=27&amp;gp=0.jpg&quot;/&gt;&lt;img width=50% src =&quot;https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/</span><br><span class="line">u=702257389,1274025419&amp;fm=27&amp;gp=0.jpg&quot;/&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>效果如下：</p>
<div><img width=50% src ="https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/
u=702257389,1274025419&fm=27&gp=0.jpg"/><img width=50% src ="https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/
u=702257389,1274025419&fm=27&gp=0.jpg"/></div>

<h2 id="图片居中显示"><a href="#图片居中显示" class="headerlink" title="图片居中显示"></a>图片居中显示</h2><p>语法：<br>运用div标签控制图片居中显示<br>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div align=&quot;center&quot;&gt;&lt;img src=&quot;https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/</span><br><span class="line">u=702257389,1274025419&amp;fm=27&amp;gp=0.jpg&quot; /&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>效果如下：</p>
<div align="center"><img src="https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/
u=702257389,1274025419&fm=27&gp=0.jpg" /></div>

<h1 id="五、网站链接"><a href="#五、网站链接" class="headerlink" title="五、网站链接"></a>五、网站链接</h1><p>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[网站名](网站链接地址 &quot;网站title&quot;)</span><br><span class="line">title即鼠标悬停显示title,可加可不加，网站是在新页面打开</span><br></pre></td></tr></table></figure>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[百度](https://www.baidu.com &quot;百度&quot;)</span><br><span class="line">[歌曲大全-音乐聚合搜索引擎](http://www.gequdaquan.net/gqss/)</span><br></pre></td></tr></table></figure>
<p>效果如下：<br><a href="https://www.baidu.com/" title="百度">百度</a><br><a href="http://www.gequdaquan.net/gqss/">歌曲大全-音乐聚合搜索引擎</a></p>
<h1 id="六、列表"><a href="#六、列表" class="headerlink" title="六、列表"></a>六、列表</h1><p><strong>无序列表</strong></p>
<p>语法：<br>无序列表用 - + * 任何一种都可以</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">- 列表内容</span><br><span class="line">+ 列表内容</span><br><span class="line">* 列表内容</span><br><span class="line">注意：- + * 跟内容之间都要有一个空格</span><br></pre></td></tr></table></figure>
<p>效果如下：</p>
<ul>
<li>列表内容</li>
</ul>
<ul>
<li>列表内容</li>
</ul>
<ul>
<li>列表内容</li>
</ul>
<p><strong>有序列表</strong><br>语法：<br>数字加点<br>注：序列.后保持空格</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 列表内容</span><br><span class="line">2. 列表内容</span><br><span class="line">3. 列表内容</span><br></pre></td></tr></table></figure>
<p>效果如下：</p>
<ol>
<li>列表内容</li>
<li>列表内容</li>
<li>列表内容</li>
</ol>
<p><strong>序表嵌套</strong><br>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. one</span><br><span class="line">    1. one-1</span><br><span class="line">    2. one-2</span><br><span class="line">2. two </span><br><span class="line">    * two-1</span><br><span class="line">    * two-2</span><br></pre></td></tr></table></figure>
<p>效果如下：</p>
<ol>
<li>one<ol>
<li>one-1</li>
<li>one-2</li>
</ol>
</li>
<li>two <ul>
<li>two-1</li>
<li>two-2</li>
</ul>
</li>
</ol>
<hr>
<p>补充说明：<br><del>当有序列表嵌套无序列表时，无序列表占用有序列表一个数字</del>（css样式问题，已修复）<br>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. one</span><br><span class="line">    * one-1</span><br><span class="line">    * one-2</span><br><span class="line">2. two</span><br></pre></td></tr></table></figure>
<p>效果如下：</p>
<ol>
<li>one<ul>
<li>one-1</li>
<li>one-2</li>
</ul>
</li>
<li>two</li>
</ol>
<p><del>从中可以看出，有序列表<code>2. two</code>变为了<code>4. two</code>，嵌套了两个无序列表，占用了两个数字。</del>有序列表嵌套有序列表没有此影响。</p>
<h1 id="七、引用"><a href="#七、引用" class="headerlink" title="七、引用"></a>七、引用</h1><p><strong>文字引用</strong><br>在引用的文字前加&gt;即可。引用也可以嵌套，如加两个&gt;&gt;三个&gt;&gt;&gt;<br>n个…<br>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&gt;这是引用的内容</span><br><span class="line">&gt;&gt;这是引用的内容</span><br><span class="line">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;这是引用的内容</span><br></pre></td></tr></table></figure>
<p>效果如下：</p>
<blockquote>
<p>这是引用的内容</p>
<blockquote>
<p>这是引用的内容</p>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>这是引用的内容</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p><strong>代码引用</strong></p>
<ul>
<li>代码块<br>语法：代码块开头结尾加三个反引号<br>示例：<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">```</span><br><span class="line">&lt;div&gt;   </span><br><span class="line">    &lt;div&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">``` </span><br></pre></td></tr></table></figure>
效果如下：<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;   </span><br><span class="line">    &lt;div&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></li>
<li>单行代码<br>语法：<br>单行代码：代码之间分别用一个反引号包起来<br>示例:<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">`&lt;div&gt;&lt;/div&gt;`</span><br></pre></td></tr></table></figure>
效果如下：<br><code>&lt;div&gt;&lt;/div&gt;</code><br>总结：在这个页面上有的语法预览与简书页面不同，相同的标签在不同的主题中也不一样（主题中对标签样式进行了定制）。创建这个页面发现了一个问题，在多次应用三个反引号语法时，如果出现两个内容连在了一起，这个可能需要换行解决。<br>以上是我经常写文章所应用的语法，不是很全，后续可能还会更新</li>
</ul>
<hr>
<h1 id="八、文字"><a href="#八、文字" class="headerlink" title="八、文字"></a>八、文字</h1><h2 id="文字首行缩进"><a href="#文字首行缩进" class="headerlink" title="文字首行缩进"></a>文字首行缩进</h2><p>中文缩进：一个<code>&amp;emsp;</code>缩进一个文字（貌似不推荐使用）<br>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&amp;emsp;&amp;emsp;你好！</span><br></pre></td></tr></table></figure>
<p>效果如下：<br>&emsp;&emsp;你好！</p>
<h2 id="文字居中"><a href="#文字居中" class="headerlink" title="文字居中"></a>文字居中</h2><p>语法：<br>运用center标签<br>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;center&gt;这是居中的文字&lt;/center&gt;</span><br></pre></td></tr></table></figure>
<p>效果如下：</p>
<center>这是居中的文字</center>

<h2 id="文字颜色"><a href="#文字颜色" class="headerlink" title="文字颜色"></a>文字颜色</h2><p>语法：<br>运用font标签<br>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;font color=&#x27;red&#x27;&gt;红色文字&lt;/font&gt;</span><br></pre></td></tr></table></figure>
<p>效果如下：<br><font color=red>红色文字</font></p>
<h1 id="九、表格"><a href="#九、表格" class="headerlink" title="九、表格"></a>九、表格</h1><p><code>-:</code>设置内容和标题栏居右对齐。<br><code>:-</code>设置内容和标题栏居左对齐。<br><code>:-:</code>设置内容和标题栏居中对齐。<br>代码：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">|名|类型|长度|</span><br><span class="line">|:-:|:-:|:-:|</span><br><span class="line">|id|int|11|</span><br><span class="line">|name|varchar|255|</span><br><span class="line">|value|int|11|</span><br></pre></td></tr></table></figure>
<p>注：若出现的是代码，在代码上面加上<strong>分隔线</strong>字符（或换行）<br>效果如下：</p>
<table>
<thead>
<tr>
<th align="center">名</th>
<th align="center">类型</th>
<th align="center">长度</th>
</tr>
</thead>
<tbody><tr>
<td align="center">id</td>
<td align="center">int</td>
<td align="center">11</td>
</tr>
<tr>
<td align="center">name</td>
<td align="center">varchar</td>
<td align="center">255</td>
</tr>
<tr>
<td align="center">value</td>
<td align="center">int</td>
<td align="center">11</td>
</tr>
</tbody></table>
<p><strong>好啦，本篇文章到此就结束啦，不定期更新~</strong></p>
]]></content>
      <tags>
        <tag>博客</tag>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>GITHUB+HEXO搭建个人博客</title>
    <url>/2018/09/22/GITHUB+HEXO%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/</url>
    <content><![CDATA[<p>本篇文章已于2022/7/30再次校对。<br>本篇文章介绍<strong>GITHUB+HEXO搭建个人博客</strong>的方法，讲述如何创建GitHub账户，通过hexo在GitHub上搭建个人博客以及如何通过GitHub分支实现本地博客备份至GitHub等。文章讲述可能较为详细，可以通过目录快速定位到自己需要的部分，本篇文章适合新手阅读。<br>注：这篇文章是自己对<strong>GITHUB+HEXO搭建个人博客</strong>的总结，当你看到这篇文章时，也就意味着之前关于<strong>GITHUB+HEXO搭建个人博客</strong>的多篇文章已被删除。<br>文章里建议参看的文章，如果没有链接，可以在站点的所有文章中查找。</p>
<span id="more"></span>
<p>快速导航（建议通过目录跳转，目录位置：页面右下角）：<br><a href="#%E5%8D%9A%E5%AE%A2%E7%AE%80%E4%BB%8B">博客简介</a><br><a href="#%E9%9C%80%E8%A6%81%E5%87%86%E5%A4%87%E7%9A%84%E8%BD%AF%E4%BB%B6">需要准备的软件</a><br><a href="#%E5%AE%89%E8%A3%85Hexo">安装Hexo</a><br><a href="#%E5%BB%BA%E7%AB%99">建站</a><br><a href="#%E5%88%9B%E5%BB%BAGitHub%E8%B4%A6%E6%88%B7">创建GitHub账户</a><br><a href="#%E9%85%8D%E7%BD%AE_config.yml%E6%96%87%E4%BB%B6">配置_config.yml文件</a><br><a href="#%E9%85%8D%E7%BD%AE%E6%9C%AC%E5%9C%B0blog%E6%96%87%E4%BB%B6%E5%A4%B9">配置本地blog文件夹</a><br><a href="#%E5%8D%9A%E5%AE%A2%E6%96%B0%E5%BB%BA%E6%96%87%E7%AB%A0">博客新建文章</a><br><a href="#%E5%8D%9A%E5%AE%A2%E6%9B%B4%E6%8D%A2%E4%B8%BB%E9%A2%98">博客更换主题</a><br><a href="#hexo%E6%9C%80%E5%B8%B8%E7%94%A8%E7%9A%84%E5%87%A0%E4%B8%AA%E5%91%BD%E4%BB%A4">hexo最常用的几个命令</a><br><a href="#%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E5%A4%87%E4%BB%BD">个人博客备份</a><br><a href="#%E5%8D%9A%E5%AE%A2%E5%A4%87%E4%BB%BD%E5%AF%BC%E5%85%A5%E6%9C%AC%E5%9C%B0">博客备份导入本地</a></p>
<h2 id="博客简介"><a href="#博客简介" class="headerlink" title="博客简介"></a>博客简介</h2><p>百度百科截取</p>
<blockquote>
<p>博客，仅音译，英文名为Blogger，为Web Log的混成词。它的正式名称为网络日记；又音译为部落格或部落阁等，是使用特定的软件，在网络上出版、发表和张贴个人文章的人，或者是一种通常由个人管理、不定期张贴新的文章的网站。博客上的文章通常以网页形式出现，并根据张贴时间，以倒序排列。通常具备RSS订阅功能。博客是继MSN、BBS、ICQ之后出现的第4种网络交流方式，现已受到大家的欢迎，是网络时代的个人“读者文摘”，是以超级链接为入口的网络日记，它代表着新的生活、工作和学习方式。许多博客专注在特定的课题上提供评论或新闻，其他则被作为个人性的日记。一个典型的博客结合了文字、图像、其他博客或网站的链接及其它与主题相关的媒体，能够让读者以互动的方式留下意见，是许多博客的重要要素。大部分的博客内容以文字为主，但仍有一些博客专注在艺术、摄影、视频、音乐、播客等各种主题。博客是社会媒体网络的一部分。比较著名的有新浪等博客。</p>
</blockquote>
<h3 id="为什么用GITHUB-HEXO搭建个人博客"><a href="#为什么用GITHUB-HEXO搭建个人博客" class="headerlink" title="为什么用GITHUB+HEXO搭建个人博客"></a>为什么用GITHUB+HEXO搭建个人博客</h3><p>首先，GitHub和hexo都是免费的，其次，GitHub是微软旗下的一个面向开源及私有软件项目的托管平台，几乎可以在上面发布任何信息（自己理解）。虽然优点很多，但是难免会有缺点：<br>1.GitHub托管的个人博客，百度搜索引擎无法抓取<br>2.个人博客访问速度可能较慢。<del>可以参看 <strong>jsdelivr加速博客静态资源（已失效）</strong></del></p>
<h2 id="需要准备的软件"><a href="#需要准备的软件" class="headerlink" title="需要准备的软件"></a>需要准备的软件</h2><p>参看自己的操作系统，安装相应版本</p>
<h3 id="Node-js和Git"><a href="#Node-js和Git" class="headerlink" title="Node.js和Git"></a>Node.js和Git</h3><p><strong>GITHUB+HEXO搭建个人博客</strong>必须的两个软件，安装路径自定义，以下为Windows版本官方下载地址</p>
<ul>
<li><a href="https://nodejs.org/zh-cn/download/">Node.js</a></li>
<li><a href="https://git-scm.com/downloads">Git</a></li>
</ul>
<p>Git 安装时请勾选 <strong>git bash here</strong></p>
<blockquote>
<p><strong>Windows 用户</strong><br>对于中国大陆地区用户，可以前往 <a href="https://npm.taobao.org/mirrors/git-for-windows/">淘宝 Git for Windows 镜像</a> 下载 git 安装包。</p>
</blockquote>
<p>Node.js 为大多数平台提供了官方的 安装程序。对于中国大陆地区用户，可以前往 <a href="https://npm.taobao.org/mirrors/node">淘宝 Node.js 镜像</a> 下载。</p>
<blockquote>
<p>使用 Node.js 官方安装程序时，请确保勾选 <strong>Add to PATH</strong> 选项（默认已勾选）。</p>
</blockquote>
<h3 id="代码编译软件（可选的）"><a href="#代码编译软件（可选的）" class="headerlink" title="代码编译软件（可选的）"></a>代码编译软件（可选的）</h3><p>简言之，就是写博客的软件，这里推荐使用 <strong>Visual Studio Code</strong> ，以下为 <strong>Visual Studio Code</strong> 官方下载地址<br><a href="https://code.visualstudio.com/Download">Visual Studio Code</a><br>安装时提示是否创建快捷方式、图标的选项，最好都选上</p>
<h3 id="前期准备"><a href="#前期准备" class="headerlink" title="前期准备"></a>前期准备</h3><p>在目标盘符下新建一个名为<strong>blog</strong>的文件夹（文件夹名任意，最好是英文名），用于存放本地博客文件</p>
<p>ps：网上有很多用GITHUB+HEXO搭建个人博客的方法，具体可点击<a href="https://liulu1990.github.io/2018/09/02/hexo+github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/">hexo+github如何搭建博客</a></p>
<h2 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h2><p>所有必备的应用程序安装完成后，即可使用 npm 安装 Hexo。<br>右键任意位置选择<strong>git bash here</strong>输入以下命令，注意：只有这里可以是任意位置右键，其余均需要在blog文件夹（存放本地博客文件的文件夹）右键：<br>其中：命令的第一条是可选的：配置npm使用淘宝镜像，简言之，就是提高下载速度</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br><span class="line">$ npm install -g hexo-cli</span><br></pre></td></tr></table></figure>
<p>注：只需要安装hexo-cli即可，在执行<code>hexo init blog</code>和<code>npm install</code>的时候，<code>hexo-cli</code>是会自动安装hexo到博客的node_modules目录下的。当然，你也可以直接输入命令<br><code>npm install -g hexo</code> ——全局安装hexo</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo -v</span><br></pre></td></tr></table></figure>
<p>检测hexo是否安装成功，出现版本号表明成功安装</p>
<h3 id="Node-js-版本限制"><a href="#Node-js-版本限制" class="headerlink" title="Node.js 版本限制"></a>Node.js 版本限制</h3><p>Hexo 强烈建议永远安装最新版本的 Hexo，以及 推荐的 Node.js 版本。</p>
<h2 id="建站"><a href="#建站" class="headerlink" title="建站"></a>建站</h2><p>安装 Hexo 完成后，找到自己创建的blog文件夹，右键选择 <strong>git bash here</strong> 输入以下命令，Hexo 将会在指定文件夹中新建所需要的文件。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo init</span><br><span class="line">$ npm install</span><br></pre></td></tr></table></figure>
<p>新建完成后，blog文件夹的目录如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">.</span><br><span class="line">├── _config.yml</span><br><span class="line">├── package.json</span><br><span class="line">├── scaffolds</span><br><span class="line">├── source</span><br><span class="line">|   ├── _drafts</span><br><span class="line">|   └── _posts</span><br><span class="line">└── themes</span><br></pre></td></tr></table></figure>
<p><strong>_config.yml</strong><br>网站的配置信息，您可以在此配置大部分的参数。<br><strong>package.json</strong><br>应用程序的信息。EJS, Stylus 和 Markdown renderer 已默认安装，您可以自由移除。<br><strong>scaffolds</strong><br>模版文件夹。当您新建文章时，Hexo 会根据 scaffold 来建立文件。<br>Hexo的模板是指在新建的文章文件中默认填充的内容。例如，如果您修改scaffold/post.md中的Front-matter内容，那么每次新建一篇文章时都会包含这个修改。<br><strong>source</strong><br>资源文件夹是存放用户资源的地方。除 <code>_posts</code> 文件夹之外，开头命名为 <code>_</code> (下划线)的文件 / 文件夹和隐藏的文件将会被忽略。Markdown 和 HTML 文件会被解析并放到 <code>public</code> 文件夹，而其他文件会被拷贝过去。<br><strong>themes</strong><br>主题文件夹。Hexo 会根据主题来生成静态页面。<br>执行以下命令，启用hexo服务，预览博客效果</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo server</span><br></pre></td></tr></table></figure>
<p>简写为<code>hexo s</code>，hexo本地服务启动后，在浏览器端输入localhost:4000即可查看效果<br>ctrl+c 可结束hexo本地服务（git窗口中有提示）<br>说明：hexo服务默认端口为4000，如果被占用，请自行在百度里搜索相关解决办法。浏览器端输入localhost:4000，访问后会出现博客初始化效果，ctrl+c结束本地服务后（需要在git窗口中执行），localhost:4000无法访问<br>友情提示：hexo命令以及介绍参看hexo官方文档：<a href="https://hexo.io/zh-cn/docs/">https://hexo.io/zh-cn/docs/</a></p>
<h2 id="创建GitHub账户"><a href="#创建GitHub账户" class="headerlink" title="创建GitHub账户"></a>创建GitHub账户</h2><p>既然是在GitHub上托管自己的博客，当然需要有一个GitHub账户<br>进入GitHub网站创建账户，点击<a href="https://github.com/">github</a>，记住自己的用户名和邮箱，下面需要用到<br>GitHub在国内可以访问，如不能访问，可以参看站点文章 <strong>电脑无法访问GitHub解决办法</strong></p>
<h3 id="创建repository"><a href="#创建repository" class="headerlink" title="创建repository"></a>创建repository</h3><p>登录github：<a href="https://github.com/login">https://github.com/login</a><br>单击<strong>Create repository</strong>创建一个repository，<strong>Repository name</strong>输入<code>yourname</code>+<code>.github.io</code>，yourname为Owner名<br>下面的创建选项根据自己需要进行选择，也可以不动，直接创建，切记不要选择Private（私有的）</p>
<h3 id="本地创建ssh-key"><a href="#本地创建ssh-key" class="headerlink" title="本地创建ssh key"></a>本地创建ssh key</h3><p>git中输入以下命令，在本地创建<strong>ssh key</strong>，<strong><a href="mailto:&#121;&#111;&#x75;&#x72;&#x5f;&#x65;&#x6d;&#x61;&#105;&#x6c;&#64;&#121;&#x6f;&#117;&#114;&#101;&#x6d;&#97;&#x69;&#x6c;&#x2e;&#x63;&#x6f;&#109;">&#121;&#111;&#x75;&#x72;&#x5f;&#x65;&#x6d;&#x61;&#105;&#x6c;&#64;&#121;&#x6f;&#117;&#114;&#101;&#x6d;&#97;&#x69;&#x6c;&#x2e;&#x63;&#x6f;&#109;</a></strong>为GitHub创建时用的邮箱</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -C <span class="string">&quot;your_email@youremail.com&quot;</span></span><br></pre></td></tr></table></figure>
<p>回车后出现如下提示：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -C&quot;your_email@youremail.com&quot;</span><br><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file in which to save the key (/c/Users/Admin/.ssh/id_rsa):</span><br></pre></td></tr></table></figure>
<p>直接点回车，说明会在默认文件id_rsa上生成ssh key。 </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Enter passphrase (empty for no passphrase):</span><br></pre></td></tr></table></figure>
<p>系统要求输入密码，直接按回车表示不设密码。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Enter same passphrase again:</span><br></pre></td></tr></table></figure>
<p>重复密码时也是直接回车，之后提示你<strong>shh key</strong>已经生成成功。</p>
<h3 id="添加key到github网站"><a href="#添加key到github网站" class="headerlink" title="添加key到github网站"></a>添加key到github网站</h3><p>文件资源管理器定位文件C:/Users/yourname/.ssh，yourname为当前计算机用户名<br>可以看到两个文件，扩展名可能需要在文件资源管理器中手动将其显示，这里只需要 <code>id_rsa.pub</code></p>
<ul>
<li><code>id_rsa</code>(您的标识)</li>
<li><code>id_rsa.pub</code>(您的公钥)</li>
</ul>
<p>用编译器打开<code>id_rsa.pub</code>，复制里面的内容<br>进入GitHub网站，在GitHub网站中找到Settings（单击用户头像）。设置里找到<strong>SSH and GPG keys</strong>，进入点击<strong>New SSH key</strong>，title任意，key输入自己刚才复制的id_rsa.pub内容，之后保存。保存成功后会向邮箱发送提醒</p>
<h2 id="配置-config-yml文件"><a href="#配置-config-yml文件" class="headerlink" title="配置_config.yml文件"></a>配置_config.yml文件</h2><p>blog文件夹被hexo初始化后，根目录下创建的<code>_config.yml</code>文件为hexo站点配置文件<br>注意：修改hexo站点配置文件，需要重启hexo服务才会生效<br>本文基于hexo5.0站点配置文件进行简单的说明，不同版本hexo站点配置文件会有差异<br>具体可以参看hexo官方文档：<a href="https://hexo.io/zh-cn/docs/configuration">https://hexo.io/zh-cn/docs/configuration</a><br>下面简单介绍需要修改的内容</p>
<h3 id="需要修改的内容"><a href="#需要修改的内容" class="headerlink" title="需要修改的内容"></a>需要修改的内容</h3><p>下记使用默认值的项目可自行参照hexo官方文档按需修改。</p>
<p><strong>Site</strong></p>
<ul>
<li><code>title</code> hexo站点标题，即播客主页title标签内容改成自己想设的内容即可。</li>
<li><code>description</code>、<code>keywords</code> 网站的描述和关键字，主要用于SEO，告诉搜索引擎一个关于您站点的简单描述</li>
<li><code>author</code> 站点作者</li>
<li><code>language</code> 站点语言，很重要，不修改访问站点会提示翻译中文。中文常见的有 zh-Hans和 zh-CN。</li>
</ul>
<p>其余不需要修改</p>
<p><strong>URL</strong></p>
<ul>
<li><code>url</code> url修改为自己站点地址，github为<code>https://yourname.github.io</code>，yourname为GitHub用户名</li>
</ul>
<p>其余可不修改</p>
<p><strong>Directory</strong></p>
<p>使用默认值即可</p>
<p><strong>Writing</strong></p>
<ul>
<li><code>post_asset_folder</code> 生成文章对应文件夹，引用本地资源请开启此项</li>
<li><code>external_link.enable</code> 是否在新窗口打开链接，默认为true（文章中引用的链接），按需要更改</li>
<li><code>highlight.line_number</code> 代码区块是否有行号，启用与不启用代码块的层级结构会有所不同</li>
</ul>
<p>其余不需要修改</p>
<p><strong>Home page setting</strong></p>
<p>使用默认值即可</p>
<p><strong>Category &amp; Tag</strong></p>
<p>使用默认值即可</p>
<p><strong>Metadata elements</strong></p>
<p>使用默认值即可</p>
<p><strong>Date / Time format</strong></p>
<ul>
<li><code>updated_option</code> Git 管理站点，请设置为<code>date</code><blockquote>
<p><strong>updated_option</strong><br><code>updated_option</code> 控制了当 <code>Front Matter</code> 中没有指定 <code>updated</code> 时，<code>updated</code> 如何取值：</p>
<ul>
<li><code>mtime</code>: 使用文件的最后修改时间。这是从 Hexo 3.0.0 开始的默认行为。</li>
<li><code>date</code>: 使用 <code>date</code> 作为 <code>updated</code> 的值。可被用于 Git 工作流之中，因为使用 Git 管理站点时，文件的最后修改日期常常会发生改变</li>
<li><code>empty</code>: 直接删除 <code>updated</code>。使用这一选项可能会导致大部分主题和插件无法正常工作。</li>
</ul>
</blockquote>
</li>
</ul>
<p><strong>Pagination</strong></p>
<p>使用默认值即可</p>
<p><strong>Include / Exclude file(s)</strong></p>
<p>使用默认值即可</p>
<p><strong>Extensions</strong></p>
<ul>
<li><code>theme</code> 主题配置，修改成自己所使用的主题，下面有详细说明</li>
</ul>
<p><strong>Deployment</strong></p>
<p>部署部分的设置，下面有详细说明</p>
<h2 id="配置本地blog文件夹"><a href="#配置本地blog文件夹" class="headerlink" title="配置本地blog文件夹"></a>配置本地blog文件夹</h2><p>用编译软件打开blog文件夹，在根目录中找到<code>_config.yml</code><br>用编译软件打开，在里面找到deploy，修改为如下模式，yourname改为Owner名</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: git@github.com:yourname/yourname.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>
<p>blog文件夹，右键打开选择<strong>git bash here</strong>输入以下命令：<br>1.<code>git config --global user.email &quot;you@example.com&quot;</code> ——git确认信息，<a href="mailto:&#x79;&#x6f;&#117;&#x40;&#101;&#120;&#x61;&#x6d;&#112;&#108;&#101;&#x2e;&#99;&#111;&#x6d;">&#x79;&#x6f;&#117;&#x40;&#101;&#120;&#x61;&#x6d;&#112;&#108;&#101;&#x2e;&#99;&#111;&#x6d;</a>为注册GitHub所用邮箱<br>2.<code>git config --global user.name &quot;Your Name&quot;</code> ——git确认信息，Your Name为注册GitHub用户名<br>3.<code>npm install hexo-deployer-git --save</code> ——安装hexo-deployer-git插件，在hexo初始化生成的<strong>package.json</strong>文件中，如果有此插件，无需再次安装<br>4.<code>hexo g</code> ——生成静态文件<br>5.<code>hexo d</code> ——部署网站，需要安装hexo-deployer-git插件使用<br>正常情况会弹出一个<code>OpenSSH</code>对话框进行警告，输入<code>yes</code>点击<code>ok</code>，也有可能直接在窗口提示<code>Are you sure you want to continue connecting</code>，取决于安装的git版本<br>最后在浏览器输入：<code>https://yourname.github.io</code>，yourname为GitHub用户名<br>可以访问表明GITHUB+HEXO搭建个人博客完成<br>注：如果本地blog文件夹内容部署不了，需要从<strong>本地创建ssh key</strong>重新开始。</p>
<h2 id="博客新建文章"><a href="#博客新建文章" class="headerlink" title="博客新建文章"></a>博客新建文章</h2><p>上面介绍了如何搭建博客，既然博客搭建完成，那就需要开始写文章了<br>找到blog文件夹，右键<strong>git bash here</strong>输入<br>1.<code>hexo new &quot;example&quot;</code>——创建文章，example为文章名<br>git中一会儿会提示<code>INFO  Created: 路径\blog\source\_posts\example.md</code>，路径为自己blog文件夹所在路径<br>2.用编译器在相应的文件中进行书写保存（.md是支持markdown语法的文件，需要用markdown语法进行书写），参看 <strong>markdown基本语法（GITHUB+HEXO搭建的博客）</strong><br>写完后 在编译器中保存<br>3.在git中输入<code>hexo s</code>进行本地预览，通过访问localhost:4000查看，本地没有问题后，部署网站</p>
<h3 id="部署网站"><a href="#部署网站" class="headerlink" title="部署网站"></a>部署网站</h3><p>blog文件夹，右键<strong>git bash here</strong>输入<br>1.<code>hexo g</code> ——生成静态文件<br>2.<code>hexo d</code> ——将本地生成的静态文件部署到网站<br>上面两个命令可以简记为一个命令<br><code>hexo g -d</code> ——先生成静态文件，之后部署网站</p>
<h2 id="博客更换主题"><a href="#博客更换主题" class="headerlink" title="博客更换主题"></a>博客更换主题</h2><p>好的博客当然需要一个好的主题来衬托</p>
<h3 id="选一个好的主题"><a href="#选一个好的主题" class="headerlink" title="选一个好的主题"></a>选一个好的主题</h3><p>好的主题有很多，比方说看看这篇知乎的文章：<a href="https://www.zhihu.com/question/24422335">有哪些好看的hexo主题</a><br>HEXO主题官方网站：<a href="https://hexo.io/themes/">https://hexo.io/themes/</a><br>我们就以yilia主题为例来美化我们的博客吧！(因为我用的就是这个)<br>1.首先进入HEXO主题官方网站或知乎文章，点击相应的主题，进入GitHub项目页面，点击<strong>Clone or download</strong>选择<strong>Download ZIP</strong>下载后解压<br>如果你认为下载速度很慢，可以参看下面的<strong>博客备份导入本地&gt;新电脑&gt;云端备份导入本地&gt;快速下载GitHub文件的方法</strong>，可以通过目录快速跳转，里面有介绍方法<br>2.进入自己搭建博客的本地blog文件夹，将自己的解压后的文件夹复制到themes文件夹内，在此文件夹里你应该看到的是hexo-theme-yilia-master(可以将此文件夹重命名为yilia)和landscape（hexo初始化主题）</p>
<h3 id="安装主题"><a href="#安装主题" class="headerlink" title="安装主题"></a>安装主题</h3><p>1.首先我们要修改博客的配置文件_config.yml（注意，是整个博客的配置文件，也就是博客blog目录下的_config.yml。由于主题中也含有_config.yml，所以在这里进行区分。）<br>2.用编译软件打开自己博客的本地文件夹，在文件夹根目录下找到_config.yml。<br>3.在_config.yml中找到theme选项，将原来的landscape删掉，改为yilia，然后保存即可。<br>完成之后主题就可以用啦，是不是有些迫不及待。正巧我们应该做一些本地测试来看看主题是否完备。话不多说，开始吧。<br>4.选中自己博客的本地文件夹，如果没改的话，应该是blog，右键<strong>git bash here</strong><br>5.在git中输入<code>hexo s</code>回车<br>在本地浏览器输入相应的网址，观察一下效果，如果成功，那就差最后一步了</p>
<h3 id="更换主题可能遇到的问题"><a href="#更换主题可能遇到的问题" class="headerlink" title="更换主题可能遇到的问题"></a>更换主题可能遇到的问题</h3><p>这里分享自己遇到的两个问题，看看有没有遇到</p>
<h4 id="切换主题不生效"><a href="#切换主题不生效" class="headerlink" title="切换主题不生效"></a>切换主题不生效</h4><p>修改_config.yml文件并保存后，浏览器刷新页面发现主题没换，还是之前的主题。<br>出现这种情况，很有可能是自己在开启hexo服务的情况下更换的主题，所以ctrl+c结束服务，<code>hexo s</code>启动服务，即重启hexo服务再试一下</p>
<h4 id="切换主题不显示"><a href="#切换主题不显示" class="headerlink" title="切换主题不显示"></a>切换主题不显示</h4><p>这个问题跟上面那个问题不一样，这个问题的前提是主题切换成功了，在浏览器中出现</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">extends includes/layout.pug block content include ./includes/mixins/post-ui.pug #recent-posts.recent-posts +postUI include includes/pagination.pug</span><br></pre></td></tr></table></figure>
<p>其实出现这个问题，是因为hexo缺少这个主题所需要的插件，git中输入命令<br><code>npm install hexo-renderer-pug hexo-renderer-stylus</code><br>安装成功后，启动服务再试试</p>
<h3 id="主题自定义修改"><a href="#主题自定义修改" class="headerlink" title="主题自定义修改"></a>主题自定义修改</h3><p>网上下载的主题都是开源的，意味着自己可以根据需要进行修改，有的需求可以在主题配置文件_config.yml中修改。<br>踩了这么多坑，目前发现主题大多是用两种模板开发，一种是ejs，另一种就是pug（参看主题layout文件夹中文件的扩展名）<br>ejs扩展名的主题，只要自己有接触过java和html，应该都能看懂，想夸张修改也就不成问题<br>pug扩展名的主题，可能需要安装插件才能使用，这种主题，也就修改修改样式吧</p>
<h3 id="主题上传到云端"><a href="#主题上传到云端" class="headerlink" title="主题上传到云端"></a>主题上传到云端</h3><p>1.没问题的话，按照yilia的官方指导教程，我们顺便修改一下站点配置文件（即根目录下的_config.yml）里面的语言（也就是整个博客的语言）<br>将language后面的内容修改为zh-CN。注：语言的修改，需要主题的支持<br>注意，冒号之后必有空格哦！</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Site</span><br><span class="line">title: akbcd博客</span><br><span class="line">subtitle: &#x27;&#x27;</span><br><span class="line">description: &#x27;&#x27; </span><br><span class="line">keywords: &#x27;&#x27;</span><br><span class="line">author: akbcd</span><br><span class="line">language: zh-CN</span><br><span class="line">timezone: &#x27;&#x27;</span><br></pre></td></tr></table></figure>
<p>2.将新主题发布到自己的网站上，操作如下：<br>blog文件夹，右键<strong>git bash here</strong>输入<br>1).<code>hexo g</code> ——生成静态文件<br>2).<code>hexo d</code> ——部署网站<br>上面两个命令可以简记为一个命令<br><code>hexo g -d</code> ——先生成静态文件，之后部署网站</p>
<h2 id="hexo最常用的几个命令"><a href="#hexo最常用的几个命令" class="headerlink" title="hexo最常用的几个命令"></a>hexo最常用的几个命令</h2><p>hexo命令以及介绍参看hexo官方文档：<a href="https://hexo.io/zh-cn/docs/">https://hexo.io/zh-cn/docs/</a></p>
<h3 id="hexo-s"><a href="#hexo-s" class="headerlink" title="hexo s"></a>hexo s</h3><p>启动本地服务器，用于预览主题。默认地址： <a href="http://localhost:4000/">http://localhost:4000/</a><br><code>hexo s</code> 是 <code>hexo server</code> 的缩写，命令效果一致；<br>预览的同时可以修改文章内容或主题代码，保存后刷新页面即可；<br>对 Hexo 根目录 <code>_config.yml</code> 的修改，需要重启本地服务器后才能预览效果。</p>
<h3 id="hexo-new-quot-新的文章-quot"><a href="#hexo-new-quot-新的文章-quot" class="headerlink" title="hexo new &quot;新的文章&quot;"></a>hexo new <code>&quot;新的文章&quot;</code></h3><p>新建一篇标题为 新的文章 的文章。此文章路径为 <code>/source/_posts</code></p>
<h3 id="hexo-d"><a href="#hexo-d" class="headerlink" title="hexo d"></a>hexo d</h3><p>自动生成网站静态文件，并部署到设定的仓库。<br><code>hexo d</code> 是 <code>hexo deploy</code> 的缩写，命令效果一致。<br>输入此命令，如果出现<code>ERROR Deployer not found: git</code>提示，请安装hexo-deployer-git插件<br>输入命令<code>npm install hexo-deployer-git --save</code>安装</p>
<h3 id="hexo-clean"><a href="#hexo-clean" class="headerlink" title="hexo clean"></a>hexo clean</h3><p>清除缓存文件 <code>db.json</code> 和已生成的静态文件夹 <code>public</code> 。<br>网站显示异常时可以执行这条命令试试。比如：<br>修改了主题样式，但是启动服务后样式没有改变；修改了图片内容，但是图片没有变。</p>
<h3 id="hexo-g"><a href="#hexo-g" class="headerlink" title="hexo g"></a>hexo g</h3><p>生成网站静态文件到默认设置的 <code>public</code> 文件夹。<br>便于查看网站生成的静态文件或者手动部署网站；<br>如果使用自动部署，不需要先执行该命令；<br><code>hexo g</code> 是 <code>hexo generate</code> 的缩写，命令效果一致。</p>
<h3 id="hexo-g-d"><a href="#hexo-g-d" class="headerlink" title="hexo g -d"></a>hexo g -d</h3><p>先执行<code>hexo g</code>再执行<code>hexo d</code></p>
<h3 id="hexo草稿的简单使用"><a href="#hexo草稿的简单使用" class="headerlink" title="hexo草稿的简单使用"></a>hexo草稿的简单使用</h3><p>草稿文章不被显示在页面上，链接也访问不到</p>
<blockquote>
<p><strong>不要处理我的文章</strong><br>如果你不想你的文章被处理，你可以将 Front-Matter 中的 <code>layout:</code> 设为 <code>false</code> 。<br>注：此功能需要主题加以支持，虽然文章不被显示在页面上，但是链接可以访问。</p>
</blockquote>
<h4 id="创建草稿"><a href="#创建草稿" class="headerlink" title="创建草稿"></a>创建草稿</h4><p><code>hexo new draft &quot;新的草稿&quot;</code><br>新建一篇标题为 新的草稿 的草稿。此草稿路径为 <code>/source/_drafts</code><br>当然，有的文章你不想发布，但又不舍得删除，可以将此文章移至草稿目录下。</p>
<h4 id="预览草稿"><a href="#预览草稿" class="headerlink" title="预览草稿"></a>预览草稿</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//如果你希望强行预览草稿，更改配置文件：</span><br><span class="line">render_drafts: true</span><br><span class="line"></span><br><span class="line">//或者，如下方式启动server：</span><br><span class="line">$ hexo server --drafts</span><br></pre></td></tr></table></figure>
<h4 id="发布草稿"><a href="#发布草稿" class="headerlink" title="发布草稿"></a>发布草稿</h4><p><code>hexo publish &quot;新的草稿&quot;</code><br>该命令会把 /source/_drafts 下的 新的草稿 文章移到 /source/_posts 下，当然，你也可以手动移动</p>
<h2 id="个人博客备份"><a href="#个人博客备份" class="headerlink" title="个人博客备份"></a>个人博客备份</h2><p><strong>这是一个很有必要的操作</strong>。其实你在部署网站后，GitHub仓库中已经有了数据，而且可以下载下来，但是下载下来的文件是经过hexo编译后的html文件，并不是我们书写的md文件<br>网上有很多关于备份的方法，这里分享一个用仓库分支实现备份的方法</p>
<h3 id="hexo博客备份到GitHub"><a href="#hexo博客备份到GitHub" class="headerlink" title="hexo博客备份到GitHub"></a>hexo博客备份到GitHub</h3><p><strong>前提：</strong>在GitHub上已经发布过文章<br><strong>思路：</strong>使用Hexo在github搭建的博客，博客作为一个单独的GitHub仓库存在，但是这个仓库只有生成的静态网页文件，并没有md源文件，如果要换电脑或者重装系统后，就比较麻烦了，利用仓库分支，新建一个hexo分支(分支可以自定义名称)，master分支保存静态网页，hexo分支保存源文件，这样就实现了备份源代码到GitHub仓库。</p>
<h3 id="创建新分支"><a href="#创建新分支" class="headerlink" title="创建新分支"></a>创建新分支</h3><p>1.登录到自己的GitHub网站，网站：<a href="https://github.com/">https://github.com/</a><br>2.找到自己创建的仓库，点击进入到代码页面,选择<strong>Branch:master</strong><br>在<strong>Find or creat a branch…</strong> 搜索框中输入<strong>hexo</strong>，选择下面的<strong>Creat branch: hexo</strong>，创建hexo分支。到此分支创建完成<br>3.点击<strong>2 branches</strong>，进入分支管理页面,将<strong>hexo</strong>设为默认分支，具体怎么设，自己研究(其实很简单，就不说了)。到此，将hexo设为默认分支完成。</p>
<h3 id="配置本地备份文件夹"><a href="#配置本地备份文件夹" class="headerlink" title="配置本地备份文件夹"></a>配置本地备份文件夹</h3><p>1.在本地桌面，磁盘里，文件夹都行，右键<strong>Git Bash Here</strong>，在git里面输入以下内容，将新建hexo分支里面的文件克隆到指定文件夹<strong>yourname.github.io</strong>，yourname换成自己的GitHub用户名</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ git clone git@github.com:yourname/yourname.github.io.git</span><br></pre></td></tr></table></figure>
<p>注意：git中提供了多种克隆仓库至本地的方法</p>
<blockquote>
<p>克隆仓库的分支为默认分支，如果想克隆指定分支，请执行命令：<code>git clone -b 分支名仓库地址</code></p>
<ul>
<li><code>git clone -b hexo git@github.com:yourname/yourname.github.io.git</code></li>
</ul>
</blockquote>
<p>本地创建了一个新文件夹<strong>yourname.github.io</strong>，点击进入，将隐藏的文件显示出来，会看到<code>.git</code>文件夹，除了这个文件，其余全部删除<br>2.将本地之前发布文章的<strong>blog</strong>文件夹里的内容复制粘贴到文件夹<strong>yourname.github.io</strong><br>注：关于主题，这里引用别人的话：</p>
<blockquote>
<p>将themes/next/(我用的是NexT主题)中的.git/删除，否则无法将主题文件夹push</p>
</blockquote>
<h3 id="本地数据备份至GitHub"><a href="#本地数据备份至GitHub" class="headerlink" title="本地数据备份至GitHub"></a>本地数据备份至GitHub</h3><p>文件夹<strong>yourname.github.io</strong>右键<strong>Git Bash Here</strong>，在git里面输入（看yourname.github.io后面是否有蓝色hexo字样，如果没有就错了）：<br>1.<code>git add .</code> ——将文件的修改，文件的新建，添加到暂存区。详解：<strong>git空格add空格.</strong> ，切记不要打错，否则命令就错了<br>2.<code>git commit -m&quot;...&quot;</code> ——提交修改，<code>...</code>为对修改的描述。详解：<strong>git空格commit空格-m”…”</strong><br>3.<code>git push origin hexo</code> ——将源文件提交到hexo分支<br>4.<code>hexo g -d</code><br>这样一来，<strong>yourname.github.io</strong>仓库就有master分支和hexo分支，分别保存静态网页和源文件。<br>打开GitHub参看仓库hexo分支是否更新，更新则个人博客备份完成<br>此文件夹作为本地<strong>blog</strong>文件夹使用，对hexo博客进行的更改包括：发布、删除文章，更换主题，均在此文件夹进行。</p>
<h2 id="博客备份导入本地"><a href="#博客备份导入本地" class="headerlink" title="博客备份导入本地"></a>博客备份导入本地</h2><p>这里对新旧电脑进行说明<br>新电脑：即电脑中不含有关于博客的任何文件以及本地<strong>ssh key</strong><br>旧电脑：GitHub中含有当前电脑的<strong>ssh key</strong>，并且已经有<strong>yourname.github.io</strong>文件夹</p>
<h3 id="新电脑"><a href="#新电脑" class="headerlink" title="新电脑"></a>新电脑</h3><p>此部分内容与上文高度重复。</p>
<h4 id="下载软件"><a href="#下载软件" class="headerlink" title="下载软件"></a>下载软件</h4><p>参看目录：<strong>需要准备的软件</strong>，跳转点击 <a href="#%E9%9C%80%E8%A6%81%E5%87%86%E5%A4%87%E7%9A%84%E8%BD%AF%E4%BB%B6">需要准备的软件</a><br><strong>补充：如果你的电脑只是重装系统，并且没有删除本地yourname.github.io文件夹，那么你可以在重装系统之前，将本地的ssh key备份，当重装系统完成后，将其放置指定文件夹下即可跳过创建和添加ssh key相关步骤。</strong><br><strong>在本地创建ssh key</strong>、<strong>添加key到github网站</strong> 参看上文目录：<strong>创建GitHub账户</strong>，跳转点击 <a href="#%E5%88%9B%E5%BB%BAGitHub%E8%B4%A6%E6%88%B7">创建GitHub账户</a></p>
<h4 id="云端备份导入本地"><a href="#云端备份导入本地" class="headerlink" title="云端备份导入本地"></a>云端备份导入本地</h4><p>选好要导入的位置<br>右键<strong>git bash here</strong><br>输入以下命令（yourname输入自己GitHub用户名）：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git@github.com:yourname/yourname.github.io.git</span><br></pre></td></tr></table></figure>
<p>回车会出现</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Cloning into &#x27;yourname.github.io&#x27;...</span><br><span class="line">The authenticity of host &#x27;github.com (52.74.223.119)&#x27; can&#x27;t be established.</span><br><span class="line">RSA key fingerprint is SHA256:nThbg6kXUpJWGl7E1IGOCspRomTxdCARLviKw6E5SY8.</span><br><span class="line">Are you sure you want to continue connecting (yes/no/[fingerprint])?</span><br></pre></td></tr></table></figure>
<p>输入yes，回车后云端开始导入本地（下载速度很慢，而且还取决于云端库的大小，建议提前从github云端库下载<code>.zip</code>文件）<br>此文件夹作为本地<strong>blog</strong>文件夹使用，对hexo博客进行的更改包括：发布、删除文章，更换主题，均在此文件夹进行。</p>
<blockquote>
<p>快速下载GitHub文件的方法<br>1.通过码云克隆GitHub项目实现快速下载<br>2.GitHub加速下载工具：<a href="https://toolwa.com/github/">https://toolwa.com/github/</a></p>
</blockquote>
<h4 id="安装hexo"><a href="#安装hexo" class="headerlink" title="安装hexo"></a>安装hexo</h4><p>云端导入本地后，git输入命令（必须）</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ npm install -g hexo-cli</span><br></pre></td></tr></table></figure>
<p>如果需要安装最新版hexo，输入（可选）</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ npm install hexo</span><br></pre></td></tr></table></figure>
<h4 id="配置并发布文章"><a href="#配置并发布文章" class="headerlink" title="配置并发布文章"></a>配置并发布文章</h4><p>git输入<br><code>npm install</code> ——在<code>git clone</code>项目的时候，项目文件中并没有<code>node_modules</code>文件夹，项目的依赖文件可能很大。直接执行，<code>npm</code>会根据<code>package.json</code>配置文件中的依赖配置下载安装。</p>
<h4 id="发布文章"><a href="#发布文章" class="headerlink" title="发布文章"></a>发布文章</h4><p>1.<code>git add .</code> ——将文件的修改，文件的新建，添加到暂存区。详解：<strong>git空格add空格.</strong> ，切记不要打错，否则命令就错了<br>2.<code>git commit -m&quot;...&quot;</code> ——提交修改，<code>...</code>为对修改的描述。详解：<strong>git空格commit空格-m”…”</strong><br>3.<code>git push origin hexo</code> ——将源文件提交到hexo分支<br>期间若出现提示Are you sure you want to continue connecting，请输入yes<br>4.<code>hexo g -d</code><br>补充：<br>执行到<code>git commit -m&quot;...&quot;</code>可能会有此提示</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">*** Please tell me who you are.</span><br><span class="line"></span><br><span class="line">Run</span><br><span class="line"></span><br><span class="line">  git config --global user.email &quot;you@example.com&quot;</span><br><span class="line">  git config --global user.name &quot;Your Name&quot;</span><br><span class="line"></span><br><span class="line">to set your account&#x27;s default identity.</span><br></pre></td></tr></table></figure>
<p>输入相应的信息（填写自己的信息）<br>1.<code>git config --global user.email &quot;you@example.com&quot;</code> ——git确认信息，<code>you@example.com</code>为注册GitHub所用邮箱<br>2.<code>git config --global user.name &quot;Your Name&quot;</code> ——git确认信息，Your Name为GitHub用户名</p>
<h3 id="旧电脑"><a href="#旧电脑" class="headerlink" title="旧电脑"></a>旧电脑</h3><h4 id="云端博客分支同步到本地"><a href="#云端博客分支同步到本地" class="headerlink" title="云端博客分支同步到本地"></a>云端博客分支同步到本地</h4><p>文件夹<strong>yourname.github.io</strong>右键<strong>git bash here</strong><br>输入一下命令，分支合并</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git pull origin hexo --allow-unrelated-histories</span><br></pre></td></tr></table></figure>
<p>输入此命令后，git会将云端hexo分支与本地hexo分支比较，并进行同步（云端同步到本地）</p>
<h2 id="Visual-Studio-Code-运行-git-bash-命令（可选）"><a href="#Visual-Studio-Code-运行-git-bash-命令（可选）" class="headerlink" title="Visual Studio Code 运行 git bash 命令（可选）"></a>Visual Studio Code 运行 git bash 命令（可选）</h2><h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>正如大家所知道的，<strong>Visual Studio Code</strong> 功能很强大，这里简单介绍一下直接通过 <strong>Visual Studio Code</strong> 管理本地博客，而不再借助于git窗口</p>
<h3 id="hexo5-0"><a href="#hexo5-0" class="headerlink" title="hexo5.0"></a>hexo5.0</h3><p>hexo5.0 版本，已经在 package.json 文件中添加hexo部分功能的脚本命令，在 <strong>Visual Studio Code</strong> 中打开 package.json 文件，在script上点击Debug即可运行</p>
<h4 id="配置-git-bash"><a href="#配置-git-bash" class="headerlink" title="配置 git bash"></a>配置 git bash</h4><p>Windows系统中 <strong>Visual Studio Code</strong> 终端默认使用的是 PowerShell ，这里介绍将终端默认启动的 PowerShell 换成 git bash</p>
<h5 id="修改-settings-json-文件"><a href="#修改-settings-json-文件" class="headerlink" title="修改 settings.json 文件"></a>修改 settings.json 文件</h5><p>如果你的 <strong>Visual Studio Code</strong> 不是中文版本，你可以通过在扩展中搜索<code>Chinese</code>关键字安装中文语言扩展<br>1.依次打开设置——&gt;功能——&gt;终端，找到 在 settings.json 中编辑 ，打开<br>2.添加如下内容：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;terminal.integrated.profiles.windows&quot;: &#123;</span><br><span class="line">    &quot;JavaScript Debug Terminal&quot;: &#123;</span><br><span class="line">      &quot;path&quot;: &quot;C:\\Program Files\\Git\\bin\\bash.exe&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;terminal.integrated.defaultProfile.windows&quot;: &quot;JavaScript Debug Terminal&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>C:\\Program Files\\Git\\bin\\bash.exe</code>修改为自己git bash命令所在路径，保存<br>补充：自定义终端的配置每个版本会不一样，建议升级为最新版后参考<a href="https://code.visualstudio.com/docs/">官方文档</a><br>搜索关键字：integrated-terminal<br>3.打开终端——&gt;新终端，你会看到终端已经换成bash终端，直接就可以在这里执行git bash命令啦</p>
<h5 id="终端切换"><a href="#终端切换" class="headerlink" title="终端切换"></a>终端切换</h5><p>直接在git bash终端里输入cmd切换为cmd终端，输入powershell切换为power shell终端，输入bash切换回git bash终端</p>
<h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>本篇文章到此就结束了，有什么问题可以在评论区回复。关于markdown的书写语法，可以自行到网络上查找资料学习</p>
]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>博客</tag>
        <tag>hexo</tag>
        <tag>github</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2018/09/20/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/deployment.html">Deployment</a></p>
<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><p>此文章是hexo初始化自动生成的，介绍了一些新建文章、发布文章、启动服务的方法。</p>
]]></content>
  </entry>
</search>
