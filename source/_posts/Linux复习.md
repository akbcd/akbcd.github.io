---
title: Linux复习
date: 2019-12-09 09:17:37
tags: linux
---
Linux的内核版本（p47~p48）
```
3.10.0-123.e17.x86-64
主版本.次版本.发布版本-修改版本
```
奇数、偶数版本分类
主、次版本为奇数：开发中版本（development）
主、次版本为偶数：稳定版本（stable）
<!--more-->
重点回顾（p146）
```
在X Window 的环境下想要强制启动X的组合按键为：[Alt]+[Ctrl]+[Backspace]；
在默认情况下，Linux提供tty1~tty6的终端界面；
在终端环境中，可依据提示字符为$或#判断为一般账号或root账号；
取得终端支持的语系数据可执行【echo $LANG】或【locale】命令；
组合按键中，[Tab]按键可作为：（1）命令补全或（2）文件名补全或（3）参数选项补全，[Ctrl]-[c]可以中断目前正在运行中的程序；
Linux系统上的英文大小写为不同的内容；
联机帮助系统有man及info两个常见的命令；
```

Linux文件权限概率
切换身份命令：
```
su -
```
文件属性
```
-rw-r--r--. 1 root root 1864 May 4 18:01 test.txt

第一栏代表这个文件的类型和权限
第一个字符代表这个文件是目录、文件或链接文件等
[d]代表的是目录，[-]是文件，[|]是链接文件，[b]表示可供存储的周边设备，[c]表示设备文件里面的串行端口设备
接下来的字符中，以三个为一组，且均为【rwx】的三个参数的组合。其中，【r】代表可读，【w】代表可写，【x】代表可执行，如果没有权限，就会出现【-】。
第一组为文件拥有者可具备的权限，第二组为加入此用户组之账号的权限，第三组为非本人且没有加入用户组的其他账号的权限

第二栏 连接数
第三栏 文件拥有者
第三栏 文件所属用户组
第四栏 文件大小
第五栏 文件最后被修改的时间 May 4 18:01
第六栏 文件名
```

例题（p153）
若有一个文件的类型与权限数据为【-rwxr-xr--】，请说明其意义是什么？
答：将十个字符整理成如下所示：
```
【-】【rwx】【r-x】【r--】
1     234   456    789
```
1：代表文件；
234：拥有者权限，可读、可写、可执行；
567：用户组的用户权限，可读可执行；
890：其他用户权限，可读

例题（p155）
如果我的目录为下面的格式，请问testgroup这个用户组的成员与其他人（others）是否可以进入本目录？
```
drwxr-xr-- 1 test1 testgroup 5238 Jun 19 10:25 groups/
```
答：
文件拥有者test1【rwx】可以在本目录中进行任何操作；
而testgroup这个用户组【r-x】的账号，例如test2、test3亦可进入本目录进行操作，但是不能在本目录进行写入的操作；
至于other的权限中【r--】虽然有r，但是由于没有x的权限，因此others的用户，并不能进入此目录。

如何修改文件属性与权限（p156）
chgrp：修改文件所属用户组；
chown：修改文件拥有者；
chomd：修改文件的权限，SUID、SGID、SBIT等的特性。
例题：
将test.txt文件的拥有者改为bin这个账号
```
chown bin test.txt
```
将test.txt文件的拥有者与用户组改回为root
```
chown root:root test.txt
```

例题：（p158）
将.bashrc文件权限改回`-rw-r--r--`
答：`-rw-r--r--`的分数是644，所以命令为
```
chmod 644 .bashrc
```
rwx所对应的数字为，每三个为一组
r：4；w：2；x；1；
符号法修改命令
```
chmod u=rwx,go=rx .bashrc
```

例题（p160）
有个目录的权限如下所示：
```
drwxr--r-- 3 root root 4096 Jun 25 08:35 .ssh
```
系统有个账号名称为vbird，这个账号并没有支持root用户组，请问vbird对这个目录有何权限？是否可切换到此目录中？
答：vbird对此目录仅有r的权限，因此vbird可以查询此目录下的文件名列表，因为vbird不具备有x的权限，亦即vbird没有这个抽屉的钥匙，因此并不能切换到此目录内。

假设有个账号名称为dmtsai，它的家目录在/home/dmtsai/，dmtsai对此目录具有【rwx】的权限。若在此目录下有个名为the_root.data的文件，该文件的权限如下：
```
-rwx------ 1 root root 4365 Sep 19 23:20 the_root.data
```
请问dmtsai对此文件的权限是什么？可否删除此文件？
答：如上所示，由于dmtsai对此文件来说是others身份，因此这个文件它无法读、无法编辑也无法执行，也就是说，它无法变动这个文件的内容。
但是由于这个文件是在它的家目录下，它在此目录下具有rwx的完整权限，因此对于the_root.data这个文件名来说，它是能够删除的。结论就是，dmtsai这个用户能够删除the_root.data这个文件。

Linux文件种类与扩展名（p164）
单一文件或目录的最大容许文件名为255字节，以一个ASCII英文占用一个字节来说，则大约可达255个字符长度。若是以每个汉字占2字节来说，最大文件名就是大约在在128个汉字之间。

Linux目录配置（p166~p167）
```
/etc
系统主要的配置文件几乎都放置在这个目录内，例如人员的账号密码文件、各种服务的启动文件等。
一般来说，这个目录下的各文件属性是可以让一般用户查看的，但是只有root有权利修改。FHS建议不要放置可执行文件（binary）在这个目录中

/opt
这是给第三方辅助软件放置的目录

/sbin
Linux有非常多命令是用来设置系统环境的，这些命令只有root才能够用来设置系统，其他用户最多只能用来查询而已。
放在/sbin下面的为启动过程中所需要的，里面包括了启动、修复、还原系统所需要的命令。

/usr
第二层FHS设置

/var
第二层FHS设置，主要为放置变动性的数据。

/home
这是系统默认的用户家目录（home directory）。在你新增一个一般用户账号时，默认的用户家目录都会被规范到这里来，比较重要的是家目录有两种代号：
~：代表目前这个用户的家目录；
~dmtsai：则代表dmtsai的家目录；

/root
系统管理员（root）的家目录，之所以放在这里，是因为如果进入单人维护模式而仅挂载根目录时，该目录就能够拥有root的家目录，所以我们希望root的家目录与根目录放置在同一个分区中

/proc
这个目录本身就是一个虚拟文件系统（virtual filesystem），它放置的数据都是在内存当中，例如系统内核、进程信息（process）、外接设备的状态及网络状态等。
因为这个目录下的数据都是在内存当中，所以本身不占任何硬盘空间。

/sys
这个目录跟/proc非常相似，也是一个虚拟的文件系统，主要也是记录内核与系统硬件信息相关的内容。
包括目前已加载的内核模块与内核检测到的硬件设备信息等，这个目录同样不占硬盘容量
```
p168
```
/usr/bin
所有一般用户能够使用的命令都放在这里。
目前最新的CentOS7已经将全部的用户命令放置于此，而使用链接文件的方式将/bin链接于此。
也就是说，/usr/bin与/bin是一摸一样的。另外，FHS要求在此目录下不应该有子目录。

/usr/sbin
非系统正常运行所需要的系统命令，最常见的就是某些网络服务器软件的服务命令（daemon）。
不过基本功能与/sbin也差不多，因此目前的/sbin就是链接到此目录中的。
```

CentOS观察（p172）